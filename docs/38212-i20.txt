+--------------------------------+-------------------------------------+
| 3GPP TS 38.212 V18.2.0         |                                     |
| (2024-03)                      |                                     |
+================================+=====================================+
| Technical Specification        |                                     |
+--------------------------------+-------------------------------------+
| 3rd Generation Partnership     |                                     |
| Project;                       |                                     |
|                                |                                     |
| Technical Specification Group  |                                     |
| Radio Access Network;          |                                     |
|                                |                                     |
| NR;                            |                                     |
|                                |                                     |
| Multiplexing and channel       |                                     |
| coding                         |                                     |
|                                |                                     |
| (Release 18)                   |                                     |
+--------------------------------+-------------------------------------+
|                                |                                     |
+--------------------------------+-------------------------------------+
| ![](media/image1.png           | ![](media/image                     |
| ){width="1.4097222222222223in" | 2.png){width="1.7708333333333333in" |
| height="0.8680555555555556in"} | height="1.0416666666666667in"}      |
+--------------------------------+-------------------------------------+
|                                |                                     |
+--------------------------------+-------------------------------------+
| The present document has been  |                                     |
| developed within the 3rd       |                                     |
| Generation Partnership Project |                                     |
| (3GPP ^TM^) and may be further |                                     |
| elaborated for the purposes of |                                     |
| 3GPP.\                         |                                     |
| The present document has not   |                                     |
| been subject to any approval   |                                     |
| process by the 3GPP            |                                     |
| Organizational Partners and    |                                     |
| shall not be implemented.\     |                                     |
| This Specification is provided |                                     |
| for future development work    |                                     |
| within 3GPP only. The          |                                     |
| Organizational Partners accept |                                     |
| no liability for any use of    |                                     |
| this Specification.\           |                                     |
| Specifications and Reports for |                                     |
| implementation of the 3GPP     |                                     |
| ^TM^ system should be obtained |                                     |
| via the 3GPP Organizational    |                                     |
| Partners\' Publications        |                                     |
| Offices.                       |                                     |
+--------------------------------+-------------------------------------+

+-----------------------------------------------------------------------+
|                                                                       |
+=======================================================================+
| > ***3GPP***                                                          |
| >                                                                     |
| > Postal address                                                      |
| >                                                                     |
| > 3GPP support office address                                         |
| >                                                                     |
| > 650 Route des Lucioles - Sophia Antipolis                           |
| >                                                                     |
| > Valbonne - FRANCE                                                   |
| >                                                                     |
| > Tel.: +33 4 92 94 42 00 Fax: +33 4 93 65 47 16                      |
| >                                                                     |
| > Internet                                                            |
| >                                                                     |
| > http://www.3gpp.org                                                 |
+-----------------------------------------------------------------------+
| ***Copyright Notification***                                          |
|                                                                       |
| No part may be reproduced except as authorized by written             |
| permission.\                                                          |
| The copyright and the foregoing restriction extend to reproduction in |
| all media.                                                            |
|                                                                       |
| © 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,  |
| TTA, TTC).                                                            |
|                                                                       |
| All rights reserved.                                                  |
|                                                                       |
| UMTS™ is a Trade Mark of ETSI registered for the benefit of its       |
| members                                                               |
|                                                                       |
| 3GPP™ is a Trade Mark of ETSI registered for the benefit of its       |
| Members and of the 3GPP Organizational Partners\                      |
| LTE™ is a Trade Mark of ETSI registered for the benefit of its        |
| Members and of the 3GPP Organizational Partners                       |
|                                                                       |
| GSM® and the GSM logo are registered and owned by the GSM Association |
+-----------------------------------------------------------------------+

#  Contents {#contents .TT}

Foreword [6](#foreword)

1 Scope [8](#scope)

2 References [8](#references)

3 Definitions of terms, symbols and abbreviations
[8](#definitions-of-terms-symbols-and-abbreviations)

3.1 Terms [8](#terms)

3.2 Symbols [8](#symbols)

3.3 Abbreviations [9](#abbreviations)

4 Mapping to physical channels [10](#mapping-to-physical-channels)

4.1 Uplink [10](#uplink)

4.2 Downlink [10](#downlink)

4.3 Sidelink [10](#sidelink)

5 General procedures [11](#general-procedures)

5.1 CRC calculation [11](#crc-calculation)

5.2 Code block segmentation and code block CRC attachment
[12](#code-block-segmentation-and-code-block-crc-attachment)

5.2.1 Polar coding [12](#polar-coding)

5.2.2 Low density parity check coding
[12](#low-density-parity-check-coding)

5.3 Channel coding [14](#channel-coding)

5.3.1 Polar coding [15](#polar-coding-1)

5.3.1.1 Interleaving [15](#interleaving)

5.3.1.2 Polar encoding [16](#polar-encoding)

5.3.2 Low density parity check coding
[19](#low-density-parity-check-coding-1)

5.3.3 Channel coding of small block lengths
[24](#channel-coding-of-small-block-lengths)

5.3.3.1 Encoding of 1-bit information
[24](#encoding-of-1-bit-information)

5.3.3.2 Encoding of 2-bit information
[25](#encoding-of-2-bit-information)

5.3.3.3 Encoding of other small block lengths
[25](#encoding-of-other-small-block-lengths)

5.4 Rate matching [26](#rate-matching)

5.4.1 Rate matching for Polar code [26](#rate-matching-for-polar-code)

5.4.1.1 Sub-block interleaving [26](#sub-block-interleaving)

5.4.1.2 Bit selection [27](#bit-selection)

5.4.1.3 Interleaving of coded bits [28](#interleaving-of-coded-bits)

5.4.2 Rate matching for LDPC code [29](#rate-matching-for-ldpc-code)

5.4.2.1 Bit selection [29](#bit-selection-1)

5.4.2.2 Bit interleaving [32](#bit-interleaving)

5.4.3 Rate matching for channel coding of small block lengths
[32](#rate-matching-for-channel-coding-of-small-block-lengths)

5.5 Code block concatenation [33](#code-block-concatenation)

6 Uplink transport channels and control information
[33](#uplink-transport-channels-and-control-information)

6.1 Random access channel [33](#random-access-channel)

6.2 Uplink shared channel [33](#uplink-shared-channel)

6.2.1 Transport block CRC attachment
[33](#transport-block-crc-attachment)

6.2.2 LDPC base graph selection [34](#ldpc-base-graph-selection)

6.2.3 Code block segmentation and code block CRC attachment
[34](#code-block-segmentation-and-code-block-crc-attachment-1)

6.2.4 Channel coding of UL-SCH [34](#channel-coding-of-ul-sch)

6.2.5 Rate matching [34](#rate-matching-1)

6.2.6 Code block concatenation [35](#code-block-concatenation-1)

6.2.7 Data and control multiplexing [35](#data-and-control-multiplexing)

6.3 Uplink control information [46](#uplink-control-information)

6.3.1 Uplink control information on PUCCH
[46](#uplink-control-information-on-pucch)

6.3.1.1 UCI bit sequence generation [47](#uci-bit-sequence-generation)

6.3.1.1.1 HARQ-ACK/SR only [47](#harq-acksr-only)

6.3.1.1.2 CSI only [47](#csi-only)

6.3.1.1.3 HARQ-ACK/SR and CSI [65](#harq-acksr-and-csi)

6.3.1.1.4 UCI with different priority indexes
[66](#uci-with-different-priority-indexes)

6.3.1.2 Code block segmentation and CRC attachment
[66](#code-block-segmentation-and-crc-attachment)

6.3.1.2.1 UCI encoded by Polar code [66](#uci-encoded-by-polar-code)

6.3.1.2.2 UCI encoded by channel coding of small block lengths
[67](#uci-encoded-by-channel-coding-of-small-block-lengths)

6.3.1.3 Channel coding of UCI [67](#channel-coding-of-uci)

6.3.1.3.1 UCI encoded by Polar code [67](#uci-encoded-by-polar-code-1)

6.3.1.3.2 UCI encoded by channel coding of small block lengths
[67](#uci-encoded-by-channel-coding-of-small-block-lengths-1)

6.3.1.4 Rate matching [67](#rate-matching-2)

6.3.1.4.1 UCI encoded by Polar code [67](#uci-encoded-by-polar-code-2)

6.3.1.4.2 UCI encoded by channel coding of small block lengths
[68](#uci-encoded-by-channel-coding-of-small-block-lengths-2)

6.3.1.4.3 UCI with different priority indexes encoded by Polar code
[69](#uci-with-different-priority-indexes-encoded-by-polar-code)

6.3.1.4.4 UCI with different priority indexes encoded by channel coding
of small block lengths
[69](#uci-with-different-priority-indexes-encoded-by-channel-coding-of-small-block-lengths)

6.3.1.5 Code block concatenation [69](#code-block-concatenation-2)

6.3.1.6 Multiplexing of coded UCI bits to PUCCH
[70](#multiplexing-of-coded-uci-bits-to-pucch)

6.3.2 Uplink control information on PUSCH
[72](#uplink-control-information-on-pusch)

6.3.2.1 UCI bit sequence generation [72](#uci-bit-sequence-generation-1)

6.3.2.1.1 HARQ-ACK [72](#harq-ack)

6.3.2.1.2 CSI [73](#csi)

6.3.2.1.3 CG-UCI [95](#cg-uci)

6.3.2.1.3A UTO-UCI [96](#a-uto-uci)

6.3.2.1.4 HARQ-ACK and CG-UCI/UTO-UCI [96](#harq-ack-and-cg-uciuto-uci)

6.3.2.1.5 UCI with different priority indexes
[97](#uci-with-different-priority-indexes-1)

6.3.2.2 Code block segmentation and CRC attachment
[99](#code-block-segmentation-and-crc-attachment-1)

6.3.2.2.1 UCI encoded by Polar code [99](#uci-encoded-by-polar-code-3)

6.3.2.2.2 UCI encoded by channel coding of small block lengths
[99](#uci-encoded-by-channel-coding-of-small-block-lengths-3)

6.3.2.3 Channel coding of UCI [99](#channel-coding-of-uci-1)

6.3.2.3.1 UCI encoded by Polar code [99](#uci-encoded-by-polar-code-4)

6.3.2.3.2 UCI encoded by channel coding of small block lengths
[99](#uci-encoded-by-channel-coding-of-small-block-lengths-4)

6.3.2.4 Rate matching [99](#rate-matching-3)

6.3.2.4.1 UCI encoded by Polar code [99](#uci-encoded-by-polar-code-5)

6.3.2.4.2 UCI encoded by channel coding of small block lengths
[113](#uci-encoded-by-channel-coding-of-small-block-lengths-5)

6.3.2.5 Code block concatenation [116](#code-block-concatenation-3)

6.3.2.6 Multiplexing of coded UCI bits to PUSCH
[116](#multiplexing-of-coded-uci-bits-to-pusch)

6.3.2.7 Multiplexing of coded UCI bits with different priority indexes
to PUSCH
[116](#multiplexing-of-coded-uci-bits-with-different-priority-indexes-to-pusch)

7 Downlink transport channels and control information
[117](#downlink-transport-channels-and-control-information)

7.1 Broadcast channel [117](#broadcast-channel)

7.1.1 PBCH payload generation [117](#pbch-payload-generation)

7.1.2 Scrambling [118](#scrambling)

7.1.3 Transport block CRC attachment
[119](#transport-block-crc-attachment-1)

7.1.4 Channel coding [119](#channel-coding-1)

7.1.5 Rate matching [120](#rate-matching-4)

7.2 Downlink shared channel and paging channel
[120](#downlink-shared-channel-and-paging-channel)

7.2.1 Transport block CRC attachment
[120](#transport-block-crc-attachment-2)

7.2.2 LDPC base graph selection [120](#ldpc-base-graph-selection-1)

7.2.3 Code block segmentation and code block CRC attachment
[120](#code-block-segmentation-and-code-block-crc-attachment-2)

7.2.4 Channel coding [120](#channel-coding-2)

7.2.5 Rate matching [121](#rate-matching-5)

7.2.6 Code block concatenation [121](#code-block-concatenation-4)

7.3 Downlink control information [121](#downlink-control-information)

7.3.1 DCI formats [121](#dci-formats)

7.3.1.0 DCI size alignment [123](#dci-size-alignment)

7.3.1.0.1 DCI size alignment for DCI formats for scheduling of sidelink
[126](#dci-size-alignment-for-dci-formats-for-scheduling-of-sidelink)

7.3.1.1 DCI formats for scheduling of PUSCH
[126](#dci-formats-for-scheduling-of-pusch)

7.3.1.1.1 Format 0_0 [126](#format-0_0)

7.3.1.1.2 Format 0_1 [130](#format-0_1)

7.3.1.1.3 Format 0_2 [202](#format-0_2)

7.3.1.1.4 Format 0_3 [214](#format-0_3)

7.3.1.2 DCI formats for scheduling of PDSCH
[224](#dci-formats-for-scheduling-of-pdsch)

7.3.1.2.1 Format 1_0 [224](#format-1_0)

7.3.1.2.2 Format 1_1 [228](#format-1_1)

7.3.1.2.3 Format 1_2 [254](#format-1_2)

7.3.1.2.4 Format 1_3 [259](#format-1_3)

7.3.1.3 DCI formats for other purposes
[268](#dci-formats-for-other-purposes)

7.3.1.3.1 Format 2_0 [268](#format-2_0)

7.3.1.3.2 Format 2_1 [268](#format-2_1)

7.3.1.3.3 Format 2_2 [268](#format-2_2)

7.3.1.3.4 Format 2_3 [269](#format-2_3)

7.3.1.3.5 Format 2_4 [270](#format-2_4)

7.3.1.3.6 Format 2_5 [270](#format-2_5)

7.3.1.3.7 Format 2_6 [270](#format-2_6)

7.3.1.3.8 Format 2_7 [270](#format-2_7)

7.3.1.3.9 Format 2_8 [271](#format-2_8)

7.3.1.3.10 Format 2_9 [271](#format-2_9)

7.3.1.4 DCI formats for scheduling of sidelink
[272](#dci-formats-for-scheduling-of-sidelink)

7.3.1.4.1 Format 3_0 [272](#format-3_0)

7.3.1.4.2 Format 3_1 [273](#format-3_1)

7.3.1.4.3 Format 3_2 [273](#format-3_2)

7.3.1.5 DCI formats for scheduling of MBS
[274](#dci-formats-for-scheduling-of-mbs)

7.3.1.5.1 Format 4_0 [274](#format-4_0)

7.3.1.5.2 Format 4_1 [274](#format-4_1)

7.3.1.5.3 Format 4_2 [275](#format-4_2)

7.3.2 CRC attachment [277](#crc-attachment)

7.3.3 Channel coding [277](#channel-coding-3)

7.3.4 Rate matching [277](#rate-matching-6)

8 Sidelink transport channels and control information
[277](#sidelink-transport-channels-and-control-information)

8.1 Sidelink broadcast channel [277](#sidelink-broadcast-channel)

8.1.1 Void [278](#void)

8.2 Sidelink shared channel [278](#sidelink-shared-channel)

8.2.1 Data and control multiplexing
[278](#data-and-control-multiplexing-1)

8.3 Sidelink control information on PSCCH
[279](#sidelink-control-information-on-pscch)

8.3.1 1^st^-stage SCI formats [279](#st-stage-sci-formats)

8.3.1.1 SCI format 1-A [279](#sci-format-1-a)

8.3.1.2 SCI format 1-B [281](#sci-format-1-b)

8.3.2 CRC attachment [282](#crc-attachment-1)

8.3.3 Channel coding [282](#channel-coding-4)

8.3.4 Rate Matching [282](#rate-matching-7)

8.4 Sidelink control information on PSSCH
[282](#sidelink-control-information-on-pssch)

8.4.1 2^nd^-stage SCI formats [282](#nd-stage-sci-formats)

8.4.1.1 SCI format 2-A [282](#sci-format-2-a)

8.4.1.2 SCI format 2-B [283](#sci-format-2-b)

8.4.1.3 SCI format 2-C [284](#sci-format-2-c)

8.4.1.4 SCI format 2-D [285](#sci-format-2-d)

8.4.2 CRC attachment [286](#crc-attachment-2)

8.4.3 Channel coding [286](#channel-coding-5)

8.4.4 Rate Matching [286](#rate-matching-8)

8.4.5 Multiplexing of coded 2^nd^-stage SCI bits to PSSCH
[287](#multiplexing-of-coded-2nd-stage-sci-bits-to-pssch)

Annex A (informative): Change history
[288](#annex-a-informative-change-history)

#  Foreword

This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

In the present document, modal verbs have the following meanings:

**shall** indicates a mandatory requirement to do something

**shall not** indicates an interdiction (prohibition) to do something

The constructions \"shall\" and \"shall not\" are confined to the
context of normative provisions, and do not appear in Technical Reports.

The constructions \"must\" and \"must not\" are not used as substitutes
for \"shall\" and \"shall not\". Their use is avoided insofar as
possible, and they are not used in a normative context except in a
direct citation from an external, referenced, non-3GPP document, or so
as to maintain continuity of style when extending or modifying the
provisions of such a referenced document.

**should** indicates a recommendation to do something

**should not** indicates a recommendation not to do something

**may** indicates permission to do something

**need not** indicates permission not to do something

The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\"
are used instead, depending upon the meaning intended.

**can** indicates that something is possible

**cannot** indicates that something is impossible

The constructions \"can\" and \"cannot\" are not substitutes for \"may\"
and \"need not\".

**will** indicates that something is certain or expected to happen as a
result of action taken by an agency the behaviour of which is outside
the scope of the present document

**will not** indicates that something is certain or expected not to
happen as a result of action taken by an agency the behaviour of which
is outside the scope of the present document

**might** indicates a likelihood that something will happen as a result
of action taken by some agency the behaviour of which is outside the
scope of the present document

**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside
the scope of the present document

In addition:

**is** (or any other verb in the indicative mood) indicates a statement
of fact

**is not** (or any other negative verb in the indicative mood) indicates
a statement of fact

The constructions \"is\" and \"is not\" do not indicate requirements.

#  1 Scope

The present document specifies the coding, multiplexing and mapping to
physical channels for 5G NR.

# 2 References

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] void.

\[3\] void.

\[4\] 3GPP TS 38.211: \"NR; Physical channels and modulation\".

\[5\] 3GPP TS 38.213: \"NR; Physical layer procedures for control\".

\[6\] 3GPP TS 38.214: \"NR; Physical layer procedures for data\".

\[7\] void.

\[8\] 3GPP TS 38.321: \"NR; Medium Access Control (MAC) protocol
specification\".

\[9\] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC) protocol
specification\".

\[10\] 3GPP TS 38.473: \"NG-RAN; F1 Application Protocol (F1AP)\".

\[11\] 3GPP TS 36.212: \"Evolved Universal Terrestrial Radio Access
(E-UTRA); Multiplexing and channel coding\".

\[12\] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS)
to support Vehicle‑to‑Everything (V2X) services\".

\[13\] 3GPP TS 38.101-1: \"NR; User Equipment (UE) radio transmission
and reception; Part 1: Range 1 Standalone\".

\[14\] 3GPP TS 37.213: \"Physical layer procedures for shared spectrum
channel access\".

# 3 Definitions of terms, symbols and abbreviations

## 3.1 Terms

For the purposes of the present document, the terms given in 3GPP
TR 21.905 \[1\] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any,
in 3GPP TR 21.905 \[1\].

## 3.2 Symbols

Void.

## 3.3 Abbreviations

For the purposes of the present document, the abbreviations given in
3GPP TR 21.905 \[1\] and the following apply. An abbreviation defined in
the present document takes precedence over the definition of the same
abbreviation, if any, in 3GPP TR 21.905 \[1\].

BCH Broadcast Channel

CAPC Channel Access Priority Class

CBG Code Block Group

CBGTI Code Block Group Transmission Information

CG Configured Grant

CG-DFI CG - Downlink Feedback Information

CG-UCI CG - Uplink Control Information

CORESET Control Resource Ret

COT Channel Occupancy Time

CQI Channel Quality Indicator

CRC Cyclic Redundancy Check

CRI CSI-RS Resource Indicator

CSI Channel State Information

CSI-RS CSI - Reference Signal

DAI Downlink Assignment Index

DCI Downlink Control Information

DL Downlink

DL-SCH Downlink - Shared Channel

DMRS Demodulation Reference Signal

HARQ Hybrid Automatic repeat Request

HARQ-ACK Hybrid Automatic repeat Request - Acknowledgement

LDPC Low Density Parity Check

LI Layer Indicator

MBS Multicast Broadcast Services

MCS Modulation and Coding Scheme

NCR Network-controlled repeater

OFDM Orthogonal Frequency Division Multiplex

PBCH Physical Broadcast Channel

PCH Paging Channel

PDCCH Physical Downlink Control Channel

PDSCH Physical Downlink Shared Channel

PMI Precoding Matrix Indicator

PRB Physical Resource Block

PRACH Physical Random Access Channel

PSBCH Physical Sidelink Broadcast Channel

PSCCH Physical Sidelink Control Channel

PSFCH Physical Sidelink Feedback Channel

PSSCH Physical Sidelink Shared Channel

PTRS Phase-Tracking Reference Signal

PUCCH Physical Uplink Control Channel

PUSCH Physical Uplink Shared Channel

RACH Random Access Channel

RI Rank Indicator

RSRP Reference Signal Received Power

SCI Sidelink Control Information

SFCI Sidelink Feedback Control Information

SFN System Frame Number

SL Sidelink

SL-BCH Sidelink - Broadcast Channel

SL PRS Sidelink Positioning Reference Signal

SL-SCH Sidelink - Shared Channel

SR Scheduling Request

SRS Sounding Reference Signal

SS Synchronisation Signal

SUL Supplementary Uplink

TCI Transmission Configuration Indicator

TPC Transmit Power Control

TrCH Transport Channel

UCI Uplink Control Information

UE User Equipment

UL Uplink

UL-SCH Uplink Shared Channel

UTO-UCI Unused Transmission Occasion - Uplink Control Information

VRB Virtual Resource Block

ZP CSI-RS Zero power CSI-RS

# 4 Mapping to physical channels

## 4.1 Uplink

Table 4.1-1 specifies the mapping of the uplink transport channels to
their corresponding physical channels. Table 4.1-2 specifies the mapping
of the uplink control channel information to its corresponding physical
channel.

Table 4.1-1

  -----------------------------------------------------------------------
  **TrCH**                            **Physical Channel**
  ----------------------------------- -----------------------------------
  UL-SCH                              PUSCH

  RACH                                PRACH
  -----------------------------------------------------------------------

Table 4.1-2

  -----------------------------------------------------------------------
  **Control information**             **Physical Channel**
  ----------------------------------- -----------------------------------
  UCI                                 PUCCH, PUSCH

  -----------------------------------------------------------------------

## 4.2 Downlink

Table 4.2-1 specifies the mapping of the downlink transport channels to
their corresponding physical channels. Table 4.2-2 specifies the mapping
of the downlink control channel information to its corresponding
physical channel.

Table 4.2-1

  -----------------------------------------------------------------------
  **TrCH**                            **Physical Channel**
  ----------------------------------- -----------------------------------
  DL-SCH                              PDSCH

  BCH                                 PBCH

  PCH                                 PDSCH
  -----------------------------------------------------------------------

Table 4.2-2

  -----------------------------------------------------------------------
  **Control information**             **Physical Channel**
  ----------------------------------- -----------------------------------
  DCI                                 PDCCH

  -----------------------------------------------------------------------

## 4.3 Sidelink

Table 4.3-1 specifies the mapping of the sidelink transport channels to
their corresponding physical channels. Table 4.3-2 specifies the mapping
of the sidelink control information and sidelink feedback control
information to their corresponding physical channels.

Table 4.3-1

  -----------------------------------------------------------------------
  **TrCH**                            **Physical Channel**
  ----------------------------------- -----------------------------------
  SL-SCH                              PSSCH

  SL-BCH                              PSBCH
  -----------------------------------------------------------------------

Table 4.3-2

  -----------------------------------------------------------------------
  **Control information**             **Physical Channel**
  ----------------------------------- -----------------------------------
  1^st^-stage SCI                     PSCCH

  2^nd^-stage SCI                     PSSCH

  SFCI                                PSFCH
  -----------------------------------------------------------------------

# 5 General procedures

Data and control streams from/to MAC layer are encoded /decoded to offer
transport and control services over the radio transmission link. Channel
coding scheme is a combination of error detection, error correcting,
rate matching, interleaving and transport channel or control information
mapping onto/splitting from physical channels.

## 5.1 CRC calculation

Denote the input bits to the CRC computation by ![](media/image3.wmf),
and the parity bits by ![](media/image4.wmf), where
![](media/image5.wmf) is the size of the input sequence and
![](media/image6.wmf) is the number of parity bits. The parity bits are
generated by one of the following cyclic generator polynomials:

\- ![](media/image7.wmf) for a CRC length ![](media/image8.wmf);

\- ![](media/image9.wmf) for a CRC length ![](media/image8.wmf);

\- ![](media/image10.wmf) for a CRC length ![](media/image8.wmf);

\- ![](media/image11.wmf) for a CRC length ![](media/image12.wmf);

\- ![](media/image13.wmf) for a CRC length ![](media/image14.wmf);

\- ![](media/image15.wmf) for a CRC length ![](media/image16.wmf).

The encoding is performed in a systematic form, which means that in
GF(2), the polynomial:

![](media/image17.wmf)

yields a remainder equal to 0 when divided by the corresponding CRC
generator polynomial.

The bits after CRC attachment are denoted by ![](media/image18.wmf),
where ![](media/image19.wmf). The relation between
![](media/image20.wmf) and ![](media/image21.wmf) is:

![](media/image22.wmf) for ![](media/image23.wmf)

![](media/image24.wmf) for ![](media/image25.wmf).

## 5.2 Code block segmentation and code block CRC attachment

### 5.2.1 Polar coding

The input bit sequence to the code block segmentation is denoted by
![](media/image3.wmf), where ![](media/image26.wmf).

if ![](media/image27.wmf)

Number of code blocks: ![](media/image28.wmf);

else

Number of code blocks: ![](media/image29.wmf)

end if

![](media/image30.wmf);

for ![](media/image31.wmf) to ![](media/image32.wmf)

![](media/image33.wmf);

end for

for ![](media/image34.wmf) to ![](media/image35.wmf)

![](media/image36.wmf);

end for

![](media/image37.wmf);

for ![](media/image38.wmf) to ![](media/image39.wmf)

for ![](media/image40.wmf) to ![](media/image41.wmf)

![](media/image42.wmf);

![](media/image43.wmf);

end for

The sequence ![](media/image44.wmf) is used to calculate the CRC parity
bits ![](media/image45.wmf) according to Clause 5.1 with a generator
polynomial of length ![](media/image6.wmf).

for ![](media/image46.wmf) to ![](media/image47.wmf)

![](media/image48.wmf);

end for

end for

The value of ![](media/image49.wmf) is no larger than 1706.

### 5.2.2 Low density parity check coding

The input bit sequence to the code block segmentation is denoted by
![](media/image50.wmf), where ![](media/image51.wmf). If
![](media/image52.wmf) is larger than the maximum code block size
![](media/image53.wmf), segmentation of the input bit sequence is
performed and an additional CRC sequence of ![](media/image54.wmf) bits
is attached to each code block.

For LDPC base graph 1, the maximum code block size is:

\- ![](media/image55.wmf).

For LDPC base graph 2, the maximum code block size is:

\- ![](media/image56.wmf).

Total number of code blocks *C* is determined by:

if ![](media/image57.wmf)

![](media/image58.wmf)

Number of code blocks: ![](media/image59.wmf)

![](media/image60.wmf)

else

![](media/image61.wmf)

Number of code blocks: ![](media/image62.wmf).

![](media/image63.wmf)

end if

The bits output from code block segmentation are denoted
by![](media/image64.wmf) , where ![](media/image65.wmf) is the code
block number, and ![](media/image66.wmf) is the number of bits for the
code block number ![](media/image67.wmf).

The number of bits ![](media/image68.wmf) in each code block is
calculated as:

![](media/image69.wmf);

For LDPC base graph 1,

![](media/image70.wmf).

For LDPC base graph 2,

if ![](media/image71.wmf)

![](media/image72.wmf);

elseif ![](media/image73.wmf)

![](media/image74.wmf);

elseif ![](media/image75.wmf)

![](media/image76.wmf);

else

![](media/image77.wmf);

end if

find the minimum value of ![](media/image78.wmf) in all sets of lifting
sizes in Table 5.3.2-1, denoted as ![](media/image79.wmf), such that
![](media/image80.wmf), and set ![](media/image81.wmf) for LDPC base
graph 1 and ![](media/image82.wmf) for LDPC base graph 2;

The bit sequence ![](media/image83.wmf) is calculated as:

![](media/image37.wmf);

for ![](media/image38.wmf) to ![](media/image39.wmf)

for ![](media/image40.wmf) to ![](media/image84.wmf)

![](media/image85.wmf);

![](media/image43.wmf);

end for

if ![](media/image86.wmf)

The sequence ![](media/image87.wmf) is used to calculate the CRC parity
bits ![](media/image45.wmf) according to Clause 5.1 with the generator
polynomial ![](media/image88.wmf).

for ![](media/image89.wmf) to ![](media/image90.wmf)

![](media/image91.wmf);

end for

end if

for ![](media/image92.wmf) to ![](media/image93.wmf) \-- Insertion of
filler bits

![](media/image94.wmf);

end for

end for

## 5.3 Channel coding

Usage of coding scheme for the different types of TrCH is shown in table
5.3-1. Usage of coding scheme for the different control information
types is shown in table 5.3-2.

Table 5.3-1: Usage of channel coding scheme for TrCHs

  -----------------------------------------------------------------------
  TrCH                                              Coding scheme
  ------------------------------------------------- ---------------------
  UL-SCH                                            LDPC

  DL-SCH                                            

  PCH                                               

  BCH                                               Polar code
  -----------------------------------------------------------------------

Table 5.3-2: Usage of channel coding scheme for control information

  -----------------------------------------------------------------------
  Control Information                               Coding scheme
  ------------------------------------------------- ---------------------
  DCI                                               Polar code

  UCI                                               Block code

                                                    Polar code
  -----------------------------------------------------------------------

### 5.3.1 Polar coding

The bit sequence input for a given code block to channel coding is
denoted by![](media/image95.wmf), where ![](media/image96.wmf) is the
number of bits to encode. After encoding the bits are denoted
by![](media/image97.wmf), where ![](media/image98.wmf) and the value of
![](media/image99.wmf) is determined by the following:

Denote by ![](media/image100.wmf) the rate matching output sequence
length as given in Clause 5.4.1;

If ![](media/image101.wmf) and ![](media/image102.wmf)

![](media/image103.wmf);

else

![](media/image104.wmf);

end if

![](media/image105.wmf);

![](media/image106.wmf);

![](media/image107.wmf)

where ![](media/image108.wmf).

UE is not expected to be configured with ![](media/image109.wmf), where
![](media/image110.wmf) is the number of parity check bits defined in
Clause 5.3.1.2.

#### 5.3.1.1 Interleaving

The bit sequence ![](media/image95.wmf) is interleaved into bit sequence
![](media/image111.wmf) as follows:

![](media/image112.wmf), ![](media/image113.wmf)

where the interleaving pattern ![](media/image114.wmf) is given by the
following:

if ![](media/image115.wmf)

![](media/image116.wmf), ![](media/image113.wmf)

else

![](media/image117.wmf);

for ![](media/image118.wmf) to ![](media/image119.wmf)

if ![](media/image120.wmf)

![](media/image121.wmf);

![](media/image122.wmf);

end if

end for

end if

where ![](media/image123.wmf) is given by Table 5.3.1.1-1 and
![](media/image124.wmf).

Table 5.3.1.1-1: Interleaving pattern ![](media/image123.wmf)

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ![](media/image125.wmf)   ![](media/image123.wmf)   ![](media/image125.wmf)   ![](media/image123.wmf)   ![](media/image125.wmf)   ![](media/image123.wmf)   ![](media/image125.wmf)   ![](media/image123.wmf)   ![](media/image125.wmf)   ![](media/image123.wmf)   ![](media/image125.wmf)   ![](media/image123.wmf)
  ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- -------------------------
  0                         0                         28                        67                        56                        122                       84                        68                        112                       33                        140                       38

  1                         2                         29                        69                        57                        123                       85                        73                        113                       36                        141                       144

  2                         4                         30                        70                        58                        126                       86                        78                        114                       44                        142                       39

  3                         7                         31                        71                        59                        127                       87                        84                        115                       47                        143                       145

  4                         9                         32                        72                        60                        129                       88                        90                        116                       64                        144                       40

  5                         14                        33                        76                        61                        132                       89                        92                        117                       74                        145                       146

  6                         19                        34                        77                        62                        134                       90                        94                        118                       79                        146                       41

  7                         20                        35                        81                        63                        138                       91                        96                        119                       85                        147                       147

  8                         24                        36                        82                        64                        139                       92                        99                        120                       97                        148                       148

  9                         25                        37                        83                        65                        140                       93                        102                       121                       100                       149                       149

  10                        26                        38                        87                        66                        1                         94                        105                       122                       103                       150                       150

  11                        28                        39                        88                        67                        3                         95                        107                       123                       117                       151                       151

  12                        31                        40                        89                        68                        5                         96                        109                       124                       125                       152                       152

  13                        34                        41                        91                        69                        8                         97                        112                       125                       131                       153                       153

  14                        42                        42                        93                        70                        10                        98                        114                       126                       136                       154                       154

  15                        45                        43                        95                        71                        15                        99                        116                       127                       142                       155                       155

  16                        49                        44                        98                        72                        21                        100                       121                       128                       12                        156                       156

  17                        50                        45                        101                       73                        27                        101                       124                       129                       17                        157                       157

  18                        51                        46                        104                       74                        29                        102                       128                       130                       23                        158                       158

  19                        53                        47                        106                       75                        32                        103                       130                       131                       37                        159                       159

  20                        54                        48                        108                       76                        35                        104                       133                       132                       48                        160                       160

  21                        56                        49                        110                       77                        43                        105                       135                       133                       75                        161                       161

  22                        58                        50                        111                       78                        46                        106                       141                       134                       80                        162                       162

  23                        59                        51                        113                       79                        52                        107                       6                         135                       86                        163                       163

  24                        61                        52                        115                       80                        55                        108                       11                        136                       137                                                 

  25                        62                        53                        118                       81                        57                        109                       16                        137                       143                                                 

  26                        65                        54                        119                       82                        60                        110                       22                        138                       13                                                  

  27                        66                        55                        120                       83                        63                        111                       30                        139                       18                                                  
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#### 5.3.1.2 Polar encoding

The Polar sequence ![](media/image126.wmf) is given by Table 5.3.1.2-1,
where ![](media/image127.wmf) denotes a bit index before Polar encoding
for ![](media/image128.wmf) and ![](media/image129.wmf). The Polar
sequence ![](media/image130.wmf) is in ascending order of reliability
![](media/image131.wmf), where ![](media/image132.wmf) denotes the
reliability of bit index ![](media/image133.wmf).

For any code block encoded to ![](media/image134.wmf) bits, a same Polar
sequence ![](media/image135.wmf) is used. The Polar sequence
![](media/image136.wmf) is a subset of Polar sequence
![](media/image137.wmf) with all elements ![](media/image138.wmf) of
values less than ![](media/image139.wmf), ordered in ascending order of
reliability ![](media/image140.wmf).

Denote ![](media/image141.wmf) as a set of bit indices in Polar sequence
![](media/image136.wmf), and ![](media/image142.wmf) as the set of other
bit indices in Polar sequence ![](media/image136.wmf), where
![](media/image141.wmf) and ![](media/image142.wmf) are given in Clause
5.4.1.1, ![](media/image143.wmf), ![](media/image144.wmf), and
![](media/image110.wmf) is the number of parity check bits.

Denote ![](media/image145.wmf) as the ![](media/image146.wmf)-th
Kronecker power of matrix ![](media/image147.wmf), where
![](media/image148.wmf).

For a bit index ![](media/image149.wmf) with ![](media/image150.wmf),
denote ![](media/image151.wmf) as the ![](media/image149.wmf)-th row of
![](media/image152.wmf) and ![](media/image153.wmf) as the row weight of
![](media/image154.wmf), where ![](media/image155.wmf) is the number of
ones in ![](media/image151.wmf). Denote the set of bit indices for
parity check bits as ![](media/image156.wmf), where
![](media/image157.wmf). A number of ![](media/image158.wmf) parity
check bits are placed in the ![](media/image159.wmf) least reliable bit
indices in ![](media/image141.wmf). A number of ![](media/image160.wmf)
other parity check bits are placed in the bit indices of minimum row
weight in ![](media/image161.wmf), where ![](media/image161.wmf) denotes
the ![](media/image162.wmf) most reliable bit indices in
![](media/image141.wmf); if there are more than ![](media/image163.wmf)
bit indices of the same minimum row weight in ![](media/image161.wmf),
the ![](media/image160.wmf) other parity check bits are placed in the
![](media/image160.wmf) bit indices of the highest reliability and the
minimum row weight in ![](media/image161.wmf).

Generate ![](media/image164.wmf) according to the following:

![](media/image165.wmf);

if ![](media/image166.wmf)

![](media/image167.wmf); ![](media/image168.wmf);
![](media/image169.wmf); ![](media/image170.wmf);
![](media/image171.wmf);

for ![](media/image172.wmf) to ![](media/image173.wmf)

![](media/image174.wmf); ![](media/image175.wmf);
![](media/image176.wmf); ![](media/image177.wmf);
![](media/image178.wmf); ![](media/image179.wmf);

if ![](media/image180.wmf)

if ![](media/image181.wmf)

![](media/image182.wmf);

else

![](media/image183.wmf);

![](media/image184.wmf);

![](media/image185.wmf);

end if

else

![](media/image186.wmf);

end if

end for

else

for ![](media/image172.wmf) to ![](media/image173.wmf)

if ![](media/image187.wmf)

![](media/image183.wmf);

![](media/image184.wmf);

else

![](media/image188.wmf);

end if

end for

end if

The output after encoding ![](media/image189.wmf) is obtained by
![](media/image190.wmf). The encoding is performed in GF(2).

Table 5.3.1.2-1: Polar sequence ![](media/image191.wmf) and its
corresponding reliability ![](media/image132.wmf)

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)   ![](media/image192.wmf)   ![](media/image193.wmf)
  ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- -------------------------
  0                         0                         128                       518                       256                       94                        384                       214                       512                       364                       640                       414                       768                       819                       896                       966

  1                         1                         129                       54                        257                       204                       385                       309                       513                       654                       641                       223                       769                       814                       897                       755

  2                         2                         130                       83                        258                       298                       386                       188                       514                       659                       642                       663                       770                       439                       898                       859

  3                         4                         131                       57                        259                       400                       387                       449                       515                       335                       643                       692                       771                       929                       899                       940

  4                         8                         132                       521                       260                       608                       388                       217                       516                       480                       644                       835                       772                       490                       900                       830

  5                         16                        133                       112                       261                       352                       389                       408                       517                       315                       645                       619                       773                       623                       901                       911

  6                         32                        134                       135                       262                       325                       390                       609                       518                       221                       646                       472                       774                       671                       902                       871

  7                         3                         135                       78                        263                       533                       391                       596                       519                       370                       647                       455                       775                       739                       903                       639

  8                         5                         136                       289                       264                       155                       392                       551                       520                       613                       648                       796                       776                       916                       904                       888

  9                         64                        137                       194                       265                       210                       393                       650                       521                       422                       649                       809                       777                       463                       905                       479

  10                        9                         138                       85                        266                       305                       394                       229                       522                       425                       650                       714                       778                       843                       906                       946

  11                        6                         139                       276                       267                       547                       395                       159                       523                       451                       651                       721                       779                       381                       907                       750

  12                        17                        140                       522                       268                       300                       396                       420                       524                       614                       652                       837                       780                       497                       908                       969

  13                        10                        141                       58                        269                       109                       397                       310                       525                       543                       653                       716                       781                       930                       909                       508

  14                        18                        142                       168                       270                       184                       398                       541                       526                       235                       654                       864                       782                       821                       910                       861

  15                        128                       143                       139                       271                       534                       399                       773                       527                       412                       655                       810                       783                       726                       911                       757

  16                        12                        144                       99                        272                       537                       400                       610                       528                       343                       656                       606                       784                       961                       912                       970

  17                        33                        145                       86                        273                       115                       401                       657                       529                       372                       657                       912                       785                       872                       913                       919

  18                        65                        146                       60                        274                       167                       402                       333                       530                       775                       658                       722                       786                       492                       914                       875

  19                        20                        147                       280                       275                       225                       403                       119                       531                       317                       659                       696                       787                       631                       915                       862

  20                        256                       148                       89                        276                       326                       404                       600                       532                       222                       660                       377                       788                       729                       916                       758

  21                        34                        149                       290                       277                       306                       405                       339                       533                       426                       661                       435                       789                       700                       917                       948

  22                        24                        150                       529                       278                       772                       406                       218                       534                       453                       662                       817                       790                       443                       918                       977

  23                        36                        151                       524                       279                       157                       407                       368                       535                       237                       663                       319                       791                       741                       919                       923

  24                        7                         152                       196                       280                       656                       408                       652                       536                       559                       664                       621                       792                       845                       920                       972

  25                        129                       153                       141                       281                       329                       409                       230                       537                       833                       665                       812                       793                       920                       921                       761

  26                        66                        154                       101                       282                       110                       410                       391                       538                       804                       666                       484                       794                       382                       922                       877

  27                        512                       155                       147                       283                       117                       411                       313                       539                       712                       667                       430                       795                       822                       923                       952

  28                        11                        156                       176                       284                       212                       412                       450                       540                       834                       668                       838                       796                       851                       924                       495

  29                        40                        157                       142                       285                       171                       413                       542                       541                       661                       669                       667                       797                       730                       925                       703

  30                        68                        158                       530                       286                       776                       414                       334                       542                       808                       670                       488                       798                       498                       926                       935

  31                        130                       159                       321                       287                       330                       415                       233                       543                       779                       671                       239                       799                       880                       927                       978

  32                        19                        160                       31                        288                       226                       416                       555                       544                       617                       672                       378                       800                       742                       928                       883

  33                        13                        161                       200                       289                       549                       417                       774                       545                       604                       673                       459                       801                       445                       929                       762

  34                        48                        162                       90                        290                       538                       418                       175                       546                       433                       674                       622                       802                       471                       930                       503

  35                        14                        163                       545                       291                       387                       419                       123                       547                       720                       675                       627                       803                       635                       931                       925

  36                        72                        164                       292                       292                       308                       420                       658                       548                       816                       676                       437                       804                       932                       932                       878

  37                        257                       165                       322                       293                       216                       421                       612                       549                       836                       677                       380                       805                       687                       933                       735

  38                        21                        166                       532                       294                       416                       422                       341                       550                       347                       678                       818                       806                       903                       934                       993

  39                        132                       167                       263                       295                       271                       423                       777                       551                       897                       679                       461                       807                       825                       935                       885

  40                        35                        168                       149                       296                       279                       424                       220                       552                       243                       680                       496                       808                       500                       936                       939

  41                        258                       169                       102                       297                       158                       425                       314                       553                       662                       681                       669                       809                       846                       937                       994

  42                        26                        170                       105                       298                       337                       426                       424                       554                       454                       682                       679                       810                       745                       938                       980

  43                        513                       171                       304                       299                       550                       427                       395                       555                       318                       683                       724                       811                       826                       939                       926

  44                        80                        172                       296                       300                       672                       428                       673                       556                       675                       684                       841                       812                       732                       940                       764

  45                        37                        173                       163                       301                       118                       429                       583                       557                       618                       685                       629                       813                       446                       941                       941

  46                        25                        174                       92                        302                       332                       430                       355                       558                       898                       686                       351                       814                       962                       942                       967

  47                        22                        175                       47                        303                       579                       431                       287                       559                       781                       687                       467                       815                       936                       943                       886

  48                        136                       176                       267                       304                       540                       432                       183                       560                       376                       688                       438                       816                       475                       944                       831

  49                        260                       177                       385                       305                       389                       433                       234                       561                       428                       689                       737                       817                       853                       945                       947

  50                        264                       178                       546                       306                       173                       434                       125                       562                       665                       690                       251                       818                       867                       946                       507

  51                        38                        179                       324                       307                       121                       435                       557                       563                       736                       691                       462                       819                       637                       947                       889

  52                        514                       180                       208                       308                       553                       436                       660                       564                       567                       692                       442                       820                       907                       948                       984

  53                        96                        181                       386                       309                       199                       437                       616                       565                       840                       693                       441                       821                       487                       949                       751

  54                        67                        182                       150                       310                       784                       438                       342                       566                       625                       694                       469                       822                       695                       950                       942

  55                        41                        183                       153                       311                       179                       439                       316                       567                       238                       695                       247                       823                       746                       951                       996

  56                        144                       184                       165                       312                       228                       440                       241                       568                       359                       696                       683                       824                       828                       952                       971

  57                        28                        185                       106                       313                       338                       441                       778                       569                       457                       697                       842                       825                       753                       953                       890

  58                        69                        186                       55                        314                       312                       442                       563                       570                       399                       698                       738                       826                       854                       954                       509

  59                        42                        187                       328                       315                       704                       443                       345                       571                       787                       699                       899                       827                       857                       955                       949

  60                        516                       188                       536                       316                       390                       444                       452                       572                       591                       700                       670                       828                       504                       956                       973

  61                        49                        189                       577                       317                       174                       445                       397                       573                       678                       701                       783                       829                       799                       957                       1000

  62                        74                        190                       548                       318                       554                       446                       403                       574                       434                       702                       849                       830                       255                       958                       892

  63                        272                       191                       113                       319                       581                       447                       207                       575                       677                       703                       820                       831                       964                       959                       950

  64                        160                       192                       154                       320                       393                       448                       674                       576                       349                       704                       728                       832                       909                       960                       863

  65                        520                       193                       79                        321                       283                       449                       558                       577                       245                       705                       928                       833                       719                       961                       759

  66                        288                       194                       269                       322                       122                       450                       785                       578                       458                       706                       791                       834                       477                       962                       1008

  67                        528                       195                       108                       323                       448                       451                       432                       579                       666                       707                       367                       835                       915                       963                       510

  68                        192                       196                       578                       324                       353                       452                       357                       580                       620                       708                       901                       836                       638                       964                       979

  69                        544                       197                       224                       325                       561                       453                       187                       581                       363                       709                       630                       837                       748                       965                       953

  70                        70                        198                       166                       326                       203                       454                       236                       582                       127                       710                       685                       838                       944                       966                       763

  71                        44                        199                       519                       327                       63                        455                       664                       583                       191                       711                       844                       839                       869                       967                       974

  72                        131                       200                       552                       328                       340                       456                       624                       584                       782                       712                       633                       840                       491                       968                       954

  73                        81                        201                       195                       329                       394                       457                       587                       585                       407                       713                       711                       841                       699                       969                       879

  74                        50                        202                       270                       330                       527                       458                       780                       586                       436                       714                       253                       842                       754                       970                       981

  75                        73                        203                       641                       331                       582                       459                       705                       587                       626                       715                       691                       843                       858                       971                       982

  76                        15                        204                       523                       332                       556                       460                       126                       588                       571                       716                       824                       844                       478                       972                       927

  77                        320                       205                       275                       333                       181                       461                       242                       589                       465                       717                       902                       845                       968                       973                       995

  78                        133                       206                       580                       334                       295                       462                       565                       590                       681                       718                       686                       846                       383                       974                       765

  79                        52                        207                       291                       335                       285                       463                       398                       591                       246                       719                       740                       847                       910                       975                       956

  80                        23                        208                       59                        336                       232                       464                       346                       592                       707                       720                       850                       848                       815                       976                       887

  81                        134                       209                       169                       337                       124                       465                       456                       593                       350                       721                       375                       849                       976                       977                       985

  82                        384                       210                       560                       338                       205                       466                       358                       594                       599                       722                       444                       850                       870                       978                       997

  83                        76                        211                       114                       339                       182                       467                       405                       595                       668                       723                       470                       851                       917                       979                       986

  84                        137                       212                       277                       340                       643                       468                       303                       596                       790                       724                       483                       852                       727                       980                       943

  85                        82                        213                       156                       341                       562                       469                       569                       597                       460                       725                       415                       853                       493                       981                       891

  86                        56                        214                       87                        342                       286                       470                       244                       598                       249                       726                       485                       854                       873                       982                       998

  87                        27                        215                       197                       343                       585                       471                       595                       599                       682                       727                       905                       855                       701                       983                       766

  88                        97                        216                       116                       344                       299                       472                       189                       600                       573                       728                       795                       856                       931                       984                       511

  89                        39                        217                       170                       345                       354                       473                       566                       601                       411                       729                       473                       857                       756                       985                       988

  90                        259                       218                       61                        346                       211                       474                       676                       602                       803                       730                       634                       858                       860                       986                       1001

  91                        84                        219                       531                       347                       401                       475                       361                       603                       789                       731                       744                       859                       499                       987                       951

  92                        138                       220                       525                       348                       185                       476                       706                       604                       709                       732                       852                       860                       731                       988                       1002

  93                        145                       221                       642                       349                       396                       477                       589                       605                       365                       733                       960                       861                       823                       989                       893

  94                        261                       222                       281                       350                       344                       478                       215                       606                       440                       734                       865                       862                       922                       990                       975

  95                        29                        223                       278                       351                       586                       479                       786                       607                       628                       735                       693                       863                       874                       991                       894

  96                        43                        224                       526                       352                       645                       480                       647                       608                       689                       736                       797                       864                       918                       992                       1009

  97                        98                        225                       177                       353                       593                       481                       348                       609                       374                       737                       906                       865                       502                       993                       955

  98                        515                       226                       293                       354                       535                       482                       419                       610                       423                       738                       715                       866                       933                       994                       1004

  99                        88                        227                       388                       355                       240                       483                       406                       611                       466                       739                       807                       867                       743                       995                       1010

  100                       140                       228                       91                        356                       206                       484                       464                       612                       793                       740                       474                       868                       760                       996                       957

  101                       30                        229                       584                       357                       95                        485                       680                       613                       250                       741                       636                       869                       881                       997                       983

  102                       146                       230                       769                       358                       327                       486                       801                       614                       371                       742                       694                       870                       494                       998                       958

  103                       71                        231                       198                       359                       564                       487                       362                       615                       481                       743                       254                       871                       702                       999                       987

  104                       262                       232                       172                       360                       800                       488                       590                       616                       574                       744                       717                       872                       921                       1000                      1012

  105                       265                       233                       120                       361                       402                       489                       409                       617                       413                       745                       575                       873                       501                       1001                      999

  106                       161                       234                       201                       362                       356                       490                       570                       618                       603                       746                       913                       874                       876                       1002                      1016

  107                       576                       235                       336                       363                       307                       491                       788                       619                       366                       747                       798                       875                       847                       1003                      767

  108                       45                        236                       62                        364                       301                       492                       597                       620                       468                       748                       811                       876                       992                       1004                      989

  109                       100                       237                       282                       365                       417                       493                       572                       621                       655                       749                       379                       877                       447                       1005                      1003

  110                       640                       238                       143                       366                       213                       494                       219                       622                       900                       750                       697                       878                       733                       1006                      990

  111                       51                        239                       103                       367                       568                       495                       311                       623                       805                       751                       431                       879                       827                       1007                      1005

  112                       148                       240                       178                       368                       832                       496                       708                       624                       615                       752                       607                       880                       934                       1008                      959

  113                       46                        241                       294                       369                       588                       497                       598                       625                       684                       753                       489                       881                       882                       1009                      1011

  114                       75                        242                       93                        370                       186                       498                       601                       626                       710                       754                       866                       882                       937                       1010                      1013

  115                       266                       243                       644                       371                       646                       499                       651                       627                       429                       755                       723                       883                       963                       1011                      895

  116                       273                       244                       202                       372                       404                       500                       421                       628                       794                       756                       486                       884                       747                       1012                      1006

  117                       517                       245                       592                       373                       227                       501                       792                       629                       252                       757                       908                       885                       505                       1013                      1014

  118                       104                       246                       323                       374                       896                       502                       802                       630                       373                       758                       718                       886                       855                       1014                      1017

  119                       162                       247                       392                       375                       594                       503                       611                       631                       605                       759                       813                       887                       924                       1015                      1018

  120                       53                        248                       297                       376                       418                       504                       602                       632                       848                       760                       476                       888                       734                       1016                      991

  121                       193                       249                       770                       377                       302                       505                       410                       633                       690                       761                       856                       889                       829                       1017                      1020

  122                       152                       250                       107                       378                       649                       506                       231                       634                       713                       762                       839                       890                       965                       1018                      1007

  123                       77                        251                       180                       379                       771                       507                       688                       635                       632                       763                       725                       891                       938                       1019                      1015

  124                       164                       252                       151                       380                       360                       508                       653                       636                       482                       764                       698                       892                       884                       1020                      1019

  125                       768                       253                       209                       381                       539                       509                       248                       637                       806                       765                       914                       893                       506                       1021                      1021

  126                       268                       254                       284                       382                       111                       510                       369                       638                       427                       766                       752                       894                       749                       1022                      1022

  127                       274                       255                       648                       383                       331                       511                       190                       639                       904                       767                       868                       895                       945                       1023                      1023
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### 5.3.2 Low density parity check coding

The bit sequence input for a given code block to channel coding is
denoted by ![](media/image95.wmf), where ![](media/image96.wmf) is the
number of bits to encode as defined in Clause 5.2.2. After encoding the
bits are denoted by ![](media/image97.wmf), where
![](media/image194.wmf) for LDPC base graph 1 and
![](media/image195.wmf) for LDPC base graph 2, and the value of
![](media/image196.wmf) is given in Clause 5.2.2.

For a code block encoded by LDPC, the following encoding procedure
applies:

1\) Find the set with index ![](media/image197.wmf) in Table 5.3.2-1
which contains ![](media/image198.wmf).

2\) for ![](media/image199.wmf) to ![](media/image200.wmf)

if ![](media/image201.wmf)

![](media/image202.wmf);

else

![](media/image203.wmf);

![](media/image204.wmf);

end if

end for

3\) Generate ![](media/image205.wmf) parity bits ![](media/image206.wmf)
such that ![](media/image207.wmf), where ![](media/image208.wmf);
![](media/image209.wmf) is a column vector of all elements equal to 0.
The encoding is performed in GF(2).

For LDPC base graph 1, a matrix of ![](media/image210.wmf) has 46 rows
with row indices ![](media/image211.wmf)and 68 columns with column
indices ![](media/image212.wmf). For LDPC base graph 2, a matrix of
![](media/image210.wmf) has 42 rows with row indices
![](media/image213.wmf)and 52 columns with column indices
![](media/image214.wmf). The elements in ![](media/image210.wmf) with
row and column indices given in Table 5.3.2-2 (for LDPC base graph 1)
and Table 5.3.2-3 (for LDPC base graph 2) are of value 1, and all other
elements in ![](media/image210.wmf) are of value 0.

The matrix ![](media/image215.wmf) is obtained by replacing each element
of ![](media/image210.wmf) with a ![](media/image216.wmf) matrix,
according to the following:

\- Each element of value 0 in ![](media/image217.wmf) is replaced by an
all zero matrix ![](media/image209.wmf)of size ![](media/image216.wmf);

\- Each element of value 1 in ![](media/image217.wmf) is replaced by a
circular permutation matrix ![](media/image218.wmf) of size
![](media/image216.wmf), where ![](media/image219.wmf) and
![](media/image220.wmf) are the row and column indices of the element,
and ![](media/image218.wmf) is obtained by circularly shifting the
identity matrix ![](media/image221.wmf)of size ![](media/image216.wmf)
to the right ![](media/image222.wmf) times. The value of
![](media/image222.wmf) is given by ![](media/image223.wmf). The value
of ![](media/image224.wmf) is given by Tables 5.3.2-2 and 5.3.2-3
according to the set index ![](media/image197.wmf) and LDPC base graph.

4\) for ![](media/image225.wmf) to ![](media/image226.wmf)

![](media/image227.wmf);

end for

Table 5.3.2-1: Sets of LDPC lifting size ![](media/image228.wmf)

  --------------------------------------------------------------------------
  *Set index                     *Set of lifting sizes
  (*![](media/image197.wmf)*)*   (*![](media/image228.wmf)*)*
  ------------------------------ -------------------------------------------
  0                              {2, 4, 8, 16, 32, 64, 128, 256}

  1                              {3, 6, 12, 24, 48, 96, 192, 384}

  2                              {5, 10, 20, 40, 80, 160, 320}

  3                              {7, 14, 28, 56, 112, 224}

  4                              {9, 18, 36, 72, 144, 288}

  5                              {11, 22, 44, 88, 176, 352}

  6                              {13, 26, 52, 104, 208}

  7                              {15, 30, 60, 120, 240}
  --------------------------------------------------------------------------

Table 5.3.2-2: LDPC base graph 1 (![](media/image229.wmf)) and its
parity check matrices (![](media/image224.wmf))

<table style="width:100%;">
<colgroup>
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
</colgroup>
<thead>
<tr class="header">
<th colspan="2"><img src="media/image229.wmf" /></th>
<th colspan="8"><img src="media/image224.wmf" /></th>
<th colspan="2"><img src="media/image229.wmf" /></th>
<th colspan="8"><img src="media/image224.wmf" /></th>
</tr>
<tr class="odd">
<th rowspan="2"><p>Row</p>
<p>index</p>
<p><img src="media/image219.wmf" /></p></th>
<th rowspan="2"><p>Column</p>
<p>index</p>
<p><img src="media/image220.wmf" /></p></th>
<th colspan="8">Set index <img src="media/image197.wmf" /></th>
<th rowspan="2"><p>Row</p>
<p>index</p>
<p><img src="media/image219.wmf" /></p></th>
<th rowspan="2"><p>Column</p>
<p>index</p>
<p><img src="media/image220.wmf" /></p></th>
<th colspan="8">Set index <img src="media/image197.wmf" /></th>
</tr>
<tr class="header">
<th><strong>0</strong></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
<th><strong>0</strong></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="19">0</td>
<td>0</td>
<td>250</td>
<td>307</td>
<td>73</td>
<td>223</td>
<td>211</td>
<td>294</td>
<td>0</td>
<td>135</td>
<td rowspan="6">15</td>
<td>1</td>
<td>96</td>
<td>2</td>
<td>290</td>
<td>120</td>
<td>0</td>
<td>348</td>
<td>6</td>
<td>138</td>
</tr>
<tr class="even">
<td>1</td>
<td>69</td>
<td>19</td>
<td>15</td>
<td>16</td>
<td>198</td>
<td>118</td>
<td>0</td>
<td>227</td>
<td>10</td>
<td>65</td>
<td>210</td>
<td>60</td>
<td>131</td>
<td>183</td>
<td>15</td>
<td>81</td>
<td>220</td>
</tr>
<tr class="odd">
<td>2</td>
<td>226</td>
<td>50</td>
<td>103</td>
<td>94</td>
<td>188</td>
<td>167</td>
<td>0</td>
<td>126</td>
<td>13</td>
<td>63</td>
<td>318</td>
<td>130</td>
<td>209</td>
<td>108</td>
<td>81</td>
<td>182</td>
<td>173</td>
</tr>
<tr class="even">
<td>3</td>
<td>159</td>
<td>369</td>
<td>49</td>
<td>91</td>
<td>186</td>
<td>330</td>
<td>0</td>
<td>134</td>
<td>18</td>
<td>75</td>
<td>55</td>
<td>184</td>
<td>209</td>
<td>68</td>
<td>176</td>
<td>53</td>
<td>142</td>
</tr>
<tr class="odd">
<td>5</td>
<td>100</td>
<td>181</td>
<td>240</td>
<td>74</td>
<td>219</td>
<td>207</td>
<td>0</td>
<td>84</td>
<td>25</td>
<td>179</td>
<td>269</td>
<td>51</td>
<td>81</td>
<td>64</td>
<td>113</td>
<td>46</td>
<td>49</td>
</tr>
<tr class="even">
<td>6</td>
<td>10</td>
<td>216</td>
<td>39</td>
<td>10</td>
<td>4</td>
<td>165</td>
<td>0</td>
<td>83</td>
<td>37</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>9</td>
<td>59</td>
<td>317</td>
<td>15</td>
<td>0</td>
<td>29</td>
<td>243</td>
<td>0</td>
<td>53</td>
<td rowspan="6">16</td>
<td>1</td>
<td>64</td>
<td>13</td>
<td>69</td>
<td>154</td>
<td>270</td>
<td>190</td>
<td>88</td>
<td>78</td>
</tr>
<tr class="even">
<td>10</td>
<td>229</td>
<td>288</td>
<td>162</td>
<td>205</td>
<td>144</td>
<td>250</td>
<td>0</td>
<td>225</td>
<td>3</td>
<td>49</td>
<td>338</td>
<td>140</td>
<td>164</td>
<td>13</td>
<td>293</td>
<td>198</td>
<td>152</td>
</tr>
<tr class="odd">
<td>11</td>
<td>110</td>
<td>109</td>
<td>215</td>
<td>216</td>
<td>116</td>
<td>1</td>
<td>0</td>
<td>205</td>
<td>11</td>
<td>49</td>
<td>57</td>
<td>45</td>
<td>43</td>
<td>99</td>
<td>332</td>
<td>160</td>
<td>84</td>
</tr>
<tr class="even">
<td>12</td>
<td>191</td>
<td>17</td>
<td>164</td>
<td>21</td>
<td>216</td>
<td>339</td>
<td>0</td>
<td>128</td>
<td>20</td>
<td>51</td>
<td>289</td>
<td>115</td>
<td>189</td>
<td>54</td>
<td>331</td>
<td>122</td>
<td>5</td>
</tr>
<tr class="odd">
<td>13</td>
<td>9</td>
<td>357</td>
<td>133</td>
<td>215</td>
<td>115</td>
<td>201</td>
<td>0</td>
<td>75</td>
<td>22</td>
<td>154</td>
<td>57</td>
<td>300</td>
<td>101</td>
<td>0</td>
<td>114</td>
<td>182</td>
<td>205</td>
</tr>
<tr class="even">
<td>15</td>
<td>195</td>
<td>215</td>
<td>298</td>
<td>14</td>
<td>233</td>
<td>53</td>
<td>0</td>
<td>135</td>
<td>38</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>16</td>
<td>23</td>
<td>106</td>
<td>110</td>
<td>70</td>
<td>144</td>
<td>347</td>
<td>0</td>
<td>217</td>
<td rowspan="6">17</td>
<td>0</td>
<td>7</td>
<td>260</td>
<td>257</td>
<td>56</td>
<td>153</td>
<td>110</td>
<td>91</td>
<td>183</td>
</tr>
<tr class="even">
<td>18</td>
<td>190</td>
<td>242</td>
<td>113</td>
<td>141</td>
<td>95</td>
<td>304</td>
<td>0</td>
<td>220</td>
<td>14</td>
<td>164</td>
<td>303</td>
<td>147</td>
<td>110</td>
<td>137</td>
<td>228</td>
<td>184</td>
<td>112</td>
</tr>
<tr class="odd">
<td>19</td>
<td>35</td>
<td>180</td>
<td>16</td>
<td>198</td>
<td>216</td>
<td>167</td>
<td>0</td>
<td>90</td>
<td>16</td>
<td>59</td>
<td>81</td>
<td>128</td>
<td>200</td>
<td>0</td>
<td>247</td>
<td>30</td>
<td>106</td>
</tr>
<tr class="even">
<td>20</td>
<td>239</td>
<td>330</td>
<td>189</td>
<td>104</td>
<td>73</td>
<td>47</td>
<td>0</td>
<td>105</td>
<td>17</td>
<td>1</td>
<td>358</td>
<td>51</td>
<td>63</td>
<td>0</td>
<td>116</td>
<td>3</td>
<td>219</td>
</tr>
<tr class="odd">
<td>21</td>
<td>31</td>
<td>346</td>
<td>32</td>
<td>81</td>
<td>261</td>
<td>188</td>
<td>0</td>
<td>137</td>
<td>21</td>
<td>144</td>
<td>375</td>
<td>228</td>
<td>4</td>
<td>162</td>
<td>190</td>
<td>155</td>
<td>129</td>
</tr>
<tr class="even">
<td>22</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>39</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>23</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="6">18</td>
<td>1</td>
<td>42</td>
<td>130</td>
<td>260</td>
<td>199</td>
<td>161</td>
<td>47</td>
<td>1</td>
<td>183</td>
</tr>
<tr class="even">
<td rowspan="19">1</td>
<td>0</td>
<td>2</td>
<td>76</td>
<td>303</td>
<td>141</td>
<td>179</td>
<td>77</td>
<td>22</td>
<td>96</td>
<td>12</td>
<td>233</td>
<td>163</td>
<td>294</td>
<td>110</td>
<td>151</td>
<td>286</td>
<td>41</td>
<td>215</td>
</tr>
<tr class="odd">
<td>2</td>
<td>239</td>
<td>76</td>
<td>294</td>
<td>45</td>
<td>162</td>
<td>225</td>
<td>11</td>
<td>236</td>
<td>13</td>
<td>8</td>
<td>280</td>
<td>291</td>
<td>200</td>
<td>0</td>
<td>246</td>
<td>167</td>
<td>180</td>
</tr>
<tr class="even">
<td>3</td>
<td>117</td>
<td>73</td>
<td>27</td>
<td>151</td>
<td>223</td>
<td>96</td>
<td>124</td>
<td>136</td>
<td>18</td>
<td>155</td>
<td>132</td>
<td>141</td>
<td>143</td>
<td>241</td>
<td>181</td>
<td>68</td>
<td>143</td>
</tr>
<tr class="odd">
<td>4</td>
<td>124</td>
<td>288</td>
<td>261</td>
<td>46</td>
<td>256</td>
<td>338</td>
<td>0</td>
<td>221</td>
<td>19</td>
<td>147</td>
<td>4</td>
<td>295</td>
<td>186</td>
<td>144</td>
<td>73</td>
<td>148</td>
<td>14</td>
</tr>
<tr class="even">
<td>5</td>
<td>71</td>
<td>144</td>
<td>161</td>
<td>119</td>
<td>160</td>
<td>268</td>
<td>10</td>
<td>128</td>
<td>40</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>7</td>
<td>222</td>
<td>331</td>
<td>133</td>
<td>157</td>
<td>76</td>
<td>112</td>
<td>0</td>
<td>92</td>
<td rowspan="6">19</td>
<td>0</td>
<td>60</td>
<td>145</td>
<td>64</td>
<td>8</td>
<td>0</td>
<td>87</td>
<td>12</td>
<td>179</td>
</tr>
<tr class="even">
<td>8</td>
<td>104</td>
<td>331</td>
<td>4</td>
<td>133</td>
<td>202</td>
<td>302</td>
<td>0</td>
<td>172</td>
<td>1</td>
<td>73</td>
<td>213</td>
<td>181</td>
<td>6</td>
<td>0</td>
<td>110</td>
<td>6</td>
<td>108</td>
</tr>
<tr class="odd">
<td>9</td>
<td>173</td>
<td>178</td>
<td>80</td>
<td>87</td>
<td>117</td>
<td>50</td>
<td>2</td>
<td>56</td>
<td>7</td>
<td>72</td>
<td>344</td>
<td>101</td>
<td>103</td>
<td>118</td>
<td>147</td>
<td>166</td>
<td>159</td>
</tr>
<tr class="even">
<td>11</td>
<td>220</td>
<td>295</td>
<td>129</td>
<td>206</td>
<td>109</td>
<td>167</td>
<td>16</td>
<td>11</td>
<td>8</td>
<td>127</td>
<td>242</td>
<td>270</td>
<td>198</td>
<td>144</td>
<td>258</td>
<td>184</td>
<td>138</td>
</tr>
<tr class="odd">
<td>12</td>
<td>102</td>
<td>342</td>
<td>300</td>
<td>93</td>
<td>15</td>
<td>253</td>
<td>60</td>
<td>189</td>
<td>10</td>
<td>224</td>
<td>197</td>
<td>41</td>
<td>8</td>
<td>0</td>
<td>204</td>
<td>191</td>
<td>196</td>
</tr>
<tr class="even">
<td>14</td>
<td>109</td>
<td>217</td>
<td>76</td>
<td>79</td>
<td>72</td>
<td>334</td>
<td>0</td>
<td>95</td>
<td>41</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>15</td>
<td>132</td>
<td>99</td>
<td>266</td>
<td>9</td>
<td>152</td>
<td>242</td>
<td>6</td>
<td>85</td>
<td rowspan="6">20</td>
<td>0</td>
<td>151</td>
<td>187</td>
<td>301</td>
<td>105</td>
<td>265</td>
<td>89</td>
<td>6</td>
<td>77</td>
</tr>
<tr class="even">
<td>16</td>
<td>142</td>
<td>354</td>
<td>72</td>
<td>118</td>
<td>158</td>
<td>257</td>
<td>30</td>
<td>153</td>
<td>3</td>
<td>186</td>
<td>206</td>
<td>162</td>
<td>210</td>
<td>81</td>
<td>65</td>
<td>12</td>
<td>187</td>
</tr>
<tr class="odd">
<td>17</td>
<td>155</td>
<td>114</td>
<td>83</td>
<td>194</td>
<td>147</td>
<td>133</td>
<td>0</td>
<td>87</td>
<td>9</td>
<td>217</td>
<td>264</td>
<td>40</td>
<td>121</td>
<td>90</td>
<td>155</td>
<td>15</td>
<td>203</td>
</tr>
<tr class="even">
<td>19</td>
<td>255</td>
<td>331</td>
<td>260</td>
<td>31</td>
<td>156</td>
<td>9</td>
<td>168</td>
<td>163</td>
<td>11</td>
<td>47</td>
<td>341</td>
<td>130</td>
<td>214</td>
<td>144</td>
<td>244</td>
<td>5</td>
<td>167</td>
</tr>
<tr class="odd">
<td>21</td>
<td>28</td>
<td>112</td>
<td>301</td>
<td>187</td>
<td>119</td>
<td>302</td>
<td>31</td>
<td>216</td>
<td>22</td>
<td>160</td>
<td>59</td>
<td>10</td>
<td>183</td>
<td>228</td>
<td>30</td>
<td>30</td>
<td>130</td>
</tr>
<tr class="even">
<td>22</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>105</td>
<td>0</td>
<td>42</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>23</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="6">21</td>
<td>1</td>
<td>249</td>
<td>205</td>
<td>79</td>
<td>192</td>
<td>64</td>
<td>162</td>
<td>6</td>
<td>197</td>
</tr>
<tr class="even">
<td>24</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>5</td>
<td>121</td>
<td>102</td>
<td>175</td>
<td>131</td>
<td>46</td>
<td>264</td>
<td>86</td>
<td>122</td>
</tr>
<tr class="odd">
<td rowspan="19">2</td>
<td>0</td>
<td>106</td>
<td>205</td>
<td>68</td>
<td>207</td>
<td>258</td>
<td>226</td>
<td>132</td>
<td>189</td>
<td>16</td>
<td>109</td>
<td>328</td>
<td>132</td>
<td>220</td>
<td>266</td>
<td>346</td>
<td>96</td>
<td>215</td>
</tr>
<tr class="even">
<td>1</td>
<td>111</td>
<td>250</td>
<td>7</td>
<td>203</td>
<td>167</td>
<td>35</td>
<td>37</td>
<td>4</td>
<td>20</td>
<td>131</td>
<td>213</td>
<td>283</td>
<td>50</td>
<td>9</td>
<td>143</td>
<td>42</td>
<td>65</td>
</tr>
<tr class="odd">
<td>2</td>
<td>185</td>
<td>328</td>
<td>80</td>
<td>31</td>
<td>220</td>
<td>213</td>
<td>21</td>
<td>225</td>
<td>21</td>
<td>171</td>
<td>97</td>
<td>103</td>
<td>106</td>
<td>18</td>
<td>109</td>
<td>199</td>
<td>216</td>
</tr>
<tr class="even">
<td>4</td>
<td>63</td>
<td>332</td>
<td>280</td>
<td>176</td>
<td>133</td>
<td>302</td>
<td>180</td>
<td>151</td>
<td>43</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>5</td>
<td>117</td>
<td>256</td>
<td>38</td>
<td>180</td>
<td>243</td>
<td>111</td>
<td>4</td>
<td>236</td>
<td rowspan="5">22</td>
<td>0</td>
<td>64</td>
<td>30</td>
<td>177</td>
<td>53</td>
<td>72</td>
<td>280</td>
<td>44</td>
<td>25</td>
</tr>
<tr class="even">
<td>6</td>
<td>93</td>
<td>161</td>
<td>227</td>
<td>186</td>
<td>202</td>
<td>265</td>
<td>149</td>
<td>117</td>
<td>12</td>
<td>142</td>
<td>11</td>
<td>20</td>
<td>0</td>
<td>189</td>
<td>157</td>
<td>58</td>
<td>47</td>
</tr>
<tr class="odd">
<td>7</td>
<td>229</td>
<td>267</td>
<td>202</td>
<td>95</td>
<td>218</td>
<td>128</td>
<td>48</td>
<td>179</td>
<td>13</td>
<td>188</td>
<td>233</td>
<td>55</td>
<td>3</td>
<td>72</td>
<td>236</td>
<td>130</td>
<td>126</td>
</tr>
<tr class="even">
<td>8</td>
<td>177</td>
<td>160</td>
<td>200</td>
<td>153</td>
<td>63</td>
<td>237</td>
<td>38</td>
<td>92</td>
<td>17</td>
<td>158</td>
<td>22</td>
<td>316</td>
<td>148</td>
<td>257</td>
<td>113</td>
<td>131</td>
<td>178</td>
</tr>
<tr class="odd">
<td>9</td>
<td>95</td>
<td>63</td>
<td>71</td>
<td>177</td>
<td>0</td>
<td>294</td>
<td>122</td>
<td>24</td>
<td>44</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>10</td>
<td>39</td>
<td>129</td>
<td>106</td>
<td>70</td>
<td>3</td>
<td>127</td>
<td>195</td>
<td>68</td>
<td rowspan="5">23</td>
<td>1</td>
<td>156</td>
<td>24</td>
<td>249</td>
<td>88</td>
<td>180</td>
<td>18</td>
<td>45</td>
<td>185</td>
</tr>
<tr class="odd">
<td>13</td>
<td>142</td>
<td>200</td>
<td>295</td>
<td>77</td>
<td>74</td>
<td>110</td>
<td>155</td>
<td>6</td>
<td>2</td>
<td>147</td>
<td>89</td>
<td>50</td>
<td>203</td>
<td>0</td>
<td>6</td>
<td>18</td>
<td>127</td>
</tr>
<tr class="even">
<td>14</td>
<td>225</td>
<td>88</td>
<td>283</td>
<td>214</td>
<td>229</td>
<td>286</td>
<td>28</td>
<td>101</td>
<td>10</td>
<td>170</td>
<td>61</td>
<td>133</td>
<td>168</td>
<td>0</td>
<td>181</td>
<td>132</td>
<td>117</td>
</tr>
<tr class="odd">
<td>15</td>
<td>225</td>
<td>53</td>
<td>301</td>
<td>77</td>
<td>0</td>
<td>125</td>
<td>85</td>
<td>33</td>
<td>18</td>
<td>152</td>
<td>27</td>
<td>105</td>
<td>122</td>
<td>165</td>
<td>304</td>
<td>100</td>
<td>199</td>
</tr>
<tr class="even">
<td>17</td>
<td>245</td>
<td>131</td>
<td>184</td>
<td>198</td>
<td>216</td>
<td>131</td>
<td>47</td>
<td>96</td>
<td>45</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>18</td>
<td>205</td>
<td>240</td>
<td>246</td>
<td>117</td>
<td>269</td>
<td>163</td>
<td>179</td>
<td>125</td>
<td rowspan="6">24</td>
<td>0</td>
<td>112</td>
<td>298</td>
<td>289</td>
<td>49</td>
<td>236</td>
<td>38</td>
<td>9</td>
<td>32</td>
</tr>
<tr class="even">
<td>19</td>
<td>251</td>
<td>205</td>
<td>230</td>
<td>223</td>
<td>200</td>
<td>210</td>
<td>42</td>
<td>67</td>
<td>3</td>
<td>86</td>
<td>158</td>
<td>280</td>
<td>157</td>
<td>199</td>
<td>170</td>
<td>125</td>
<td>178</td>
</tr>
<tr class="odd">
<td>20</td>
<td>117</td>
<td>13</td>
<td>276</td>
<td>90</td>
<td>234</td>
<td>7</td>
<td>66</td>
<td>230</td>
<td>4</td>
<td>236</td>
<td>235</td>
<td>110</td>
<td>64</td>
<td>0</td>
<td>249</td>
<td>191</td>
<td>2</td>
</tr>
<tr class="even">
<td>24</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>11</td>
<td>116</td>
<td>339</td>
<td>187</td>
<td>193</td>
<td>266</td>
<td>288</td>
<td>28</td>
<td>156</td>
</tr>
<tr class="odd">
<td>25</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>22</td>
<td>222</td>
<td>234</td>
<td>281</td>
<td>124</td>
<td>0</td>
<td>194</td>
<td>6</td>
<td>58</td>
</tr>
<tr class="even">
<td rowspan="19">3</td>
<td>0</td>
<td>121</td>
<td>276</td>
<td>220</td>
<td>201</td>
<td>187</td>
<td>97</td>
<td>4</td>
<td>128</td>
<td>46</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>89</td>
<td>87</td>
<td>208</td>
<td>18</td>
<td>145</td>
<td>94</td>
<td>6</td>
<td>23</td>
<td rowspan="5">25</td>
<td>1</td>
<td>23</td>
<td>72</td>
<td>172</td>
<td>1</td>
<td>205</td>
<td>279</td>
<td>4</td>
<td>27</td>
</tr>
<tr class="even">
<td>3</td>
<td>84</td>
<td>0</td>
<td>30</td>
<td>165</td>
<td>166</td>
<td>49</td>
<td>33</td>
<td>162</td>
<td>6</td>
<td>136</td>
<td>17</td>
<td>295</td>
<td>166</td>
<td>0</td>
<td>255</td>
<td>74</td>
<td>141</td>
</tr>
<tr class="odd">
<td>4</td>
<td>20</td>
<td>275</td>
<td>197</td>
<td>5</td>
<td>108</td>
<td>279</td>
<td>113</td>
<td>220</td>
<td>7</td>
<td>116</td>
<td>383</td>
<td>96</td>
<td>65</td>
<td>0</td>
<td>111</td>
<td>16</td>
<td>11</td>
</tr>
<tr class="even">
<td>6</td>
<td>150</td>
<td>199</td>
<td>61</td>
<td>45</td>
<td>82</td>
<td>139</td>
<td>49</td>
<td>43</td>
<td>14</td>
<td>182</td>
<td>312</td>
<td>46</td>
<td>81</td>
<td>183</td>
<td>54</td>
<td>28</td>
<td>181</td>
</tr>
<tr class="odd">
<td>7</td>
<td>131</td>
<td>153</td>
<td>175</td>
<td>142</td>
<td>132</td>
<td>166</td>
<td>21</td>
<td>186</td>
<td>47</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>8</td>
<td>243</td>
<td>56</td>
<td>79</td>
<td>16</td>
<td>197</td>
<td>91</td>
<td>6</td>
<td>96</td>
<td rowspan="5">26</td>
<td>0</td>
<td>195</td>
<td>71</td>
<td>270</td>
<td>107</td>
<td>0</td>
<td>325</td>
<td>21</td>
<td>163</td>
</tr>
<tr class="odd">
<td>10</td>
<td>136</td>
<td>132</td>
<td>281</td>
<td>34</td>
<td>41</td>
<td>106</td>
<td>151</td>
<td>1</td>
<td>2</td>
<td>243</td>
<td>81</td>
<td>110</td>
<td>176</td>
<td>0</td>
<td>326</td>
<td>142</td>
<td>131</td>
</tr>
<tr class="even">
<td>11</td>
<td>86</td>
<td>305</td>
<td>303</td>
<td>155</td>
<td>162</td>
<td>246</td>
<td>83</td>
<td>216</td>
<td>4</td>
<td>215</td>
<td>76</td>
<td>318</td>
<td>212</td>
<td>0</td>
<td>226</td>
<td>192</td>
<td>169</td>
</tr>
<tr class="odd">
<td>12</td>
<td>246</td>
<td>231</td>
<td>253</td>
<td>213</td>
<td>57</td>
<td>345</td>
<td>154</td>
<td>22</td>
<td>15</td>
<td>61</td>
<td>136</td>
<td>67</td>
<td>127</td>
<td>277</td>
<td>99</td>
<td>197</td>
<td>98</td>
</tr>
<tr class="even">
<td>13</td>
<td>219</td>
<td>341</td>
<td>164</td>
<td>147</td>
<td>36</td>
<td>269</td>
<td>87</td>
<td>24</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>14</td>
<td>211</td>
<td>212</td>
<td>53</td>
<td>69</td>
<td>115</td>
<td>185</td>
<td>5</td>
<td>167</td>
<td rowspan="4">27</td>
<td>1</td>
<td>25</td>
<td>194</td>
<td>210</td>
<td>208</td>
<td>45</td>
<td>91</td>
<td>98</td>
<td>165</td>
</tr>
<tr class="even">
<td>16</td>
<td>240</td>
<td>304</td>
<td>44</td>
<td>96</td>
<td>242</td>
<td>249</td>
<td>92</td>
<td>200</td>
<td>6</td>
<td>104</td>
<td>194</td>
<td>29</td>
<td>141</td>
<td>36</td>
<td>326</td>
<td>140</td>
<td>232</td>
</tr>
<tr class="odd">
<td>17</td>
<td>76</td>
<td>300</td>
<td>28</td>
<td>74</td>
<td>165</td>
<td>215</td>
<td>173</td>
<td>32</td>
<td>8</td>
<td>194</td>
<td>101</td>
<td>304</td>
<td>174</td>
<td>72</td>
<td>268</td>
<td>22</td>
<td>9</td>
</tr>
<tr class="even">
<td>18</td>
<td>244</td>
<td>271</td>
<td>77</td>
<td>99</td>
<td>0</td>
<td>143</td>
<td>120</td>
<td>235</td>
<td>49</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>20</td>
<td>144</td>
<td>39</td>
<td>319</td>
<td>30</td>
<td>113</td>
<td>121</td>
<td>2</td>
<td>172</td>
<td rowspan="5">28</td>
<td>0</td>
<td>128</td>
<td>222</td>
<td>11</td>
<td>146</td>
<td>275</td>
<td>102</td>
<td>4</td>
<td>32</td>
</tr>
<tr class="even">
<td>21</td>
<td>12</td>
<td>357</td>
<td>68</td>
<td>158</td>
<td>108</td>
<td>121</td>
<td>142</td>
<td>219</td>
<td>4</td>
<td>165</td>
<td>19</td>
<td>293</td>
<td>153</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>43</td>
</tr>
<tr class="odd">
<td>22</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>19</td>
<td>181</td>
<td>244</td>
<td>50</td>
<td>217</td>
<td>155</td>
<td>40</td>
<td>40</td>
<td>200</td>
</tr>
<tr class="even">
<td>25</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>21</td>
<td>63</td>
<td>274</td>
<td>234</td>
<td>114</td>
<td>62</td>
<td>167</td>
<td>93</td>
<td>205</td>
</tr>
<tr class="odd">
<td rowspan="3">4</td>
<td>0</td>
<td>157</td>
<td>332</td>
<td>233</td>
<td>170</td>
<td>246</td>
<td>42</td>
<td>24</td>
<td>64</td>
<td>50</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>102</td>
<td>181</td>
<td>205</td>
<td>10</td>
<td>235</td>
<td>256</td>
<td>204</td>
<td>211</td>
<td rowspan="5">29</td>
<td>1</td>
<td>86</td>
<td>252</td>
<td>27</td>
<td>150</td>
<td>0</td>
<td>273</td>
<td>92</td>
<td>232</td>
</tr>
<tr class="odd">
<td>26</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>14</td>
<td>236</td>
<td>5</td>
<td>308</td>
<td>11</td>
<td>180</td>
<td>104</td>
<td>136</td>
<td>32</td>
</tr>
<tr class="even">
<td rowspan="8">5</td>
<td>0</td>
<td>205</td>
<td>195</td>
<td>83</td>
<td>164</td>
<td>261</td>
<td>219</td>
<td>185</td>
<td>2</td>
<td>18</td>
<td>84</td>
<td>147</td>
<td>117</td>
<td>53</td>
<td>0</td>
<td>243</td>
<td>106</td>
<td>118</td>
</tr>
<tr class="odd">
<td>1</td>
<td>236</td>
<td>14</td>
<td>292</td>
<td>59</td>
<td>181</td>
<td>130</td>
<td>100</td>
<td>171</td>
<td>25</td>
<td>6</td>
<td>78</td>
<td>29</td>
<td>68</td>
<td>42</td>
<td>107</td>
<td>6</td>
<td>103</td>
</tr>
<tr class="even">
<td>3</td>
<td>194</td>
<td>115</td>
<td>50</td>
<td>86</td>
<td>72</td>
<td>251</td>
<td>24</td>
<td>47</td>
<td>51</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>12</td>
<td>231</td>
<td>166</td>
<td>318</td>
<td>80</td>
<td>283</td>
<td>322</td>
<td>65</td>
<td>143</td>
<td rowspan="5">30</td>
<td>0</td>
<td>216</td>
<td>159</td>
<td>91</td>
<td>34</td>
<td>0</td>
<td>171</td>
<td>2</td>
<td>170</td>
</tr>
<tr class="even">
<td>16</td>
<td>28</td>
<td>241</td>
<td>201</td>
<td>182</td>
<td>254</td>
<td>295</td>
<td>207</td>
<td>210</td>
<td>10</td>
<td>73</td>
<td>229</td>
<td>23</td>
<td>130</td>
<td>90</td>
<td>16</td>
<td>88</td>
<td>199</td>
</tr>
<tr class="odd">
<td>21</td>
<td>123</td>
<td>51</td>
<td>267</td>
<td>130</td>
<td>79</td>
<td>258</td>
<td>161</td>
<td>180</td>
<td>13</td>
<td>120</td>
<td>260</td>
<td>105</td>
<td>210</td>
<td>252</td>
<td>95</td>
<td>112</td>
<td>26</td>
</tr>
<tr class="even">
<td>22</td>
<td>115</td>
<td>157</td>
<td>279</td>
<td>153</td>
<td>144</td>
<td>283</td>
<td>72</td>
<td>180</td>
<td>24</td>
<td>9</td>
<td>90</td>
<td>135</td>
<td>123</td>
<td>173</td>
<td>212</td>
<td>20</td>
<td>105</td>
</tr>
<tr class="odd">
<td>27</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>52</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td rowspan="9">6</td>
<td>0</td>
<td>183</td>
<td>278</td>
<td>289</td>
<td>158</td>
<td>80</td>
<td>294</td>
<td>6</td>
<td>199</td>
<td rowspan="5">31</td>
<td>1</td>
<td>95</td>
<td>100</td>
<td>222</td>
<td>175</td>
<td>144</td>
<td>101</td>
<td>4</td>
<td>73</td>
</tr>
<tr class="odd">
<td>6</td>
<td>22</td>
<td>257</td>
<td>21</td>
<td>119</td>
<td>144</td>
<td>73</td>
<td>27</td>
<td>22</td>
<td>7</td>
<td>177</td>
<td>215</td>
<td>308</td>
<td>49</td>
<td>144</td>
<td>297</td>
<td>49</td>
<td>149</td>
</tr>
<tr class="even">
<td>10</td>
<td>28</td>
<td>1</td>
<td>293</td>
<td>113</td>
<td>169</td>
<td>330</td>
<td>163</td>
<td>23</td>
<td>22</td>
<td>172</td>
<td>258</td>
<td>66</td>
<td>177</td>
<td>166</td>
<td>279</td>
<td>125</td>
<td>175</td>
</tr>
<tr class="odd">
<td>11</td>
<td>67</td>
<td>351</td>
<td>13</td>
<td>21</td>
<td>90</td>
<td>99</td>
<td>50</td>
<td>100</td>
<td>25</td>
<td>61</td>
<td>256</td>
<td>162</td>
<td>128</td>
<td>19</td>
<td>222</td>
<td>194</td>
<td>108</td>
</tr>
<tr class="even">
<td>13</td>
<td>244</td>
<td>92</td>
<td>232</td>
<td>63</td>
<td>59</td>
<td>172</td>
<td>48</td>
<td>92</td>
<td>53</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>17</td>
<td>11</td>
<td>253</td>
<td>302</td>
<td>51</td>
<td>177</td>
<td>150</td>
<td>24</td>
<td>207</td>
<td rowspan="5">32</td>
<td>0</td>
<td>221</td>
<td>102</td>
<td>210</td>
<td>192</td>
<td>0</td>
<td>351</td>
<td>6</td>
<td>103</td>
</tr>
<tr class="even">
<td>18</td>
<td>157</td>
<td>18</td>
<td>138</td>
<td>136</td>
<td>151</td>
<td>284</td>
<td>38</td>
<td>52</td>
<td>12</td>
<td>112</td>
<td>201</td>
<td>22</td>
<td>209</td>
<td>211</td>
<td>265</td>
<td>126</td>
<td>110</td>
</tr>
<tr class="odd">
<td>20</td>
<td>211</td>
<td>225</td>
<td>235</td>
<td>116</td>
<td>108</td>
<td>305</td>
<td>91</td>
<td>13</td>
<td>14</td>
<td>199</td>
<td>175</td>
<td>271</td>
<td>58</td>
<td>36</td>
<td>338</td>
<td>63</td>
<td>151</td>
</tr>
<tr class="even">
<td>28</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>24</td>
<td>121</td>
<td>287</td>
<td>217</td>
<td>30</td>
<td>162</td>
<td>83</td>
<td>20</td>
<td>211</td>
</tr>
<tr class="odd">
<td rowspan="7">7</td>
<td>0</td>
<td>220</td>
<td>9</td>
<td>12</td>
<td>17</td>
<td>169</td>
<td>3</td>
<td>145</td>
<td>77</td>
<td>54</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>44</td>
<td>62</td>
<td>88</td>
<td>76</td>
<td>189</td>
<td>103</td>
<td>88</td>
<td>146</td>
<td rowspan="5">33</td>
<td>1</td>
<td>2</td>
<td>323</td>
<td>170</td>
<td>114</td>
<td>0</td>
<td>56</td>
<td>10</td>
<td>199</td>
</tr>
<tr class="odd">
<td>4</td>
<td>159</td>
<td>316</td>
<td>207</td>
<td>104</td>
<td>154</td>
<td>224</td>
<td>112</td>
<td>209</td>
<td>2</td>
<td>187</td>
<td>8</td>
<td>20</td>
<td>49</td>
<td>0</td>
<td>304</td>
<td>30</td>
<td>132</td>
</tr>
<tr class="even">
<td>7</td>
<td>31</td>
<td>333</td>
<td>50</td>
<td>100</td>
<td>184</td>
<td>297</td>
<td>153</td>
<td>32</td>
<td>11</td>
<td>41</td>
<td>361</td>
<td>140</td>
<td>161</td>
<td>76</td>
<td>141</td>
<td>6</td>
<td>172</td>
</tr>
<tr class="odd">
<td>8</td>
<td>167</td>
<td>290</td>
<td>25</td>
<td>150</td>
<td>104</td>
<td>215</td>
<td>159</td>
<td>166</td>
<td>21</td>
<td>211</td>
<td>105</td>
<td>33</td>
<td>137</td>
<td>18</td>
<td>101</td>
<td>92</td>
<td>65</td>
</tr>
<tr class="even">
<td>14</td>
<td>104</td>
<td>114</td>
<td>76</td>
<td>158</td>
<td>164</td>
<td>39</td>
<td>76</td>
<td>18</td>
<td>55</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>29</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="5">34</td>
<td>0</td>
<td>127</td>
<td>230</td>
<td>187</td>
<td>82</td>
<td>197</td>
<td>60</td>
<td>4</td>
<td>161</td>
</tr>
<tr class="even">
<td rowspan="10">8</td>
<td>0</td>
<td>112</td>
<td>307</td>
<td>295</td>
<td>33</td>
<td>54</td>
<td>348</td>
<td>172</td>
<td>181</td>
<td>7</td>
<td>167</td>
<td>148</td>
<td>296</td>
<td>186</td>
<td>0</td>
<td>320</td>
<td>153</td>
<td>237</td>
</tr>
<tr class="odd">
<td>1</td>
<td>4</td>
<td>179</td>
<td>133</td>
<td>95</td>
<td>0</td>
<td>75</td>
<td>2</td>
<td>105</td>
<td>15</td>
<td>164</td>
<td>202</td>
<td>5</td>
<td>68</td>
<td>108</td>
<td>112</td>
<td>197</td>
<td>142</td>
</tr>
<tr class="even">
<td>3</td>
<td>7</td>
<td>165</td>
<td>130</td>
<td>4</td>
<td>252</td>
<td>22</td>
<td>131</td>
<td>141</td>
<td>17</td>
<td>159</td>
<td>312</td>
<td>44</td>
<td>150</td>
<td>0</td>
<td>54</td>
<td>155</td>
<td>180</td>
</tr>
<tr class="odd">
<td>12</td>
<td>211</td>
<td>18</td>
<td>231</td>
<td>217</td>
<td>41</td>
<td>312</td>
<td>141</td>
<td>223</td>
<td>56</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>16</td>
<td>102</td>
<td>39</td>
<td>296</td>
<td>204</td>
<td>98</td>
<td>224</td>
<td>96</td>
<td>177</td>
<td rowspan="5">35</td>
<td>1</td>
<td>161</td>
<td>320</td>
<td>207</td>
<td>192</td>
<td>199</td>
<td>100</td>
<td>4</td>
<td>231</td>
</tr>
<tr class="odd">
<td>19</td>
<td>164</td>
<td>224</td>
<td>110</td>
<td>39</td>
<td>46</td>
<td>17</td>
<td>99</td>
<td>145</td>
<td>6</td>
<td>197</td>
<td>335</td>
<td>158</td>
<td>173</td>
<td>278</td>
<td>210</td>
<td>45</td>
<td>174</td>
</tr>
<tr class="even">
<td>21</td>
<td>109</td>
<td>368</td>
<td>269</td>
<td>58</td>
<td>15</td>
<td>59</td>
<td>101</td>
<td>199</td>
<td>12</td>
<td>207</td>
<td>2</td>
<td>55</td>
<td>26</td>
<td>0</td>
<td>195</td>
<td>168</td>
<td>145</td>
</tr>
<tr class="odd">
<td>22</td>
<td>241</td>
<td>67</td>
<td>245</td>
<td>44</td>
<td>230</td>
<td>314</td>
<td>35</td>
<td>153</td>
<td>22</td>
<td>103</td>
<td>266</td>
<td>285</td>
<td>187</td>
<td>205</td>
<td>268</td>
<td>185</td>
<td>100</td>
</tr>
<tr class="even">
<td>24</td>
<td>90</td>
<td>170</td>
<td>154</td>
<td>201</td>
<td>54</td>
<td>244</td>
<td>116</td>
<td>38</td>
<td>57</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>30</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="5">36</td>
<td>0</td>
<td>37</td>
<td>210</td>
<td>259</td>
<td>222</td>
<td>216</td>
<td>135</td>
<td>6</td>
<td>11</td>
</tr>
<tr class="even">
<td rowspan="9">9</td>
<td>0</td>
<td>103</td>
<td>366</td>
<td>189</td>
<td>9</td>
<td>162</td>
<td>156</td>
<td>6</td>
<td>169</td>
<td>14</td>
<td>105</td>
<td>313</td>
<td>179</td>
<td>157</td>
<td>16</td>
<td>15</td>
<td>200</td>
<td>207</td>
</tr>
<tr class="odd">
<td>1</td>
<td>182</td>
<td>232</td>
<td>244</td>
<td>37</td>
<td>159</td>
<td>88</td>
<td>10</td>
<td>12</td>
<td>15</td>
<td>51</td>
<td>297</td>
<td>178</td>
<td>0</td>
<td>0</td>
<td>35</td>
<td>177</td>
<td>42</td>
</tr>
<tr class="even">
<td>10</td>
<td>109</td>
<td>321</td>
<td>36</td>
<td>213</td>
<td>93</td>
<td>293</td>
<td>145</td>
<td>206</td>
<td>18</td>
<td>120</td>
<td>21</td>
<td>160</td>
<td>6</td>
<td>0</td>
<td>188</td>
<td>43</td>
<td>100</td>
</tr>
<tr class="odd">
<td>11</td>
<td>21</td>
<td>133</td>
<td>286</td>
<td>105</td>
<td>134</td>
<td>111</td>
<td>53</td>
<td>221</td>
<td>58</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>13</td>
<td>142</td>
<td>57</td>
<td>151</td>
<td>89</td>
<td>45</td>
<td>92</td>
<td>201</td>
<td>17</td>
<td rowspan="4">37</td>
<td>1</td>
<td>198</td>
<td>269</td>
<td>298</td>
<td>81</td>
<td>72</td>
<td>319</td>
<td>82</td>
<td>59</td>
</tr>
<tr class="odd">
<td>17</td>
<td>14</td>
<td>303</td>
<td>267</td>
<td>185</td>
<td>132</td>
<td>152</td>
<td>4</td>
<td>212</td>
<td>13</td>
<td>220</td>
<td>82</td>
<td>15</td>
<td>195</td>
<td>144</td>
<td>236</td>
<td>2</td>
<td>204</td>
</tr>
<tr class="even">
<td>18</td>
<td>61</td>
<td>63</td>
<td>135</td>
<td>109</td>
<td>76</td>
<td>23</td>
<td>164</td>
<td>92</td>
<td>23</td>
<td>122</td>
<td>115</td>
<td>115</td>
<td>138</td>
<td>0</td>
<td>85</td>
<td>135</td>
<td>161</td>
</tr>
<tr class="odd">
<td>20</td>
<td>216</td>
<td>82</td>
<td>209</td>
<td>218</td>
<td>209</td>
<td>337</td>
<td>173</td>
<td>205</td>
<td>59</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>31</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="5">38</td>
<td>0</td>
<td>167</td>
<td>185</td>
<td>151</td>
<td>123</td>
<td>190</td>
<td>164</td>
<td>91</td>
<td>121</td>
</tr>
<tr class="odd">
<td rowspan="7">10</td>
<td>1</td>
<td>98</td>
<td>101</td>
<td>14</td>
<td>82</td>
<td>178</td>
<td>175</td>
<td>126</td>
<td>116</td>
<td>9</td>
<td>151</td>
<td>177</td>
<td>179</td>
<td>90</td>
<td>0</td>
<td>196</td>
<td>64</td>
<td>90</td>
</tr>
<tr class="even">
<td>2</td>
<td>149</td>
<td>339</td>
<td>80</td>
<td>165</td>
<td>1</td>
<td>253</td>
<td>77</td>
<td>151</td>
<td>10</td>
<td>157</td>
<td>289</td>
<td>64</td>
<td>73</td>
<td>0</td>
<td>209</td>
<td>198</td>
<td>26</td>
</tr>
<tr class="odd">
<td>4</td>
<td>167</td>
<td>274</td>
<td>211</td>
<td>174</td>
<td>28</td>
<td>27</td>
<td>156</td>
<td>70</td>
<td>12</td>
<td>163</td>
<td>214</td>
<td>181</td>
<td>10</td>
<td>0</td>
<td>246</td>
<td>100</td>
<td>140</td>
</tr>
<tr class="even">
<td>7</td>
<td>160</td>
<td>111</td>
<td>75</td>
<td>19</td>
<td>267</td>
<td>231</td>
<td>16</td>
<td>230</td>
<td>60</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>8</td>
<td>49</td>
<td>383</td>
<td>161</td>
<td>194</td>
<td>234</td>
<td>49</td>
<td>12</td>
<td>115</td>
<td rowspan="5">39</td>
<td>1</td>
<td>173</td>
<td>258</td>
<td>102</td>
<td>12</td>
<td>153</td>
<td>236</td>
<td>4</td>
<td>115</td>
</tr>
<tr class="even">
<td>14</td>
<td>58</td>
<td>354</td>
<td>311</td>
<td>103</td>
<td>201</td>
<td>267</td>
<td>70</td>
<td>84</td>
<td>3</td>
<td>139</td>
<td>93</td>
<td>77</td>
<td>77</td>
<td>0</td>
<td>264</td>
<td>28</td>
<td>188</td>
</tr>
<tr class="odd">
<td>32</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>149</td>
<td>346</td>
<td>192</td>
<td>49</td>
<td>165</td>
<td>37</td>
<td>109</td>
<td>168</td>
</tr>
<tr class="even">
<td rowspan="8">11</td>
<td>0</td>
<td>77</td>
<td>48</td>
<td>16</td>
<td>52</td>
<td>55</td>
<td>25</td>
<td>184</td>
<td>45</td>
<td>19</td>
<td>0</td>
<td>297</td>
<td>208</td>
<td>114</td>
<td>117</td>
<td>272</td>
<td>188</td>
<td>52</td>
</tr>
<tr class="odd">
<td>1</td>
<td>41</td>
<td>102</td>
<td>147</td>
<td>11</td>
<td>23</td>
<td>322</td>
<td>194</td>
<td>115</td>
<td>61</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>12</td>
<td>83</td>
<td>8</td>
<td>290</td>
<td>2</td>
<td>274</td>
<td>200</td>
<td>123</td>
<td>134</td>
<td rowspan="4">40</td>
<td>0</td>
<td>157</td>
<td>175</td>
<td>32</td>
<td>67</td>
<td>216</td>
<td>304</td>
<td>10</td>
<td>4</td>
</tr>
<tr class="odd">
<td>16</td>
<td>182</td>
<td>47</td>
<td>289</td>
<td>35</td>
<td>181</td>
<td>351</td>
<td>16</td>
<td>1</td>
<td>8</td>
<td>137</td>
<td>37</td>
<td>80</td>
<td>45</td>
<td>144</td>
<td>237</td>
<td>84</td>
<td>103</td>
</tr>
<tr class="even">
<td>21</td>
<td>78</td>
<td>188</td>
<td>177</td>
<td>32</td>
<td>273</td>
<td>166</td>
<td>104</td>
<td>152</td>
<td>17</td>
<td>149</td>
<td>312</td>
<td>197</td>
<td>96</td>
<td>2</td>
<td>135</td>
<td>12</td>
<td>30</td>
</tr>
<tr class="odd">
<td>22</td>
<td>252</td>
<td>334</td>
<td>43</td>
<td>84</td>
<td>39</td>
<td>338</td>
<td>109</td>
<td>165</td>
<td>62</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>23</td>
<td>22</td>
<td>115</td>
<td>280</td>
<td>201</td>
<td>26</td>
<td>192</td>
<td>124</td>
<td>107</td>
<td rowspan="5">41</td>
<td>1</td>
<td>167</td>
<td>52</td>
<td>154</td>
<td>23</td>
<td>0</td>
<td>123</td>
<td>2</td>
<td>53</td>
</tr>
<tr class="odd">
<td>33</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>3</td>
<td>173</td>
<td>314</td>
<td>47</td>
<td>215</td>
<td>0</td>
<td>77</td>
<td>75</td>
<td>189</td>
</tr>
<tr class="even">
<td rowspan="7">12</td>
<td>0</td>
<td>160</td>
<td>77</td>
<td>229</td>
<td>142</td>
<td>225</td>
<td>123</td>
<td>6</td>
<td>186</td>
<td>9</td>
<td>139</td>
<td>139</td>
<td>124</td>
<td>60</td>
<td>0</td>
<td>25</td>
<td>142</td>
<td>215</td>
</tr>
<tr class="odd">
<td>1</td>
<td>42</td>
<td>186</td>
<td>235</td>
<td>175</td>
<td>162</td>
<td>217</td>
<td>20</td>
<td>215</td>
<td>18</td>
<td>151</td>
<td>288</td>
<td>207</td>
<td>167</td>
<td>183</td>
<td>272</td>
<td>128</td>
<td>24</td>
</tr>
<tr class="even">
<td>10</td>
<td>21</td>
<td>174</td>
<td>169</td>
<td>136</td>
<td>244</td>
<td>142</td>
<td>203</td>
<td>124</td>
<td>63</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>11</td>
<td>32</td>
<td>232</td>
<td>48</td>
<td>3</td>
<td>151</td>
<td>110</td>
<td>153</td>
<td>180</td>
<td rowspan="4">42</td>
<td>0</td>
<td>149</td>
<td>113</td>
<td>226</td>
<td>114</td>
<td>27</td>
<td>288</td>
<td>163</td>
<td>222</td>
</tr>
<tr class="even">
<td>13</td>
<td>234</td>
<td>50</td>
<td>105</td>
<td>28</td>
<td>238</td>
<td>176</td>
<td>104</td>
<td>98</td>
<td>4</td>
<td>157</td>
<td>14</td>
<td>65</td>
<td>91</td>
<td>0</td>
<td>83</td>
<td>10</td>
<td>170</td>
</tr>
<tr class="odd">
<td>18</td>
<td>7</td>
<td>74</td>
<td>52</td>
<td>182</td>
<td>243</td>
<td>76</td>
<td>207</td>
<td>80</td>
<td>24</td>
<td>137</td>
<td>218</td>
<td>126</td>
<td>78</td>
<td>35</td>
<td>17</td>
<td>162</td>
<td>71</td>
</tr>
<tr class="even">
<td>34</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>64</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td rowspan="6">13</td>
<td>0</td>
<td>177</td>
<td>313</td>
<td>39</td>
<td>81</td>
<td>231</td>
<td>311</td>
<td>52</td>
<td>220</td>
<td rowspan="5">43</td>
<td>1</td>
<td>151</td>
<td>113</td>
<td>228</td>
<td>206</td>
<td>52</td>
<td>210</td>
<td>1</td>
<td>22</td>
</tr>
<tr class="even">
<td>3</td>
<td>248</td>
<td>177</td>
<td>302</td>
<td>56</td>
<td>0</td>
<td>251</td>
<td>147</td>
<td>185</td>
<td>16</td>
<td>163</td>
<td>132</td>
<td>69</td>
<td>22</td>
<td>243</td>
<td>3</td>
<td>163</td>
<td>127</td>
</tr>
<tr class="odd">
<td>7</td>
<td>151</td>
<td>266</td>
<td>303</td>
<td>72</td>
<td>216</td>
<td>265</td>
<td>1</td>
<td>154</td>
<td>18</td>
<td>173</td>
<td>114</td>
<td>176</td>
<td>134</td>
<td>0</td>
<td>53</td>
<td>99</td>
<td>49</td>
</tr>
<tr class="even">
<td>20</td>
<td>185</td>
<td>115</td>
<td>160</td>
<td>217</td>
<td>47</td>
<td>94</td>
<td>16</td>
<td>178</td>
<td>25</td>
<td>139</td>
<td>168</td>
<td>102</td>
<td>161</td>
<td>270</td>
<td>167</td>
<td>98</td>
<td>125</td>
</tr>
<tr class="odd">
<td>23</td>
<td>62</td>
<td>370</td>
<td>37</td>
<td>78</td>
<td>36</td>
<td>81</td>
<td>46</td>
<td>150</td>
<td>65</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>35</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="5">44</td>
<td>0</td>
<td>139</td>
<td>80</td>
<td>234</td>
<td>84</td>
<td>18</td>
<td>79</td>
<td>4</td>
<td>191</td>
</tr>
<tr class="odd">
<td rowspan="7">14</td>
<td>0</td>
<td>206</td>
<td>142</td>
<td>78</td>
<td>14</td>
<td>0</td>
<td>22</td>
<td>1</td>
<td>124</td>
<td>7</td>
<td>157</td>
<td>78</td>
<td>227</td>
<td>4</td>
<td>0</td>
<td>244</td>
<td>6</td>
<td>211</td>
</tr>
<tr class="even">
<td>12</td>
<td>55</td>
<td>248</td>
<td>299</td>
<td>175</td>
<td>186</td>
<td>322</td>
<td>202</td>
<td>144</td>
<td>9</td>
<td>163</td>
<td>163</td>
<td>259</td>
<td>9</td>
<td>0</td>
<td>293</td>
<td>142</td>
<td>187</td>
</tr>
<tr class="odd">
<td>15</td>
<td>206</td>
<td>137</td>
<td>54</td>
<td>211</td>
<td>253</td>
<td>277</td>
<td>118</td>
<td>182</td>
<td>22</td>
<td>173</td>
<td>274</td>
<td>260</td>
<td>12</td>
<td>57</td>
<td>272</td>
<td>3</td>
<td>148</td>
</tr>
<tr class="even">
<td>16</td>
<td>127</td>
<td>89</td>
<td>61</td>
<td>191</td>
<td>16</td>
<td>156</td>
<td>130</td>
<td>95</td>
<td>66</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>17</td>
<td>16</td>
<td>347</td>
<td>179</td>
<td>51</td>
<td>0</td>
<td>66</td>
<td>1</td>
<td>72</td>
<td rowspan="4">45</td>
<td>1</td>
<td>149</td>
<td>135</td>
<td>101</td>
<td>184</td>
<td>168</td>
<td>82</td>
<td>181</td>
<td>177</td>
</tr>
<tr class="even">
<td>21</td>
<td>229</td>
<td>12</td>
<td>258</td>
<td>43</td>
<td>79</td>
<td>78</td>
<td>2</td>
<td>76</td>
<td>6</td>
<td>151</td>
<td>149</td>
<td>228</td>
<td>121</td>
<td>0</td>
<td>67</td>
<td>45</td>
<td>114</td>
</tr>
<tr class="odd">
<td>36</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>167</td>
<td>15</td>
<td>126</td>
<td>29</td>
<td>144</td>
<td>235</td>
<td>153</td>
<td>93</td>
</tr>
<tr class="even">
<td>15</td>
<td>0</td>
<td>40</td>
<td>241</td>
<td>229</td>
<td>90</td>
<td>170</td>
<td>176</td>
<td>173</td>
<td>39</td>
<td>67</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

Table 5.3.2-3: LDPC base graph 2 (![](media/image229.wmf)) and its
parity check matrices (![](media/image224.wmf))

<table style="width:100%;">
<colgroup>
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
</colgroup>
<thead>
<tr class="header">
<th colspan="2"><img src="media/image229.wmf" /></th>
<th colspan="8"><img src="media/image224.wmf" /></th>
<th colspan="2"><img src="media/image229.wmf" /></th>
<th colspan="8"><img src="media/image224.wmf" /></th>
</tr>
<tr class="odd">
<th rowspan="2"><p>Row</p>
<p>index</p>
<p><img src="media/image219.wmf" /></p></th>
<th rowspan="2"><p>Column</p>
<p>index</p>
<p><img src="media/image220.wmf" /></p></th>
<th colspan="8">Set index <img src="media/image197.wmf" /></th>
<th rowspan="2"><p>Row</p>
<p>index</p>
<p><img src="media/image219.wmf" /></p></th>
<th rowspan="2"><p>Column</p>
<p>index</p>
<p><img src="media/image220.wmf" /></p></th>
<th colspan="8">Set index <img src="media/image197.wmf" /></th>
</tr>
<tr class="header">
<th><strong>0</strong></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
<th><strong>0</strong></th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
<th><strong>7</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="8">0</td>
<td>0</td>
<td>9</td>
<td>174</td>
<td>0</td>
<td>72</td>
<td>3</td>
<td>156</td>
<td>143</td>
<td>145</td>
<td>16</td>
<td>26</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>117</td>
<td>97</td>
<td>0</td>
<td>110</td>
<td>26</td>
<td>143</td>
<td>19</td>
<td>131</td>
<td rowspan="5">17</td>
<td>1</td>
<td>254</td>
<td>158</td>
<td>0</td>
<td>48</td>
<td>120</td>
<td>134</td>
<td>57</td>
<td>196</td>
</tr>
<tr class="odd">
<td>2</td>
<td>204</td>
<td>166</td>
<td>0</td>
<td>23</td>
<td>53</td>
<td>14</td>
<td>176</td>
<td>71</td>
<td>5</td>
<td>124</td>
<td>23</td>
<td>24</td>
<td>132</td>
<td>43</td>
<td>23</td>
<td>201</td>
<td>173</td>
</tr>
<tr class="even">
<td>3</td>
<td>26</td>
<td>66</td>
<td>0</td>
<td>181</td>
<td>35</td>
<td>3</td>
<td>165</td>
<td>21</td>
<td>11</td>
<td>114</td>
<td>9</td>
<td>109</td>
<td>206</td>
<td>65</td>
<td>62</td>
<td>142</td>
<td>195</td>
</tr>
<tr class="odd">
<td>6</td>
<td>189</td>
<td>71</td>
<td>0</td>
<td>95</td>
<td>115</td>
<td>40</td>
<td>196</td>
<td>23</td>
<td>12</td>
<td>64</td>
<td>6</td>
<td>18</td>
<td>2</td>
<td>42</td>
<td>163</td>
<td>35</td>
<td>218</td>
</tr>
<tr class="even">
<td>9</td>
<td>205</td>
<td>172</td>
<td>0</td>
<td>8</td>
<td>127</td>
<td>123</td>
<td>13</td>
<td>112</td>
<td>27</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>10</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td rowspan="4">18</td>
<td>0</td>
<td>220</td>
<td>186</td>
<td>0</td>
<td>68</td>
<td>17</td>
<td>173</td>
<td>129</td>
<td>128</td>
</tr>
<tr class="even">
<td>11</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>6</td>
<td>194</td>
<td>6</td>
<td>18</td>
<td>16</td>
<td>106</td>
<td>31</td>
<td>203</td>
<td>211</td>
</tr>
<tr class="odd">
<td rowspan="10">1</td>
<td>0</td>
<td>167</td>
<td>27</td>
<td>137</td>
<td>53</td>
<td>19</td>
<td>17</td>
<td>18</td>
<td>142</td>
<td>7</td>
<td>50</td>
<td>46</td>
<td>86</td>
<td>156</td>
<td>142</td>
<td>22</td>
<td>140</td>
<td>210</td>
</tr>
<tr class="even">
<td>3</td>
<td>166</td>
<td>36</td>
<td>124</td>
<td>156</td>
<td>94</td>
<td>65</td>
<td>27</td>
<td>174</td>
<td>28</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>4</td>
<td>253</td>
<td>48</td>
<td>0</td>
<td>115</td>
<td>104</td>
<td>63</td>
<td>3</td>
<td>183</td>
<td rowspan="4">19</td>
<td>0</td>
<td>87</td>
<td>58</td>
<td>0</td>
<td>35</td>
<td>79</td>
<td>13</td>
<td>110</td>
<td>39</td>
</tr>
<tr class="even">
<td>5</td>
<td>125</td>
<td>92</td>
<td>0</td>
<td>156</td>
<td>66</td>
<td>1</td>
<td>102</td>
<td>27</td>
<td>1</td>
<td>20</td>
<td>42</td>
<td>158</td>
<td>138</td>
<td>28</td>
<td>135</td>
<td>124</td>
<td>84</td>
</tr>
<tr class="odd">
<td>6</td>
<td>226</td>
<td>31</td>
<td>88</td>
<td>115</td>
<td>84</td>
<td>55</td>
<td>185</td>
<td>96</td>
<td>10</td>
<td>185</td>
<td>156</td>
<td>154</td>
<td>86</td>
<td>41</td>
<td>145</td>
<td>52</td>
<td>88</td>
</tr>
<tr class="even">
<td>7</td>
<td>156</td>
<td>187</td>
<td>0</td>
<td>200</td>
<td>98</td>
<td>37</td>
<td>17</td>
<td>23</td>
<td>29</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>8</td>
<td>224</td>
<td>185</td>
<td>0</td>
<td>29</td>
<td>69</td>
<td>171</td>
<td>14</td>
<td>9</td>
<td rowspan="4">20</td>
<td>1</td>
<td>26</td>
<td>76</td>
<td>0</td>
<td>6</td>
<td>2</td>
<td>128</td>
<td>196</td>
<td>117</td>
</tr>
<tr class="even">
<td>9</td>
<td>252</td>
<td>3</td>
<td>55</td>
<td>31</td>
<td>50</td>
<td>133</td>
<td>180</td>
<td>167</td>
<td>4</td>
<td>105</td>
<td>61</td>
<td>148</td>
<td>20</td>
<td>103</td>
<td>52</td>
<td>35</td>
<td>227</td>
</tr>
<tr class="odd">
<td>11</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>11</td>
<td>29</td>
<td>153</td>
<td>104</td>
<td>141</td>
<td>78</td>
<td>173</td>
<td>114</td>
<td>6</td>
</tr>
<tr class="even">
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>30</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td rowspan="8">2</td>
<td>0</td>
<td>81</td>
<td>25</td>
<td>20</td>
<td>152</td>
<td>95</td>
<td>98</td>
<td>126</td>
<td>74</td>
<td rowspan="4">21</td>
<td>0</td>
<td>76</td>
<td>157</td>
<td>0</td>
<td>80</td>
<td>91</td>
<td>156</td>
<td>10</td>
<td>238</td>
</tr>
<tr class="even">
<td>1</td>
<td>114</td>
<td>114</td>
<td>94</td>
<td>131</td>
<td>106</td>
<td>168</td>
<td>163</td>
<td>31</td>
<td>8</td>
<td>42</td>
<td>175</td>
<td>17</td>
<td>43</td>
<td>75</td>
<td>166</td>
<td>122</td>
<td>13</td>
</tr>
<tr class="odd">
<td>3</td>
<td>44</td>
<td>117</td>
<td>99</td>
<td>46</td>
<td>92</td>
<td>107</td>
<td>47</td>
<td>3</td>
<td>13</td>
<td>210</td>
<td>67</td>
<td>33</td>
<td>81</td>
<td>81</td>
<td>40</td>
<td>23</td>
<td>11</td>
</tr>
<tr class="even">
<td>4</td>
<td>52</td>
<td>110</td>
<td>9</td>
<td>191</td>
<td>110</td>
<td>82</td>
<td>183</td>
<td>53</td>
<td>31</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>8</td>
<td>240</td>
<td>114</td>
<td>108</td>
<td>91</td>
<td>111</td>
<td>142</td>
<td>132</td>
<td>155</td>
<td rowspan="3">22</td>
<td>1</td>
<td>222</td>
<td>20</td>
<td>0</td>
<td>49</td>
<td>54</td>
<td>18</td>
<td>202</td>
<td>195</td>
</tr>
<tr class="even">
<td>10</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>63</td>
<td>52</td>
<td>4</td>
<td>1</td>
<td>132</td>
<td>163</td>
<td>126</td>
<td>44</td>
</tr>
<tr class="odd">
<td>12</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>32</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>13</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="4">23</td>
<td>0</td>
<td>23</td>
<td>106</td>
<td>0</td>
<td>156</td>
<td>68</td>
<td>110</td>
<td>52</td>
<td>5</td>
</tr>
<tr class="odd">
<td rowspan="10">3</td>
<td>1</td>
<td>8</td>
<td>136</td>
<td>38</td>
<td>185</td>
<td>120</td>
<td>53</td>
<td>36</td>
<td>239</td>
<td>3</td>
<td>235</td>
<td>86</td>
<td>75</td>
<td>54</td>
<td>115</td>
<td>132</td>
<td>170</td>
<td>94</td>
</tr>
<tr class="even">
<td>2</td>
<td>58</td>
<td>175</td>
<td>15</td>
<td>6</td>
<td>121</td>
<td>174</td>
<td>48</td>
<td>171</td>
<td>5</td>
<td>238</td>
<td>95</td>
<td>158</td>
<td>134</td>
<td>56</td>
<td>150</td>
<td>13</td>
<td>111</td>
</tr>
<tr class="odd">
<td>4</td>
<td>158</td>
<td>113</td>
<td>102</td>
<td>36</td>
<td>22</td>
<td>174</td>
<td>18</td>
<td>95</td>
<td>33</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>5</td>
<td>104</td>
<td>72</td>
<td>146</td>
<td>124</td>
<td>4</td>
<td>127</td>
<td>111</td>
<td>110</td>
<td rowspan="4">24</td>
<td>1</td>
<td>46</td>
<td>182</td>
<td>0</td>
<td>153</td>
<td>30</td>
<td>113</td>
<td>113</td>
<td>81</td>
</tr>
<tr class="odd">
<td>6</td>
<td>209</td>
<td>123</td>
<td>12</td>
<td>124</td>
<td>73</td>
<td>17</td>
<td>203</td>
<td>159</td>
<td>2</td>
<td>139</td>
<td>153</td>
<td>69</td>
<td>88</td>
<td>42</td>
<td>108</td>
<td>161</td>
<td>19</td>
</tr>
<tr class="even">
<td>7</td>
<td>54</td>
<td>118</td>
<td>57</td>
<td>110</td>
<td>49</td>
<td>89</td>
<td>3</td>
<td>199</td>
<td>9</td>
<td>8</td>
<td>64</td>
<td>87</td>
<td>63</td>
<td>101</td>
<td>61</td>
<td>88</td>
<td>130</td>
</tr>
<tr class="odd">
<td>8</td>
<td>18</td>
<td>28</td>
<td>53</td>
<td>156</td>
<td>128</td>
<td>17</td>
<td>191</td>
<td>43</td>
<td>34</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>9</td>
<td>128</td>
<td>186</td>
<td>46</td>
<td>133</td>
<td>79</td>
<td>105</td>
<td>160</td>
<td>75</td>
<td rowspan="3">25</td>
<td>0</td>
<td>228</td>
<td>45</td>
<td>0</td>
<td>211</td>
<td>128</td>
<td>72</td>
<td>197</td>
<td>66</td>
</tr>
<tr class="odd">
<td>10</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>5</td>
<td>156</td>
<td>21</td>
<td>65</td>
<td>94</td>
<td>63</td>
<td>136</td>
<td>194</td>
<td>95</td>
</tr>
<tr class="even">
<td>13</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>35</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td rowspan="4">4</td>
<td>0</td>
<td>179</td>
<td>72</td>
<td>0</td>
<td>200</td>
<td>42</td>
<td>86</td>
<td>43</td>
<td>29</td>
<td rowspan="5">26</td>
<td>2</td>
<td>29</td>
<td>67</td>
<td>0</td>
<td>90</td>
<td>142</td>
<td>36</td>
<td>164</td>
<td>146</td>
</tr>
<tr class="even">
<td>1</td>
<td>214</td>
<td>74</td>
<td>136</td>
<td>16</td>
<td>24</td>
<td>67</td>
<td>27</td>
<td>140</td>
<td>7</td>
<td>143</td>
<td>137</td>
<td>100</td>
<td>6</td>
<td>28</td>
<td>38</td>
<td>172</td>
<td>66</td>
</tr>
<tr class="odd">
<td>11</td>
<td>71</td>
<td>29</td>
<td>157</td>
<td>101</td>
<td>51</td>
<td>83</td>
<td>117</td>
<td>180</td>
<td>12</td>
<td>160</td>
<td>55</td>
<td>13</td>
<td>221</td>
<td>100</td>
<td>53</td>
<td>49</td>
<td>190</td>
</tr>
<tr class="even">
<td>14</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>122</td>
<td>85</td>
<td>7</td>
<td>6</td>
<td>133</td>
<td>145</td>
<td>161</td>
<td>86</td>
</tr>
<tr class="odd">
<td rowspan="6">5</td>
<td>0</td>
<td>231</td>
<td>10</td>
<td>0</td>
<td>185</td>
<td>40</td>
<td>79</td>
<td>136</td>
<td>121</td>
<td>36</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>41</td>
<td>44</td>
<td>131</td>
<td>138</td>
<td>140</td>
<td>84</td>
<td>49</td>
<td>41</td>
<td rowspan="3">27</td>
<td>0</td>
<td>8</td>
<td>103</td>
<td>0</td>
<td>27</td>
<td>13</td>
<td>42</td>
<td>168</td>
<td>64</td>
</tr>
<tr class="odd">
<td>5</td>
<td>194</td>
<td>121</td>
<td>142</td>
<td>170</td>
<td>84</td>
<td>35</td>
<td>36</td>
<td>169</td>
<td>6</td>
<td>151</td>
<td>50</td>
<td>32</td>
<td>118</td>
<td>10</td>
<td>104</td>
<td>193</td>
<td>181</td>
</tr>
<tr class="even">
<td>7</td>
<td>159</td>
<td>80</td>
<td>141</td>
<td>219</td>
<td>137</td>
<td>103</td>
<td>132</td>
<td>88</td>
<td>37</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>11</td>
<td>103</td>
<td>48</td>
<td>64</td>
<td>193</td>
<td>71</td>
<td>60</td>
<td>62</td>
<td>207</td>
<td rowspan="4">28</td>
<td>1</td>
<td>98</td>
<td>70</td>
<td>0</td>
<td>216</td>
<td>106</td>
<td>64</td>
<td>14</td>
<td>7</td>
</tr>
<tr class="even">
<td>15</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>101</td>
<td>111</td>
<td>126</td>
<td>212</td>
<td>77</td>
<td>24</td>
<td>186</td>
<td>144</td>
</tr>
<tr class="odd">
<td rowspan="6">6</td>
<td>0</td>
<td>155</td>
<td>129</td>
<td>0</td>
<td>123</td>
<td>109</td>
<td>47</td>
<td>7</td>
<td>137</td>
<td>5</td>
<td>135</td>
<td>168</td>
<td>110</td>
<td>193</td>
<td>43</td>
<td>149</td>
<td>46</td>
<td>16</td>
</tr>
<tr class="even">
<td>5</td>
<td>228</td>
<td>92</td>
<td>124</td>
<td>55</td>
<td>87</td>
<td>154</td>
<td>34</td>
<td>72</td>
<td>38</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>7</td>
<td>45</td>
<td>100</td>
<td>99</td>
<td>31</td>
<td>107</td>
<td>10</td>
<td>198</td>
<td>172</td>
<td rowspan="3">29</td>
<td>0</td>
<td>18</td>
<td>110</td>
<td>0</td>
<td>108</td>
<td>133</td>
<td>139</td>
<td>50</td>
<td>25</td>
</tr>
<tr class="even">
<td>9</td>
<td>28</td>
<td>49</td>
<td>45</td>
<td>222</td>
<td>133</td>
<td>155</td>
<td>168</td>
<td>124</td>
<td>4</td>
<td>28</td>
<td>17</td>
<td>154</td>
<td>61</td>
<td>25</td>
<td>161</td>
<td>27</td>
<td>57</td>
</tr>
<tr class="odd">
<td>11</td>
<td>158</td>
<td>184</td>
<td>148</td>
<td>209</td>
<td>139</td>
<td>29</td>
<td>12</td>
<td>56</td>
<td>39</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>16</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="5">30</td>
<td>2</td>
<td>71</td>
<td>120</td>
<td>0</td>
<td>106</td>
<td>87</td>
<td>84</td>
<td>70</td>
<td>37</td>
</tr>
<tr class="odd">
<td rowspan="6">7</td>
<td>1</td>
<td>129</td>
<td>80</td>
<td>0</td>
<td>103</td>
<td>97</td>
<td>48</td>
<td>163</td>
<td>86</td>
<td>5</td>
<td>240</td>
<td>154</td>
<td>35</td>
<td>44</td>
<td>56</td>
<td>173</td>
<td>17</td>
<td>139</td>
</tr>
<tr class="even">
<td>5</td>
<td>147</td>
<td>186</td>
<td>45</td>
<td>13</td>
<td>135</td>
<td>125</td>
<td>78</td>
<td>186</td>
<td>7</td>
<td>9</td>
<td>52</td>
<td>51</td>
<td>185</td>
<td>104</td>
<td>93</td>
<td>50</td>
<td>221</td>
</tr>
<tr class="odd">
<td>7</td>
<td>140</td>
<td>16</td>
<td>148</td>
<td>105</td>
<td>35</td>
<td>24</td>
<td>143</td>
<td>87</td>
<td>9</td>
<td>84</td>
<td>56</td>
<td>134</td>
<td>176</td>
<td>70</td>
<td>29</td>
<td>6</td>
<td>17</td>
</tr>
<tr class="even">
<td>11</td>
<td>3</td>
<td>102</td>
<td>96</td>
<td>150</td>
<td>108</td>
<td>47</td>
<td>107</td>
<td>172</td>
<td>40</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>13</td>
<td>116</td>
<td>143</td>
<td>78</td>
<td>181</td>
<td>65</td>
<td>55</td>
<td>58</td>
<td>154</td>
<td rowspan="3">31</td>
<td>1</td>
<td>106</td>
<td>3</td>
<td>0</td>
<td>147</td>
<td>80</td>
<td>117</td>
<td>115</td>
<td>201</td>
</tr>
<tr class="even">
<td>17</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>1</td>
<td>170</td>
<td>20</td>
<td>182</td>
<td>139</td>
<td>148</td>
<td>189</td>
<td>46</td>
</tr>
<tr class="odd">
<td rowspan="4">8</td>
<td>0</td>
<td>142</td>
<td>118</td>
<td>0</td>
<td>147</td>
<td>70</td>
<td>53</td>
<td>101</td>
<td>176</td>
<td>41</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>94</td>
<td>70</td>
<td>65</td>
<td>43</td>
<td>69</td>
<td>31</td>
<td>177</td>
<td>169</td>
<td rowspan="4">32</td>
<td>0</td>
<td>242</td>
<td>84</td>
<td>0</td>
<td>108</td>
<td>32</td>
<td>116</td>
<td>110</td>
<td>179</td>
</tr>
<tr class="odd">
<td>12</td>
<td>230</td>
<td>152</td>
<td>87</td>
<td>152</td>
<td>88</td>
<td>161</td>
<td>22</td>
<td>225</td>
<td>5</td>
<td>44</td>
<td>8</td>
<td>20</td>
<td>21</td>
<td>89</td>
<td>73</td>
<td>0</td>
<td>14</td>
</tr>
<tr class="even">
<td>18</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>12</td>
<td>166</td>
<td>17</td>
<td>122</td>
<td>110</td>
<td>71</td>
<td>142</td>
<td>163</td>
<td>116</td>
</tr>
<tr class="odd">
<td rowspan="5">9</td>
<td>1</td>
<td>203</td>
<td>28</td>
<td>0</td>
<td>2</td>
<td>97</td>
<td>104</td>
<td>186</td>
<td>167</td>
<td>42</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>8</td>
<td>205</td>
<td>132</td>
<td>97</td>
<td>30</td>
<td>40</td>
<td>142</td>
<td>27</td>
<td>238</td>
<td rowspan="4">33</td>
<td>2</td>
<td>132</td>
<td>165</td>
<td>0</td>
<td>71</td>
<td>135</td>
<td>105</td>
<td>163</td>
<td>46</td>
</tr>
<tr class="odd">
<td>10</td>
<td>61</td>
<td>185</td>
<td>51</td>
<td>184</td>
<td>24</td>
<td>99</td>
<td>205</td>
<td>48</td>
<td>7</td>
<td>164</td>
<td>179</td>
<td>88</td>
<td>12</td>
<td>6</td>
<td>137</td>
<td>173</td>
<td>2</td>
</tr>
<tr class="even">
<td>11</td>
<td>247</td>
<td>178</td>
<td>85</td>
<td>83</td>
<td>49</td>
<td>64</td>
<td>81</td>
<td>68</td>
<td>10</td>
<td>235</td>
<td>124</td>
<td>13</td>
<td>109</td>
<td>2</td>
<td>29</td>
<td>179</td>
<td>106</td>
</tr>
<tr class="odd">
<td>19</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>43</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td rowspan="5">10</td>
<td>0</td>
<td>11</td>
<td>59</td>
<td>0</td>
<td>174</td>
<td>46</td>
<td>111</td>
<td>125</td>
<td>38</td>
<td rowspan="4">34</td>
<td>0</td>
<td>147</td>
<td>173</td>
<td>0</td>
<td>29</td>
<td>37</td>
<td>11</td>
<td>197</td>
<td>184</td>
</tr>
<tr class="odd">
<td>1</td>
<td>185</td>
<td>104</td>
<td>17</td>
<td>150</td>
<td>41</td>
<td>25</td>
<td>60</td>
<td>217</td>
<td>12</td>
<td>85</td>
<td>177</td>
<td>19</td>
<td>201</td>
<td>25</td>
<td>41</td>
<td>191</td>
<td>135</td>
</tr>
<tr class="even">
<td>6</td>
<td>0</td>
<td>22</td>
<td>156</td>
<td>8</td>
<td>101</td>
<td>174</td>
<td>177</td>
<td>208</td>
<td>13</td>
<td>36</td>
<td>12</td>
<td>78</td>
<td>69</td>
<td>114</td>
<td>162</td>
<td>193</td>
<td>141</td>
</tr>
<tr class="odd">
<td>7</td>
<td>117</td>
<td>52</td>
<td>20</td>
<td>56</td>
<td>96</td>
<td>23</td>
<td>51</td>
<td>232</td>
<td>44</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>20</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="4">35</td>
<td>1</td>
<td>57</td>
<td>77</td>
<td>0</td>
<td>91</td>
<td>60</td>
<td>126</td>
<td>157</td>
<td>85</td>
</tr>
<tr class="odd">
<td rowspan="5">11</td>
<td>0</td>
<td>11</td>
<td>32</td>
<td>0</td>
<td>99</td>
<td>28</td>
<td>91</td>
<td>39</td>
<td>178</td>
<td>5</td>
<td>40</td>
<td>184</td>
<td>157</td>
<td>165</td>
<td>137</td>
<td>152</td>
<td>167</td>
<td>225</td>
</tr>
<tr class="even">
<td>7</td>
<td>236</td>
<td>92</td>
<td>7</td>
<td>138</td>
<td>30</td>
<td>175</td>
<td>29</td>
<td>214</td>
<td>11</td>
<td>63</td>
<td>18</td>
<td>6</td>
<td>55</td>
<td>93</td>
<td>172</td>
<td>181</td>
<td>175</td>
</tr>
<tr class="odd">
<td>9</td>
<td>210</td>
<td>174</td>
<td>4</td>
<td>110</td>
<td>116</td>
<td>24</td>
<td>35</td>
<td>168</td>
<td>45</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>13</td>
<td>56</td>
<td>154</td>
<td>2</td>
<td>99</td>
<td>64</td>
<td>141</td>
<td>8</td>
<td>51</td>
<td rowspan="4">36</td>
<td>0</td>
<td>140</td>
<td>25</td>
<td>0</td>
<td>1</td>
<td>121</td>
<td>73</td>
<td>197</td>
<td>178</td>
</tr>
<tr class="odd">
<td>21</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>38</td>
<td>151</td>
<td>63</td>
<td>175</td>
<td>129</td>
<td>154</td>
<td>167</td>
<td>112</td>
</tr>
<tr class="even">
<td rowspan="4">12</td>
<td>1</td>
<td>63</td>
<td>39</td>
<td>0</td>
<td>46</td>
<td>33</td>
<td>122</td>
<td>18</td>
<td>124</td>
<td>7</td>
<td>154</td>
<td>170</td>
<td>82</td>
<td>83</td>
<td>26</td>
<td>129</td>
<td>179</td>
<td>106</td>
</tr>
<tr class="odd">
<td>3</td>
<td>111</td>
<td>93</td>
<td>113</td>
<td>217</td>
<td>122</td>
<td>11</td>
<td>155</td>
<td>122</td>
<td>46</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>11</td>
<td>14</td>
<td>11</td>
<td>48</td>
<td>109</td>
<td>131</td>
<td>4</td>
<td>49</td>
<td>72</td>
<td rowspan="3">37</td>
<td>10</td>
<td>219</td>
<td>37</td>
<td>0</td>
<td>40</td>
<td>97</td>
<td>167</td>
<td>181</td>
<td>154</td>
</tr>
<tr class="odd">
<td>22</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>151</td>
<td>31</td>
<td>144</td>
<td>12</td>
<td>56</td>
<td>38</td>
<td>193</td>
<td>114</td>
</tr>
<tr class="even">
<td rowspan="5">13</td>
<td>0</td>
<td>83</td>
<td>49</td>
<td>0</td>
<td>37</td>
<td>76</td>
<td>29</td>
<td>32</td>
<td>48</td>
<td>47</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>2</td>
<td>125</td>
<td>112</td>
<td>113</td>
<td>37</td>
<td>91</td>
<td>53</td>
<td>57</td>
<td rowspan="4">38</td>
<td>1</td>
<td>31</td>
<td>84</td>
<td>0</td>
<td>37</td>
<td>1</td>
<td>112</td>
<td>157</td>
<td>42</td>
</tr>
<tr class="even">
<td>8</td>
<td>38</td>
<td>35</td>
<td>102</td>
<td>143</td>
<td>62</td>
<td>27</td>
<td>95</td>
<td>167</td>
<td>5</td>
<td>66</td>
<td>151</td>
<td>93</td>
<td>97</td>
<td>70</td>
<td>7</td>
<td>173</td>
<td>41</td>
</tr>
<tr class="odd">
<td>13</td>
<td>222</td>
<td>166</td>
<td>26</td>
<td>140</td>
<td>47</td>
<td>127</td>
<td>186</td>
<td>219</td>
<td>11</td>
<td>38</td>
<td>190</td>
<td>19</td>
<td>46</td>
<td>1</td>
<td>19</td>
<td>191</td>
<td>105</td>
</tr>
<tr class="even">
<td>23</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>48</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td rowspan="5">14</td>
<td>1</td>
<td>115</td>
<td>19</td>
<td>0</td>
<td>36</td>
<td>143</td>
<td>11</td>
<td>91</td>
<td>82</td>
<td rowspan="4">39</td>
<td>0</td>
<td>239</td>
<td>93</td>
<td>0</td>
<td>106</td>
<td>119</td>
<td>109</td>
<td>181</td>
<td>167</td>
</tr>
<tr class="even">
<td>6</td>
<td>145</td>
<td>118</td>
<td>138</td>
<td>95</td>
<td>51</td>
<td>145</td>
<td>20</td>
<td>232</td>
<td>7</td>
<td>172</td>
<td>132</td>
<td>24</td>
<td>181</td>
<td>32</td>
<td>6</td>
<td>157</td>
<td>45</td>
</tr>
<tr class="odd">
<td>11</td>
<td>3</td>
<td>21</td>
<td>57</td>
<td>40</td>
<td>130</td>
<td>8</td>
<td>52</td>
<td>204</td>
<td>12</td>
<td>34</td>
<td>57</td>
<td>138</td>
<td>154</td>
<td>142</td>
<td>105</td>
<td>173</td>
<td>189</td>
</tr>
<tr class="even">
<td>13</td>
<td>232</td>
<td>163</td>
<td>27</td>
<td>116</td>
<td>97</td>
<td>166</td>
<td>109</td>
<td>162</td>
<td>49</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>24</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="4">40</td>
<td>2</td>
<td>0</td>
<td>103</td>
<td>0</td>
<td>98</td>
<td>6</td>
<td>160</td>
<td>193</td>
<td>78</td>
</tr>
<tr class="even">
<td rowspan="4">15</td>
<td>0</td>
<td>51</td>
<td>68</td>
<td>0</td>
<td>116</td>
<td>139</td>
<td>137</td>
<td>174</td>
<td>38</td>
<td>10</td>
<td>75</td>
<td>107</td>
<td>36</td>
<td>35</td>
<td>73</td>
<td>156</td>
<td>163</td>
<td>67</td>
</tr>
<tr class="odd">
<td>10</td>
<td>175</td>
<td>63</td>
<td>73</td>
<td>200</td>
<td>96</td>
<td>103</td>
<td>108</td>
<td>217</td>
<td>13</td>
<td>120</td>
<td>163</td>
<td>143</td>
<td>36</td>
<td>102</td>
<td>82</td>
<td>179</td>
<td>180</td>
</tr>
<tr class="even">
<td>11</td>
<td>213</td>
<td>81</td>
<td>99</td>
<td>110</td>
<td>128</td>
<td>40</td>
<td>102</td>
<td>157</td>
<td>50</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>25</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td rowspan="4">41</td>
<td>1</td>
<td>129</td>
<td>147</td>
<td>0</td>
<td>120</td>
<td>48</td>
<td>132</td>
<td>191</td>
<td>53</td>
</tr>
<tr class="even">
<td rowspan="4">16</td>
<td>1</td>
<td>203</td>
<td>87</td>
<td>0</td>
<td>75</td>
<td>48</td>
<td>78</td>
<td>125</td>
<td>170</td>
<td>5</td>
<td>229</td>
<td>7</td>
<td>2</td>
<td>101</td>
<td>47</td>
<td>6</td>
<td>197</td>
<td>215</td>
</tr>
<tr class="odd">
<td>9</td>
<td>142</td>
<td>177</td>
<td>79</td>
<td>158</td>
<td>9</td>
<td>158</td>
<td>31</td>
<td>23</td>
<td>11</td>
<td>118</td>
<td>60</td>
<td>55</td>
<td>81</td>
<td>19</td>
<td>8</td>
<td>167</td>
<td>230</td>
</tr>
<tr class="even">
<td>11</td>
<td>8</td>
<td>135</td>
<td>111</td>
<td>134</td>
<td>28</td>
<td>17</td>
<td>54</td>
<td>175</td>
<td>51</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>12</td>
<td>242</td>
<td>64</td>
<td>143</td>
<td>97</td>
<td>8</td>
<td>165</td>
<td>176</td>
<td>202</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

### 5.3.3 Channel coding of small block lengths

The bit sequence input for a given code block to channel coding is
denoted by ![](media/image95.wmf), where ![](media/image96.wmf) is the
number of bits to encode. After encoding the bits are denoted by
![](media/image97.wmf).

#### 5.3.3.1 Encoding of 1-bit information

For ![](media/image230.wmf), the code block is encoded according to
Table 5.3.3.1-1, where ![](media/image231.wmf) and
![](media/image232.wmf) is the modulation order for the code block.

Table 5.3.3.1-1: Encoding of 1-bit information

  ------------------------- ---------------------------------------------
  ![](media/image233.wmf)   Encoded bits ![](media/image97.wmf)

  1                         ![](media/image234.wmf)

  2                         ![](media/image235.wmf)

  4                         ![](media/image236.wmf)

  6                         ![](media/image237.wmf)

  8                         ![](media/image238.wmf)
  ------------------------- ---------------------------------------------

The \"x\" and \"y\" in Table 5.3.3.1-1 are placeholders for Clauses
6.3.1.1, 6.3.2.5.1, 6.3.2.6.1 of \[4, TS 38.211\] to scramble the
information bits in a way that maximizes the Euclidean distance of the
modulation symbols carrying the information bits.

#### 5.3.3.2 Encoding of 2-bit information

For ![](media/image239.wmf), the code block is encoded according to
Table 5.3.3.2-1, where ![](media/image240.wmf), ![](media/image241.wmf),
and ![](media/image232.wmf) is the modulation order for the code block.

Table 5.3.3.2-1: Encoding of 2-bit information

  ------------------------- ------------------------------------------------------
  ![](media/image233.wmf)   Encoded bits ![](media/image97.wmf)

  **1**                     ![](media/image242.wmf)

  2                         ![](media/image243.wmf)

  4                         ![](media/image244.wmf)

  6                         ![](media/image245.wmf)

  8                         ![](media/image246.wmf)
  ------------------------- ------------------------------------------------------

The \"x\" in Table 5.3.3.2-1 are placeholders for Clause 6.3.1.1 of \[4,
TS 38.211\] to scramble the information bits in a way that maximizes the
Euclidean distance of the modulation symbols carrying the information
bits.

#### 5.3.3.3 Encoding of other small block lengths

For ![](media/image247.wmf), the code block is encoded by
![](media/image248.wmf), where ![](media/image249.wmf),
![](media/image250.wmf), and ![](media/image251.wmf) represents the
basis sequences as defined in Table 5.3.3.3-1.

Table 5.3.3.3-1: Basis sequences for (32, ![](media/image96.wmf)) code

  ---- -------- -------- -------- -------- -------- -------- -------- -------- -------- -------- ---------
  i    M~i,0~   M~i,1~   M~i,2~   M~i,3~   M~i,4~   M~i,5~   M~i,6~   M~i,7~   M~i,8~   M~i,9~   M~i,10~

  0    1        1        0        0        0        0        0        0        0        0        1

  1    1        1        1        0        0        0        0        0        0        1        1

  2    1        0        0        1        0        0        1        0        1        1        1

  3    1        0        1        1        0        0        0        0        1        0        1

  4    1        1        1        1        0        0        0        1        0        0        1

  5    1        1        0        0        1        0        1        1        1        0        1

  6    1        0        1        0        1        0        1        0        1        1        1

  7    1        0        0        1        1        0        0        1        1        0        1

  8    1        1        0        1        1        0        0        1        0        1        1

  9    1        0        1        1        1        0        1        0        0        1        1

  10   1        0        1        0        0        1        1        1        0        1        1

  11   1        1        1        0        0        1        1        0        1        0        1

  12   1        0        0        1        0        1        0        1        1        1        1

  13   1        1        0        1        0        1        0        1        0        1        1

  14   1        0        0        0        1        1        0        1        0        0        1

  15   1        1        0        0        1        1        1        1        0        1        1

  16   1        1        1        0        1        1        1        0        0        1        0

  17   1        0        0        1        1        1        0        0        1        0        0

  18   1        1        0        1        1        1        1        1        0        0        0

  19   1        0        0        0        0        1        1        0        0        0        0

  20   1        0        1        0        0        0        1        0        0        0        1

  21   1        1        0        1        0        0        0        0        0        1        1

  22   1        0        0        0        1        0        0        1        1        0        1

  23   1        1        1        0        1        0        0        0        1        1        1

  24   1        1        1        1        1        0        1        1        1        1        0

  25   1        1        0        0        0        1        1        1        0        0        1

  26   1        0        1        1        0        1        0        0        1        1        0

  27   1        1        1        1        0        1        0        1        1        1        0

  28   1        0        1        0        1        1        1        0        1        0        0

  29   1        0        1        1        1        1        1        1        1        0        0

  30   1        1        1        1        1        1        1        1        1        1        1

  31   1        0        0        0        0        0        0        0        0        0        0
  ---- -------- -------- -------- -------- -------- -------- -------- -------- -------- -------- ---------

## 5.4 Rate matching

### 5.4.1 Rate matching for Polar code

The rate matching for Polar code is defined per coded block and consists
of sub-block interleaving, bit collection, and bit interleaving. The
input bit sequence to rate matching is ![](media/image97.wmf). The
output bit sequence after rate matching is denoted as
![](media/image252.wmf).

#### 5.4.1.1 Sub-block interleaving

The bits input to the sub-block interleaver are the coded bits
![](media/image97.wmf). The coded bits ![](media/image97.wmf) are
divided into 32 sub-blocks. The bits output from the sub-block
interleaver are denoted as ![](media/image253.wmf), generated as
follows:

for ![](media/image254.wmf) to ![](media/image255.wmf)

![](media/image256.wmf);

![](media/image257.wmf);

![](media/image258.wmf);

end for

where the sub-block interleaver pattern ![](media/image259.wmf) is given
by Table 5.4.1.1-1.

Table 5.4.1.1-1: Sub-block interleaver pattern ![](media/image260.wmf)

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)   ![](media/image261.wmf)   ![](media/image262.wmf)
  ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- -------------------------
  0                         0                         4                         3                         8                         8                         12                        10                        16                        12                        20                        14                        24                        24                        28                        27

  1                         1                         5                         5                         9                         16                        13                        18                        17                        20                        21                        22                        25                        25                        29                        29

  2                         2                         6                         6                         10                        9                         14                        11                        18                        13                        22                        15                        26                        26                        30                        30

  3                         4                         7                         7                         11                        17                        15                        19                        19                        21                        23                        23                        27                        28                        31                        31
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

The sets of bit indices ![](media/image141.wmf) and
![](media/image142.wmf) are determined as follows, where
![](media/image263.wmf), ![](media/image264.wmf), and
![](media/image265.wmf) are defined in Clause 5.3.1

![](media/image266.wmf)

if ![](media/image267.wmf)

if ![](media/image268.wmf) \-- puncturing

for ![](media/image269.wmf) to ![](media/image270.wmf)

![](media/image271.wmf);

end for

if ![](media/image272.wmf)

![](media/image273.wmf);

else

![](media/image274.wmf);

end if

else \-- shortening

for ![](media/image275.wmf) to ![](media/image276.wmf)

![](media/image277.wmf);

end for

end if

end if

![](media/image278.wmf);

![](media/image279.wmf) comprises ![](media/image280.wmf) most reliable
bit indices in ![](media/image281.wmf);

![](media/image282.wmf);

#### 5.4.1.2 Bit selection

The bit sequence after the sub-block interleaver ![](media/image253.wmf)
from Clause 5.4.1.1 is written into a circular buffer of length
![](media/image283.wmf).

Denoting by ![](media/image284.wmf) the rate matching output sequence
length, the bit selection output bit sequence ![](media/image285.wmf),
![](media/image286.wmf), is generated as follows:

if ![](media/image287.wmf) \-- repetition

for ![](media/image288.wmf) to ![](media/image289.wmf)

![](media/image290.wmf);

end for

else

if ![](media/image291.wmf) \-- puncturing

for ![](media/image288.wmf) to ![](media/image289.wmf)

![](media/image292.wmf);

end for

else \-- shortening

for ![](media/image288.wmf) to ![](media/image289.wmf)

![](media/image293.wmf);

end for

end if

end if

#### 5.4.1.3 Interleaving of coded bits

The bit sequence ![](media/image294.wmf) is interleaved into bit
sequence ![](media/image295.wmf), as follows:

If ![](media/image296.wmf)

Denote ![](media/image297.wmf) as the smallest integer such that
![](media/image298.wmf);

![](media/image299.wmf);

for ![](media/image300.wmf) to ![](media/image301.wmf)

for ![](media/image302.wmf) to ![](media/image303.wmf)

if ![](media/image304.wmf)

![](media/image305.wmf);

else

![](media/image306.wmf);

end if

![](media/image307.wmf);

end for

end for

![](media/image299.wmf);

for ![](media/image308.wmf) to ![](media/image301.wmf)

for ![](media/image309.wmf) to ![](media/image310.wmf)

if ![](media/image311.wmf)

![](media/image312.wmf);

![](media/image307.wmf)

end if

end for

end for

else

for ![](media/image309.wmf) to ![](media/image313.wmf)

![](media/image314.wmf);

end for

end if

The value of ![](media/image315.wmf) is no larger than 8192.

### 5.4.2 Rate matching for LDPC code

The rate matching for LDPC code is defined per coded block and consists
of bit selection and bit interleaving. The input bit sequence to rate
matching is ![](media/image97.wmf). The output bit sequence after rate
matching is denoted as ![](media/image252.wmf).

#### 5.4.2.1 Bit selection

The bit sequence after encoding ![](media/image97.wmf) from Clause 5.3.2
is written into a circular buffer of length ![](media/image316.wmf) for
the ![](media/image317.wmf)-th coded block, where
![](media/image283.wmf) is defined in Clause 5.3.2.

For the ![](media/image317.wmf)-th code block, let
![](media/image318.wmf) if ![](media/image319.wmf) and
![](media/image320.wmf) otherwise, where![](media/image321.wmf),
![](media/image322.wmf), ![](media/image323.wmf) is determined according
to Clause 6.1.4.2 in \[6, TS 38.214\] for UL-SCH and Clause 5.1.3.2 in
\[6, TS 38.214\] for DL-SCH/PCH, assuming the following:

For one TB for DL-SCH with PDSCH scheduled by DCI format 4_0/4_1/4_2:

\- if the PDSCH is scheduled by DCI format 4_1/4_2:

\- maximum number of layers is given by X, where:

\- if the higher layer parameter *maxMIMO-Layers* of
*pdsch-ConfigMulticast* is configured*,* X is given by that parameter;

\- otherwise, X equals to 1;

\- if the higher layer parameter *mcs-Table* given by a
*pdsch-ConfigMulticast* or by *pdsch-ConfigMTCH* for at least one common
frequency resource (CFR) is set to \'qam256\', maximum modulation order
$Q_{m} = 8$ is assumed for DL-SCH; otherwise a maximum modulation order
$Q_{m} = 6$ is assumed for DL-SCH;

\- if the PDSCH is scheduled by DCI format 4_0:

\- maximum number of layers is 1;

\- if the higher layer parameter *mcs-Table* given by a
*pdsch-ConfigMCCH* is set to \'qam256\', maximum modulation order
$Q_{m} = 8$ is assumed for DL-SCH; otherwise a maximum modulation order
$Q_{m} = 6$ is assumed for DL-SCH;

\- if the higher layer parameter *mcs-Table* given by a
*pdsch-ConfigMTCH* is set to \'qam256\', maximum modulation order
$Q_{m} = 8$ is assumed for DL-SCH; otherwise a maximum modulation order
$Q_{m} = 6$ is assumed for DL-SCH;

\- $n_{PRB} = n_{PRB,LBRM}$ is given by Table 5.4.2.1-1, where the value
of $n_{PRB,LBRM}$ for DL-SCH is determined according to the size of the
associated CFR if configured to the UE;

\- maximum coding rate of 948/1024;

\- $N_{RE} = 156 \bullet n_{PRB}$;

\- $C$ is the number of code blocks of the transport block determined
according to Clause 5.2.2.

For one TB for UL-SCH, or for one TB for DL-SCH/PCH except for DL-SCH
with PDSCH scheduled by DCI format 4_0/4_1/4_2:

\- maximum number of layers for one TB for UL-SCH is given by the
minimum of X and 4, where:

\- if the higher layer parameter *maxMIMO-Layers* of
*PUSCH-ServingCellConfig* of the serving cell is configured, X is given
by that parameter;

\- elseif the higher layer parameter *maxRank* of *pusch-Config* of the
serving cell is configured, X is given by the maximum value of *maxRank*
across all BWPs of the serving cell;

\- otherwise, X is given by the maximum number of layers for PUSCH
supported by the UE for the serving cell;

\- maximum number of layers for one TB for DL-SCH/PCH is given by the
minimum of X and 4, where:

\- if the higher layer parameter *maxMIMO-Layers* of
*PDSCH-ServingCellConfig* of the serving cell is configured, X is given
by that parameter;

\- otherwise, X is given by the maximum number of layers for PDSCH
supported by the UE for the serving cell;

\- if the higher layer parameter *mcs-Table-r17* or
*mcs-TableDCI-1-2-r17* given by a *pdsch-Config* for at least one DL BWP
of the serving cell is set to \'qam1024\', maximum modulation order
$Q_{m} = 10$ is assumed for DL-SCH, else if the higher layer parameter
*mcs-Table* or *mcs-TableDCI-1-2* given by a *pdsch-Config* for at least
one DL BWP of the serving cell is set to \'qam256\', maximum modulation
order ![](media/image324.wmf) is assumed for DL-SCH; otherwise a maximum
modulation order ![](media/image325.wmf) is assumed for DL-SCH;

\- if the higher layer parameter *mcs-Table* or
*mcs-TableTransformPrecoder* or *mcs-TableDCI-0-2* or
*mcs-TableTransformPrecoderDCI-0-2* given by a *pusch-Config* or the
higher layer parameter *mcs-Table* or *mcs-TableTransformPrecoder* given
by *configuredGrantConfig* for at least one UL BWP of the serving cell
is set to \'qam256\', maximum modulation order ![](media/image324.wmf)
is assumed for UL-SCH; otherwise a maximum modulation order
![](media/image325.wmf) is assumed for UL-SCH;

\- maximum coding rate of 948/1024;

\- ![](media/image326.wmf) is given by Table 5.4.2.1-1, where the value
of ![](media/image327.wmf) for DL-SCH is determined according to the
initial downlink bandwidth part if there is no other downlink bandwidth
part configured to the UE;

\- ![](media/image328.wmf);

\- ![](media/image329.wmf) is the number of code blocks of the transport
block determined according to Clause 5.2.2.

Table 5.4.2.1-1: Value of ![](media/image330.wmf)

+--------------------------------------------------------------+-------+
| Maximum number of PRBs across all configured DL BWPs and UL  | ![]   |
| BWPs of a carrier for DL-SCH and UL-SCH, respectively,       | (medi |
|                                                              | a/ima |
| or                                                           | ge330 |
|                                                              | .wmf) |
| Maximum number of PRBs across all CFRs of a carrier for      |       |
| DL-SCH with PDSCH scheduled by DCI format 4_0/4_1/4_2        |       |
+==============================================================+=======+
| Less than 33                                                 | 32    |
+--------------------------------------------------------------+-------+
| 33 to 66                                                     | 66    |
+--------------------------------------------------------------+-------+
| 67 to 107                                                    | 107   |
+--------------------------------------------------------------+-------+
| 108 to 135                                                   | 135   |
+--------------------------------------------------------------+-------+
| 136 to 162                                                   | 162   |
+--------------------------------------------------------------+-------+
| 163 to 217                                                   | 217   |
+--------------------------------------------------------------+-------+
| Larger than 217                                              | 273   |
+--------------------------------------------------------------+-------+

Denoting by ![](media/image331.wmf) the rate matching output sequence
length for the ![](media/image317.wmf)-th coded block, where the value
of ![](media/image331.wmf) is determined as follows:

Set ![](media/image332.wmf)

for ![](media/image333.wmf) to ![](media/image334.wmf)

if the ![](media/image317.wmf)-th coded block is not scheduled for
transmission as indicated by CBGTI according to Clause 5.1.7.2 for
DL-SCH and 6.1.5.2 for UL-SCH in \[6, TS 38.214\]:

![](media/image335.wmf);

else

if ![](media/image336.wmf)

![](media/image337.wmf);

else

![](media/image338.wmf);

end if

![](media/image339.wmf);

end if

end for

where:

\- ![](media/image340.wmf) is the number of transmission layers that the
transport block is mapped onto;

\- ![](media/image341.wmf) is the modulation order;

\- ![](media/image342.wmf) is the total number of coded bits available
for transmission of the transport block;

\- ![](media/image343.wmf) if CBGTI is not present in the DCI scheduling
the transport block and ![](media/image344.wmf) is the number of
scheduled code blocks of the transport block if CBGTI is present in the
DCI scheduling the transport block.

Denote by ![](media/image345.wmf) the redundancy version number for this
transmission (![](media/image346.wmf) = 0, 1, 2 or 3), the rate matching
output bit sequence ![](media/image285.wmf), ![](media/image286.wmf), is
generated as follows, where ![](media/image347.wmf) is given by Table
5.4.2.1-2 according to the value of ![](media/image346.wmf) and LDPC
base graph:

![](media/image348.wmf);

![](media/image349.wmf);

while ![](media/image350.wmf)

if ![](media/image351.wmf)

![](media/image352.wmf);

![](media/image353.wmf);

end if

![](media/image339.wmf);

end while

Table 5.4.2.1-2: Starting position of different redundancy versions,
![](media/image347.wmf)

  -----------------------------------------------------------------------------
  ![](media/image346.wmf)   ![](media/image354.wmf)   
  ------------------------- ------------------------- -------------------------
                            LDPC base graph 1         LDPC base graph 2

  0                         ![](media/image355.wmf)   ![](media/image356.wmf)

  1                         ![](media/image357.wmf)   ![](media/image358.wmf)

  2                         ![](media/image359.wmf)   ![](media/image360.wmf)

  3                         ![](media/image361.wmf)   ![](media/image362.wmf)
  -----------------------------------------------------------------------------

#### 5.4.2.2 Bit interleaving

The bit sequence ![](media/image363.wmf) is interleaved to bit sequence
![](media/image252.wmf), according to the following, where the value of
![](media/image364.wmf) is the modulation order:

for ![](media/image365.wmf) to ![](media/image366.wmf)

for ![](media/image367.wmf) to ![](media/image368.wmf)

![](media/image369.wmf);

end for

end for

### 5.4.3 Rate matching for channel coding of small block lengths

The input bit sequence to rate matching is ![](media/image97.wmf). The
output bit sequence after rate matching is denoted as
![](media/image252.wmf), where ![](media/image284.wmf) is the rate
matching output sequence length. The bit sequence
![](media/image252.wmf) is obtained by the following:

for ![](media/image288.wmf) to ![](media/image289.wmf)

![](media/image370.wmf);

end for

## 5.5 Code block concatenation

The input bit sequence for the code block concatenation block are the
sequences ![](media/image371.wmf), for ![](media/image372.wmf) and
![](media/image373.wmf), where ![](media/image374.wmf) is the number of
rate matched bits for the ![](media/image67.wmf)-th code block. The
output bit sequence from the code block concatenation block is the
sequence ![](media/image375.wmf) for ![](media/image376.wmf).

The code block concatenation consists of sequentially concatenating the
rate matching outputs for the different code blocks. Therefore:

Set ![](media/image377.wmf) and ![](media/image378.wmf)

while ![](media/image379.wmf)

Set ![](media/image380.wmf)

while ![](media/image381.wmf)

![](media/image382.wmf)

![](media/image383.wmf)

![](media/image384.wmf)

end while

![](media/image385.wmf)

end while

# 6 Uplink transport channels and control information

## 6.1 Random access channel

The sequence index for the random access channel is received from higher
layers and is processed according to \[4, TS 38.211\].

## 6.2 Uplink shared channel

### 6.2.1 Transport block CRC attachment

Error detection is provided on each UL-SCH transport block through a
Cyclic Redundancy Check (CRC).

The entire transport block is used to calculate the CRC parity bits.
Denote the bits in a transport block delivered to layer 1
by![](media/image3.wmf), and the parity bits by![](media/image4.wmf),
where ![](media/image5.wmf) is the payload size and
![](media/image6.wmf) is the number of parity bits. The lowest order
information bit ![](media/image386.wmf) is mapped to the most
significant bit of the transport block as defined in Clause 6.1.1 of
\[TS38.321\].

The parity bits are computed and attached to the UL-SCH transport block
according to Clause 5.1, by setting ![](media/image6.wmf) to 24 bits and
using the generator polynomial ![](media/image387.wmf) if
![](media/image388.wmf); and by setting ![](media/image6.wmf) to 16 bits
and using the generator polynomial ![](media/image389.wmf) otherwise.

The bits after CRC attachment are denoted by ![](media/image18.wmf),
where ![](media/image19.wmf).

### 6.2.2 LDPC base graph selection

For initial transmission of a transport block with coding rate
![](media/image390.wmf) indicated by the MCS index according to
Clause 6.1.4.1 in \[6, TS 38.214\] and subsequent re-transmission of the
same transport block, each code block of the transport block is encoded
with either LDPC base graph 1 or 2 according to the following:

\- if ![](media/image391.wmf), or if ![](media/image392.wmf) and
![](media/image393.wmf), or if ![](media/image394.wmf), LDPC base graph
2 is used;

\- otherwise, LDPC base graph 1 is used,

where ![](media/image395.wmf) is the payload size as described in Clause
6.2.1.

### 6.2.3 Code block segmentation and code block CRC attachment

The bits input to the code block segmentation are denoted by
![](media/image18.wmf) where ![](media/image396.wmf) is the number of
bits in the transport block (including CRC).

Code block segmentation and code block CRC attachment are performed
according to Clause 5.2.2.

The bits after code block segmentation are denoted
by![](media/image397.wmf), where ![](media/image67.wmf) is the code
block number and ![](media/image398.wmf) is the number of bits for code
block number ![](media/image67.wmf) according to Clause 5.2.2.

When the value of *numberOfSlotsTBoMS* in the row indicated by the Time
domain resource assignment field in DCI is larger than 1, the value of
*B* is no larger than 3840 if $R \leq 0.25$ and no larger than 8448
otherwise, where coding rate $R$ is indicated by the MCS index according
to Clause 6.1.4.1 in \[6, TS 38.214\].

### 6.2.4 Channel coding of UL-SCH

Code blocks are delivered to the channel coding block. The bits in a
code block are denoted by ![](media/image399.wmf), where
![](media/image67.wmf) is the code block number, and
![](media/image398.wmf) is the number of bits in code block number
![](media/image67.wmf). The total number of code blocks is denoted by
![](media/image400.wmf) and each code block is individually LDPC encoded
according to Clause 5.3.2.

After encoding the bits are denoted by ![](media/image401.wmf), where
the values of ![](media/image402.wmf) is given in Clause 5.3.2.

### 6.2.5 Rate matching

Coded bits for each code block, denoted as ![](media/image401.wmf), are
delivered to the rate match block, where ![](media/image67.wmf) is the
code block number, and ![](media/image403.wmf) is the number of encoded
bits in code block number ![](media/image67.wmf). The total number of
code blocks is denoted by ![](media/image400.wmf) and each code block is
individually rate matched according to Clause 5.4.2 by setting
![](media/image404.wmf) if higher layer parameter *rateMatching* is set
to *limitedBufferRM* and by setting ![](media/image405.wmf) otherwise,
if *numberOfSlotsTBoMS* is not present in the resource allocation table,
or if *numberOfSlotsTBoMS* is present in the resource allocation table
and the value of *numberOfSlotsTBoMS* in the row indicated by the Time
domain resource assignment field in DCI is equal to 1. When the value of
*numberOfSlotsTBoMS* in the row indicated by the Time domain resource
assignment field in DCI is larger than 1, each code block is
individually rate matched per slot according to Clause 5.4.2 by setting:

\- $I_{LBRM} = 1$ if higher layer parameter *rateMatching* is set to
*limitedBufferRM* and by setting $I_{LBRM} = 0\ $otherwise;

\- $G$ as the total number of coded bits available for transmission of
the transport block in the slot;

\- $k_{0}$ as given by Table 5.4.2.1-2 according to the value of
${rv}_{id}$ and LDPC base graph if the slot is the first slot within the
$N_{s}$ slots allocated for the transmission of TB processing over
multiple slots, and setting
$k_{0} = \left( k_{0}^{'} + H + \tau \right)modN_{cb}\ $if the slot is a
slot except for the first one within the $N_{s}$ slots, where $N_{s}$ is
the value of *numberOfSlotsTBoMS* in the row indicated by the Time
domain resource assignment field in DCI, $k_{0}^{'}$ denotes the index
of starting coded bit in the previous slot within the $N_{s}$ slots, $H$
is the total number of coded bits available for transmission of the
transport block in the previous slot within the $N_{s}$ slots assuming
no UCI multiplexing, and $\tau$ denotes the number of skipped filler
bits if any in the previous slot within the $N_{s}$ slots according to
Clause 5.4.2.1 by assuming no UCI multiplexing.

After rate matching, the bits are denoted by![](media/image406.wmf),
where![](media/image407.wmf) is the number of rate matched bits for code
block number ![](media/image67.wmf).

### 6.2.6 Code block concatenation

The input bit sequence for the code block concatenation block are the
sequences ![](media/image406.wmf), for ![](media/image372.wmf) and where
![](media/image374.wmf) is the number of rate matched bits for the
![](media/image67.wmf)-th code block.

Code block concatenation is performed according to Clause 5.5.

The bits after code block concatenation are denoted
by![](media/image408.wmf), where ![](media/image409.wmf) is the total
number of coded bits for transmission.

### 6.2.7 Data and control multiplexing

In case where there are more than one UL-SCH transport blocks for the
PUSCH transmission, the UCI information is multiplexed only on the
UL-SCH transport block with highest *I~MCS~* value for the initial
PUSCH, where *I~MCS~* is as defined in Clause 6.1.4.1 in \[6, TS
38.214\]. In case the two transport blocks have the same *I~MCS~* value
for the initial PUSCH, the UCI information is multiplexed with data only
on the first transport block. The PUSCH for UCI multiplexing in this
Clause referes to the UL-SCH transport block for UCI multiplexing.

If the higher layer parameter *nrofBitsInUTO-UCI* is configured, the
procedure in this clause 6.2.7 applies by replacing CG‑UCI with UTO-UCI
in all the notations and texts, and replacing \"when higher layer
parameter *cg-UCI-Multiplexing* is configured\" with \"when UTO-UCI and
HARQ-ACK are transmitted on a PUSCH\".

Denote the coded bits for UL-SCH as ![](media/image410.wmf).

Denote the coded bits for HARQ-ACK or jointly coded bits for HARQ-ACK
and CG-UCI when the high layer parameter *cg-UCI-Multiplexing* is
configured, if any, as ![](media/image411.wmf).

Denote the coded bits for CSI part 1, if any, as
![](media/image412.wmf).

Denote the coded bits for CSI part 2, if any, as
![](media/image413.wmf).

Denote the coded bits for CG-UCI without HARQ-ACK, if any, as
$g_{0}^{CG - UCI},\ \ g_{1}^{CG - UCI},\ \ g_{2}^{CG - UCI},\ g_{3}^{CG - UCI},\ \ldots,\ g_{G^{CG - UCI} - 1}^{CG - UCI}$.

Denote the multiplexed data and control coded bit sequence as
![](media/image408.wmf).

Denote ![](media/image414.wmf) as the OFDM symbol index of the scheduled
PUSCH, starting from 0 to ![](media/image415.wmf), where
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS.

Denote ![](media/image417.wmf) as the subcarrier index of the scheduled
PUSCH, starting from 0 to ![](media/image418.wmf), where
![](media/image419.wmf) is expressed as a number of subcarriers.

Denote ![](media/image420.wmf) as the set of resource elements, in
ascending order of indices ![](media/image417.wmf), available for
transmission of data in OFDM symbol ![](media/image414.wmf), for
![](media/image421.wmf).

Denote ![](media/image422.wmf) as the number of elements in set
![](media/image420.wmf). Denote ![](media/image423.wmf) as the
![](media/image424.wmf)-th element in ![](media/image420.wmf).

Denote ![](media/image425.wmf) as the set of resource elements, in
ascending order of indices ![](media/image417.wmf), available for
transmission of UCI in OFDM symbol ![](media/image414.wmf), for
![](media/image421.wmf). Denote ![](media/image426.wmf) as the number of
elements in set ![](media/image425.wmf). Denote ![](media/image427.wmf)
as the ![](media/image424.wmf)-th element in ![](media/image425.wmf).
For any OFDM symbol that carriers DMRS of the PUSCH,
![](media/image428.wmf). For any OFDM symbol that does not carry DMRS of
the PUSCH, ![](media/image429.wmf).

If frequency hopping is configured for the PUSCH,

\- denote ![](media/image430.wmf) as the OFDM symbol index of the first
OFDM symbol after the first set of consecutive OFDM symbol(s) carrying
DMRS in the first hop;

\- denote ![](media/image431.wmf) as the OFDM symbol index of the first
OFDM symbol after the first set of consecutive OFDM symbol(s) carrying
DMRS in the second hop;

\- denote ![](media/image432.wmf) as the OFDM symbol index of the first
OFDM symbol that does not carry DMRS in the first hop;

\- denote ![](media/image433.wmf) as the OFDM symbol index of the first
OFDM symbol that does not carry DMRS in the second hop;

\- if HARQ-ACK is present for transmission on the PUSCH with UL-SCH or
if both HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH,
let:

\- ![](media/image434.wmf) and ![](media/image435.wmf);

\- if CSI is present for transmission on the PUSCH with UL-SCH, let:

\- ![](media/image436.wmf);

\- ![](media/image437.wmf);

\- ![](media/image438.wmf); and

\- ![](media/image439.wmf);

\- if CG-UCI is present for transmission on the PUSCH with UL-SCH and
without HARQ-ACK, let:

\-
$G^{CG - UCI}(1) = N_{L} \bullet Q_{m} \bullet \left\lfloor \frac{G^{CG - UCI}}{\left( 2{\bullet N}_{L} \bullet Q_{m} \right)} \right\rfloor$
and
$G^{CG - UCI}(2) = N_{L} \bullet Q_{m} \bullet \left\lceil \frac{G^{CG - UCI}}{\left( 2{\bullet N}_{L} \bullet Q_{m} \right)} \right\rceil$

\- if only HARQ-ACK and CSI part 1 are present for transmission on the
PUSCH without UL-SCH, let:

\- ![](media/image440.wmf);

\- ![](media/image441.wmf);

\- ![](media/image442.wmf); and

\- ![](media/image443.wmf);

\- if HARQ-ACK, CSI part 1 and CSI part 2 are present for transmission
on the PUSCH without UL-SCH, let:

\- ![](media/image444.wmf);

\- ![](media/image441.wmf);

\- if the number of HARQ-ACK information bits is more than
2,![](media/image445.wmf); otherwise, ![](media/image446.wmf)

\- ![](media/image443.wmf);

\- ![](media/image447.wmf) if the number of HARQ-ACK information bits is
no more than 2, and ![](media/image448.wmf) otherwise; and

\- ![](media/image449.wmf) if the number of HARQ-ACK information bits is
no more than 2, and ![](media/image450.wmf) otherwise;

\- if only CSI part 1 and CSI part 2 are present for transmission on the
PUSCH without UL-SCH, let:

\- ![](media/image451.wmf);

\- ![](media/image443.wmf);

\- ![](media/image447.wmf); and

\- ![](media/image449.wmf);

\- let ![](media/image452.wmf), and denote ![](media/image453.wmf),
![](media/image454.wmf) as the number of OFDM symbols of the PUSCH in
the first and second hop, respectively;

\- ![](media/image455.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH;

\- ![](media/image457.wmf);

\- ![](media/image458.wmf);

\- ![](media/image459.wmf).

If frequency hopping is not configured for the PUSCH,

\- denote ![](media/image430.wmf) as the OFDM symbol index of the first
OFDM symbol after the first set of consecutive OFDM symbol(s) carrying
DMRS;

\- denote ![](media/image460.wmf) as the OFDM symbol index of the first
OFDM symbol that does not carry DMRS;

\- if HARQ-ACK is present for transmission on the PUSCH or if both
HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH, let
![](media/image461.wmf);

\- if CSI is present for transmission on the PUSCH, let
![](media/image462.wmf) and ![](media/image463.wmf);

\- if CG-UCI is present for transmission on the PUSCH without HARQ-ACK,
let $G^{CG - UCI}(1) = G^{CG - UCI}$;

\- let ![](media/image464.wmf) and ![](media/image465.wmf).

The multiplexed data and control coded bit sequence
![](media/image408.wmf) is obtained according to the following:

**[Step 1:]{.underline}**

Set ![](media/image466.wmf) for ![](media/image421.wmf);

Set ![](media/image467.wmf) for ![](media/image421.wmf);

Set ![](media/image468.wmf) for ![](media/image421.wmf);

Set ![](media/image469.wmf) for ![](media/image421.wmf);

if the number of HARQ-ACK information bits to be transmitted on PUSCH is
0, 1 or 2 bits and without CG-UCI:

the number of reserved resource elements for potential HARQ-ACK
transmission is calculated according to Clause 6.3.2.4.2.1, by setting
![](media/image470.wmf);

denote ![](media/image471.wmf) as the number of coded bits for potential
HARQ-ACK transmission using the reserved resource elements;

if frequency hopping is configured for the PUSCH, let
![](media/image472.wmf) and ![](media/image473.wmf);

if frequency hopping is not configured for the PUSCH, let
![](media/image474.wmf);

denote ![](media/image475.wmf) as the set of reserved resource elements
for potential HARQ-ACK transmission, in OFDM symbol
![](media/image414.wmf), for ![](media/image421.wmf);

Set ![](media/image476.wmf);

Set ![](media/image477.wmf);

![](media/image478.wmf) for ![](media/image421.wmf);

for ![](media/image479.wmf) to ![](media/image480.wmf)

![](media/image481.wmf);

while ![](media/image482.wmf)

if ![](media/image483.wmf)

if ![](media/image484.wmf)

![](media/image485.wmf);

![](media/image486.wmf);

end if

if ![](media/image487.wmf)

![](media/image488.wmf);

![](media/image489.wmf);

end if

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image492.wmf)

![](media/image493.wmf);

end for

end if

![](media/image494.wmf);

end while

end for

else

![](media/image478.wmf) for ![](media/image421.wmf);

end if

Denote ![](media/image495.wmf) as the number of elements in
![](media/image496.wmf).

**Step 2:**

if HARQ-ACK is present for transmission on the PUSCH and the number of
HARQ-ACK information bits is more than 2 or if both HARQ-ACK and CG-UCI
are present on the same PUSCH with UL-SCH:

Set ![](media/image476.wmf);

Set ![](media/image477.wmf);

Set ![](media/image497.wmf);

for ![](media/image498.wmf) to ![](media/image499.wmf)

![](media/image481.wmf);

while ![](media/image500.wmf)

if ![](media/image483.wmf)

if ![](media/image501.wmf)

![](media/image485.wmf);

![](media/image502.wmf);

end if

if ![](media/image503.wmf)

![](media/image504.wmf);

![](media/image505.wmf);

end if

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image506.wmf);

for ![](media/image507.wmf) to ![](media/image508.wmf)

> ![](media/image509.wmf);
>
> ![](media/image510.wmf);
>
> ![](media/image511.wmf);

end for

end for

![](media/image512.wmf);

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image513.wmf);

end for

![](media/image514.wmf);

![](media/image515.wmf);

![](media/image469.wmf);

![](media/image467.wmf);

end if

![](media/image494.wmf);

end while

end for

end if

**Step 2A:**

If CG-UCI is present for transmission on the PUSCH without HARQ-ACK:

Set $m_{count}^{CG - UCI}(1) = 0$;

Set $m_{count}^{CG - UCI}(2) = 0$;

Set $m_{count,all}^{CG - UCI} = 0$;

for $i = 1$ to $N_{hop}^{PUSCH}$

$l = l^{(i)}$;

while $m_{count}^{CG - UCI}(i) < G^{CG - UCI}$($i$)

if ${\overline{M}}_{sc}^{UCI}(l) > 0$

if
${G^{CG - UCI}(i)\  - m}_{count}^{CG - UCI}(1) \geq {\overline{M}}_{sc}^{UCI}(l).N_{L}.Q_{m}$

$d = 1$;

$m_{count}^{RE} = {\overline{M}}_{sc}^{UCI}(l)$;

end if

if
${G^{CG - UCI}(i)\  - m}_{count}^{CG - UCI}(1) < {\overline{M}}_{sc}^{UCI}(l).N_{L}.Q_{m}$

$d = \left\lfloor \frac{{\overline{M}}_{sc}^{UCI}(l).N_{L}.Q_{m}}{\left( {G^{CG - UCI}(i)\  - m}_{count}^{CG - UCI}(i) \right)} \right\rfloor$;

$m_{count}^{RE} = \left\lceil \frac{\left( {G^{CG - UCI}(i)\  - m}_{count}^{CG - UCI}(i) \right)}{\left( N_{L}.Q_{m} \right)} \right\rceil$;

end if

for $j = 0$ to $m_{count}^{RE} - 1$

$k = {\overline{\Phi}}_{l}^{UCI}(j.d)$;

for $v = 0$ to $N_{L}.Q_{m} - 1$

${\overline{g}}_{l,k,v} = g_{m_{count,all}^{CG - UCI}}^{CG - UCI}$;

$m_{count,all}^{CG - UCI} = m_{count,all}^{CG - UCI} + 1$;

$m_{count}^{CG - UCI}(i) = m_{count}^{CG - UCI}(i) + 1$;

end for

end for

${\overline{\Phi}}_{l,tmp}^{UCI} = \varnothing$;

for $j = 0$ to $m_{count}^{RE} - 1$

${\overline{\Phi}}_{l,tmp}^{UCI} = {\overline{\Phi}}_{l,tmp}^{UCI} \cup {\overline{\Phi}}_{l}^{UCI}(j.d)$;

end for

${\overline{\Phi}}_{l}^{UCI} = {\overline{\Phi}}_{l}^{UCI}\backslash{\overline{\Phi}}_{l,tmp}^{UCI}$;

${\overline{\Phi}}_{l}^{UL - SCH} = {\overline{\Phi}}_{l}^{UL - SCH}\backslash{\overline{\Phi}}_{l,tmp}^{UCI}$;

${\overline{M}}_{sc}^{UCI}(l) = \left| {\overline{\Phi}}_{l}^{UCI} \right|$;

${\overline{M}}_{sc}^{UL - SCH}(l) = \left| {\overline{\Phi}}_{l}^{UL - SCH} \right|$;

end if

$l = l + 1$;

end while

end for

end if

**Step 3:**

if CSI is present for transmission on the PUSCH:

Set ![](media/image516.wmf);

Set ![](media/image517.wmf);

Set ![](media/image518.wmf);

for ![](media/image519.wmf) to ![](media/image520.wmf)

![](media/image521.wmf);

while ![](media/image522.wmf)

![](media/image523.wmf);

end while

while ![](media/image524.wmf)

if ![](media/image525.wmf)

if ![](media/image526.wmf)

![](media/image485.wmf);

![](media/image527.wmf);

end if

if ![](media/image528.wmf)

![](media/image529.wmf);

![](media/image530.wmf);

end if

![](media/image531.wmf);

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image532.wmf);

for ![](media/image507.wmf) to ![](media/image508.wmf)

> ![](media/image533.wmf);
>
> ![](media/image534.wmf);
>
> ![](media/image535.wmf);

end for

end for

![](media/image512.wmf);

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image536.wmf);

end for

![](media/image514.wmf);

![](media/image515.wmf);

![](media/image469.wmf);

![](media/image467.wmf);

end if

![](media/image494.wmf);

end while

end for

Set ![](media/image537.wmf);

Set ![](media/image538.wmf);

Set ![](media/image539.wmf);

for ![](media/image540.wmf) to ![](media/image541.wmf)

![](media/image521.wmf);

while ![](media/image542.wmf)

![](media/image543.wmf);

end while

while ![](media/image544.wmf)

if ![](media/image545.wmf)

if ![](media/image546.wmf)

![](media/image485.wmf);

![](media/image547.wmf);

end if

if ![](media/image548.wmf)

![](media/image549.wmf);

![](media/image550.wmf);

end if

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image551.wmf);

for ![](media/image507.wmf) to ![](media/image508.wmf)

> ![](media/image552.wmf);
>
> ![](media/image553.wmf);
>
> ![](media/image554.wmf);

end for

end for

![](media/image512.wmf);

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image513.wmf);

end for

![](media/image514.wmf);

![](media/image515.wmf);

![](media/image469.wmf);

![](media/image467.wmf);

end if

![](media/image494.wmf);

end while

end for

end if

**Step 4:**

if UL-SCH is present for transmission on the PUSCH:

Set ![](media/image555.wmf);

for ![](media/image556.wmf) to ![](media/image557.wmf)

if ![](media/image558.wmf)

for ![](media/image490.wmf) to ![](media/image559.wmf)

![](media/image560.wmf);

for ![](media/image507.wmf) to ![](media/image508.wmf)

![](media/image561.wmf);

![](media/image562.wmf);

end for

end for

end if

end for

end if

**Step 5:**

if HARQ-ACK is present for transmission on the PUSCH without CG-UCI and
the number of HARQ-ACK information bits is no more than 2:

Set ![](media/image476.wmf);

Set ![](media/image477.wmf);

Set ![](media/image497.wmf);

for ![](media/image563.wmf) to ![](media/image564.wmf)

![](media/image481.wmf);

while ![](media/image500.wmf)

if ![](media/image565.wmf)

if ![](media/image566.wmf)

![](media/image485.wmf);

![](media/image567.wmf);

end if

if ![](media/image568.wmf)

![](media/image569.wmf);

![](media/image570.wmf);

end if

for ![](media/image490.wmf) to ![](media/image491.wmf)

![](media/image571.wmf);

for ![](media/image507.wmf) to ![](media/image508.wmf)

> ![](media/image509.wmf);
>
> ![](media/image510.wmf);
>
> ![](media/image511.wmf);

end for

end for

end if

![](media/image494.wmf);

end while

end for

end if

**Step 6:**

Set ![](media/image572.wmf);

for ![](media/image556.wmf) to ![](media/image557.wmf)

for ![](media/image490.wmf) to ![](media/image573.wmf)

![](media/image574.wmf);

for ![](media/image507.wmf) to ![](media/image508.wmf)

![](media/image575.wmf);

![](media/image576.wmf);

end for

end for

end for

## 6.3 Uplink control information

### 6.3.1 Uplink control information on PUCCH

The procedure in this clause applies to PUCCH formats 2/3/4.

The following clauses 6.3.1.2, 6.3.1.3 and 6.3.1.5 apply regardless of
whether the higher layer parameter *uci-MuxWithDiffPrio* is configured
or not. The following clauses 6.3.1.1, 6.3.1.4 and 6.3.1.6 apply by
assuming *uci-MuxWithDiffPrio* is not configured, or
*uci-MuxWithDiffPrio* is configured and the UCIs for transmission on a
PUCCH are of the same priority index, unless stated otherwise.

If the UE is configured with a PUCCH-SCell, *uci-MuxWithDiffPrio* is
replaced by *uci-MuxWithDiffPrioSecondaryPUCCHgroup* for the secondary
PUCCH group in this clause.

#### 6.3.1.1 UCI bit sequence generation

##### 6.3.1.1.1 HARQ-ACK/SR only

If only HARQ-ACK bits are transmitted on a PUCCH, the UCI bit sequence
![](media/image577.wmf){width="1.2152777777777777in"
height="0.20833333333333334in"} is determined by setting
![](media/image578.wmf){width="0.5972222222222222in"
height="0.2361111111111111in"} for
![](media/image579.wmf){width="1.1388888888888888in"
height="0.2152777777777778in"} and
![](media/image580.wmf){width="0.5972222222222222in"
height="0.19444444444444445in"}, where the HARQ-ACK bit sequence
![](media/image581.wmf){width="1.2152777777777777in"
height="0.2708333333333333in"} is given by Clause 9.1 of \[5,
TS38.213\].

If only HARQ-ACK and SR bits are transmitted on a PUCCH, the UCI bit
sequence ![](media/image577.wmf){width="1.2152777777777777in"
height="0.20833333333333334in"} is determined by setting
![](media/image578.wmf){width="0.5972222222222222in"
height="0.2361111111111111in"} for
![](media/image579.wmf){width="1.1388888888888888in"
height="0.2152777777777778in"},
$a_{i} = {\widetilde{o}}_{i - O^{ACK}}^{SR}$ for
![](media/image582.wmf){width="2.173611111111111in"
height="0.2152777777777778in"}, and
![](media/image583.wmf){width="0.9791666666666666in"
height="0.19444444444444445in"}, where the HARQ-ACK bit sequence
![](media/image581.wmf){width="1.2152777777777777in"
height="0.2708333333333333in"} is given by Clause 9.1 of \[5, TS
38.213\], and the SR bit sequence
![](media/image584.wmf){width="1.1736111111111112in"
height="0.2916666666666667in"} is given by Clause 9.2.5.1 of \[5, TS
38.213\].

##### 6.3.1.1.2 CSI only

If *cqi-BitsPerSubband* is configured, this Clause 6.3.1.1.2 applies by
taking Subband CQI as Subband differential CQI and replacing the
corresponding number of bits 2 by 4.

If *csi-ReportSubConfig* is configured, for a corresponding CSI
sub-report, the bitwidth of a CSI field of the CSI sub-report is
determined following the procedure in this clause 6.3.1.1.2 by taking
configurations in *CSI-ReportSubConfig* when applicable. If
*csi-ReportSubConfig* configures a list of CSI-RS resource IDs, for the
determination of the bitwidth of a CRI field, the value of
$K_{s}^{CSI - RS}$ is the number of CSI-RS resources configured in the
corresponding *csi-ReportSubConfig*.

The bitwidth for PMI of *codebookType=typeI-SinglePanel* with 2 CSI-RS
ports is 2 for Rank=1 and 1 for Rank=2, according to Clause 5.2.2.2.1 in
\[6, TS 38.214\].

The bitwidth for PMI of *codebookType=typeI-SinglePanel* with more than
2 CSI-RS ports is provided in Table 6.3.1.1.2-1, where the values of
![](media/image585.wmf){width="0.5138888888888888in"
height="0.2152777777777778in"}and
![](media/image586.wmf){width="0.4861111111111111in"
height="0.2152777777777778in"} are given by Clause 5.2.2.2.1 in \[6, TS
38.214\].

Table 6.3.1.1.2-1: PMI of *codebookType=typeI-SinglePanel*

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                              Information field ![](media/image587.wmf) for                                                                                     Information field         
                              wideband PMI                                                                                                                      ![](media/image588.wmf)   
                                                                                                                                                                for wideband PMI\         
                                                                                                                                                                or per subband PMI        
  --------------------------- --------------------------------------------------- --------------------------------------------------- ------------------------- ------------------------- ------------------
                              (![](media/image589.wmf),![](media/image590.wmf))                                                       ![](media/image591.wmf)   ![](media/image592.wmf)   

                              *codebookMode*=1                                    *codebookMode*=2                                                              *codebookMode*=1          *codebookMode*=2

  Rank = 1 with \>2 CSI-RS    (![](media/image594.wmf),![](media/image595.wmf))   (![](media/image596.wmf),![](media/image597.wmf))   N/A                       2                         4
  ports,                                                                                                                                                                                  
  ![](media/image593.wmf)                                                                                                                                                                 

  Rank = 1 with \>2 CSI-RS    (![](media/image594.wmf),![](media/image595.wmf))   (![](media/image599.wmf), 0)                        N/A                       2                         4
  ports,                                                                                                                                                                                  
  ![](media/image598.wmf)                                                                                                                                                                 

  Rank=2 with 4 CSI-RS ports, (![](media/image594.wmf),![](media/image595.wmf))   (![](media/image601.wmf), 0)                        1                         1                         3
  ![](media/image600.wmf)                                                                                                                                                                 

  Rank=2 with \>4 CSI-RS      (![](media/image594.wmf),![](media/image595.wmf))   (![](media/image596.wmf),![](media/image597.wmf))   2                         1                         3
  ports,                                                                                                                                                                                  
  ![](media/image602.wmf)                                                                                                                                                                 

  Rank=2 with \>4 CSI-RS      (![](media/image594.wmf),![](media/image595.wmf))   (![](media/image601.wmf), 0)                        2                         1                         3
  ports,                                                                                                                                                                                  
  ![](media/image600.wmf)                                                                                                                                                                 

  Rank=3 or 4, with 4 CSI-RS  (![](media/image594.wmf),![](media/image595.wmf))                                                       0                         1                         
  ports                                                                                                                                                                                   

  Rank=3 or 4, with 8 or 12   (![](media/image594.wmf),![](media/image595.wmf))                                                       2                         1                         
  CSI-RS ports                                                                                                                                                                            

  Rank=3 or 4 , with \>=16    (![](media/image603.wmf), ![](media/image604.wmf))                                                      2                         1                         
  CSI-RS ports                                                                                                                                                                            

  Rank=5 or 6                 (![](media/image594.wmf),![](media/image595.wmf))                                                       N/A                       1                         

  Rank=7 or 8,                (![](media/image603.wmf), ![](media/image604.wmf))                                                      N/A                       1                         
  ![](media/image605.wmf)                                                                                                                                                                 

  Rank=7 or 8,                (![](media/image594.wmf),![](media/image607.wmf))                                                       N/A                       1                         
  ![](media/image606.wmf)                                                                                                                                                                 

  Rank=7 or 8, with           (![](media/image594.wmf),![](media/image595.wmf))                                                       N/A                       1                         
  ![](media/image608.wmf) or                                                                                                                                                              
  ![](media/image609.wmf)or                                                                                                                                                               
  ![](media/image610.wmf)                                                                                                                                                                 
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

The bitwidth for PMI of *codebookType=* *typeI-MultiPanel* is provided
in Table 6.3.1.1.2-2, where the values of ![](media/image611.wmf)and
![](media/image612.wmf) are given by Clause 5.2.2.2.2 in \[6, TS
38.214\].

Table 6.3.1.1.2-2: PMI of *codebookType=* *typeI-MultiPanel*

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                             Information fields ![](media/image613.wmf)for                                                                                                               Information fields                                                            
                             wideband                                                                                                                                                    ![](media/image614.wmf)                                                       
                                                                                                                                                                                         for wideband\                                                                 
                                                                                                                                                                                         or per subband                                                                
  -------------------------- --------------------------------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- -------------------------
                             (![](media/image589.wmf),![](media/image590.wmf))   ![](media/image615.wmf)   ![](media/image616.wmf)   ![](media/image617.wmf)   ![](media/image618.wmf)   ![](media/image592.wmf)   ![](media/image619.wmf)   ![](media/image620.wmf)   ![](media/image621.wmf)

  Rank=1 with                (![](media/image594.wmf),![](media/image595.wmf))   N/A                       2                         N/A                       N/A                       2                         N/A                       N/A                       N/A
  ![](media/image622.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=1 with                (![](media/image594.wmf),![](media/image595.wmf))   N/A                       2                         2                         2                         2                         N/A                       N/A                       N/A
  ![](media/image623.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=2 with                (![](media/image594.wmf),![](media/image595.wmf))   1                         2                         N/A                       N/A                       1                         N/A                       N/A                       N/A
  ![](media/image622.wmf),                                                                                                                                                                                                                                             
  ![](media/image624.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=3 or 4 with           (![](media/image594.wmf),![](media/image595.wmf))   0                         2                         N/A                       N/A                       1                         N/A                       N/A                       N/A
  ![](media/image622.wmf),                                                                                                                                                                                                                                             
  ![](media/image624.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=2 or 3 or 4 with      (![](media/image594.wmf),![](media/image595.wmf))   2                         2                         N/A                       N/A                       1                         N/A                       N/A                       N/A
  ![](media/image622.wmf),                                                                                                                                                                                                                                             
  ![](media/image625.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=2 with                (![](media/image594.wmf),![](media/image595.wmf))   1                         2                         2                         2                         1                         N/A                       N/A                       N/A
  ![](media/image623.wmf),                                                                                                                                                                                                                                             
  ![](media/image624.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=3 or 4 with           (![](media/image594.wmf),![](media/image595.wmf))   0                         2                         2                         2                         1                         N/A                       N/A                       N/A
  ![](media/image623.wmf),                                                                                                                                                                                                                                             
  ![](media/image624.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=2 or 3 or 4 with      (![](media/image594.wmf),![](media/image595.wmf))   2                         2                         2                         2                         1                         N/A                       N/A                       N/A
  ![](media/image623.wmf),                                                                                                                                                                                                                                             
  ![](media/image625.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=1*                                                                                                                                                                                                                                                     

  Rank=1 with                (![](media/image594.wmf),![](media/image595.wmf))   N/A                       2                         2                         N/A                       N/A                       2                         1                         1
  ![](media/image622.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=2*                                                                                                                                                                                                                                                     

  Rank=2 with                (![](media/image594.wmf),![](media/image595.wmf))   1                         2                         2                         N/A                       N/A                       1                         1                         1
  ![](media/image622.wmf),                                                                                                                                                                                                                                             
  ![](media/image624.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=2*                                                                                                                                                                                                                                                     

  Rank=3 or 4 with           (![](media/image594.wmf),![](media/image595.wmf))   0                         2                         2                         N/A                       N/A                       1                         1                         1
  ![](media/image622.wmf),                                                                                                                                                                                                                                             
  ![](media/image624.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=2*                                                                                                                                                                                                                                                     

  Rank=2 or 3 or 4 with      (![](media/image594.wmf),![](media/image595.wmf))   2                         2                         2                         N/A                       N/A                       1                         1                         1
  ![](media/image622.wmf),                                                                                                                                                                                                                                             
  ![](media/image625.wmf)\                                                                                                                                                                                                                                             
  *codebookMode=2*                                                                                                                                                                                                                                                     
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

The bitwidth for PMI with 1 CSI-RS port is 0.

The bitwidth for RI/LI/CQI/CRI of *codebookType=typeI-SinglePanel* or
*reportQuantity* set to \'cri-RI-CQI\' or 1 CSI-RS port is provided in
Table 6.3.1.1.2-3.

Table 6.3.1.1.2-3: RI, LI, CQI, and CRI of
*codebookType=typeI-SinglePanel*, or\
*reportQuantity* set to \'cri-RI-CQI\', or 1 CSI-RS port

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------
  **Field**                          **Bitwidth**                                                                                            
  ---------------------------------- ------------------------- ------------------------- ------------------------- ------------------------- -------------------------
                                     **1 antenna port**        **2 antenna ports**       **4 antenna ports**       **\>4 antenna ports**     

                                                                                                                   **Rank1\~4**              **Rank5\~8**

  Rank Indicator when                0                         ![](media/image626.wmf)   ![](media/image627.wmf)   ![](media/image628.wmf)   ![](media/image629.wmf)
  *codebookType=typeI-SinglePanel*                                                                                                           

  Rank Indicator when                0                         1                         2                         3                         3
  *reportQuantity* set to                                                                                                                    
  \'cri-RI-CQI\'                                                                                                                             

  Layer Indicator                    0                         ![](media/image630.wmf)   ![](media/image631.wmf)   ![](media/image632.wmf)   ![](media/image633.wmf)

  Wide-band CQI for the first TB     4                         4                         4                         4                         4

  Wideband CQI for the second TB     0                         0                         0                         0                         4

  Subband differential CQI for the   2                         2                         2                         2                         2
  first TB                                                                                                                                   

  Subband differential CQI for the   0                         0                         0                         0                         2
  second TB                                                                                                                                  

  CRI                                ![](media/image634.wmf)   ![](media/image634.wmf)   ![](media/image634.wmf)   ![](media/image634.wmf)   ![](media/image634.wmf)
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------

![](media/image635.wmf) in Table 6.3.1.1.2-3 is the number of allowed
rank indicator values according to Clause 5.2.2.2.1 \[6, TS 38.214\].
![](media/image636.wmf) is the value of the rank. The value of
![](media/image637.wmf) is the number of CSI-RS resources in the
corresponding resource set. The values of the rank indicator field are
mapped to allowed rank indicator values with increasing order, where
\'0\' is mapped to the smallest allowed rank indicator value. For higher
layer parameter *reportQuantity* set to \'cri-RI-CQI\', the values of
the rank indicator field are mapped to rank indicator values with
increasing order, where \'0\' is mapped to rank-1.

Table 6.3.1.1.2-3A: RI, LI, CQI, and CRI associated with one CSI-RS
resource pair and\
*csi-ReportMode= Mode 1* or *Mode 2*

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  **Field**                          **Bitwidth**                                                            
  ---------------------------------- ----------------------------------------------------------------------- -----------------------------------------------------------------------
                                     **1 antenna port per Resource**                                         **\> 1 antenna ports per Resource**

  Rank Combination Indicator         0                                                                       $$min(2,\left\lceil \log_{2}\ n_{RI,NCJT} \right\rceil)$$

  The first Layer Indicator          0                                                                       $$\left\lceil \log_{2}\left( v_{1} \right) \right\rceil$$

  The second Layer Indicator         0                                                                       $$\left\lceil \log_{2}\left( v_{2} \right) \right\rceil$$

  Wide-band CQI for the first TB     4                                                                       4

  Subband differential CQI for the   2                                                                       2
  first TB                                                                                                   

  CRI if *csi-ReportMode= Mode 1*    $$\left\lceil \log_{2}N \right\rceil$$                                  $$\left\lceil \log_{2}N \right\rceil$$

  CRI if *csi-ReportMode= Mode 2*    $$\left\lceil \log_{2}\left( M_{1} + M_{2} + N \right) \right\rceil$$   $$\left\lceil \log_{2}\left( M_{1} + M_{2} + N \right) \right\rceil$$
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 6.3.1.1.2-3B: RI, LI, CQI, and CRI associated with one CSI-RS
resource and\
*csi-ReportMode= Mode 1 or Mode 2*

+-----------+----------+----------+----------+----------+----------+
| **Field** | **Bi     |          |          |          |          |
|           | twidth** |          |          |          |          |
+===========+==========+==========+==========+==========+==========+
|           | **1      | **2      | **4      | **\>4    |          |
|           | antenna  | antenna  | antenna  | antenna  |          |
|           | port**   | ports**  | ports**  | ports**  |          |
+-----------+----------+----------+----------+----------+----------+
|           |          |          |          | **Ra     | **Ra     |
|           |          |          |          | nk1\~4** | nk5\~8** |
+-----------+----------+----------+----------+----------+----------+
| Rank      | 0        | $        | $        | $$       | $$       |
| Indicator |          | $min(1,\ | $min(2,\ | \left\lc | \left\lc |
|           |          | left\lce | left\lce | eil \log | eil \log |
|           |          | il \log_ | il \log_ | _{2}\ n_ | _{2}\ n_ |
|           |          | {2}\ n_{ | {2}\ n_{ | {RI,sTRP | {RI,sTRP |
|           |          | RI,sTRP} | RI,sTRP} | } \right | } \right |
|           |          |  \right\ |  \right\ | \rceil$$ | \rceil$$ |
|           |          | rceil)$$ | rceil)$$ |          |          |
+-----------+----------+----------+----------+----------+----------+
| Layer     | 0        | $$\left\ | $        | $        | $        |
| Indicator |          | lceil \l | $min(2,\ | $min(2,\ | $min(2,\ |
|           |          | og_{2}(v |  \left\l |  \left\l |  \left\l |
|           |          | ) \right | ceil \lo | ceil \lo | ceil \lo |
|           |          | \rceil$$ | g_{2}(v) | g_{2}(v) | g_{2}(v) |
|           |          |          |  \right\ |  \right\ |  \right\ |
|           |          |          | rceil)$$ | rceil)$$ | rceil)$$ |
+-----------+----------+----------+----------+----------+----------+
| Wide-band | 4        | 4        | 4        | 4        | 4        |
| CQI for   |          |          |          |          |          |
| the first |          |          |          |          |          |
| TB        |          |          |          |          |          |
+-----------+----------+----------+----------+----------+----------+
| Wideband  | 0        | 0        | 0        | 0        | 4        |
| CQI for   |          |          |          |          |          |
| the       |          |          |          |          |          |
| second TB |          |          |          |          |          |
+-----------+----------+----------+----------+----------+----------+
| Subband   | 2        | 2        | 2        | 2        | 2        |
| dif       |          |          |          |          |          |
| ferential |          |          |          |          |          |
| CQI for   |          |          |          |          |          |
| the first |          |          |          |          |          |
| TB        |          |          |          |          |          |
+-----------+----------+----------+----------+----------+----------+
| Subband   | 0        | 0        | 0        | 0        | 2        |
| dif       |          |          |          |          |          |
| ferential |          |          |          |          |          |
| CQI for   |          |          |          |          |          |
| the       |          |          |          |          |          |
| second TB |          |          |          |          |          |
+-----------+----------+----------+----------+----------+----------+
| CRI if    | $        | $        | $        | $        | $        |
| *csi-Re   | $\left\l | $\left\l | $\left\l | $\left\l | $\left\l |
| portMode= | ceil \lo | ceil \lo | ceil \lo | ceil \lo | ceil \lo |
| Mode 1*   | g_{2}\le | g_{2}\le | g_{2}\le | g_{2}\le | g_{2}\le |
| and       | ft( M_{1 | ft( M_{1 | ft( M_{1 | ft( M_{1 | ft( M_{1 |
| *         | } + M_{2 | } + M_{2 | } + M_{2 | } + M_{2 | } + M_{2 |
| numberOfS | } \right | } \right | } \right | } \right | } \right |
| ingleTRP- | ) \right | ) \right | ) \right | ) \right | ) \right |
| CSI-Mode1 | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ |
| = 1*      |          |          |          |          |          |
+-----------+----------+----------+----------+----------+----------+
| CRI if    | $\left\  | $\left\  | $\left\  | $\left\  | $\left\  |
| *csi-Re   | lceil \l | lceil \l | lceil \l | lceil \l | lceil \l |
| portMode= | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l |
| Mode 1*   | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ |
| and       | 1} \righ | 1} \righ | 1} \righ | 1} \righ | 1} \righ |
| *         | t) \righ | t) \righ | t) \righ | t) \righ | t) \righ |
| numberOfS | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ |
| ingleTRP- | for the  | for the  | for the  | for the  | for the  |
| CSI-Mode1 | first    | first    | first    | first    | first    |
| = 2*      | CRI;     | CRI;     | CRI;     | CRI;     | CRI;     |
|           |          |          |          |          |          |
|           | $\left\  | $\left\  | $\left\  | $\left\  | $\left\  |
|           | lceil \l | lceil \l | lceil \l | lceil \l | lceil \l |
|           | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l |
|           | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ |
|           | 2} \righ | 2} \righ | 2} \righ | 2} \righ | 2} \righ |
|           | t) \righ | t) \righ | t) \righ | t) \righ | t) \righ |
|           | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ |
|           | for the  | for the  | for the  | for the  | for the  |
|           | second   | second   | second   | second   | second   |
|           | CRI      | CRI      | CRI      | CRI      | CRI      |
+-----------+----------+----------+----------+----------+----------+
| CRI if    | $$\le    | $$\le    | $$\le    | $$\le    | $$\le    |
| *csi-Re   | ft\lceil | ft\lceil | ft\lceil | ft\lceil | ft\lceil |
| portMode= |  \log_{2 |  \log_{2 |  \log_{2 |  \log_{2 |  \log_{2 |
| Mode 2*   | }\left(  | }\left(  | }\left(  | }\left(  | }\left(  |
|           | M_{1} +  | M_{1} +  | M_{1} +  | M_{1} +  | M_{1} +  |
|           | M_{2} +  | M_{2} +  | M_{2} +  | M_{2} +  | M_{2} +  |
|           | N \right | N \right | N \right | N \right | N \right |
|           | ) \right | ) \right | ) \right | ) \right | ) \right |
|           | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ |
+-----------+----------+----------+----------+----------+----------+

$n_{RI,NCJT}$ in Table 6.3.1.1.2-3A is the number of allowed rank
combination indicator values associated with one CSI-RS resource pair
according to Clause 5.2.1.4.2 \[6, TS 38.214\]. The values of the rank
combination indicator field are mapped to allowed rank combinations in
the following order: {1,1}, {1,2}, {2,1},{2,2}, where \'0\' is mapped to
the first allowed rank combination. $v_{1}$ and $v_{2}$ are the values
of the first and the second rank associated with two CSI‑RS resources of
the CSI-RS resource pair respectively.

$n_{RI,\ sTRP}$ in Table 6.3.1.1.2-3B is the number of allowed rank
indicator values associated with one CSI-RS resource according to Clause
5.2.1.4.2 \[6, TS 38.214\]. *v* is the value of the rank associated with
the CSI-RS resource. The values of the rank indicator field are mapped
to allowed rank indicator values with increasing order, where \'0\' is
mapped to the smallest allowed rank indicator value.

The value of *N* in Table 6.3.1.1.2-3A and Table 6.3.1.1.2-3B is the
number of CSI-RS resource pairs configured within a CSI-RS resource set.
The values of M~1~ and M~2~ in Table 6.3.1.1.2-3A and Table 6.3.1.1.2-3B
are given by

\- If *sharedCMR* = \"Enabled\", *M*~1~ = *K*~1~ and *M*~2~ = *K*~2~

\- If *sharedCMR* is absent and *N* = 1, *M*~1~ = *K*~1~ - 1 and *M*~2~
= *K*~2~ - 1

\- If *sharedCMR* is absent and *N* = 2,

*- M*~1~ = *K*~1~ - 2 and *M*~2~ = *K*~2~ - 2, if the two resource pairs
do not share any CSI-RS resource

*- M*~1~ = *K*~1~ - 1 and *M*~2~ = *K*~2~ - 2, if the two resource pairs
share the same CSI-RS resource from the first CSI-RS resource group

*- M*~1~ = *K*~1~ - 2 and *M*~2~ = *K*~2~ - 1, if the two resource pairs
share the same CSI-RS resource from the second CSI-RS resource group

where the values of *K*~1~ and *K*~2~ are the numbers of CSI-RS
resources in the first and second CSI-RS resource groups within the
CSI-RS resource set respectively.

The bitwidth for RI/LI/CQI/CRI of *codebookType= typeI-MultiPanel* is
provided in Table 6.3.1.1.2-4.

Table 6.3.1.1.2-4: RI, LI, CQI, and CRI of
*codebookType=typeI-MultiPanel*

  -----------------------------------------------------------------------
  Field                                   Bitwidth
  --------------------------------------- -------------------------------
  Rank Indicator                          ![](media/image638.wmf)

  Layer Indicator                         ![](media/image639.wmf)

  Wide-band CQI                           4

  Subband differential CQI                2

  CRI                                     ![](media/image634.wmf)
  -----------------------------------------------------------------------

where ![](media/image640.wmf) is the number of allowed rank indicator
values according to Clause 5.2.2.2.2 \[6, TS 38.214\],
![](media/image636.wmf) is the value of the rank, and
![](media/image637.wmf) is the number of CSI-RS resources in the
corresponding resource set. The values of the rank indicator field are
mapped to allowed rank indicator values with increasing order, where
\'0\' is mapped to the smallest allowed rank indicator value.

The bitwidth for RI/LI/CQI of *codebookType= typeII* or
*codebookType=typeII-PortSelection* is provided in Table 6.3.1.1.2-5.

Table 6.3.1.1.2-5: RI, LI, and CQI of *codebookType=typeII or
typeII-PortSelection*

  ---------------------------------------------------------------------------
  Field                                             Bitwidth
  ------------------------------------------------- -------------------------
  Rank Indicator                                    ![](media/image626.wmf)

  Layer Indicator                                   ![](media/image641.wmf)

  Wide-band CQI                                     4

  Subband differential CQI                          2

  Indicator of the number of non-zero\              ![](media/image644.wmf)
  wideband amplitude coefficients                   
  ![](media/image642.wmf) for layer                 
  ![](media/image643.wmf)                           
  ---------------------------------------------------------------------------

where ![](media/image640.wmf) is the number of allowed rank indicator
values according to Clauses 5.2.2.2.3 and 5.2.2.2.4 \[6, TS 38.214\] and
![](media/image636.wmf) is the value of the rank. The values of the rank
indicator field are mapped to allowed rank indicator values with
increasing order, where \'0\' is mapped to the smallest allowed rank
indicator value.

The bitwidth for CRI, SSBRI, RSRP, differential RSRP, and
CapabilityIndex are provided in Table 6.3.1.1.2-6.

Table 6.3.1.1.2-6: CRI, SSBRI, RSRP, and CapabilityIndex

  -----------------------------------------------------------------------
  Field                        Bitwidth
  ---------------------------- ------------------------------------------
  CRI                          ![](media/image634.wmf)

  SSBRI                        ![](media/image645.wmf)

  RSRP                         7

  Differential RSRP            4

  CapabilityIndex              2
  -----------------------------------------------------------------------

where ![](media/image637.wmf) is the number of CSI-RS resources in the
corresponding resource set, and ![](media/image646.wmf) is the
configured number of SS/PBCH blocks in the corresponding resource set
for reporting \'ssb-Index-RSRP\' or \'ssb-Index-RSRP-Index\'.

The bitwidth for CRI, SSBRI, SINR, differential SINR, and
CapabilityIndex are provided in Table 6.3.1.1.2-6A.

Table 6.3.1.1.2-6A: CRI, SSBRI, SINR, and CapabilityIndex

  ---------------------------------------------------------------------------------------------------
  **Field**                    **Bitwidth**
  ---------------------------- ----------------------------------------------------------------------
  CRI                          $$\left\lceil \log_{2}\left( K_{s}^{CSI - RS} \right) \right\rceil$$

  SSBRI                        $$\left\lceil \log_{2}\left( K_{s}^{SSB} \right) \right\rceil$$

  SINR                         7

  Differential SINR            4

  CapabilityIndex              2
  ---------------------------------------------------------------------------------------------------

where $K_{s}^{CSI - RS}$ is the number of CSI-RS resources in the
corresponding resource set, and $K_{s}^{SSB}$ is the configured number
of SS/PBCH blocks in the corresponding resource set for reporting
\'ssb-Index-SINR\' or \'ssb-Index-SINR-Index\'.

If *csi-ReportSubConfig* is configured, for a corresponding CSI
sub-report, the mapping order of CSI fields of one CSI sub-report is
determined following the procedure in this clause 6.3.1.1.2, by
replacing CSI report #n in the following Tables 6.3.1.1.2-7, 6.3.1.1.2-9
and 6.3.1.1.2-10 with CSI sub-report #n, and taking only Tables
6.3.1.1.2-1/2/3/4 for the determination of the bitwidth of a CSI field.

Table 6.3.1.1.2-7: Mapping order of CSI fields of one CSI report,\
*pmi-FormatIndicator=widebandPMI* and *cqi-FormatIndicator=widebandCQI*
or *reportQuantity\
*set to \'cri-RI-CQI\' and *cqi-FormatIndicator=widebandCQI*

  -----------------------------------------------------------------------
  CSI report    CSI fields
  number        
  ------------- ---------------------------------------------------------
  CSI report #n CRI as in Tables 6.3.1.1.2-3/4, if reported

                Rank Indicator as in Tables 6.3.1.1.2-3/4, if reported

                Layer Indicator as in Tables 6.3.1.1.2-3/4, if reported

                Zero padding bits ![](media/image647.wmf), if needed

                PMI wideband information fields ![](media/image648.wmf),
                from left to right as in Tables 6.3.1.1.2-1/2, if
                reported

                PMI wideband information fields ![](media/image649.wmf),
                from left to right as in Tables 6.3.1.1.2-1/2, or
                codebook index for 2 antenna ports according to Clause
                5.2.2.2.1 in \[6, TS38.214\], if reported

                Wideband CQI for the first TB as in Tables 6.3.1.1.2-3/4,
                if reported

                Wideband CQI for the second TB as in Tables
                6.3.1.1.2-3/4, if reported
  -----------------------------------------------------------------------

The number of zero padding bits ![](media/image650.wmf) in Table
6.3.1.1.2-7 is 0 for 1 CSI-RS port and ![](media/image651.wmf) for more
than 1 CSI-RS port, where:

\- ![](media/image652.wmf) and ![](media/image653.wmf) is the set of
rank values ![](media/image654.wmf) that are allowed to be reported;

\- ![](media/image655.wmf), where ![](media/image656.wmf) is the
reported rank;

\- For 2 CSI-RS ports, ![](media/image657.wmf);

\- For more than 2 CSI-RS ports, ![](media/image658.wmf);

\- if PMI is reported, ![](media/image659.wmf) and
![](media/image660.wmf); otherwise, ![](media/image661.wmf);

\- if PMI ![](media/image662.wmf) is reported, ![](media/image663.wmf)
is obtained according to Tables 6.3.1.1.2-1/2; otherwise,
![](media/image664.wmf);

\- if PMI ![](media/image665.wmf) is reported, ![](media/image666.wmf)
is obtained according to Tables 6.3.1.1.2-1/2; otherwise,
![](media/image667.wmf);

\- if CQI is reported, ![](media/image668.wmf) is obtained according to
Tables 6.3.1.1.2-3/4; otherwise, ![](media/image669.wmf);

\- if LI is reported, ![](media/image670.wmf) is obtained according to
Tables 6.3.1.1.2-3/4; otherwise, ![](media/image671.wmf).

Table 6.3.1.1.2-7A: Mapping order of CSI fields of one CSI report,
*pmi-FormatIndicator=widebandPMI*, *cqi-FormatIndicator=widebandCQI,
csi-ReportMode= Mode 1* and *numberOfSingleTRP-CSI-Mode1=0*

  -----------------------------------------------------------------------
  CSI report    CSI fields
  number        
  ------------- ---------------------------------------------------------
  CSI report #n CRI as in Tables 6.3.1.1.2-3A, if reported

                Rank Combination Indicator as in Tables 6.3.1.1.2-3A, if
                reported

                Two Layer Indicators as in Table 6.3.1.1.2-3A, where the
                first Layer Indicator and the second Layer Indicator are
                associated with the first resource and the second
                resource within the resource pair respectively and if
                reported;

                Zero padding bits $O_{P}$, if needed

                PMI wideband information fields *X~1~*, from left to
                right as in Tables 6.3.1.1.2-1 associated with the first
                resource within the CSI-RS resource pair, if reported

                PMI wideband information fields *X~2~*, from left to
                right as in Tables 6.3.1.1.2-1, or codebook index for 2
                antenna ports according to Clause 5.2.2.2.1 in \[6,
                TS38.214\] associated with the first CSI-RS resource
                within the CSI-RS resource pair, if reported

                PMI wideband information fields *X~1~*, from left to
                right as in Tables 6.3.1.1.2-1 associated with the second
                resource within the CSI-RS resource pair, if reported

                PMI wideband information fields *X~2~*, from left to
                right as in Tables 6.3.1.1.2-1, or codebook index for 2
                antenna ports according to Clause 5.2.2.2.1 in \[6,
                TS38.214\] associated with the second CSI-RS resource
                within the CSI-RS resource pair, if reported

                Wideband CQI for the first TB as in Tables 6.3.1.1.2-3A,
                if reported
  -----------------------------------------------------------------------

The number of zero padding bits $O_{P}$ in Table 6.3.1.1.2-7A is 0 for 1
CSI-RS port and $O_{P} = N_{\max} - N_{reported}$ for more than 1 CSI-RS
port, where:

\- $N_{\max} = \max_{r \in S_{Rank}}{B(r)}\ $ and $S_{Rank}$ is the set
of rank combination values of $r = \{ r_{1},r_{2}\}$ that are allowed to
be reported;

\- $N_{reported} = B(R)$ where R is the reported rank combination;

\- For 2 CSI-RS ports,
$B(r) = N_{PMI}(r_{1}) + N_{PMI}(r_{2}) + N_{CQI}(r) + N_{LI}(r_{1}) + N_{LI}(r_{2})$;

\- For more than 2 CSI-RS
ports,$\ B(r) = N_{PMI,i_{1}}(r_{1}) + N_{PMI,i_{1}}(r_{2}) + N_{PMI,i_{2}}(r_{1}) + N_{PMI,i_{2}}(r_{2}) + N_{CQI}(r) + N_{LI}(r_{1}) + N_{LI}(r_{2})$
;

\- if PMI is reported, $N_{PMI}(1) = 2$ and $N_{PMI}(2) = 1$;
otherwise,$\ N_{PMI} = 0$;

\- if PMI $i_{1}$ is reported,$\ N_{PMI,i_{1}}(r_{1})$ and
$N_{PMI,i_{1}}(r_{2})$ are obtained according to Tables 6.3.1.1.2-1;
otherwise, $N_{PMI,i_{1}} = 0$;

\- if PMI $i_{2}$ is reported, $N_{PMI,i_{2}}(r_{1})$ and
$N_{PMI,i_{2}}(r_{2})$ are obtained according to Tables 6.3.1.1.2-1;
otherwise, $\ N_{PMI,i_{2}} = 0$;

\- if CQI is reported, $N_{CQI}(r)$ is obtained according to Tables
6.3.1.1.2-3A; otherwise,$\ N_{CQI}(r) = 0$;

\- if LI is reported, $N_{LI}(r_{1})$ and $N_{LI}(r_{2})$ are obtained
according to Tables 6.3.1.1.2-3A; otherwise , $N_{LI} = 0$.

Table 6.3.1.1.2-8: Mapping order of CSI fields of one report for
CRI/RSRP or SSBRI/RSRP or CRI/RSRP/CapabilityIndex or
SSBRI/RSRP/CapabilityIndex reporting, or mapping order of CSI fields of
one report for inter-cell SSBRI/RSRP reporting

  -----------------------------------------------------------------------
  CSI report       CSI fields
  number           
  ---------------- ------------------------------------------------------
  CSI report #n    CRI or SSBRI #1 as in Table 6.3.1.1.2-6, if reported

                   CRI or SSBRI #2 as in Table 6.3.1.1.2-6, if reported

                   CRI or SSBRI #3 as in Table 6.3.1.1.2-6, if reported

                   CRI or SSBRI #4 as in Table 6.3.1.1.2-6, if reported

                   RSRP #1 as in Table 6.3.1.1.2-6, if reported

                   Differential RSRP #2 as in Table 6.3.1.1.2-6, if
                   reported

                   Differential RSRP #3 as in Table 6.3.1.1.2-6, if
                   reported

                   Differential RSRP #4 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #1 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #2 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #3 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #4 as in Table 6.3.1.1.2-6, if
                   reported
  -----------------------------------------------------------------------

Table 6.3.1.1.2-8A: Mapping order of CSI fields of one report for
CRI/SINR or SSBRI/SINR or CRI/SINR/CapabilityIndex or
SSBRI/SINR/CapabilityIndex reporting

  -----------------------------------------------------------------------
  CSI report       CSI fields
  number           
  ---------------- ------------------------------------------------------
  CSI report #n    CRI or SSBRI #1 as in Table 6.3.1.1.2-6A, if reported

                   CRI or SSBRI #2 as in Table 6.3.1.1.2-6A, if reported

                   CRI or SSBRI #3 as in Table 6.3.1.1.2-6A, if reported

                   CRI or SSBRI #4 as in Table 6.3.1.1.2-6A, if reported

                   SINR #1 as in Table 6.3.1.1.2-6A, if reported

                   Differential SINR #2 as in Table 6.3.1.1.2-6A, if
                   reported

                   Differential SINR #3 as in Table 6.3.1.1.2-6A, if
                   reported

                   Differential SINR #4 as in Table 6.3.1.1.2-6A, if
                   reported

                   CapabilityIndex #1 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #2 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #3 as in Table 6.3.1.1.2-6, if
                   reported

                   CapabilityIndex #4 as in Table 6.3.1.1.2-6, if
                   reported
  -----------------------------------------------------------------------

Table 6.3.1.1.2-8B: Mapping order of CSI fields of one report for
group-based CRI/RSRP or SSBRI/RSRP reporting

  -----------------------------------------------------------------------
  **CSI      **CSI fields**
  report     
  number**   
  ---------- ------------------------------------------------------------
  CSI report Resource set indicator
  #n         

             CRI or SSBRI #1 of 1st resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #2 of 1st resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #1 of 2nd resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #2 of 2nd resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #1 of 3rd resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #2 of 3rd resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #1 of 4th resource group as in Table
             6.3.1.1.2-6, if reported

             CRI or SSBRI #2 of 4th resource group as in Table
             6.3.1.1.2-6, if reported

             RSRP of CRI or SSBRI #1 of 1st resource group as in Table
             6.3.1.1.2-6

             Differential RSRP of CRI or SSBRI #2 of 1st resource group
             as in Table 6.3.1.1.2-6

             Differential RSRP of CRI or SSBRI #1 of 2nd resource group
             as in Table 6.3.1.1.2-6, if reported

             Differential RSRP of CRI or SSBRI #2 of 2nd resource group
             as in Table 6.3.1.1.2-6, if reported

             Differential RSRP of CRI or SSBRI #1 of 3rd resource group
             as in Table 6.3.1.1.2-6, if reported

             Differential RSRP of CRI or SSBRI #2 of 3rd resource group
             as in Table 6.3.1.1.2-6, if reported

             Differential RSRP of CRI or SSBRI #1 of 4th resource group
             as in Table 6.3.1.1.2-6, if reported

             Differential RSRP of CRI or SSBRI #2 of 4th resource group
             as in Table 6.3.1.1.2-6, if reported
  -----------------------------------------------------------------------

where the 1-bit resource set indicator, with value of 0 or 1, indicates
the 1^st^ or the 2^nd^ channel measurement resource set respectively,
from which CRI or SSBRI #1 of 1^st^ resource group is reported from; and
all remaining resource groups, if reported, follow the same mapping
order as the 1^st^ resource group where CRI or SSBRI #1 of all remaining
resource groups is reported from the indicated channel measurement
resource set. For all reported resource groups, CRI or SSBRI #1 and CRI
or SSBRI #2 are reported from different channel measurement resource
sets.

Table 6.3.1.1.2-8C: Mapping order of CSI fields of one report for
SSBRI/RSRP reporting for L1/L2‑triggered mobility

  -----------------------------------------------------------------------------------
  **CSI report number**      **CSI fields**
  -------------------------- --------------------------------------------------------
  CSI report #n              SSBRI #1 as in Table 6.3.1.1.2-6, if reported

                             SSBRI #2 as in Table 6.3.1.1.2-6, if reported

                             ...

                             SSBRI \# $L \times M$ as in Table 6.3.1.1.2-6, if
                             reported

                             RSRP #1 as in Table 6.3.1.1.2-6, if reported

                             Differential RSRP #2 as in Table 6.3.1.1.2-6, if
                             reported

                             ...

                             Differential RSRP \# $L \times M$ as in Table
                             6.3.1.1.2-6, if reported

  NOTE: *L* is the number of 
  reported cells provided by 
  higher layer parameter     
  *noOfReportedCell* and *M* 
  is the number of reported  
  SSBRI/RSRP pairs per cell  
  and equal to the value     
  provided by higher layer   
  parameter                  
  *nrofReportedRSPerCell.*   
  -----------------------------------------------------------------------------------

Table 6.3.1.1.2-9: Mapping order of CSI fields of one CSI report, CSI
part 1, *pmi-FormatIndicator=* *subbandPMI* or
*cqi-FormatIndicator=subbandCQI*

+-------------+--------------------------------------------------------+
| CSI report  | CSI fields                                             |
| number      |                                                        |
+=============+========================================================+
| CSI report  | CRI as in Tables 6.3.1.1.2-3/4, if reported            |
| #n          |                                                        |
|             |                                                        |
| CSI part 1  |                                                        |
+-------------+--------------------------------------------------------+
|             | Rank Indicator as in Tables 6.3.1.1.2-3/4/5, if        |
|             | reported                                               |
+-------------+--------------------------------------------------------+
|             | Wideband CQI for the first TB as in Tables             |
|             | 6.3.1.1.2-3/4/5, if reported                           |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in               |
|             | Tables 6.3.1.1.2-3/4/5, if reported                    |
+-------------+--------------------------------------------------------+
|             | Indicator of the number of non-zero wideband amplitude |
|             | coefficients $M_{0}$ for layer 0 as in                 |
|             | Table 6.3.1.1.2-5, if reported                         |
+-------------+--------------------------------------------------------+
|             | Indicator of the number of non-zero wideband amplitude |
|             | coefficients $M_{1}$ for layer 1 as in                 |
|             | Table 6.3.1.1.2-5 (if the rank according to the        |
|             | reported RI is equal to one, this field is set to all  |
|             | zeros), if 2-layer PMI reporting is allowed according  |
|             | to the rank restriction in Clauses 5.2.2.2.3 and       |
|             | 5.2.2.2.4 \[6, TS 38.214\] and if reported             |
+-------------+--------------------------------------------------------+
| NOTE:       |                                                        |
| Subbands    |                                                        |
| for given   |                                                        |
| CSI report  |                                                        |
| *n*         |                                                        |
| indicated   |                                                        |
| by the      |                                                        |
| higher      |                                                        |
| layer       |                                                        |
| parameter   |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| with value  |                                                        |
| set to      |                                                        |
| \'1\' are   |                                                        |
| numbered    |                                                        |
| c           |                                                        |
| ontinuously |                                                        |
| in the      |                                                        |
| increasing  |                                                        |
| order with  |                                                        |
| the lowest  |                                                        |
| subband of  |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| with value  |                                                        |
| set to      |                                                        |
| \'1\' as    |                                                        |
| subband 0.  |                                                        |
+-------------+--------------------------------------------------------+

Table 6.3.1.1.2-9A: Mapping order of CSI fields of one CSI report, CSI
part 1, *csi-ReportMode= Mode 1*

+-------------+--------------------------------------------------------+
| CSI report  | CSI fields                                             |
| number      |                                                        |
+=============+========================================================+
| CSI report  | CRI as in Tables 6.3.1.1.2-3A, if associated with one  |
| #n          | CSI-RS resource pair and if reported                   |
|             |                                                        |
| CSI part 1  |                                                        |
+-------------+--------------------------------------------------------+
|             | Rank Combination Indicator as in Tables 6.3.1.1.2-3A,  |
|             | if reported                                            |
+-------------+--------------------------------------------------------+
|             | Wideband CQI for the first TB as in Tables             |
|             | 6.3.1.1.2-3A, if reported                              |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in Tables        |
|             | 6.3.1.1.2-3A, if reported                              |
+-------------+--------------------------------------------------------+
|             | CRI as in Tables 6.3.1.1.2-3B, if associated with one  |
|             | CSI-RS resource, *numberOfSingleTRP-CSI-Mode1 = 1* and |
|             | if reported;                                           |
|             |                                                        |
|             | First CRI as in Tables 6.3.1.1.2-3B, if associated     |
|             | with one CSI-RS resource, *numberOfSingleTRP-CSI-Mode1 |
|             | = 2* and if reported                                   |
+-------------+--------------------------------------------------------+
|             | Rank Indicator associated with CRI as in Tables        |
|             | 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1 =* 1 and |
|             | if reported;                                           |
|             |                                                        |
|             | Rank Indicator associated with the first CRI as in     |
|             | Tables 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1   |
|             | =* 2 and if reported                                   |
+-------------+--------------------------------------------------------+
|             | Wideband CQI associated with CRI for the first TB as   |
|             | in Tables 6.3.1.1.2-3B, if                             |
|             | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;     |
|             |                                                        |
|             | Wideband CQI associated with the first CRI for the     |
|             | first TB as in Tables 6.3.1.1.2-3B, if                 |
|             | *numberOfSingleTRP-CSI-Mode1 = 2* and if reported      |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI associated with CRI for the   |
|             | first TB with increasing order of subband number as in |
|             | Tables 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1   |
|             | =* 1 if reported;                                      |
|             |                                                        |
|             | Subband differential CQI associated with the first CRI |
|             | for the first TB with increasing order of subband      |
|             | number as in Tables 6.3.1.1.2-3B, if                   |
|             | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported      |
+-------------+--------------------------------------------------------+
|             | Second CRI as in Tables 6.3.1.1.2-3B, if associated    |
|             | with one CSI-RS resource, *numberOfSingleTRP-CSI-Mode1 |
|             | =* 2 and if reported                                   |
+-------------+--------------------------------------------------------+
|             | Rank Indicator associated with the second CRI as in    |
|             | Tables 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1   |
|             | =* 2 and if reported                                   |
+-------------+--------------------------------------------------------+
|             | Wideband CQI associated with the second CRI for the    |
|             | first TB as in Tables 6.3.1.1.2-3B, if                 |
|             | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported      |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI associated with the second    |
|             | CRI for the first TB with increasing order of subband  |
|             | number as in Tables 6.3.1.1.2-3B, if                   |
|             | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported      |
+-------------+--------------------------------------------------------+
| NOTE:       |                                                        |
| Subbands    |                                                        |
| for given   |                                                        |
| CSI report  |                                                        |
| *n*         |                                                        |
| indicated   |                                                        |
| by the      |                                                        |
| higher      |                                                        |
| layer       |                                                        |
| parameter   |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| with value  |                                                        |
| set to      |                                                        |
| \'1\' are   |                                                        |
| numbered    |                                                        |
| c           |                                                        |
| ontinuously |                                                        |
| in the      |                                                        |
| increasing  |                                                        |
| order with  |                                                        |
| the lowest  |                                                        |
| subband of  |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| with value  |                                                        |
| set to      |                                                        |
| \'1\' as    |                                                        |
| subband 0.  |                                                        |
+-------------+--------------------------------------------------------+

Table 6.3.1.1.2-9B: Mapping order of CSI fields of one CSI report, CSI
part 1, *csi-ReportMode= Mode 2*

+-------------+--------------------------------------------------------+
| CSI report  | CSI fields                                             |
| number      |                                                        |
+=============+========================================================+
| CSI report  | CRI as in Tables 6.3.1.1.2-3A, if associated with one  |
| #n          | CSI-RS resource pair and if reported;                  |
|             |                                                        |
| CSI part 1  | CRI as in Tables 6.3.1.1.2-3B, if associated with one  |
|             | CSI-RS resource and if reported                        |
+-------------+--------------------------------------------------------+
|             | Rank Combination Indicator as in Tables 6.3.1.1.2-3A,  |
|             | if associated with one CSI-RS resource pair and if     |
|             | reported;                                              |
|             |                                                        |
|             | Rank Indicator as in Tables 6.3.1.1.2-3B, if           |
|             | associated with one CSI-RS resource and if reported;   |
|             |                                                        |
|             | Zero padding bits $O_{P}$, if needed                   |
+-------------+--------------------------------------------------------+
|             | Wideband CQI for the first TB as in Tables             |
|             | 6.3.1.1.2-3A, if associated with one CSI-RS resource   |
|             | pair and if reported;                                  |
|             |                                                        |
|             | Wideband CQI for the first TB as in Tables             |
|             | 6.3.1.1.2-3B, if associated with one CSI-RS resource   |
|             | and if reported                                        |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in Tables        |
|             | 6.3.1.1.2-3A, if associated with one CSI-RS resource   |
|             | pair and if reported;                                  |
|             |                                                        |
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in Tables        |
|             | 6.3.1.1.2-3B, if associated with one CSI-RS resource   |
|             | and if reported                                        |
+-------------+--------------------------------------------------------+
| NOTE:       |                                                        |
| Subbands    |                                                        |
| for given   |                                                        |
| CSI report  |                                                        |
| *n*         |                                                        |
| indicated   |                                                        |
| by the      |                                                        |
| higher      |                                                        |
| layer       |                                                        |
| parameter   |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| with value  |                                                        |
| set to      |                                                        |
| \'1\' are   |                                                        |
| numbered    |                                                        |
| c           |                                                        |
| ontinuously |                                                        |
| in the      |                                                        |
| increasing  |                                                        |
| order with  |                                                        |
| the lowest  |                                                        |
| subband of  |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| with value  |                                                        |
| set to      |                                                        |
| \'1\' as    |                                                        |
| subband 0.  |                                                        |
+-------------+--------------------------------------------------------+

The number of zero padding bits $O_{P}$ in Table 6.3.1.1.2-9B is 0 for 1
CSI-RS port and $O_{P} = N_{\max} - N_{reported}(R)$ for more than 1
CSI-RS port, where:

\- $N_{\max} = \max_{r \in S_{Rank}}{N(r)}\ $. $S_{Rank}\ $is the set of
rank and rank combination values *r* that are allowed to be reported.
$N(r)$ is obtained according to Tables 6.3.1.1.2-3A/3B for rank
combination indicator and rank indicator respectively.

\- $N_{reported}\ (R)\ $is obtained according to Tables 6.3.1.1.2-3A for
rank combination indicator and *R* is the reported rank combination.

\- $N_{reported}\ (R)$ is obtained according to Tables 6.3.1.1.2-3B for
rank indicator and *R* is the reported rank.

Table 6.3.1.1.2-10: Mapping order of CSI fields of one CSI report, CSI
part 2 wideband, *pmi-FormatIndicator=* *subbandPMI* or
*cqi-FormatIndicator=subbandCQI*

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | Wideband CQI for the second TB as in Tables             |
| #n         | 6.3.1.1.2-3/4/5, if present and reported                |
|            |                                                         |
| CSI part 2 |                                                         |
| wideband   |                                                         |
+------------+---------------------------------------------------------+
|            | Layer Indicator as in Tables 6.3.1.1.2-3/4/5, if        |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1/2, if reported                       |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1/2, or codebook index for 2 antenna   |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\], |
|            | if *pmi-FormatIndicator=* *widebandPMI* and if reported |
+------------+---------------------------------------------------------+

Table 6.3.1.1.2-10A: Mapping order of CSI fields of one CSI report,\
CSI part 2 wideband, *csi-ReportMode= Mode 1*

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | Two Layer Indicators as in Table 6.3.1.1.2-3A, where    |
| #n         | the first Layer Indicator and the second Layer          |
|            | Indicator are associated with the first resource and    |
| CSI part 2 | the second resource within the resource pair            |
| wideband   | respectively and if reported;                           |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1 associated with the first resource   |
|            | within the CSI-RS resource pair, if reported            |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\]  |
|            | associated with the first CSI-RS resource within the    |
|            | CSI-RS resource pair, if *pmi-FormatIndicator=*         |
|            | *widebandPMI* and if reported                           |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1 associated with the second resource  |
|            | within the CSI-RS resource pair, if reported            |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\]  |
|            | associated with the second CSI-RS resource within the   |
|            | CSI-RS resource pair, if *pmi-FormatIndicator=*         |
|            | *widebandPMI* and if reported                           |
+------------+---------------------------------------------------------+
|            | Wideband CQI for the second TB as in Tables             |
|            | 6.3.1.1.2-3B, if associated with CRI in CSI part 1,     |
|            | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;      |
|            |                                                         |
|            | Wideband CQI for the second TB as in Tables             |
|            | 6.3.1.1.2-3B, if associated with the first CRI in CSI   |
|            | part 1, *numberOfSingleTRP-CSI-Mode1 =* 2 and if        |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | Layer Indicator as in Table 6.3.1.1.2-3B, if associated |
|            | with CRI in CSI part 1, *numberOfSingleTRP-CSI-Mode1 =* |
|            | 1 and if reported;                                      |
|            |                                                         |
|            | Layer Indicator as in Table 6.3.1.1.2-3B, if associated |
|            | with the first CRI in CSI part 1,                       |
|            | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported       |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, if associated with CRI in CSI part  |
|            | 1, *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;   |
|            |                                                         |
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, if associated with the first CRI in |
|            | CSI part 1, *numberOfSingleTRP-CSI-Mode1 =* 2 and if    |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\], |
|            | if associated with CRI in CSI part 1,                   |
|            | *pmi-FormatIndicator=* *widebandPMI*,                   |
|            | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;      |
|            |                                                         |
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\], |
|            | if associated with the first CRI in CSI part 1,         |
|            | *pmi-FormatIndicator=* *widebandPMI,*                   |
|            | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported       |
+------------+---------------------------------------------------------+
|            | Wideband CQI for the second TB as in Tables             |
|            | 6.3.1.1.2-3B, if associated with the second CRI in CSI  |
|            | part 1, *numberOfSingleTRP-CSI-Mode1 =* 2 and if        |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | Layer Indicator as in Table 6.3.1.1.2-3B, if associated |
|            | with the second CRI in CSI part 1,                      |
|            | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported       |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, if associated with the second CRI   |
|            | in CSI part 1, *numberOfSingleTRP-CSI-Mode1 =* 2 and if |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\], |
|            | if associated with the second CRI in CSI part 1,        |
|            | *pmi-FormatIndicator=* *widebandPMI*,                   |
|            | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported       |
+------------+---------------------------------------------------------+

Table 6.3.1.1.2-10B: Mapping order of CSI fields of one CSI report,\
CSI part 2 wideband, *csi-ReportMode= Mode 2*

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | Wideband CQI for the second TB as in Tables             |
| #n         | 6.3.1.1.2-3B, if reported part 1 is associated with one |
|            | CSI-RS resource and if reported                         |
| CSI part 2 |                                                         |
| wideband   |                                                         |
+------------+---------------------------------------------------------+
|            | Two Layer Indicators as in Table 6.3.1.1.2-3A, if       |
|            | reported part 1 is associated with one CSI-RS resource  |
|            | pair, where the first Layer Indicator and the second    |
|            | Layer Indicator are associated with the first resource  |
|            | and the second resource within the resource pair        |
|            | respectively and if reported;                           |
|            |                                                         |
|            | Layer Indicator as in Table 6.3.1.1.2-3B, if reported   |
|            | part 1 is associated with one CSI-RS resource and if    |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1 associated with the first resource   |
|            | within the CSI-RS resource pair, if reported part 1 is  |
|            | associated with one CSI-RS resource pair and if         |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\]  |
|            | associated with the first CSI-RS resource within the    |
|            | CSI-RS resource pair, if *pmi-FormatIndicator=*         |
|            | *widebandPMI* and reported part 1 is associated with    |
|            | one CSI-RS resource pair and if reported                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1 associated with the second CSI-RS    |
|            | resource within the CSI-RS resource pair, if reported   |
|            | part 1 is associated with one CSI-RS resource pair and  |
|            | if reported                                             |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\]  |
|            | associated with the second CSI-RS resource within the   |
|            | CSI-RS resource pair, if *pmi-FormatIndicator=*         |
|            | *widebandPMI* and reported part 1 is associated with    |
|            | one CSI-RS resource pair and if reported                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, if reported part 1 is associated    |
|            | with one CSI-RS resource and if reported                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\], |
|            | if *pmi-FormatIndicator=* *widebandPMI* and reported    |
|            | part 1 is associated with one CSI-RS resource and if    |
|            | reported                                                |
+------------+---------------------------------------------------------+

Table 6.3.1.1.2-11: Mapping order of CSI fields of one CSI report, CSI
part 2 subband,\
*pmi-FormatIndicator=* *subbandPMI* or *cqi-FormatIndicator=subbandCQI*

+----------+-----------------------------------------------------------+
| CSI      | Subband differential CQI for the second TB of all even    |
| report   | subbands with increasing order of subband number, as in   |
| #n       | Tables 6.3.1.1.2-3/4/5, if                                |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
| Part 2   |                                                           |
| subband  |                                                           |
+==========+===========================================================+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1/2, or |
|          | codebook index for 2 antenna ports according to Clause    |
|          | 5.2.2.2.1 in \[6, TS38.214\] of all even subbands with    |
|          | increasing order of subband number, if                    |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number, as in   |
|          | Tables 6.3.1.1.2-3/4/5, if                                |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1/2, or         |
|          | codebook index for 2 antenna ports according to Clause    |
|          | 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands with     |
|          | increasing order of subband number, if                    |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
| NOTE:    |                                                           |
| Subbands |                                                           |
| for      |                                                           |
| given    |                                                           |
| CSI      |                                                           |
| report   |                                                           |
| *n*      |                                                           |
| i        |                                                           |
| ndicated |                                                           |
| by the   |                                                           |
| higher   |                                                           |
| layer    |                                                           |
| p        |                                                           |
| arameter |                                                           |
| *cs      |                                                           |
| i-Report |                                                           |
| ingBand* |                                                           |
| with     |                                                           |
| value    |                                                           |
| set to   |                                                           |
| \'1\'    |                                                           |
| are      |                                                           |
| numbered |                                                           |
| cont     |                                                           |
| inuously |                                                           |
| in the   |                                                           |
| in       |                                                           |
| creasing |                                                           |
| order    |                                                           |
| with the |                                                           |
| lowest   |                                                           |
| subband  |                                                           |
| of       |                                                           |
| *cs      |                                                           |
| i-Report |                                                           |
| ingBand* |                                                           |
| with     |                                                           |
| value    |                                                           |
| set to   |                                                           |
| \'1\' as |                                                           |
| subband  |                                                           |
| 0.       |                                                           |
+----------+-----------------------------------------------------------+

Table 6.3.1.1.2-11A: Mapping order of CSI fields of one CSI report, CSI
part 2 subband,\
*csi-ReportMode= Mode 1*

+----------+-----------------------------------------------------------+
| CSI      | PMI subband information fields ![](media/image673.wmf) of |
| report   | all even subbands with increasing order of subband        |
| #n       | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
| Part 2   | first resource within the CSI-RS resource pair, according |
| subband  | to Clause 5.2.2.2.1 in \[6, TS38.214\] of all even        |
|          | subbands with increasing order of subband number, if      |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+==========+===========================================================+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | second resource within the CSI-RS resource pair,          |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with CRI in CSI part 1, as in Tables           |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with the first CRI in CSI part 1, as in Tables |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with CRI in |
|          | CSI part 1 according to Clause 5.2.2.2.1 in \[6,          |
|          | TS38.214\] of all even subbands with increasing order of  |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*,   |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | first CRI in CSI part 1 according to Clause 5.2.2.2.1 in  |
|          | \[6, TS38.214\] of all even subbands with increasing      |
|          | order of subband number, if *pmi-FormatIndicator=*        |
|          | *subbandPMI*, *numberOfSingleTRP-CSI-Mode1 =* 2 and if    |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with the second CRI in CSI part 1, as in       |
|          | Tables 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*, |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | second CRI in CSI part 1 according to Clause 5.2.2.2.1 in |
|          | \[6, TS38.214\] of all even subbands with increasing      |
|          | order of subband number, if *pmi-FormatIndicator=*        |
|          | *subbandPMI*, *numberOfSingleTRP-CSI-Mode1 =* 2 and if    |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the first       |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the second      |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with CRI in CSI part 1, as in Tables           |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with the first CRI in CSI part 1, as in Tables |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with CRI in CSI part |
|          | 1 according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all |
|          | odd subbands with increasing order of subband number, if  |
|          | *pmi-FormatIndicator=* *subbandPMI*,                      |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the first CRI   |
|          | in CSI part 1 according to Clause 5.2.2.2.1 in \[6,       |
|          | TS38.214\] of all odd subbands with increasing order of   |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*,   |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with the second CRI in CSI part 1, as in       |
|          | Tables 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*, |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the second CRI  |
|          | in CSI part 1 according to Clause 5.2.2.2.1 in \[6,       |
|          | TS38.214\] of all odd subbands with increasing order of   |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*,   |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+

Table 6.3.1.1.2-11B: Mapping order of CSI fields of one CSI report, CSI
part 2 subband,\
*csi-ReportMode= Mode 2*

+----------+-----------------------------------------------------------+
| CSI      | PMI subband information fields ![](media/image673.wmf) of |
| report   | all even subbands with increasing order of subband        |
| #n       | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
| Part 2   | first resource within the CSI-RS resource pair, according |
| subband  | to Clause 5.2.2.2.1 in \[6, TS38.214\] of all even        |
|          | subbands with increasing order of subband number, if      |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+==========+===========================================================+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | second resource within the CSI-RS resource pair,          |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the first       |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the second      |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with one CSI-RS resource, as in Tables         |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI* and     |
|          | reported part 1 is associated with one CSI-RS resource    |
|          | and if reported                                           |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with one    |
|          | CSI-RS resource according to Clause 5.2.2.2.1 in \[6,     |
|          | TS38.214\] of all even subbands with increasing order of  |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*    |
|          | and reported part 1 is associated with one CSI-RS         |
|          | resource and if reported                                  |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with one CSI-RS resource, as in Tables         |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI* and     |
|          | reported part 1 is associated with one CSI-RS resource    |
|          | and if reported                                           |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1/2, or         |
|          | codebook index for 2 antenna ports associated with one    |
|          | CSI-RS resource according to Clause 5.2.2.2.1 in \[6,     |
|          | TS38.214\] of all odd subbands with increasing order of   |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*    |
|          | and reported part 1 is associated with one CSI-RS         |
|          | resource and if reported                                  |
+----------+-----------------------------------------------------------+

Table 6.3.1.1.2-11C: Mapping order of CSI fields of one CSI report
containing $\mathbf{N}_{\mathbf{n}}^{\mathbf{sub}}\mathbf{\ }$CSI
sub-report(s), CSI part 2 subband, *pmi-FormatIndicator=* *subbandPMI*
or *cqi-FormatIndicator=subbandCQI*

+---------+------------------------------------------------------------+
| CSI     | Subband differential CQI of CSI sub-report #1 for the      |
| report  | second TB of all even subbands with increasing order of    |
| #n      | subband number, as in Tables 6.3.1.1.2-3/4, if             |
|         | *cqi-FormatIndicator=subbandCQI* and if reported           |
| Part 2  |                                                            |
| subband |                                                            |
+=========+============================================================+
|         | PMI subband information fields $X_{2}$ of CSI sub-report   |
|         | #1 of all even subbands with increasing order of subband   |
|         | number, from left to right as in Tables 6.3.1.1.2-1/2, or  |
|         | codebook index for 2 antenna ports of CSI sub-report #1    |
|         | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all    |
|         | even subbands with increasing order of subband number, if  |
|         | *pmi-FormatIndicator=* *subbandPMI* and if reported        |
+---------+------------------------------------------------------------+
|         | Subband differential CQI of CSI sub-report #2 for the      |
|         | second TB of all even subbands with increasing order of    |
|         | subband number, as in Tables 6.3.1.1.2-3/4, if             |
|         | *cqi-FormatIndicator=subbandCQI* and if reported           |
+---------+------------------------------------------------------------+
|         | PMI subband information fields $X_{2}$ of CSI sub-report   |
|         | #2 of all even subbands with increasing order of subband   |
|         | number, from left to right as in Tables 6.3.1.1.2-1/2, or  |
|         | codebook index for 2 antenna ports of CSI sub-report #2    |
|         | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all    |
|         | even subbands with increasing order of subband number, if  |
|         | *pmi-FormatIndicator=* *subbandPMI* and if reported        |
+---------+------------------------------------------------------------+
|         | ...                                                        |
+---------+------------------------------------------------------------+
|         | Subband differential CQI of CSI sub-report \#$N_{n}^{sub}$ |
|         | for the second TB of all even subbands with increasing     |
|         | order of subband number, as in Tables 6.3.1.1.2-3/4, if    |
|         | *cqi-FormatIndicator=subbandCQI* and if reported           |
+---------+------------------------------------------------------------+
|         | PMI subband information fields $X_{2}$ of CSI sub-report   |
|         | \#$N_{n}^{sub}$ of all even subbands with increasing order |
|         | of subband number, from left to right as in Tables         |
|         | 6.3.1.1.2-1/2, or codebook index for 2 antenna ports of    |
|         | CSI sub-report \#$N_{n}^{sub}$ according to Clause         |
|         | 5.2.2.2.1 in \[6, TS38.214\] of all even subbands with     |
|         | increasing order of subband number, if                     |
|         | *pmi-FormatIndicator=* *subbandPMI* and if reported        |
+---------+------------------------------------------------------------+
|         | Subband differential CQI of CSI sub-report #1 for the      |
|         | second TB of all odd subbands with increasing order of     |
|         | subband number, as in Tables 6.3.1.1.2-3/4, if             |
|         | *cqi-FormatIndicator=subbandCQI* and if reported           |
+---------+------------------------------------------------------------+
|         | PMI subband information fields $X_{2}$ of CSI sub-report   |
|         | #1 of all odd subbands with increasing order of subband    |
|         | number, from left to right as in Tables 6.3.1.1.2-1/2, or  |
|         | codebook index for 2 antenna ports of CSI sub-report #1    |
|         | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all    |
|         | odd subbands with increasing order of subband number, if   |
|         | *pmi-FormatIndicator=* *subbandPMI* and if reported        |
+---------+------------------------------------------------------------+
|         | Subband differential CQI of CSI sub-report #2 for the      |
|         | second TB of all odd subbands with increasing order of     |
|         | subband number, as in Tables 6.3.1.1.2-3/4, if             |
|         | *cqi-FormatIndicator=subbandCQI* and if reported           |
+---------+------------------------------------------------------------+
|         | PMI subband information fields $X_{2}$ of CSI sub-report   |
|         | #2 of all odd subbands with increasing order of subband    |
|         | number, from left to right as in Tables 6.3.1.1.2-1/2, or  |
|         | codebook index of for 2 antenna ports CSI sub-report #2    |
|         | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all    |
|         | odd subbands with increasing order of subband number, if   |
|         | *pmi-FormatIndicator=* *subbandPMI* and if reported        |
+---------+------------------------------------------------------------+
|         | ...                                                        |
+---------+------------------------------------------------------------+
|         | Subband differential CQI of CSI sub-report \#$N_{n}^{sub}$ |
|         | for the second TB of all odd subbands with increasing      |
|         | order of subband number, as in Tables 6.3.1.1.2-3/4, if    |
|         | *cqi-FormatIndicator=subbandCQI* and if reported           |
+---------+------------------------------------------------------------+
|         | PMI subband information fields $X_{2}$ of CSI sub-report   |
|         | \#$N_{n}^{sub}$ of all odd subbands with increasing order  |
|         | of subband number, from left to right as in Tables         |
|         | 6.3.1.1.2-1/2, or codebook index for 2 antenna ports of    |
|         | CSI sub-report \#$N_{n}^{sub}$ according to Clause         |
|         | 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands with      |
|         | increasing order of subband number, if                     |
|         | *pmi-FormatIndicator=* *subbandPMI* and if reported        |
+---------+------------------------------------------------------------+
| NOTE:   |                                                            |
| S       |                                                            |
| ubbands |                                                            |
| for     |                                                            |
| given   |                                                            |
| CSI     |                                                            |
| report  |                                                            |
| *n*     |                                                            |
| in      |                                                            |
| dicated |                                                            |
| by the  |                                                            |
| higher  |                                                            |
| layer   |                                                            |
| pa      |                                                            |
| rameter |                                                            |
| *csi-   |                                                            |
| Reporti |                                                            |
| ngBand* |                                                            |
| with    |                                                            |
| value   |                                                            |
| set to  |                                                            |
| \'1\'   |                                                            |
| are     |                                                            |
| n       |                                                            |
| umbered |                                                            |
| conti   |                                                            |
| nuously |                                                            |
| in the  |                                                            |
| inc     |                                                            |
| reasing |                                                            |
| order   |                                                            |
| with    |                                                            |
| the     |                                                            |
| lowest  |                                                            |
| subband |                                                            |
| of      |                                                            |
| *csi-   |                                                            |
| Reporti |                                                            |
| ngBand* |                                                            |
| with    |                                                            |
| value   |                                                            |
| set to  |                                                            |
| \'1\'   |                                                            |
| as      |                                                            |
| subband |                                                            |
| 0. CSI  |                                                            |
| sub     |                                                            |
| -report |                                                            |
| #1, CSI |                                                            |
| sub     |                                                            |
| -report |                                                            |
| #2,     |                                                            |
| ...,    |                                                            |
| CSI     |                                                            |
| sub     |                                                            |
| -report |                                                            |
| \       |                                                            |
| #$N_{n} |                                                            |
| ^{sub}$ |                                                            |
| cor     |                                                            |
| respond |                                                            |
| to the  |                                                            |
| CSI     |                                                            |
| sub-    |                                                            |
| reports |                                                            |
| in      |                                                            |
| inc     |                                                            |
| reasing |                                                            |
| order   |                                                            |
| of      |                                                            |
| *CS     |                                                            |
| I-Repor |                                                            |
| tSubCon |                                                            |
| figID*. |                                                            |
+---------+------------------------------------------------------------+

If none of the CSI reports for transmission on a PUCCH is of two parts,
the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-12, are mapped to the UCI bit sequence
![](media/image3.wmf) starting with ![](media/image674.wmf). The most
significant bit of each field is mapped to the lowest order information
bit for that field, e.g. the most significant bit of the first field is
mapped to![](media/image674.wmf).

Table 6.3.1.1.2-12: Mapping order of CSI reports to UCI bit sequence
![](media/image3.wmf),\
without two-part CSI report(s)

+---------------+------------------------------------------------------+
| UCI bit       | CSI report number                                    |
| sequence      |                                                      |
+===============+======================================================+
| ![](media/    | CSI report #1                                        |
| image675.wmf) |                                                      |
|               | as in Table 6.3.1.1.2-7/7A/8/8B                      |
+---------------+------------------------------------------------------+
|               | CSI report #2                                        |
|               |                                                      |
|               | as in Table 6.3.1.1.2-7/7A/8/8B                      |
+---------------+------------------------------------------------------+
|               | ...                                                  |
+---------------+------------------------------------------------------+
|               | CSI report #n                                        |
|               |                                                      |
|               | as in Table 6.3.1.1.2-7/7A/8/8B                      |
+---------------+------------------------------------------------------+
| NOTE: For a   |                                                      |
| CSI report #i |                                                      |
| containing    |                                                      |
| $N_{i}^{sub}$ |                                                      |
| CSI           |                                                      |
| sub-reports,  |                                                      |
| where         |                                                      |
| $i \in \{ 1,2 |                                                      |
| ,\ldots,n\}$, |                                                      |
| all CSI       |                                                      |
| sub-reports   |                                                      |
| within the    |                                                      |
| CSI report #i |                                                      |
| are mapped to |                                                      |
| the           |                                                      |
| corresponding |                                                      |
| segment of    |                                                      |
| the UCI bit   |                                                      |
| sequence of   |                                                      |
| CSI report    |                                                      |
| #i, from      |                                                      |
| upper part to |                                                      |
| lower part of |                                                      |
| the segment,  |                                                      |
| in increasing |                                                      |
| order of CSI  |                                                      |
| sub-report    |                                                      |
| number. CSI   |                                                      |
| sub-report    |                                                      |
| #1, CSI       |                                                      |
| sub-report    |                                                      |
| #2, ..., CSI  |                                                      |
| sub-report    |                                                      |
| \#            |                                                      |
| $N_{i}^{sub}$ |                                                      |
| correspond to |                                                      |
| the CSI       |                                                      |
| sub-reports   |                                                      |
| in increasing |                                                      |
| order of      |                                                      |
| *CSI-Report   |                                                      |
| SubConfigID*. |                                                      |
+---------------+------------------------------------------------------+

If at least one of the CSI reports for transmission on a PUCCH is of two
parts, two UCI bit sequences are generated, ![](media/image676.wmf) and
![](media/image677.wmf). The CSI fields of all CSI reports, in the order
from upper part to lower part in Table 6.3.1.1.2-13, are mapped to the
UCI bit sequence ![](media/image676.wmf) starting with
![](media/image678.wmf). The most significant bit of each field is
mapped to the lowest order information bit for that field, e.g. the most
significant bit of the first field is mapped to![](media/image678.wmf).
The CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-14, are mapped to the UCI bit sequence
![](media/image677.wmf) starting with ![](media/image679.wmf). The most
significant bit of each field is mapped to the lowest order information
bit for that field, e.g. the most significant bit of the first field is
mapped to ![](media/image679.wmf). If the length of UCI bit sequence
![](media/image677.wmf) is less than 3 bits, zeros shall be appended to
the UCI bit sequence until its length equals 3.

Table 6.3.1.1.2-13: Mapping order of CSI reports to UCI bit sequence
![](media/image676.wmf),\
with two-part CSI report(s)

+--------------+-------------------------------------------------------+
| UCI bit      | CSI report number                                     |
| sequence     |                                                       |
+==============+=======================================================+
| ![](media/i  | CSI report #1 if CSI report #1 is not of two parts,   |
| mage680.wmf) | or                                                    |
|              |                                                       |
|              | CSI report #1, CSI part 1, if CSI report #1 is of two |
|              | parts,                                                |
|              |                                                       |
|              | as in Table 6.3.1.1.2-7/7A/8/8B/9/9A/9B               |
+--------------+-------------------------------------------------------+
|              | CSI report #2 if CSI report #2 is not of two parts,   |
|              | or                                                    |
|              |                                                       |
|              | CSI report #2, CSI part 1, if CSI report #2 is of two |
|              | parts,                                                |
|              |                                                       |
|              | as in Table 6.3.1.1.2-7/7A/8/8B/9/9A/9B               |
+--------------+-------------------------------------------------------+
|              | ...                                                   |
+--------------+-------------------------------------------------------+
|              | CSI report #n if CSI report #n is not of two parts,   |
|              | or                                                    |
|              |                                                       |
|              | CSI report #n, CSI part 1, if CSI report #n is of two |
|              | parts,                                                |
|              |                                                       |
|              | as in Table 6.3.1.1.2-7/7A/8/8B/9/9A/9B               |
+--------------+-------------------------------------------------------+
| NOTE: For a  |                                                       |
| CSI report   |                                                       |
| #i           |                                                       |
| containing   |                                                       |
| $            |                                                       |
| N_{i}^{sub}$ |                                                       |
| CSI          |                                                       |
| sub-reports, |                                                       |
| where        |                                                       |
| $i           |                                                       |
|  \in \{ 1,2, |                                                       |
| \ldots,n\}$, |                                                       |
| either all   |                                                       |
| CSI          |                                                       |
| sub-reports  |                                                       |
| not of two   |                                                       |
| parts or CSI |                                                       |
| part 1 of    |                                                       |
| all CSI      |                                                       |
| sub-reports  |                                                       |
| of two       |                                                       |
| parts, are   |                                                       |
| mapped to    |                                                       |
| the          |                                                       |
| c            |                                                       |
| orresponding |                                                       |
| segment of   |                                                       |
| the UCI bit  |                                                       |
| sequence of  |                                                       |
| CSI report   |                                                       |
| #i, from     |                                                       |
| upper part   |                                                       |
| to lower     |                                                       |
| part of the  |                                                       |
| segment, in  |                                                       |
| increasing   |                                                       |
| order of CSI |                                                       |
| sub-report   |                                                       |
| number. CSI  |                                                       |
| sub-report   |                                                       |
| #1, CSI      |                                                       |
| sub-report   |                                                       |
| #2, ..., CSI |                                                       |
| sub-report   |                                                       |
| \#$          |                                                       |
| N_{i}^{sub}$ |                                                       |
| correspond   |                                                       |
| to the CSI   |                                                       |
| sub-reports  |                                                       |
| in           |                                                       |
| increasing   |                                                       |
| order of     |                                                       |
| *CSI-ReportS |                                                       |
| ubConfigID*. |                                                       |
+--------------+-------------------------------------------------------+

where CSI report #1, CSI report #2, ..., CSI report #n in Table
6.3.1.1.2-13 correspond to the CSI reports in increasing order of CSI
report priority values according to Clause 5.2.5 of \[6, TS38.214\].

Table 6.3.1.1.2-14: Mapping order of CSI reports to UCI bit sequence
![](media/image677.wmf),\
with two-part CSI report(s)

+--------------+-------------------------------------------------------+
| UCI bit      | CSI report number                                     |
| sequence     |                                                       |
+==============+=======================================================+
| ![](media/i  | CSI report #1, CSI part 2 wideband, as in Table       |
| mage681.wmf) | 6.3.1.1.2-10/10A/10B\                                 |
|              | if CSI part 2 exists for CSI report #1                |
+--------------+-------------------------------------------------------+
|              | CSI report #2, CSI part 2 wideband, as in Table       |
|              | 6.3.1.1.2-10/10A/10B\                                 |
|              | if CSI part 2 exists for CSI report #2                |
+--------------+-------------------------------------------------------+
|              | ...                                                   |
+--------------+-------------------------------------------------------+
|              | CSI report #n, CSI part 2 wideband, as in Table       |
|              | 6.3.1.1.2-10/10A/10B\                                 |
|              | if CSI part 2 exists for CSI report #n                |
+--------------+-------------------------------------------------------+
|              | CSI report #1, CSI part 2 subband, as in Table        |
|              | 6.3.1.1.2-11/11A/11B/11C\                             |
|              | if CSI part 2 exists for CSI report #1                |
+--------------+-------------------------------------------------------+
|              | CSI report #2, CSI part 2 subband, as in Table        |
|              | 6.3.1.1.2-11/11A/11B/11C\                             |
|              | if CSI part 2 exists for CSI report #2                |
+--------------+-------------------------------------------------------+
|              | ...                                                   |
+--------------+-------------------------------------------------------+
|              | CSI report #n, CSI part 2 subband, as in Table        |
|              | 6.3.1.1.2-11/11A/11B/11C\                             |
|              | if CSI part 2 exists for CSI report #n                |
+--------------+-------------------------------------------------------+
| NOTE: For a  |                                                       |
| CSI report   |                                                       |
| #i           |                                                       |
| c            |                                                       |
| ontaining$\  |                                                       |
| N_{i}^{sub}$ |                                                       |
| CSI          |                                                       |
| sub-reports, |                                                       |
| where        |                                                       |
| $i           |                                                       |
|  \in \{ 1,2, |                                                       |
| \ldots,n\}$: |                                                       |
|              |                                                       |
| > \- CSI     |                                                       |
| > part 2     |                                                       |
| > widebands  |                                                       |
| > of all CSI |                                                       |
| >            |                                                       |
|  sub-reports |                                                       |
| > are mapped |                                                       |
| > to the     |                                                       |
| > c          |                                                       |
| orresponding |                                                       |
| > segment of |                                                       |
| > the UCI    |                                                       |
| > bit        |                                                       |
| > sequence   |                                                       |
| > of CSI     |                                                       |
| > report #i, |                                                       |
| > from upper |                                                       |
| > part to    |                                                       |
| > lower part |                                                       |
| > of the     |                                                       |
| > segment,   |                                                       |
| > in         |                                                       |
| > increasing |                                                       |
| > order of   |                                                       |
| > CSI        |                                                       |
| > sub-report |                                                       |
| > number;    |                                                       |
| >            |                                                       |
| > \- CSI     |                                                       |
| > sub-report |                                                       |
| > #1, CSI    |                                                       |
| > sub-report |                                                       |
| > #2, ...,   |                                                       |
| > CSI        |                                                       |
| > sub-report |                                                       |
| > \#$        |                                                       |
| N_{i}^{sub}$ |                                                       |
| > correspond |                                                       |
| > to the CSI |                                                       |
| >            |                                                       |
|  sub‑reports |                                                       |
| > in         |                                                       |
| > increasing |                                                       |
| > order of   |                                                       |
| >            |                                                       |
| *CSI-ReportS |                                                       |
| ubConfigID*. |                                                       |
+--------------+-------------------------------------------------------+

where CSI report #1, CSI report #2, ..., CSI report #n in Table
6.3.1.1.2-14 correspond to the CSI reports in increasing order of CSI
report priority values according to Clause 5.2.5 of \[6, TS38.214\].

##### 6.3.1.1.3 HARQ-ACK/SR and CSI

If none of the CSI reports for transmission on a PUCCH is of two parts,
the UCI bit sequence ![](media/image3.wmf) is generated according to the
following, where ![](media/image682.wmf):

\- if there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits
are mapped to the UCI bit sequence ![](media/image683.wmf), where
![](media/image684.wmf) for ![](media/image685.wmf), the HARQ-ACK bit
sequence ![](media/image686.wmf) is given by Clause 9.1 of \[5,
TS38.213\], and ![](media/image687.wmf) is number of HARQ-ACK bits; if
there is no HARQ-ACK for transmission on the PUCCH, set
![](media/image688.wmf);

\- if there is SR for transmission on the PUCCH, set
$a_{i} = {\widetilde{o}}_{i - O^{ACK}}^{SR}$ for
![](media/image689.wmf), where the SR bit sequence
![](media/image690.wmf) is given by Clause 9.2.5.1 of \[5, TS 38.213\];
if there is no SR for transmission on the PUCCH, set
![](media/image691.wmf);

\- the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.1.1.2-12, are mapped to the UCI bit sequence
![](media/image692.wmf) starting with ![](media/image693.wmf), where
![](media/image694.wmf) is the number of CSI bits.

If at least one of the CSI reports for transmission on a PUCCH is of two
parts, two UCI bit sequences are generated, ![](media/image676.wmf) and
![](media/image677.wmf), according to the following, where
![](media/image695.wmf) and ![](media/image696.wmf):

\- if there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits
are mapped to the UCI bit sequence ![](media/image697.wmf), where
![](media/image698.wmf) for ![](media/image685.wmf), the HARQ-ACK bit
sequence ![](media/image686.wmf) is given by Clause 9.1 of \[5,
TS38.213\], and ![](media/image687.wmf) is number of HARQ-ACK bits; if
there is no HARQ-ACK for transmission on the PUCCH, set
![](media/image688.wmf);

\- if there is SR for transmission on the PUCCH, set
$a_{i} = {\widetilde{o}}_{i - O^{ACK}}^{SR}$ for
![](media/image689.wmf), where the SR bit sequence
![](media/image690.wmf) is given by Clause 9.2.5.1 of \[5, TS 38.213\];
if there is no SR for transmission on the PUCCH, set
![](media/image691.wmf);

\- the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.1.1.2-13, are mapped to the UCI bit sequence
![](media/image699.wmf) starting with ![](media/image700.wmf), where
![](media/image701.wmf) is the number of CSI bits in CSI part 1 of all
CSI reports;

\- the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.1.1.2-14, are mapped to the UCI bit sequence
![](media/image677.wmf) starting with ![](media/image679.wmf), where
![](media/image702.wmf) is the number of CSI bits in CSI part 2 of all
CSI reports. If the length of UCI bit sequence ![](media/image677.wmf)
is less than 3 bits, zeros shall be appended to the UCI bit sequence
until its length equals 3.

##### 6.3.1.1.4 UCI with different priority indexes

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, HARQ-ACK bits associated with priority index 1,
and SR associated with priority index 1 if any are transmitted on a
PUCCH, two UCI bit sequences are generated,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$
and
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{(2)}$,
according to the following, where $A^{(1)} = O^{ACK - HP} + O^{SR - HP}$
and $A^{(2)} = O^{ACK - LP}$:

\- the HARQ-ACK bits associated with priority index 1 are mapped to the
UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{O^{ACK - HP} - 1}^{(1)}$,
where $a_{i}^{(1)} = {\widetilde{o}}_{i}^{ACK - HP}$ for
$i = 0,1,\ldots,O^{ACK - HP} - 1$, the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - HP},\ {\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} - 1}^{ACK - HP}$
is given by Clause 9.1 of \[5, TS 38.213\], and $O^{ACK - HP}$ is the
number of HARQ-ACK bits associated with priority index 1;

\- if there is SR associated with priority index 1 for transmission on
the PUCCH, set
$a_{i}^{(1)} = {\widetilde{o}}_{i - O^{ACK - HP}}^{SR - HP}$ for
$i = O^{ACK - HP},O^{ACK - HP} + 1,\ldots,O^{ACK - HP} + O^{SR - HP} - 1$,
where the SR bit sequence
${\widetilde{o}}_{0}^{SR - HP},\ {\widetilde{o}}_{1}^{SR - HP},\ \ldots,{\widetilde{o}}_{O^{SR - HP} - 1}^{SR - HP}$
is given by Clause 9.2.5.1 of \[5, TS 38.213\]; if there is no SR
associated with priority index 1 for transmission on the PUCCH, set
$O^{SR - HP} = 0$;

\- the HARQ-ACK bits associated with priority index 0 are mapped to the
UCI bit sequence
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{O^{ACK - LP} - 1}^{(2)}$,
where $a_{i}^{(2)} = {\widetilde{o}}_{i}^{ACK - LP}$ for
$i = 0,1,\ldots,O^{ACK - LP} - 1$, the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$
is given by Clause 9.1 of \[5, TS 38.213\], and $O^{ACK - LP}$ is the
number of HARQ-ACK bits associated with priority index 0.

#### 6.3.1.2 Code block segmentation and CRC attachment

The UCI bit sequence from clause 6.3.1.1 is denoted by
![](media/image3.wmf), where ![](media/image5.wmf) is the payload size.
The procedure in Clause 6.3.1.2.1 applies for ![](media/image703.wmf)
and the procedure in Clause 6.3.1.2.2 applies for
![](media/image704.wmf).

##### 6.3.1.2.1 UCI encoded by Polar code

If the payload size ![](media/image703.wmf), code block segmentation and
CRC attachment is performed according to Clause 5.2.1. If
(![](media/image705.wmf) and ![](media/image706.wmf)) or if
![](media/image707.wmf), ![](media/image27.wmf); otherwise
![](media/image708.wmf), where ![](media/image709.wmf) is the rate
matching output sequence length as given in Clauses 6.3.1.4.1 and
6.3.1.4.3.

If ![](media/image710.wmf), the parity bits ![](media/image45.wmf) in
Clause 5.2.1 are computed by setting ![](media/image6.wmf) to 6 bits and
using the generator polynomial ![](media/image711.wmf) in Clause 5.1,
resulting in the sequence ![](media/image64.wmf) where
![](media/image67.wmf) is the code block number and
![](media/image398.wmf) is the number of bits for code block number
![](media/image67.wmf).

If ![](media/image712.wmf), the parity bits ![](media/image45.wmf) in
Clause 5.2.1 are computed by setting ![](media/image6.wmf) to 11 bits
and using the generator polynomial ![](media/image713.wmf) in Clause
5.1, resulting in the sequence ![](media/image64.wmf) where
![](media/image67.wmf) is the code block number and
![](media/image398.wmf) is the number of bits for code block number
![](media/image67.wmf).

##### 6.3.1.2.2 UCI encoded by channel coding of small block lengths

If the payload size ![](media/image704.wmf), CRC bits are not attached.

The output bit sequence is denoted by ![](media/image714.wmf), where
![](media/image715.wmf) for ![](media/image716.wmf) and
![](media/image717.wmf).

#### 6.3.1.3 Channel coding of UCI

##### 6.3.1.3.1 UCI encoded by Polar code

Information bits are delivered to the channel coding block. They are
denoted by ![](media/image399.wmf) , where ![](media/image67.wmf) is the
code block number, and ![](media/image398.wmf) is the number of bits in
code block number ![](media/image67.wmf). The total number of code
blocks is denoted by ![](media/image400.wmf) and each code block is
individually encoded by the following:

If ![](media/image718.wmf), the information bits are encoded via Polar
coding according to Clause 5.3.1, by setting ![](media/image719.wmf),
![](media/image115.wmf), ![](media/image720.wmf),
![](media/image721.wmf) if ![](media/image722.wmf) and
![](media/image723.wmf) if ![](media/image724.wmf), where
![](media/image725.wmf) is the rate matching output sequence length as
given in Clauses 6.3.1.4.1 and 6.3.1.4.3.

If ![](media/image726.wmf), the information bits are encoded via Polar
coding according to Clause 5.3.1, by setting ![](media/image719.wmf),
![](media/image115.wmf), ![](media/image727.wmf), and
![](media/image723.wmf).

After encoding the bits are denoted by ![](media/image728.wmf), where
![](media/image729.wmf) is the number of coded bits in code block number
![](media/image67.wmf).

##### 6.3.1.3.2 UCI encoded by channel coding of small block lengths

Information bits are delivered to the channel coding block. They are
denoted by ![](media/image714.wmf), where ![](media/image96.wmf) is the
number of bits.

The information bits are encoded according to Clause 5.3.3.

After encoding the bits are denoted by ![](media/image730.wmf), where
![](media/image731.wmf) is the number of coded bits.

#### 6.3.1.4 Rate matching

For PUCCH formats 2/3/4, the total rate matching output sequence length
![](media/image732.wmf) is given by Table 6.3.1.4-1, where
![](media/image733.wmf) , ![](media/image734.wmf), and
![](media/image735.wmf) are the number of symbols carrying UCI for PUCCH
formats 2/3/4 respectively; ![](media/image736.wmf),
![](media/image737.wmf) and $N_{PRB}^{PUCCH,4}\ $are the number of PRBs
that are determined by the UE for PUCCH formats 2/3/4 transmission
respectively according to Clause 9.2 of \[5, TS38.213\]; and
$N_{SF}^{PUCCH,2}$, $N_{SF}^{PUCCH,3}$, and ![](media/image738.wmf) are
the spreading factors for PUCCH format 2, PUCCH format 3, and PUCCH
format 4, respectively.

Table 6.3.1.4-1: Total rate matching output sequence length
![](media/image739.wmf)

  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *PUCCH format*      *Modulation order*                                                                         
  ------------------- ------------------------------------------------------------------------------------------ ------------------------------------------------------------------------------------------
                      QPSK                                                                                       π/2-BPSK

  PUCCH format 2      $$16 \bullet N_{symb,UCI}^{PUCCH,2} \bullet N_{PRB}^{PUCCH,2}/N_{SF}^{PUCCH,2}$$           N/A

  PUCCH format 3      $$24 \bullet N_{symb,UCI}^{PUCCH,3} \bullet N_{PRB}^{PUCCH,3}/N_{SF}^{PUCCH,3}$$           $$12 \bullet N_{symb,UCI}^{PUCCH,3} \bullet N_{PRB}^{PUCCH,3}/N_{SF}^{PUCCH,3}$$

  PUCCH format 4      $$\frac{24 \bullet N_{symb,UCI}^{PUCCH,4} \bullet N_{PRB}^{PUCCH,4}}{N_{SF}^{PUCCH,4}}$$   $$\frac{12 \bullet N_{symb,UCI}^{PUCCH,4} \bullet N_{PRB}^{PUCCH,4}}{N_{SF}^{PUCCH,4}}$$
  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

##### 6.3.1.4.1 UCI encoded by Polar code

The input bit sequence to rate matching is ![](media/image740.wmf) where
![](media/image67.wmf) is the code block number, and
![](media/image729.wmf) is the number of coded bits in code block number
![](media/image67.wmf).

Table 6.3.1.4.1-1: Rate matching output sequence length
![](media/image741.wmf)

+--------------+------------+------------------------------------------+
| UCI(s) for   | UCI for    | Value of ![](media/image742.wmf)         |
| transmission | encoding   |                                          |
| on a PUCCH   |            |                                          |
+==============+============+==========================================+
| HARQ-ACK     | HARQ-ACK   | ![](media/image743.wmf)                  |
+--------------+------------+------------------------------------------+
| HARQ-ACK, SR | HARQ-ACK,  | ![](media/image744.wmf)                  |
|              | SR         |                                          |
+--------------+------------+------------------------------------------+
| CSI          | CSI        | ![](media/image744.wmf)                  |
|              |            |                                          |
| (CSI not of  |            |                                          |
| two parts)   |            |                                          |
+--------------+------------+------------------------------------------+
| HARQ-ACK,    | HARQ-ACK,  | ![](media/image744.wmf)                  |
| CSI          | CSI        |                                          |
|              |            |                                          |
| (CSI not of  |            |                                          |
| two parts)   |            |                                          |
+--------------+------------+------------------------------------------+
| HARQ-ACK,    | HARQ-ACK,  | ![](media/image744.wmf)                  |
| SR, CSI      | SR, CSI    |                                          |
|              |            |                                          |
| (CSI not of  |            |                                          |
| two parts)   |            |                                          |
+--------------+------------+------------------------------------------+
| CSI          | CSI part 1 | ![](media/image745.wmf)                  |
|              |            |                                          |
| (CSI of two  |            |                                          |
| parts)       |            |                                          |
+--------------+------------+------------------------------------------+
|              | CSI part 2 | ![](media/image746.wmf)                  |
+--------------+------------+------------------------------------------+
| HARQ-ACK,    | HARQ-ACK,  | ![](media/image747.wmf)                  |
| CSI          | CSI part 1 |                                          |
|              |            |                                          |
| (CSI of two  |            |                                          |
| parts)       |            |                                          |
+--------------+------------+------------------------------------------+
|              | CSI part 2 | ![](media/image748.wmf)                  |
+--------------+------------+------------------------------------------+
| HARQ-ACK,    | HARQ-ACK,  | ![](media/image749.wmf)                  |
| SR, CSI      | SR, CSI    |                                          |
|              | part 1     |                                          |
| (CSI of two  |            |                                          |
| parts)       |            |                                          |
+--------------+------------+------------------------------------------+
|              | CSI part 2 | ![](media/image750.wmf)                  |
+--------------+------------+------------------------------------------+

Rate matching is performed according to Clause 5.4.1 by setting
![](media/image751.wmf) and the rate matching output sequence length to
![](media/image752.wmf), where ![](media/image753.wmf) is the number of
code blocks for UCI determined according to Clause 6.3.1.2.1 and the
value of ![](media/image754.wmf) is given by Table 6.3.1.4.1-1:

\- ![](media/image755.wmf) is the number of bits for HARQ-ACK for
transmission on the current PUCCH;

\- ![](media/image756.wmf) is the number of bits for SR for transmission
on the current PUCCH;

\- ![](media/image757.wmf) is the number of bits for CSI part 1 for
transmission on the current PUCCH;

\- ![](media/image758.wmf) is the number of bits for CSI part 2 for
transmission on the current PUCCH;

\- if ![](media/image759.wmf), ![](media/image760.wmf) ; otherwise,
![](media/image761.wmf) is the number of CRC bits determined according
to Clause 6.3.1.2.1, where ![](media/image762.wmf) equals
![](media/image757.wmf) for \"CSI (CSI of two parts)\", equals
![](media/image763.wmf) for \"HARQ-ACK, CSI (CSI of two parts)\", and
equals ![](media/image764.wmf) for \"HARQ-ACK, SR, CSI (CSI of two
parts)\" respectively in Table 6.3.1.4.1-1;

\- ![](media/image765.wmf) is the configured maximum PUCCH coding rate;

\- ![](media/image732.wmf) is given by Table 6.3.1.4-1.

The output bit sequence after rate matching is denoted as
![](media/image766.wmf) where ![](media/image767.wmf) is the length of
rate matching output sequence in code block number
![](media/image67.wmf).

##### 6.3.1.4.2 UCI encoded by channel coding of small block lengths

The input bit sequence to rate matching is ![](media/image97.wmf).

The value of ![](media/image768.wmf) is determined according to Table
6.3.1.4.1-1 by setting ![](media/image769.wmf).

Rate matching is performed according to Clause 5.4.3 by setting the rate
matching output sequence length ![](media/image770.wmf).

The output bit sequence after rate matching is denoted as
![](media/image252.wmf).

##### 6.3.1.4.3 UCI with different priority indexes encoded by Polar code

The following procedure in this clause 6.3.1.4.3 applies if
*uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1 and SR
associated with priority index 1 if any are transmitted on a PUCCH.

The input bit sequence to rate matching is
$d_{r0},d_{r1},d_{r2},d_{r3},\ldots,d_{r(N_{r} - 1)}$ where $r$ is the
code block number, and $N_{r}$ is the number of coded bits in code block
number$\ r$.

Table 6.3.1.4.3-1: Rate matching output sequence length
$\mathbf{E}_{\mathbf{UCI}}$ for UCIs with different priority indexes

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  UCIs for         UCI for        Value of $\mathbf{E}_{\mathbf{UCI}}$
  transmission on  encoding       
  a PUCCH                         
  ---------------- -------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------
  HARQ-ACK of      HARQ-ACK of    $$E_{UCI} = min\left( E_{tot},\left\lceil \left( O^{ACK - HP} + L \right)/R_{UCI}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
  priority index   priority index 
  1, HARQ-ACK of   1              
  priority index 0                

                   HARQ-ACK of    $$E_{UCI} = E_{tot} - min\left( E_{tot},\left\lceil \left( O^{ACK - HP} + L \right)/R_{UCI}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
                   priority index 
                   0              

  HARQ-ACK of      HARQ-ACK of    $$E_{UCI} = min\left( E_{tot},\left\lceil \left( O^{ACK - HP} + O^{SR - HP} + L \right)/R_{UCI}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
  priority index   priority index 
  1, SR of         1, SR of       
  priority index   priority index 
  1, HARQ-ACK of   1              
  priority index 0                

                   HARQ-ACK of    $$E_{UCI} = E_{tot} - min\left( E_{tot},\left\lceil \left( O^{ACK - HP} + O^{SR - HP} + L \right)/R_{UCI}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
                   priority index 
                   0              
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Rate matching is performed according to Clause 5.4.1 by setting
$I_{BIL} = 1$ and the rate matching output sequence length to
$E_{r} = \left\lfloor \frac{E_{UCI}}{C_{UCI}} \right\rfloor$, where
$C_{UCI}$ is the number of code blocks for UCI determined according to
Clause 6.3.1.2.1 and the value of $E_{UCI}$ is given by Table
6.3.1.4.3-1:

\- $O^{ACK - HP}$ is the number of bits for HARQ-ACK associated with
priority index 1 for transmission on the current PUCCH;

\- $O^{SR - HP}$ is the number of bits for SR associated with priority
index 1 for transmission on the current PUCCH;

\- if $A \geq 360$, $L$=11; otherwise, $L$ is the number of CRC bits
determined according to clause 6.3.1.2.1, where $A$ equals
$O^{ACK - HP}$ for the case of \"HARQ-ACK of priority index 1, HARQ-ACK
of priority index 0\", and equals $O^{ACK - HP} + O^{SR - HP}$ for the
case of \"HARQ-ACK of priority index 1, SR of priority index 1, HARQ-ACK
of priority index 0\" respectively in Table 6.3.1.4.3-1;

\- $R_{UCI}^{max - HP}$ is the configured maximum PUCCH coding rate of
priority index 1;

\- $E_{tot}$ is given by Table 6.3.1.4-1.

The output bit sequence after rate matching is denoted as
$f_{r0},f_{r1},f_{r2},\ldots,f_{r(E_{r} - 1)}$ where $E_{r}$ is the
length of rate matching output sequence in code block number$\ r$.

##### 6.3.1.4.4 UCI with different priority indexes encoded by channel coding of small block lengths

The following procedure in this clause 6.3.1.4.4 applies if
*uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1 and SR
associated with priority index 1 if any are transmitted on a PUCCH.

The input bit sequence to rate matching is
$d_{0},d_{1},d_{2},\ldots,d_{N - 1}$.

The value of $E_{UCI}$ is determined according to Table 6.3.1.4.3-1 by
setting $L$=0.

Rate matching is performed according to Clause 5.4.3 by setting the rate
matching output sequence length ${E = E}_{UCI}$.

The output bit sequence after rate matching is denoted as
$f_{0},f_{1},f_{2},\ldots,f_{E - 1}$.

#### 6.3.1.5 Code block concatenation

The input bit sequence for the code block concatenation block are the
sequences![](media/image766.wmf), for ![](media/image372.wmf) and where
![](media/image374.wmf) is the number of rate matched bits for the
![](media/image67.wmf)-th code block.

Code block concatenation is performed according to Clause 5.5.

The bits after code block concatenation are denoted
by![](media/image771.wmf), where ![](media/image772.wmf) with the values
of ![](media/image773.wmf) and ![](media/image774.wmf) given in Clauses
6.3.1.4.1 and 6.3.1.4.3. Let ![](media/image409.wmf) be the total number
of coded bits for transmission and ![](media/image775.wmf). Set
![](media/image776.wmf) for ![](media/image777.wmf).

#### 6.3.1.6 Multiplexing of coded UCI bits to PUCCH

If CSI of two parts or UCIs with different priority indexes are
transmitted on a PUCCH, the coded bits corresponding to UCI bit sequence
![](media/image676.wmf) is denoted by ![](media/image778.wmf)and the
coded bits corresponding to UCI bit sequence ![](media/image677.wmf) is
denoted by ![](media/image779.wmf).

For PUCCH format 2 when *uci-MuxWithDiffPrio* is configured, the coded
bit sequence $g_{0},g_{1},g_{2},g_{3},\ldots,g_{G - 1}$ is generated for
UCIs with different priority indexes by setting $g_{i} = g_{i}^{(1)}$
for $i = 0,1,\ldots,G^{(1)} - 1$, and setting
$g_{i} = g_{i - G^{(1)}}^{(2)}$ for
$i = G^{(1)},G^{(1)} + 1,\ldots,{G^{(1)} + G}^{(2)} - 1$.

For PUCCH format 3/4, the coded bit sequence ![](media/image408.wmf),
where ![](media/image780.wmf), is generated according to the following.

Table 6.3.1.6-1: PUCCH DMRS and UCI symbols

  --------------------------------------------------------------------------------------------------------------------------------
  PUCCH       PUCCH DMRS   Number of UCI symbol      1^st^ UCI symbol indices  2^nd^ UCI symbol indices  3^rd^ UCI symbol indices
  duration    symbol       indices sets              set                       set                       set
  (symbols)   indices      ![](media/image781.wmf)   ![](media/image782.wmf)   ![](media/image783.wmf)   ![](media/image784.wmf)
  ----------- ------------ ------------------------- ------------------------- ------------------------- -------------------------
  4           {1}          2                         {0,2}                     {3}                       \-

  4           {0,2}        1                         {1,3}                     \-                        \-

  5           {0, 3}       1                         {1, 2, 4}                 \-                        \-

  6           {1, 4}       1                         {0, 2, 3, 5}              \-                        \-

  7           {1, 4}       2                         {0, 2, 3, 5}              {6}                       \-

  8           {1, 5}       2                         {0, 2, 4, 6}              {3, 7}                    \-

  9           {1, 6}       2                         {0, 2, 5, 7}              {3, 4, 8}                 \-

  10          {2, 7}       2                         {1, 3, 6, 8}              {0, 4, 5, 9}              \-

  10          {1, 3, 6, 8} 1                         {0,2,4,5,7,9}             \-                        \-

  11          {2, 7}       3                         {1,3,6,8}                 {0,4,5,9}                 {10}

  11          {1,3,6,9}    1                         {0,2,4,5,7,8,10}          \-                        \-

  12          {2, 8}       3                         {1,3,7,9}                 {0,4,6,10}                {5, 11}

  12          {1,4,7,10}   1                         {0,2,3,5,6,8,9,11}        \-                        \-

  13          {2, 9}       3                         {1,3,8,10}                {0,4,7,11}                {5,6,12}

  13          {1,4,7,11}   2                         {0,2,3,5,6,8,10,12}       {9}                       \-

  14          {3, 10}      3                         {2,4,9,11}                {1,5,8,12}                {0,6,7,13}

  14          {1,5,8,12}   2                         {0,2,4,6,7,9,11,13}       {3, 10}                   \-
  --------------------------------------------------------------------------------------------------------------------------------

Denote ![](media/image785.wmf) as UCI OFDM symbol index. Denote
![](media/image786.wmf) as the number of elements in UCI symbol indices
set ![](media/image787.wmf) for ![](media/image788.wmf), where
![](media/image787.wmf) and ![](media/image789.wmf) are given by Table
6.3.1.6-1 according to the PUCCH duration and the PUCCH DMRS
configuration. Denote ![](media/image790.wmf) as the number of OFDM
symbols carrying UCI in the PUCCH. Denote ![](media/image456.wmf) as the
modulation order of the PUCCH.

For PUCCH formats 3/4, set
$N_{\text{UCI}}^{\text{symbol}} = 12 \cdot N_{\text{PRB}}^{\text{PUCCH,}\text{s}}/N_{\text{SF}}^{\text{PUCCH,}s}$
, where $N_{\text{PRB}}^{\text{PUCCH,}\text{s}}$ is the number of PRBs
that is determined by the UE for the corresponding PUCCH format
transmission according to Clause 9.2 of \[5, TS 38.213\], and
$N_{\text{SF}}^{\text{PUCCH,}s}$ is the spreading factor for the
corresponding PUCCH format \[4, TS 38.211\], where
$s \in \left\{ 3,4 \right\}$.

Find the smallest![](media/image791.wmf) such that
![](media/image792.wmf).

Set ![](media/image793.wmf);

Set ![](media/image794.wmf);

Set ![](media/image795.wmf);

Set ![](media/image796.wmf);

for ![](media/image797.wmf) to ![](media/image798.wmf)

if ![](media/image799.wmf)

for ![](media/image800.wmf) to ![](media/image801.wmf)

for ![](media/image802.wmf) to ![](media/image803.wmf)

![](media/image804.wmf);

![](media/image805.wmf);

end for

end for

elseif ![](media/image806.wmf)

if ![](media/image807.wmf)

![](media/image808.wmf);

else

![](media/image809.wmf);

end if

![](media/image810.wmf);

for ![](media/image811.wmf) to ![](media/image812.wmf)

for ![](media/image802.wmf) to ![](media/image813.wmf)

![](media/image814.wmf);

![](media/image815.wmf);

end for

end for

for ![](media/image816.wmf) to ![](media/image817.wmf)

for ![](media/image802.wmf) to ![](media/image813.wmf)

![](media/image818.wmf);

![](media/image819.wmf);

end for

end for

else

for ![](media/image820.wmf) to ![](media/image821.wmf)

for ![](media/image802.wmf) to ![](media/image813.wmf)

![](media/image822.wmf);

![](media/image819.wmf);

end for

end for

end if

end for

Set ![](media/image823.wmf)

for ![](media/image824.wmf) to ![](media/image825.wmf)

for ![](media/image826.wmf) to ![](media/image827.wmf)

for ![](media/image802.wmf) to ![](media/image813.wmf)

![](media/image828.wmf);

![](media/image829.wmf);

end for

end for

end for

### 6.3.2 Uplink control information on PUSCH

The following clauses 6.3.2.2, 6.3.2.3, and 6.3.2.5 apply regardless of
whether the higher layer parameter *uci-MuxWithDiffPrio* is configured
or not. The following clauses 6.3.2.1, 6.3.2.4, and 6.3.2.6 apply by
assuming *uci-MuxWithDiffPrio* is not configured, or
*uci-MuxWithDiffPrio* is configured and the UCIs for transmission on a
PUSCH are of the same priority index, unless stated otherwise.

If the UE is configured with a PUCCH-SCell, *uci-MuxWithDiffPrio* is
replaced by *uci-MuxWithDiffPrioSecondaryPUCCHgroup* for the secondary
PUCCH group in this clause*.*

#### 6.3.2.1 UCI bit sequence generation

##### 6.3.2.1.1 HARQ-ACK

If HARQ-ACK bits are transmitted on a PUSCH, the UCI bit sequence
![](media/image3.wmf) is determined as follows:

\- If UCI is transmitted on PUSCH without UL-SCH and the UCI includes
CSI part 1 without CSI part 2,

\- if there is no HARQ-ACK bit given by Clause 9.1 of \[5, TS 38.213\],
set ![](media/image830.wmf), ![](media/image831.wmf), and
![](media/image832.wmf);

\- if there is only one HARQ-ACK bit ![](media/image833.wmf) given by
Clause 9.1 of \[5, TS 38.213\], set ![](media/image834.wmf),
![](media/image835.wmf), and ![](media/image832.wmf);

\- otherwise, set ![](media/image684.wmf) for ![](media/image685.wmf)
and ![](media/image836.wmf), where the HARQ-ACK bit sequence
![](media/image686.wmf) is given by Clause 9.1 of \[5, TS 38.213\].

##### 6.3.2.1.2 CSI

If *cqi-BitsPerSubband* is configured, this Clause 6.3.2.1.2 applies by
taking Subband CQI as Subband differential CQI and replacing the
corresponding number of bits 2 by 4.

If *csi-ReportSubConfig* is configured, for a corresponding CSI
sub-report, the bitwidth of a CSI field of the CSI sub-report is
determined following the procedure in this clause 6.3.2.1.2 by taking
configurations in *CSI-ReportSubConfig* when applicable. If
*csi-ReportSubConfig* configures a list of CSI-RS resource IDs, for the
determination of the bitwidth of a CRI field, the value of
$K_{s}^{CSI - RS}$ is the number of CSI-RS resources configured in the
corresponding *csi-ReportSubConfig*.

The bitwidth for PMI of *codebookType=typeI-SinglePanel* and
*codebookType=typeI-MultiPanel* is specified in Clause 6.3.1.1.2.

The bitwidth for RI/LI/CQI/CRI of *codebookType=typeI-SinglePanel* and
*codebookType=typeI-MultiPanel* is specified in Clause 6.3.1.1.2.

The bitwidth for PMI/RI/LI/CQI/CRI with 1 CSI-RS port is specified in
Clause 6.3.1.1.2.

The bitwidth for PMI of *codebookType=typeII* is provided in Tables
6.3.2.1.2-1, where the values of ![](media/image837.wmf),
![](media/image612.wmf), ![](media/image838.wmf),
![](media/image839.wmf), ![](media/image840.wmf),
![](media/image841.wmf), and ![](media/image842.wmf) are given by Clause
5.2.2.2.3 in \[6, TS 38.214\].

Table 6.3.2.1.2-1: PMI of *codebookType=* *typeII*

<table style="width:100%;">
<colgroup>
<col style="width: 6%" />
<col style="width: 9%" />
<col style="width: 8%" />
<col style="width: 7%" />
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 5%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 10%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="header">
<th rowspan="2"></th>
<th colspan="6">Information fields <img src="media/image672.wmf" /> for
wideband PMI</th>
<th colspan="4">Information fields <img src="media/image673.wmf" /> for
wideband PMI or per subband PMI</th>
</tr>
<tr class="odd">
<th><img src="media/image589.wmf" /></th>
<th><img src="media/image590.wmf" /></th>
<th><img src="media/image843.wmf" /></th>
<th><img src="media/image616.wmf" /></th>
<th><img src="media/image844.wmf" /></th>
<th><img src="media/image617.wmf" /></th>
<th><img src="media/image845.wmf" /></th>
<th><img src="media/image846.wmf" /></th>
<th><img src="media/image847.wmf" /></th>
<th><img src="media/image848.wmf" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Rank=1</p>
<p>SBAmp off</p></td>
<td><img src="media/image849.wmf" /></td>
<td><img src="media/image850.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
<td><img src="media/image853.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p>SBAmp off</p></td>
<td><img src="media/image854.wmf" /></td>
<td><img src="media/image850.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image855.wmf" /></td>
<td><img src="media/image856.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p>SBAmp on</p></td>
<td><img src="media/image857.wmf" /></td>
<td><img src="media/image850.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
<td><img src="media/image858.wmf" /></td>
<td>N/A</td>
<td><img src="media/image859.wmf" /></td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p>SBAmp on</p></td>
<td><img src="media/image857.wmf" /></td>
<td><img src="media/image850.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image860.wmf" /></td>
<td><img src="media/image861.wmf" /></td>
<td><img src="media/image859.wmf" /></td>
<td><img src="media/image862.wmf" /></td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType=typeII-r16* is provided in Tables
6.3.2.1.2-1A, where the values of $(N_{1},\ N_{2})$, $(O_{1},\ O_{2})$,
$L$, $K^{NZ}$, $N_{3}$, and
$\left\{ M_{l} \right\}_{l = 1,\ldots,\ \upsilon}$ are given by Clause
5.2.2.2.5 in \[6, TS 38.214\].

Table 6.3.2.1.2-1A: PMI of *codebookType=* *typeII-r16*

<table>
<colgroup>
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 3%" />
<col style="width: 1%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 0%" />
<col style="width: 10%" />
<col style="width: 3%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 7%" />
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="header">
<th colspan="3" rowspan="2"></th>
<th colspan="16">Information fields <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="4"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="3"><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="2">N/A</td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="3"><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="odd">
<td colspan="3"><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="3"><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
</tr>
<tr class="odd">
<td colspan="3"><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="2">N/A</td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="3"><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="odd">
<td colspan="3"><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="3"><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="18">Information fields <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>5</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">2<em>L</em><em>M</em><sub>1</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4<em>L</em><em>M</em><sub>2</sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">6<em>L</em><em>M</em><sub>3</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">8<em>L</em><em>M</em><sub>4</sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>1</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{1} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">2<em>L</em><em>M</em><sub>1</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4<em>L</em><em>M</em><sub>2</sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td>N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>3</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">6<em>L</em><em>M</em><sub>3</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td>4</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>4</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">8<em>L</em><em>M</em><sub>4</sub></span></td>
</tr>
<tr class="odd">
<td colspan="19">Note: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-1A is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline">2<em>L</em><em>M</em><sub><em>υ</em></sub></span>,
<span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.5 in TS 38.214 [6] is the number of nonzero
coefficients for layer <span class="math inline"><em>l</em></span> such
that <span class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType=typeII-CJT* is provided in Tables
6.3.2.1.2-1B, where the values of $(N_{1},\ N_{2})$, $(O_{1},\ O_{2})$,
$O_{3}$, $K^{NZ}$, $N_{3}$, $N_{0}$, $L_{n}$, $\sigma(n)$ and
$\left\{ M_{l} \right\}_{l = 1,\ldots,\ \upsilon}$ are given by Clause
5.2.2.2.8 in \[6, TS 38.214\].

Table 6.3.2.1.2-1B: PMI of *codebookType=* *typeII-CJT*

<table style="width:100%;">
<colgroup>
<col style="width: 8%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 2%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 4%" />
<col style="width: 11%" />
<col style="width: 1%" />
<col style="width: 13%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="header">
<th rowspan="2"></th>
<th colspan="10"><strong>Information fields</strong> <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="2"><span
class="math display"><em>N</em><sub>0</sub>⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L_{\sigma(n)}
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}(\sum_{n = 1}^{N_{0}}{2L}_{\sigma(n)})
\right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}(\sum_{n =
1}^{N_{0}}{2L}_{\sigma(n)}) \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="10"><strong>Information fields</strong> <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>5</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>2</strong></sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>1</sub>)⌉</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{1} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>2</sub>)⌉</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>3</sub>)⌉</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>4</sub>)⌉</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="10"><strong>Information fields</strong> <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>9</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3">N/A</td>
<td>N/A</td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span class="math display">$$2 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{1}$$</span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3">N/A</td>
<td>N/A</td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span class="math display">$$4 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{2}$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span class="math display">$$6 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{3}$$</span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span class="math display">$$8 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{4}$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3">N/A</td>
<td>N/A</td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span class="math display">$$2 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{1}$$</span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3">N/A</td>
<td>N/A</td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span class="math display">$$4 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{2}$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span class="math display">$$6 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{3}$$</span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span class="math display">$$8 \bullet \sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{4}$$</span></td>
</tr>
<tr class="odd">
<td colspan="11">NOTE: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-1B is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline">$2\sum_{n =
1}^{N_{0}}L_{\sigma(n)}M_{\upsilon}$</span>, <span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>j</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>j</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>j</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.8 in [6, TS 38.214] is the number of
nonzero coefficients for layer <span
class="math inline"><em>l</em></span> such that <span
class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType=typeII-Doppler* is provided in
Tables 6.3.2.1.2-1C, where the values of $(N_{1},\ N_{2})$,
$(O_{1},\ O_{2})$, $L$, $K^{NZ}$, $N_{3}$, $N_{4}$, *Q* and
$\left\{ M_{l} \right\}_{l = 1,\ldots,\ \upsilon}$ are given by Clause
5.2.2.2.10 in \[6, TS 38.214\].

Table 6.3.2.1.2-1C: PMI of *codebookType=typeII-Doppler*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 1%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 1%" />
<col style="width: 2%" />
<col style="width: 7%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 8%" />
<col style="width: 1%" />
<col style="width: 4%" />
<col style="width: 8%" />
<col style="width: 1%" />
<col style="width: 1%" />
<col style="width: 9%" />
<col style="width: 0%" />
<col style="width: 0%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th colspan="2" rowspan="2"></th>
<th colspan="19">Information fields <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="4"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="4"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="2"><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="2"><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="odd">
<td colspan="2"><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="2"><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
</tr>
<tr class="odd">
<td colspan="2"><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="2"><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
</tr>
<tr class="odd">
<td colspan="2"><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="2">N/A</td>
</tr>
<tr class="even">
<td colspan="2"><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span
class="math display">⌈log<sub>2</sub>(<em>O</em><sub>1</sub><em>O</em><sub>2</sub>)⌉</span></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{1}N_{2} \\
L
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em><em>Q</em>)⌉</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="20">Information fields <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>5</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>4</strong></sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>1</sub>)⌉</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{1} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>2</sub>)⌉</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>3</sub>)⌉</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>4</sub>)⌉</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="3"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="20">Information fields <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>10</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="4"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>10</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>10</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>10</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="3"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4">NA</td>
<td colspan="3">NA</td>
<td colspan="3">NA</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">2<em>L</em><em>M</em><sub>1</sub><em>Q</em></span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3">NA</td>
<td colspan="3">NA</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4<em>L</em><em>M</em><sub>2</sub><em>Q</em></span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3">NA</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">6<em>L</em><em>M</em><sub>3</sub><em>Q</em></span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">8<em>L</em><em>M</em><sub>4</sub><em>Q</em></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4">NA</td>
<td colspan="3">NA</td>
<td colspan="3">NA</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">2<em>L</em><em>M</em><sub>1</sub><em>Q</em></span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3">NA</td>
<td colspan="3">NA</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4<em>L</em><em>M</em><sub>2</sub><em>Q</em></span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3">NA</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">6<em>L</em><em>M</em><sub>3</sub><em>Q</em></span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="4"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em><sub>4</sub> − 1)⌉</span>
if <span class="math inline"><em>N</em><sub>4</sub> &gt; 2</span> and
Q=2, NA otherwise</td>
<td colspan="3"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="3"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">8<em>L</em><em>M</em><sub>4</sub><em>Q</em></span></td>
</tr>
<tr class="odd">
<td colspan="21">NOTE: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-1C is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline">2<em>L</em><em>M</em><sub><em>υ</em></sub><em>Q</em></span>,
<span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>τ</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>τ</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>τ</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.10 in [6, TS 38.214] is the number of
nonzero coefficients for layer <span
class="math inline"><em>l</em></span> such that <span
class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType= typeII-PortSelection* is provided
in Tables 6.3.2.1.2-2, where the values of ![](media/image863.wmf),
![](media/image864.wmf), ![](media/image838.wmf),
![](media/image839.wmf), ![](media/image840.wmf),
![](media/image841.wmf), and ![](media/image842.wmf) are given by Clause
5.2.2.2.4 in \[6, TS 38.214\].

Table 6.3.2.1.2-2: PMI of *codebookType=* *typeII-PortSelection*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 7%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 10%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="header">
<th rowspan="2"></th>
<th colspan="5">Information fields <img src="media/image672.wmf" /> for
wideband PMI</th>
<th colspan="4">Information fields <img src="media/image673.wmf" /> for
wideband PMI or per subband PMI</th>
</tr>
<tr class="odd">
<th><img src="media/image589.wmf" /></th>
<th><img src="media/image843.wmf" /></th>
<th><img src="media/image616.wmf" /></th>
<th><img src="media/image844.wmf" /></th>
<th><img src="media/image617.wmf" /></th>
<th><img src="media/image845.wmf" /></th>
<th><img src="media/image846.wmf" /></th>
<th><img src="media/image847.wmf" /></th>
<th><img src="media/image848.wmf" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Rank=1</p>
<p>SBAmp off</p></td>
<td><img src="media/image865.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
<td><img src="media/image853.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p>SBAmp off</p></td>
<td><img src="media/image865.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image855.wmf" /></td>
<td><img src="media/image856.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p>SBAmp on</p></td>
<td><img src="media/image865.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td>N/A</td>
<td>N/A</td>
<td><img src="media/image858.wmf" /></td>
<td>N/A</td>
<td><img src="media/image859.wmf" /></td>
<td>N/A</td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p>SBAmp on</p></td>
<td><img src="media/image865.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image851.wmf" /></td>
<td><img src="media/image852.wmf" /></td>
<td><img src="media/image860.wmf" /></td>
<td><img src="media/image866.wmf" /></td>
<td><img src="media/image859.wmf" /></td>
<td><img src="media/image862.wmf" /></td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType=typeII-PortSelection-r16* is
provided in Tables 6.3.2.1.2-2A, where the values of
$P_{CSI - RS}$,$\ d$, $L$, $K^{NZ}$, $N_{3}$, and
$\left\{ M_{l} \right\}_{l = 1,\ldots,\ \upsilon}$ are given by Clause
5.2.2.2.6 in \[6, TS 38.214\].

Table 6.3.2.1.2-2A: PMI of *codebookType=* *typeII-PortSelection-r16*

<table>
<colgroup>
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 4%" />
<col style="width: 8%" />
<col style="width: 2%" />
<col style="width: 9%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 10%" />
<col style="width: 1%" />
<col style="width: 9%" />
<col style="width: 6%" />
<col style="width: 1%" />
<col style="width: 8%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="header">
<th colspan="4" rowspan="2"></th>
<th colspan="14">Information fields <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="4"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td colspan="4"><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td colspan="4"><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="odd">
<td colspan="4"><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td colspan="4"><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
</tr>
<tr class="odd">
<td colspan="4"><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub><em>K</em><sup><em>N</em><em>Z</em></sup>⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td colspan="4"><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2">N/A</td>
<td colspan="3">N/A</td>
</tr>
<tr class="odd">
<td colspan="4"><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3">N/A</td>
</tr>
<tr class="even">
<td colspan="4"><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td colspan="4"><span class="math display">$$\left\lceil
\log_{2}\left\lceil \frac{P_{CSI - RS}}{2d} \right\rceil
\right\rceil$$</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(2<em>L</em>)⌉</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="17">Information fields <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>5</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong> <strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">2<em>L</em><em>M</em><sub>1</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4<em>L</em><em>M</em><sub>2</sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td>N/A</td>
<td>N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">6<em>L</em><em>M</em><sub>3</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> ≤ 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td>N/A</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
N_{3} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">8<em>L</em><em>M</em><sub>4</sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=1</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>1</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{1} - 1 \\
M_{1} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td><span
class="math display">2<em>L</em><em>M</em><sub>1</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=2</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td>N/A</td>
<td><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>2</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{2} - 1 \\
M_{2} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td><span
class="math display">4<em>L</em><em>M</em><sub>2</sub></span></td>
</tr>
<tr class="odd">
<td><p>Rank=3</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td>N/A</td>
<td><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>3</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{3} - 1 \\
M_{3} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td><span
class="math display">6<em>L</em><em>M</em><sub>3</sub></span></td>
</tr>
<tr class="even">
<td><p>Rank=4</p>
<p><span
class="math display"><em>N</em><sub>3</sub> &gt; 19</span></p></td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td>4</td>
<td><span
class="math display">⌈log<sub>2</sub>(2<em>M</em><sub>4</sub>)⌉</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
2M_{4} - 1 \\
M_{4} - 1
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td><span
class="math display">8<em>L</em><em>M</em><sub>4</sub></span></td>
</tr>
<tr class="odd">
<td colspan="18">NOTE: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-2A is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline">2<em>L</em><em>M</em><sub><em>υ</em></sub></span>,
<span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.5 in TS 38.214 [6] is the number of nonzero
coefficients for layer <span class="math inline"><em>l</em></span> such
that <span class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType=typeII-PortSelection-r17* is
provided in Tables 6.3.2.1.2-2B, where the values of
$P_{CSI - RS}$,$\ K_{1}$, $K^{NZ}$, $N_{3}$, $N$ and $M$ are given by
Clause 5.2.2.2.7 in \[6, TS 38.214\].

Table 6.3.2.1.2-2B: PMI of *codebookType=* *typeII-PortSelection-r17*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 3%" />
<col style="width: 8%" />
<col style="width: 6%" />
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 1%" />
<col style="width: 11%" />
<col style="width: 2%" />
<col style="width: 9%" />
<col style="width: 5%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="header">
<th rowspan="2"></th>
<th colspan="12">Information fields <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong><strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rank=1</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Rank=2</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Rank=3</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Rank=4</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="12">Information fields <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td>Rank=1</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><p>N/A if <span
class="math inline"><em>K</em><sup><em>N</em><em>Z</em></sup> = <em>K</em><sub>1</sub><em>M</em></span>;</p>
<p><span class="math inline"><em>K</em><sub>1</sub><em>M</em></span>
otherwise</p></td>
</tr>
<tr class="even">
<td>Rank=2</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><p>N/A if <span
class="math inline"><em>K</em><sup><em>N</em><em>Z</em></sup> = 2<em>K</em><sub>1</sub><em>M</em></span>;</p>
<p><span class="math inline">2<em>K</em><sub>1</sub><em>M</em></span>
otherwise</p></td>
</tr>
<tr class="odd">
<td>Rank=3</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">3<em>K</em><sub>1</sub><em>M</em></span></td>
</tr>
<tr class="even">
<td>Rank=4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4<em>K</em><sub>1</sub><em>M</em></span></td>
</tr>
<tr class="odd">
<td colspan="13">NOTE: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-2B is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline"><em>K</em><sub>1</sub><em>M</em></span>, <span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.7 in TS 38.214 [6] is the number of nonzero
coefficients for layer <span class="math inline"><em>l</em></span> such
that <span class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

If *csi-ReportSubConfig* is configured, for a corresponding CSI
sub-report, the mapping order of CSI fields of one CSI sub-report is
determined following the procedure in this clause 6.3.2.1.2, by
replacing CSI report #n in the following Tables 6.3.2.1.2-3 and
6.3.2.1.2-4 with CSI sub-report #n, and taking only Tables
6.3.1.1.2-1/2/3/4 for the determination of the bitwidth of a CSI field.

The bitwidth for PMI of *codebookType=typeII-CJT-PortSelection* is
provided in Tables 6.3.2.1.2-2C, where the values of
$P_{CSI - RS}$,$\ \left\{ K_{1,n} \right\}$,$\ K^{NZ}$, $N_{3}$, $N$,
$M$ and $\sigma(n)$ are given by Clause 5.2.2.2.9 in \[6, TS 38.214\].

Table 6.3.2.1.2-2C: PMI of *codebookType= typeII-CJT-PortSelection*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 4%" />
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 7%" />
<col style="width: 1%" />
<col style="width: 11%" />
<col style="width: 3%" />
<col style="width: 8%" />
<col style="width: 7%" />
<col style="width: 8%" />
<col style="width: 7%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th rowspan="2"></th>
<th colspan="13"><strong>Information fields</strong> <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong><strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rank=1</td>
<td colspan="3"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1,\sigma(n)}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="3"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Rank=2</td>
<td colspan="3"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1,\sigma(n)}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="3"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Rank=3</td>
<td colspan="3"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1,\sigma(n)}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="3"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Rank=4</td>
<td colspan="3"><span class="math display">$$\sum_{n =
1}^{N_{0}}\left\lceil \log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1,\sigma(n)}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="3"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td colspan="2"><span class="math display">$$\left\lceil \log_{2}\left(
\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
<td><span class="math display">$$\left\lceil \log_{2}\left( \sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M \right) \right\rceil$$</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="13"><strong>Information fields</strong> <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>9</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td>Rank=1</td>
<td>4</td>
<td>N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><p>N/A if <span class="math inline">$K^{NZ} = \sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M$</span>;</p>
<p><span class="math inline">$\sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M$</span> otherwise</p></td>
</tr>
<tr class="even">
<td>Rank=2</td>
<td>4</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><p>N/A if <span class="math inline">$K^{NZ} = 2\sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M$</span>;</p>
<p><span class="math inline">$2\sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M$</span> otherwise</p></td>
</tr>
<tr class="odd">
<td>Rank=3</td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span class="math display">$$3 \bullet \sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M$$</span></td>
</tr>
<tr class="even">
<td>Rank=4</td>
<td>4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math inline">(<em>N</em><sub>0</sub> − 1)⌈log<sub>2</sub><em>O</em><sub>3</sub><em>N</em><sub>3</sub>⌉</span>
if <em>Mode1</em> is configured, NA otherwise</td>
<td colspan="2"><span class="math display">$$4 \bullet \sum_{n =
1}^{N_{0}}K_{1,\sigma(n)}M$$</span></td>
</tr>
<tr class="odd">
<td colspan="14">NOTE: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-2C is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline">$\sum_{n = 1}^{N_{0}}K_{1,\sigma(n)}M$</span>, <span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>j</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>j</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em>, <em>j</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.9 in [6, TS 38.214] is the number of
nonzero coefficients for layer <span
class="math inline"><em>l</em></span> such that <span
class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

The bitwidth for PMI of *codebookType=typeII-Doppler-PortSelection* is
provided in Tables 6.3.2.1.2-2D, where the values of
$P_{CSI - RS}$,$\ K_{1}$, $K^{NZ}$, $N_{3}$, $N$ and $M$ are given by
Clause 5.2.2.2.11 in \[6, TS 38.214\].

Table 6.3.2.1.2-2D: PMI of *codebookType= typeII-Doppler-PortSelection*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 8%" />
<col style="width: 3%" />
<col style="width: 10%" />
<col style="width: 1%" />
<col style="width: 11%" />
<col style="width: 2%" />
<col style="width: 9%" />
<col style="width: 5%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="header">
<th rowspan="2"></th>
<th colspan="12">Information fields <span
class="math inline"><strong>X</strong><sub><strong>1</strong></sub></span></th>
</tr>
<tr class="odd">
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong><strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>6</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>1</strong></sub></span></th>
<th colspan="3"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>2</strong></sub></span></th>
<th colspan="2"><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>3</strong></sub></span></th>
<th><span
class="math display"><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>8</strong><strong>,</strong> <strong>4</strong></sub></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rank=1</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3">N/A</td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Rank=2</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="2">N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Rank=3</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td>N/A</td>
</tr>
<tr class="even">
<td>Rank=4</td>
<td colspan="2"><span class="math display">$$\left\lceil
\log_{2}\begin{pmatrix}
P_{CSI - RS}/2 \\
K_{1}/2
\end{pmatrix} \right\rceil$$</span></td>
<td colspan="2"><span
class="math inline">⌈log<sub>2</sub>(<em>N</em> − 1)⌉</span> if <em>N
&gt; M=2</em>, N/A otherwise</td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="3"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td colspan="2"><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
<td><span
class="math display">⌈log<sub>2</sub>(<em>K</em><sub>1</sub><em>M</em>)⌉</span></td>
</tr>
<tr class="odd">
<td rowspan="2"></td>
<td colspan="12">Information fields <span
class="math inline"><strong>X</strong><sub><strong>2</strong></sub></span></td>
</tr>
<tr class="even">
<td><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>1</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>2</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>3</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>3</strong><strong>,</strong> <strong>4</strong></sub></span></td>
<td><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>4</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>2</strong><strong>,</strong> <strong>5</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
<td colspan="2"><span
class="math display"><strong>{</strong><strong>i</strong><sub><strong>1</strong><strong>,</strong> <strong>7</strong><strong>,</strong> <strong>l</strong></sub><strong>}</strong><sub><strong>l</strong> <strong>=</strong> <strong>1</strong><strong>,</strong><strong>…</strong><strong>,</strong> <strong>υ</strong></sub></span></td>
</tr>
<tr class="odd">
<td>Rank=1</td>
<td>4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 1)</span></td>
<td colspan="2"><p>N/A if <span
class="math inline"><em>K</em><sup><em>N</em><em>Z</em></sup> = <em>K</em><sub>1</sub><em>M</em></span>;</p>
<p><span class="math inline"><em>K</em><sub>1</sub><em>M</em></span>
otherwise</p></td>
</tr>
<tr class="even">
<td>Rank=2</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 2)</span></td>
<td colspan="2"><p>N/A if <span
class="math inline"><em>K</em><sup><em>N</em><em>Z</em></sup> = 2<em>K</em><sub>1</sub><em>M</em></span>;</p>
<p><span class="math inline">2<em>K</em><sub>1</sub><em>M</em></span>
otherwise</p></td>
</tr>
<tr class="odd">
<td>Rank=3</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td colspan="2">N/A</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 3)</span></td>
<td colspan="2"><span
class="math display">3<em>K</em><sub>1</sub><em>M</em></span></td>
</tr>
<tr class="even">
<td>Rank=4</td>
<td>4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td colspan="2">4</td>
<td><span
class="math display">3(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4(<em>K</em><sup><em>N</em><em>Z</em></sup> − 4)</span></td>
<td colspan="2"><span
class="math display">4<em>K</em><sub>1</sub><em>M</em></span></td>
</tr>
<tr class="odd">
<td colspan="13">NOTE: the bitwidth for <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>,
<span
class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}<sub><em>l</em> = 1, …, <em>υ</em></sub></span>
shown in Table 6.3.2.1.2-2D is the total bitwidth of <span
class="math inline">{<em>i</em><sub>1, 7, <em>l</em></sub>}</span>,
<span class="math inline">{<em>i</em><sub>2, 4, <em>l</em></sub>}</span>
and <span
class="math inline">{<em>i</em><sub>2, 5, <em>l</em></sub>}</span> up to
Rank = <span class="math inline"><em>υ</em></span>, respectively, and
the corresponding per layer bitwidths are <span
class="math inline"><em>K</em><sub>1</sub><em>M</em></span>, <span
class="math inline">3(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
and 4<span
class="math inline">(<em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup> − 1)</span>,
(i.e., 1, 3, and 4 bits for each respective indicator elements <span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(3)</sup></span>,
<span
class="math inline"><em>k</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub><sup>(2)</sup></span>,
and <span
class="math inline"><em>c</em><sub><em>l</em>, <em>i</em>, <em>f</em></sub></span>,
respectively), where <span
class="math inline"><em>K</em><sub><em>l</em></sub><sup><em>N</em><em>Z</em></sup></span>
as defined in Clause 5.2.2.2.11 in [6, TS 38.214] is the number of
nonzero coefficients for layer <span
class="math inline"><em>l</em></span> such that <span
class="math inline">$K^{NZ} = \sum_{l =
1}^{\upsilon}K_{l}^{NZ}$</span>.</td>
</tr>
</tbody>
</table>

For CSI on PUSCH, two UCI bit sequences are generated,
![](media/image676.wmf) and ![](media/image677.wmf). The CSI fields of
all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-6, are mapped to the UCI bit sequence ![](media/image676.wmf)
starting with ![](media/image678.wmf). The CSI fields of all CSI
reports, in the order from upper part to lower part in Table
6.3.2.1.2-7, are mapped to the UCI bit sequence ![](media/image677.wmf)
starting with ![](media/image679.wmf).

The mapping order of CSI fields of one report for CRI/RSRP or SSBRI/RSRP
or CRI/RSRP/CapabilityIndex or SSBRI/RSRP/CapabilityIndex reporting is
provided in Table 6.3.1.1.2-8. The mapping order of CSI fields of one
report for inter-cell SSBRI/RSRP reporting is provided in Table
6.3.1.1.2-8. The mapping order of CSI fields of one report for CRI/SINR
or SSBRI/SINR or CRI/SINR/CapabilityIndex or SSBRI/SINR/CapabilityIndex
reporting is provided in Table 6.3.1.1.2-8A. The mapping order of CSI
fields of one report for group-based CRI/RSRP or SSBRI/RSRP reporting is
provided in Table 6.3.1.1.2-8B. The mapping order of CSI fields of one
report for TDCP reporting is provided in Table 6.3.2.1.2-3C. The mapping
order of CSI fields of one report for SSBRI/RSRP reporting for
L1/L2‑triggered mobility is provided in Table 6.3.1.1.2-8C. The
procedure in clause 6.3.2 described for CSI part 1 is also applicable
for one report for CRI/RSRP, SSBRI/RSRP, CRI/SINR, SSBRI/SINR reporting,
or TDCP reporting.

Table 6.3.2.1.2-3: Mapping order of CSI fields of one CSI report, CSI
part 1

+-------------+--------------------------------------------------------+
| CSI report  | CSI fields                                             |
| number      |                                                        |
+=============+========================================================+
| CSI report  | CRI as in Tables 6.3.1.1.2-3/4/6, if reported          |
| #n          |                                                        |
|             |                                                        |
| CSI part 1  |                                                        |
+-------------+--------------------------------------------------------+
|             | Rank Indicator as in Tables 6.3.1.1.2-3/4/5 or         |
|             | 6.3.2.1.2-8/8A/8B/9/9A, if reported                    |
+-------------+--------------------------------------------------------+
|             | Wideband CQI for the first TB as in Tables             |
|             | 6.3.1.1.2-3/4/5 or 6.3.2.1.2-8/8A/8B/9/9A, if reported |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in Tables        |
|             | 6.3.1.1.2-3/4/5 or 6.3.2.1.2-8/8A/8B/9/9A, if reported |
+-------------+--------------------------------------------------------+
|             | Indicator of the number of non-zero wideband amplitude |
|             | coefficients $M_{0}$ for layer 0 as in Table           |
|             | 6.3.1.1.2-5, if reported                               |
+-------------+--------------------------------------------------------+
|             | Indicator of the number of non-zero wideband amplitude |
|             | coefficients $M_{1}$ for layer 1 as in Table           |
|             | 6.3.1.1.2-5 (if the rank according to the reported RI  |
|             | is equal to one, this field is set to all zeros), if   |
|             | 2-layer PMI reporting is allowed according to the rank |
|             | restriction in Clauses 5.2.2.2.3 and 5.2.2.2.4 \[6, TS |
|             | 38.214\] and if reported                               |
+-------------+--------------------------------------------------------+
|             | Indicator of the $N_{0}$ selected CSI-RS resources by  |
|             | a bitmap with $N_{TRP}$ bits, this field is present    |
|             | only if $N_{TRP} > 1$ and *restrictedCMR-Selection* is |
|             | configured to *OFF*                                    |
+-------------+--------------------------------------------------------+
|             | Indicator of selected $L_{n}$ value combination or     |
|             | $\alpha_{n}$ value combination with bitwidth of        |
|             | $\left\lceil \log_{2}{(N_{L})} \right\rceil$, this     |
|             | field is present only if $N_{L} > 1$                   |
+-------------+--------------------------------------------------------+
|             | Indicator of the total number of non-zero coefficients |
|             | summed across all layers $K^{NZ}$ as in                |
|             | Tables 6.3.2.1.2-8/8A/8B/9/9A, if reported             |
+-------------+--------------------------------------------------------+
| NOTE:       |                                                        |
| Subbands    |                                                        |
| for given   |                                                        |
| CSI report  |                                                        |
| *n*         |                                                        |
| indicated   |                                                        |
| by the      |                                                        |
| higher      |                                                        |
| layer       |                                                        |
| parameter   |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| are         |                                                        |
| numbered    |                                                        |
| c           |                                                        |
| ontinuously |                                                        |
| in the      |                                                        |
| increasing  |                                                        |
| order with  |                                                        |
| the lowest  |                                                        |
| subband of  |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| as subband  |                                                        |
| 0.          |                                                        |
+-------------+--------------------------------------------------------+

Table 6.3.2.1.2-3A: Mapping order of CSI fields of one CSI report, CSI
part 1, *csi-ReportMode= Mode 1*

+-------------+--------------------------------------------------------+
| CSI report  | CSI fields                                             |
| number      |                                                        |
+=============+========================================================+
| CSI report  | CRI as in Table 6.3.1.1.2-3A, if associated with one   |
| #n          | CSI-RS resource pair and if reported                   |
|             |                                                        |
| CSI part 1  |                                                        |
+-------------+--------------------------------------------------------+
|             | Rank Combination Indicator as in Table 6.3.1.1.2-3A,   |
|             | if reported                                            |
+-------------+--------------------------------------------------------+
|             | Wideband CQI for the first TB as in Table              |
|             | 6.3.1.1.2-3A, if reported                              |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in               |
|             | Table 6.3.1.1.2-3A, if reported                        |
+-------------+--------------------------------------------------------+
|             | CRI as in Tables 6.3.1.1.2-3B, if associated with one  |
|             | CSI-RS resource, *numberOfSingleTRP-CSI-Mode1 = 1* and |
|             | if reported;                                           |
|             |                                                        |
|             | First CRI as in Table 6.3.1.1.2-3B, if associated with |
|             | one CSI-RS resource, *numberOfSingleTRP-CSI-Mode1 = 2* |
|             | and if reported                                        |
+-------------+--------------------------------------------------------+
|             | Rank Indicator associated with CRI as in Table         |
|             | 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1 =* 1 and |
|             | if reported;                                           |
|             |                                                        |
|             | Rank Indicator associated with the first CRI as in     |
|             | Table 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1 =* |
|             | 2 and if reported                                      |
+-------------+--------------------------------------------------------+
|             | Wideband CQI associated with CRI for the first TB as   |
|             | in Table 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1 |
|             | =* 1 and if reported;                                  |
|             |                                                        |
|             | Wideband CQI associated with the first CRI for the     |
|             | first TB as in Table 6.3.1.1.2-3B, if                  |
|             | *numberOfSingleTRP-CSI-Mode1 = 2* and if reported      |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI associated with CRI for the   |
|             | first TB with increasing order of subband number as in |
|             | Table 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1 =* |
|             | 1 if reported;                                         |
|             |                                                        |
|             | Subband differential CQI associated with the first CRI |
|             | for the first TB with increasing order of subband      |
|             | number as in Table 6.3.1.1.2-3B, if                    |
|             | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported      |
+-------------+--------------------------------------------------------+
|             | Second CRI as in Table 6.3.1.1.2-3B, if associated     |
|             | with one CSI-RS resource, *numberOfSingleTRP-CSI-Mode1 |
|             | =* 2 and if reported                                   |
+-------------+--------------------------------------------------------+
|             | Rank Indicator associated with the second CRI as in    |
|             | Table 6.3.1.1.2-3B, if *numberOfSingleTRP-CSI-Mode1 =* |
|             | 2 and if reported                                      |
+-------------+--------------------------------------------------------+
|             | Wideband CQI associated with the second CRI for the    |
|             | first TB as in Table 6.3.1.1.2-3B, if                  |
|             | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported      |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI associated with the second    |
|             | CRI for the first TB with increasing order of subband  |
|             | number as in Table 6.3.1.1.2-3B, if                    |
|             | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported      |
+-------------+--------------------------------------------------------+
| NOTE:       |                                                        |
| Subbands    |                                                        |
| for given   |                                                        |
| CSI report  |                                                        |
| *n*         |                                                        |
| indicated   |                                                        |
| by the      |                                                        |
| higher      |                                                        |
| layer       |                                                        |
| parameter   |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| are         |                                                        |
| numbered    |                                                        |
| c           |                                                        |
| ontinuously |                                                        |
| in the      |                                                        |
| increasing  |                                                        |
| order with  |                                                        |
| the lowest  |                                                        |
| subband of  |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| as subband  |                                                        |
| 0.          |                                                        |
+-------------+--------------------------------------------------------+

Table 6.3.2.1.2-3B: Mapping order of CSI fields of one CSI report, CSI
part 1, *csi-ReportMode= Mode 2*

+-------------+--------------------------------------------------------+
| CSI report  | CSI fields                                             |
| number      |                                                        |
+=============+========================================================+
| CSI report  | CRI as in Table 6.3.1.1.2-3A, if associated with one   |
| #n          | CSI-RS resource pair and if reported;                  |
|             |                                                        |
| CSI part 1  | CRI as in Table 6.3.1.1.2-3B, if associated with one   |
|             | CSI-RS resource and if reported                        |
+-------------+--------------------------------------------------------+
|             | Rank Combination Indicator as in Table 6.3.1.1.2-3A,   |
|             | if associated with one CSI-RS resource pair and if     |
|             | reported;                                              |
|             |                                                        |
|             | Rank Indicator as in Table 6.3.1.1.2-3B, if associated |
|             | with one CSI-RS resource and if reported;              |
|             |                                                        |
|             | Zero padding bits $O_{P}$, if needed                   |
+-------------+--------------------------------------------------------+
|             | Wideband CQI for the first TB as in Table              |
|             | 6.3.1.1.2-3A, if associated with one CSI-RS resource   |
|             | pair and if reported;                                  |
|             |                                                        |
|             | Wideband CQI for the first TB as in Table              |
|             | 6.3.1.1.2-3B, if associated with one CSI-RS resource   |
|             | and if reported                                        |
+-------------+--------------------------------------------------------+
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in               |
|             | Table 6.3.1.1.2-3A, if associated with one CSI-RS      |
|             | resource pair and if reported;                         |
|             |                                                        |
|             | Subband differential CQI for the first TB with         |
|             | increasing order of subband number as in               |
|             | Table 6.3.1.1.2-3B, if associated with one CSI-RS      |
|             | resource and if reported                               |
+-------------+--------------------------------------------------------+
| NOTE:       |                                                        |
| Subbands    |                                                        |
| for given   |                                                        |
| CSI report  |                                                        |
| *n*         |                                                        |
| indicated   |                                                        |
| by the      |                                                        |
| higher      |                                                        |
| layer       |                                                        |
| parameter   |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| are         |                                                        |
| numbered    |                                                        |
| c           |                                                        |
| ontinuously |                                                        |
| in the      |                                                        |
| increasing  |                                                        |
| order with  |                                                        |
| the lowest  |                                                        |
| subband of  |                                                        |
| *csi-Rep    |                                                        |
| ortingBand* |                                                        |
| as subband  |                                                        |
| 0.          |                                                        |
+-------------+--------------------------------------------------------+

Table 6.3.2.1.2-3C: Mapping order of CSI fields of one CSI report for
*reportQuantity*=*tdcp*

  -----------------------------------------------------------------------
  **CSI report   **CSI fields**
  number**       
  -------------- --------------------------------------------------------
  CSI report #n  Amplitude value for the configured delay values as in
                 Table 6.3.2.1.2-10 based on the order from the first
                 configured delay to the last configured delay

                 Phase value for the configured delay values as in Table
                 6.3.2.1.2-10 based on the order from the first
                 configured delay to the last configured delay, if
                 reported
  -----------------------------------------------------------------------

The number of zero padding bits $O_{P}$ in Table 6.3.1.1.2-9B is 0 for 1
CSI-RS port and $O_{P} = N_{\max} - N_{reported}(R)$ for more than 1
CSI-RS port, where:

\- $N_{\max} = \max_{r \in S_{Rank}}{N(r)}\ $. $S_{Rank}\ $is the set of
rank and rank combination values *r* that are allowed to be reported.
$N(r)$ is obtained according to Tables 6.3.1.1.2-3A/3B for rank
combination indicator and rank indicator respectively.

\- $N_{reported}\ (R)\ $is obtained according to Tables 6.3.1.1.2-3A for
rank combination indicator and *R* is the reported rank combination

\- $N_{reported}\ (R)$ is obtained according to Tables 6.3.1.1.2-3B for
rank indicator and *R* is the reported rank

Table 6.3.2.1.2-4: Mapping order of CSI fields of one CSI report, CSI
part 2 wideband

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | Wideband CQI for the second TB as in Tables             |
| #n         | 6.3.1.1.2-3/4/5, if present and reported                |
|            |                                                         |
| CSI part 2 |                                                         |
| wideband   |                                                         |
+------------+---------------------------------------------------------+
|            | Layer Indicator as in Tables 6.3.1.1.2-3/4/5, if        |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1/2 or 6.3.2.1.2-1/2, if reported      |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1/2 or 6.3.2.1.2-1/2, or codebook      |
|            | index for 2 antenna ports according to Clause 5.2.2.2.1 |
|            | in \[6, TS38.214\], if *pmi-FormatIndicator=*           |
|            | *widebandPMI* and if reported                           |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-4A: Mapping order of CSI fields of one CSI report, CSI
part 2 wideband,\
*csi-ReportMode= Mode 1*

+-----------+----------------------------------------------------------+
| CSI       | CSI fields                                               |
| report    |                                                          |
| number    |                                                          |
+===========+==========================================================+
| CSI       | Two Layer Indicators as in Table 6.3.1.1.2-3A, where the |
| report #n | first Layer Indicator and the second Layer Indicator are |
|           | associated with the first resource and the second        |
| CSI part  | resource within the resource pair respectively and if    |
| 2         | reported;                                                |
| wideband  |                                                          |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image672.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1 associated   |
|           | with the first resource within the CSI-RS resource pair, |
|           | if reported                                              |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image673.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, or codebook |
|           | index for 2 antenna ports according to Clause 5.2.2.2.1  |
|           | in \[6, TS38.214\] associated with the first CSI-RS      |
|           | resource within the CSI-RS resource pair, if             |
|           | *pmi-FormatIndicator=* *widebandPMI* and if reported     |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image672.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1 associated   |
|           | with the second resource within the CSI-RS resource      |
|           | pair, if reported                                        |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image673.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, or codebook |
|           | index for 2 antenna ports according to Clause 5.2.2.2.1  |
|           | in \[6, TS38.214\] associated with the second CSI-RS     |
|           | resource within the CSI-RS resource pair, if             |
|           | *pmi-FormatIndicator=* *widebandPMI* and if reported     |
+-----------+----------------------------------------------------------+
|           | Wideband CQI for the second TB as in Tables              |
|           | 6.3.1.1.2-3B, if associated with CRI in CSI part 1,      |
|           | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;       |
|           |                                                          |
|           | Wideband CQI for the second TB as in Tables              |
|           | 6.3.1.1.2-3B, if associated with the first CRI in CSI    |
|           | part 1, *numberOfSingleTRP-CSI-Mode1 =* 2 and if         |
|           | reported                                                 |
+-----------+----------------------------------------------------------+
|           | Layer Indicator as in Table 6.3.1.1.2-3B, if associated  |
|           | with CRI in CSI part 1, *numberOfSingleTRP-CSI-Mode1 =*  |
|           | 1 and if reported;                                       |
|           |                                                          |
|           | Layer Indicator as in Table 6.3.1.1.2-3B, if associated  |
|           | with the first CRI in CSI part 1,                        |
|           | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported        |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image672.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, if          |
|           | associated with CRI in CSI part 1,                       |
|           | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;       |
|           |                                                          |
|           | PMI wideband information fields ![](media/image672.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, if          |
|           | associated with the first CRI in CSI part 1,             |
|           | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported        |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image673.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, or codebook |
|           | index for 2 antenna ports according to Clause 5.2.2.2.1  |
|           | in \[6, TS38.214\], if associated with CRI in CSI part   |
|           | 1, *pmi-FormatIndicator=* *widebandPMI*,                 |
|           | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;       |
|           |                                                          |
|           | PMI wideband information fields ![](media/image673.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, or codebook |
|           | index for 2 antenna ports according to Clause 5.2.2.2.1  |
|           | in \[6, TS38.214\], if associated with the first CRI in  |
|           | CSI part 1, *pmi-FormatIndicator=* *widebandPMI,*        |
|           | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported        |
+-----------+----------------------------------------------------------+
|           | Wideband CQI for the second TB as in Tables              |
|           | 6.3.1.1.2-3B, if associated with the second CRI in CSI   |
|           | part 1, *numberOfSingleTRP-CSI-Mode1 =* 2 and if         |
|           | reported                                                 |
+-----------+----------------------------------------------------------+
|           | Layer Indicator as in Table 6.3.1.1.2-3B, if associated  |
|           | with the second CRI in CSI part 1,                       |
|           | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported        |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image672.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, if          |
|           | associated with the second CRI in CSI part 1,            |
|           | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported        |
+-----------+----------------------------------------------------------+
|           | PMI wideband information fields ![](media/image673.wmf), |
|           | from left to right as in Tables 6.3.1.1.2-1, or codebook |
|           | index for 2 antenna ports according to Clause 5.2.2.2.1  |
|           | in \[6, TS38.214\], if associated with the second CRI in |
|           | CSI part 1, *pmi-FormatIndicator=* *widebandPMI*,        |
|           | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported        |
+-----------+----------------------------------------------------------+

Table 6.3.2.1.2-4B: Mapping order of CSI fields of one CSI report, CSI
part 2 wideband,\
*csi-ReportMode= Mode 2*

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | Wideband CQI for the second TB as in Tables             |
| #n         | 6.3.1.1.2-3B, if reported part 1 is associated with one |
|            | CSI-RS resource and if reported                         |
| CSI part 2 |                                                         |
| wideband   |                                                         |
+------------+---------------------------------------------------------+
|            | Two Layer Indicators as in Table 6.3.1.1.2-3A, if       |
|            | reported part 1 is associated with one CSI-RS resource  |
|            | pair, where the first Layer Indicator and the second    |
|            | Layer Indicator are associated with the first resource  |
|            | and the second resource within the resource pair        |
|            | respectively and if reported;                           |
|            |                                                         |
|            | Layer Indicator as in Table 6.3.1.1.2-3B, if reported   |
|            | part 1 is associated with one CSI-RS resource and if    |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1 associated with the first resource   |
|            | within the CSI-RS resource pair, if reported part 1 is  |
|            | associated with one CSI-RS resource pair and if         |
|            | reported                                                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\]  |
|            | associated with the first CSI-RS resource within the    |
|            | CSI-RS resource pair, if *pmi-FormatIndicator=*         |
|            | *widebandPMI* and reported part 1 is associated with    |
|            | one CSI-RS resource pair and if reported                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1 associated with the second CSI-RS    |
|            | resource within the CSI-RS resource pair, if reported   |
|            | part 1 is associated with one CSI-RS resource pair and  |
|            | if reported                                             |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\]  |
|            | associated with the second CSI-RS resource within the   |
|            | CSI-RS resource pair, if *pmi-FormatIndicator=*         |
|            | *widebandPMI* and reported part 1 is associated with    |
|            | one CSI-RS resource pair and if reported                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image672.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, if reported part 1 is associated    |
|            | with one CSI-RS resource and if reported                |
+------------+---------------------------------------------------------+
|            | PMI wideband information fields                         |
|            | ![](media/image673.wmf), from left to right as in       |
|            | Tables 6.3.1.1.2-1, or codebook index for 2 antenna     |
|            | ports according to Clause 5.2.2.2.1 in \[6, TS38.214\], |
|            | if *pmi-FormatIndicator=* *widebandPMI* and reported    |
|            | part 1 is associated with one CSI-RS resource and if    |
|            | reported                                                |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-5: Mapping order of CSI fields of one CSI report, CSI
part 2 subband

+----------+-----------------------------------------------------------+
| CSI      | Subband differential CQI for the second TB of all even    |
| report   | subbands with increasing order of subband number, as in   |
| #n       | Tables 6.3.1.1.2-3/4/5, if                                |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
| Part 2   |                                                           |
| subband  |                                                           |
+==========+===========================================================+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1/2 or  |
|          | 6.3.2.1.2-1/2, or codebook index for 2 antenna ports      |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number, as in   |
|          | Tables 6.3.1.1.2-3/4/5, if                                |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1/2 or          |
|          | 6.3.2.1.2-1/2, or codebook index for 2 antenna ports      |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | odd subbands with increasing order of subband number, if  |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
| NOTE:    |                                                           |
| Subbands |                                                           |
| for      |                                                           |
| given    |                                                           |
| CSI      |                                                           |
| report   |                                                           |
| *n*      |                                                           |
| i        |                                                           |
| ndicated |                                                           |
| by the   |                                                           |
| higher   |                                                           |
| layer    |                                                           |
| p        |                                                           |
| arameter |                                                           |
| *cs      |                                                           |
| i-Report |                                                           |
| ingBand* |                                                           |
| are      |                                                           |
| numbered |                                                           |
| cont     |                                                           |
| inuously |                                                           |
| in the   |                                                           |
| in       |                                                           |
| creasing |                                                           |
| order    |                                                           |
| with the |                                                           |
| lowest   |                                                           |
| subband  |                                                           |
| of       |                                                           |
| *cs      |                                                           |
| i-Report |                                                           |
| ingBand* |                                                           |
| as       |                                                           |
| subband  |                                                           |
| 0.       |                                                           |
+----------+-----------------------------------------------------------+

Table 6.3.2.1.2-5A: Mapping order of CSI fields of one CSI report, CSI
part 2 of\
*codebookType=typeII-r16 or typeII-PortSelection-r16*

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | PMI fields $X_{1}$, from left to right as in Tables     |
| #n         | 6.3.2.1.2-1A/2A, if reported                            |
|            |                                                         |
| CSI part   |                                                         |
| 2, group 0 |                                                         |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Tables                                            |
|            | 6.3.2.1.2-1A/2                                          |
| CSI part   | A:$\ \left\{ i_{2,3,l}:l = 1,\ldots,\upsilon \right\}$, |
| 2, group 1 | $i_{1,5}$,                                              |
|            | $\left\{ i_{1,6,l}:l = 1,\ldots,\upsilon \right\}$ and  |
|            | $max(0,\left\lc                                         |
|            | eil \frac{K^{NZ}}{2} \right\rceil - \upsilon) \times 3$ |
|            | highest priority bits of                                |
|            |                                                         |
|            | $\left\{                                                |
|            | i_{2,4,l}:l = 1,\ldots,\upsilon \right\},max(0,\left\lc |
|            | eil \frac{K^{NZ}}{2} \right\rceil - \upsilon) \times 4$ |
|            | highest priority bits of                                |
|            | $\{ i_{2,5,l}:l = 1,\ldots,\upsilon\}$                  |
|            | and$\ \n                                                |
|            | u*2LM_{\upsilon} - \left\lfloor K^{NZ}/2 \right\rfloor$ |
|            | highest priority bits                                   |
|            | of$\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$,   |
|            | in decreasing order of priority based on the            |
|            | corresponding function $Pri(l,i,f)$ defined in clause   |
|            | 5.2.3 of TS 38.214 \[6\], if reported                   |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Tables                                            |
|            | 6.3.2.1.2-1A/2A$:\ \min\left( K^{NZ} - v,\ \left\       |
| CSI part   | lfloor \frac{K^{NZ}}{2} \right\rfloor \right) \times 3$ |
| 2, group 2 | lowest priority bits of                                 |
|            | $\left\{ i_{2,4,l}:l = 1,                               |
|            | \ldots,\upsilon \right\},\min\left( K^{NZ} - v,\ \left\ |
|            | lfloor \frac{K^{NZ}}{2} \right\rfloor \right) \times 4$ |
|            | lowest priority bits of                                 |
|            | $\left\{ i_{2,5,l}:l = 1,\ldots,\upsilon \right\}$ and  |
|            | $\left\lfloor K^{NZ}/2 \right\rfloor$ lowest priority   |
|            | bits of                                                 |
|            | $\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$, in  |
|            | decreasing order of priority based on the corresponding |
|            | function $Pri(l,i,f)$ defined in clause 5.2.3 of TS     |
|            | 38.214 \[6\], if reported                               |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-5B: Mapping order of CSI fields of one CSI report, CSI
part 2 of\
*codebookType=typeII-PortSelection-r17* or
*typeII-Doppler-PortSelection*

+------------+---------------------------------------------------------+
| CSI report | CSI fields                                              |
| number     |                                                         |
+============+=========================================================+
| CSI report | PMI fields $X_{1}$, from left to right as in Table      |
| #n         | 6.3.2.1.2-2B/2D, if reported                            |
|            |                                                         |
| CSI part   |                                                         |
| 2, group 0 |                                                         |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-2B/2D:$\ \left\{ i_{                          |
| CSI part   | 2,3,l}:l = 1,\ldots,\upsilon \right\}\ (max(0,\left\lce |
| 2, group 1 | il \frac{K^{NZ}}{2} \right\rceil - \upsilon)) \times 3$ |
|            | highest priority bits of                                |
|            |                                                         |
|            | $\left\{ i_                                             |
|            | {2,4,l}:l = 1,\ldots,\upsilon \right\},(max(0,\left\lce |
|            | il \frac{K^{NZ}}{2} \right\rceil - \upsilon)) \times 4$ |
|            | highest priority bits of                                |
|            | $\{ i_{2,5,l}:l = 1,\ldots,\upsilon\}$                  |
|            | and$\ \nu*K_{1}M - \left\lfloor K^{NZ}/2 \right\rfloor$ |
|            | highest priority bits                                   |
|            | of$\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$,   |
|            | in decreasing order of priority based on the            |
|            | corresponding function $Pri(l,i,f)$ defined in clause   |
|            | 5.2.3 of TS 38.214 \[6\], if reported                   |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-2B/2D$:\ (\min\left( K^{NZ} - v,\ \left\l     |
| CSI part   | floor \frac{K^{NZ}}{2} \right\rfloor \right)) \times 3$ |
| 2, group 2 | lowest priority bits of                                 |
|            | $\left\{ i_{2,4,l}:l = 1,\l                             |
|            | dots,\upsilon \right\},(\min\left( K^{NZ} - v,\ \left\l |
|            | floor \frac{K^{NZ}}{2} \right\rfloor \right)) \times 4$ |
|            | lowest priority bits of                                 |
|            | $\left\{ i_{2,5,l}:l = 1,\ldots,\upsilon \right\}$ and  |
|            | $\left\lfloor K^{NZ}/2 \right\rfloor$ lowest priority   |
|            | bits of                                                 |
|            | $\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$, in  |
|            | decreasing order of priority based on the corresponding |
|            | function $Pri(l,i,f)$ defined in clause 5.2.3 of TS     |
|            | 38.214 \[6\], if reported                               |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-5C: Mapping order of CSI fields of one CSI report, CSI
part 2 subband,\
*ReportMode= Mode 1*

+----------+-----------------------------------------------------------+
| CSI      | PMI subband information fields ![](media/image673.wmf) of |
| report   | all even subbands with increasing order of subband        |
| #n       | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
| Part 2   | first resource within the CSI-RS resource pair, according |
| subband  | to Clause 5.2.2.2.1 in \[6, TS38.214\] of all even        |
|          | subbands with increasing order of subband number, if      |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+==========+===========================================================+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | second resource within the CSI-RS resource pair,          |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with CRI in CSI part 1, as in Tables           |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with the first CRI in CSI part 1, as in Tables |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with CRI in |
|          | CSI part 1 according to Clause 5.2.2.2.1 in \[6,          |
|          | TS38.214\] of all even subbands with increasing order of  |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*,   |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | first CRI in CSI part 1 according to Clause 5.2.2.2.1 in  |
|          | \[6, TS38.214\] of all even subbands with increasing      |
|          | order of subband number, if *pmi-FormatIndicator=*        |
|          | *subbandPMI*, *numberOfSingleTRP-CSI-Mode1 =* 2 and if    |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with the second CRI in CSI part 1, as in       |
|          | Tables 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*, |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | second CRI in CSI part 1 according to Clause 5.2.2.2.1 in |
|          | \[6, TS38.214\] of all even subbands with increasing      |
|          | order of subband number, if *pmi-FormatIndicator=*        |
|          | *subbandPMI*, *numberOfSingleTRP-CSI-Mode1 =* 2 and if    |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the first       |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the second      |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with CRI in CSI part 1, as in Tables           |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with the first CRI in CSI part 1, as in Tables |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*,        |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with CRI in CSI part |
|          | 1 according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all |
|          | odd subbands with increasing order of subband number, if  |
|          | *pmi-FormatIndicator=* *subbandPMI*,                      |
|          | *numberOfSingleTRP-CSI-Mode1 =* 1 and if reported;        |
|          |                                                           |
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the first CRI   |
|          | in CSI part 1 according to Clause 5.2.2.2.1 in \[6,       |
|          | TS38.214\] of all odd subbands with increasing order of   |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*,   |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with the second CRI in CSI part 1, as in       |
|          | Tables 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI*, |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the second CRI  |
|          | in CSI part 1 according to Clause 5.2.2.2.1 in \[6,       |
|          | TS38.214\] of all odd subbands with increasing order of   |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*,   |
|          | *numberOfSingleTRP-CSI-Mode1 =* 2 and if reported         |
+----------+-----------------------------------------------------------+

Table 6.3.2.1.2-5D: Mapping order of CSI fields of one CSI report, CSI
part 2 subband,\
*ReportMode= Mode 2*

+----------+-----------------------------------------------------------+
| CSI      | PMI subband information fields ![](media/image673.wmf) of |
| report   | all even subbands with increasing order of subband        |
| #n       | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
| Part 2   | first resource within the CSI-RS resource pair, according |
| subband  | to Clause 5.2.2.2.1 in \[6, TS38.214\] of all even        |
|          | subbands with increasing order of subband number, if      |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+==========+===========================================================+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with the    |
|          | second resource within the CSI-RS resource pair,          |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the first       |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1, or codebook  |
|          | index for 2 antenna ports associated with the second      |
|          | resource within the CSI-RS resource pair, according to    |
|          | Clause 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands   |
|          | with increasing order of subband number, if               |
|          | *pmi-FormatIndicator=* *subbandPMI* and reported part 1   |
|          | is associated with one CSI-RS resource pair and if        |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all even    |
|          | subbands with increasing order of subband number          |
|          | associated with one CSI-RS resource, as in Tables         |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI* and     |
|          | reported part 1 is associated with one CSI-RS resource    |
|          | and if reported                                           |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all even subbands with increasing order of subband        |
|          | number, from left to right as in Tables 6.3.1.1.2-1, or   |
|          | codebook index for 2 antenna ports associated with one    |
|          | CSI-RS resource according to Clause 5.2.2.2.1 in \[6,     |
|          | TS38.214\] of all even subbands with increasing order of  |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*    |
|          | and reported part 1 is associated with one CSI-RS         |
|          | resource and if reported                                  |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI for the second TB of all odd     |
|          | subbands with increasing order of subband number          |
|          | associated with one CSI-RS resource, as in Tables         |
|          | 6.3.1.1.2-3B, if *cqi-FormatIndicator=subbandCQI* and     |
|          | reported part 1 is associated with one CSI-RS resource    |
|          | and if reported                                           |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields ![](media/image673.wmf) of |
|          | all odd subbands with increasing order of subband number, |
|          | from left to right as in Tables 6.3.1.1.2-1/2, or         |
|          | codebook index for 2 antenna ports associated with one    |
|          | CSI-RS resource according to Clause 5.2.2.2.1 in \[6,     |
|          | TS38.214\] of all odd subbands with increasing order of   |
|          | subband number, if *pmi-FormatIndicator=* *subbandPMI*    |
|          | and reported part 1 is associated with one CSI-RS         |
|          | resource and if reported                                  |
+----------+-----------------------------------------------------------+

Table 6.3.2.1.2-5E: Mapping order of CSI fields of one CSI report, CSI
part 2 of\
*codebookType=typeII-CJT*

+------------+---------------------------------------------------------+
| **CSI      | **CSI fields**                                          |
| report     |                                                         |
| number**   |                                                         |
+============+=========================================================+
| CSI report | PMI fields $X_{1}$, from left to right as in Table      |
| #n         | 6.3.2.1.2-1B, if reported;                              |
|            |                                                         |
| CSI part   |                                                         |
| 2, group 0 |                                                         |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-1                                             |
| CSI part   | B:$\ \left\{ i_{2,3,l}:l = 1,\ldots,\upsilon \right\}$, |
| 2, group 1 | $i_{1,5}$,                                              |
|            | $\left\{ i_{1,6,l}:l = 1,\ldots,\upsilon \right\}$,     |
|            | $i_{1,9}$, and                                          |
|            | $max(0,\left\lc                                         |
|            | eil \frac{K^{NZ}}{2} \right\rceil - \upsilon) \times 3$ |
|            | highest priority bits of                                |
|            | $\left\{                                                |
|            | i_{2,4,l}:l = 1,\ldots,\upsilon \right\},max(0,\left\lc |
|            | eil \frac{K^{NZ}}{2} \right\rceil - \upsilon) \times 4$ |
|            | highest priority bits of                                |
|            | $\{ i_{2,5,l}:l = 1,\ldots,\upsilon\}$                  |
|            | and$\ \nu*2 \bullet \sum_{n = 1}^{N_{0}}L_{\sigma       |
|            | (n)}M_{\upsilon} - \left\lfloor K^{NZ}/2 \right\rfloor$ |
|            | highest priority bits                                   |
|            | of$\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$,   |
|            | in decreasing order of priority based on the            |
|            | corresponding                                           |
|            | function$\ Pri\left( l,\ i_{j},f,j \right)$ defined in  |
|            | clause 5.2.3 of TS 38.214 \[6\] where $j$ is equivalent |
|            | to $n$, if present and if reported;                     |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-1B$:\ \min\left( K^{NZ} - v,\ \left\          |
| CSI part   | lfloor \frac{K^{NZ}}{2} \right\rfloor \right) \times 3$ |
| 2, group 2 | lowest priority bits of                                 |
|            | $\left\{ i_{2,4,l}:l = 1,                               |
|            | \ldots,\upsilon \right\},\min\left( K^{NZ} - v,\ \left\ |
|            | lfloor \frac{K^{NZ}}{2} \right\rfloor \right) \times 4$ |
|            | lowest priority bits of                                 |
|            | $\left\{ i_{2,5,l}:l = 1,\ldots,\upsilon \right\}$ and  |
|            | $\left\lfloor K^{NZ}/2 \right\rfloor$ lowest priority   |
|            | bits of                                                 |
|            | $\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$, in  |
|            | decreasing order of priority based on the corresponding |
|            | function$\ Pri\left( l,\ i_{j},f,j \right)$ defined in  |
|            | clause 5.2.3 of TS 38.214 \[6\] where $j$ is equivalent |
|            | to $n$, if reported;                                    |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-5F: Mapping order of CSI fields of one CSI report, CSI
part 2 of\
*codebookType= typeII-Doppler*

+------------+---------------------------------------------------------+
| **CSI      | **CSI fields**                                          |
| report     |                                                         |
| number**   |                                                         |
+============+=========================================================+
| CSI report | PMI fields $X_{1}$, from left to right as in Table      |
| #n         | 6.3.2.1.2-1C, if reported;                              |
|            |                                                         |
| CSI part   | The second time-domain wideband CQI as in Table         |
| 2, group 0 | 6.3.2.1.2-8B, if present and reported                   |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-1                                             |
| CSI part   | C:$\ \left\{ i_{2,3,l}:l = 1,\ldots,\upsilon \right\}$, |
| 2, group 1 | $i_{1,5}$,                                              |
|            | $\left\{ i_{1,6,l}:l = 1,\ldots,\upsilon \right\}$,     |
|            | $\left\{ i_{1,10,l}:l = 1,\ldots,\upsilon \right\}$,    |
|            | and                                                     |
|            | $max(0,\left\lc                                         |
|            | eil \frac{K^{NZ}}{2} \right\rceil - \upsilon) \times 3$ |
|            | highest priority bits of                                |
|            |                                                         |
|            | $\left\{                                                |
|            | i_{2,4,l}:l = 1,\ldots,\upsilon \right\},max(0,\left\lc |
|            | eil \frac{K^{NZ}}{2} \right\rceil - \upsilon) \times 4$ |
|            | highest priority bits of                                |
|            | $\{ i_{2,5,l}:l = 1,\ldots,\upsilon\}$                  |
|            | and$\ \nu                                               |
|            | *2LM_{\upsilon}Q - \left\lfloor K^{NZ}/2 \right\rfloor$ |
|            | highest priority bits                                   |
|            | of$\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$,   |
|            | in decreasing order of priority based on the            |
|            | corresponding function $Pri(l,i,f)$ for $N_{4} = 1$ or  |
|            | $Pri(l,i,f,j)$ for $N_{4} > 1$ defined in clause 5.2.3  |
|            | of TS 38.214 \[6\], if present and if reported;         |
|            |                                                         |
|            | The second time-domain subband differential CQI of all  |
|            | even subbands with increasing order of subband number,  |
|            | as in Table 6.3.2.1.2-8B, if present and if reported    |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-1C$:\ \min\left( K^{NZ} - v,\ \left\          |
| CSI part   | lfloor \frac{K^{NZ}}{2} \right\rfloor \right) \times 3$ |
| 2, group 2 | lowest priority bits of                                 |
|            | $\left\{ i_{2,4,l}:l = 1,                               |
|            | \ldots,\upsilon \right\},\min\left( K^{NZ} - v,\ \left\ |
|            | lfloor \frac{K^{NZ}}{2} \right\rfloor \right) \times 4$ |
|            | lowest priority bits of                                 |
|            | $\left\{ i_{2,5,l}:l = 1,\ldots,\upsilon \right\}$ and  |
|            | $\left\lfloor K^{NZ}/2 \right\rfloor$ lowest priority   |
|            | bits of                                                 |
|            | $\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$, in  |
|            | decreasing order of priority based on the corresponding |
|            | function $Pri(l,i,f)$ for $N_{4} = 1$ or $Pri(l,i,f,j)$ |
|            | for $N_{4} > 1$ defined in clause 5.2.3 of TS 38.214    |
|            | \[6\], if reported;                                     |
|            |                                                         |
|            | The second time-domain subband differential CQI of all  |
|            | odd subbands with increasing order of subband number,   |
|            | as in Table 6.3.2.1.2-8B, if present and if reported    |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-5G: Mapping order of CSI fields of one CSI report, CSI
part 2 of\
*codebookType=typeII-CJT-PortSelection*

+------------+---------------------------------------------------------+
| **CSI      | **CSI fields**                                          |
| report     |                                                         |
| number**   |                                                         |
+============+=========================================================+
| CSI report | PMI fields $X_{1}$, from left to right as in Table      |
| #n         | 6.3.2.1.2-2C, if reported                               |
|            |                                                         |
| CSI part   |                                                         |
| 2, group 0 |                                                         |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-2C:$\ \left\{ i_{                             |
| CSI part   | 2,3,l}:l = 1,\ldots,\upsilon \right\}\ (max(0,\left\lce |
| 2, group 1 | il \frac{K^{NZ}}{2} \right\rceil - \upsilon)) \times 3$ |
|            | highest priority bits of                                |
|            |                                                         |
|            | $\left\{ i_                                             |
|            | {2,4,l}:l = 1,\ldots,\upsilon \right\},(max(0,\left\lce |
|            | il \frac{K^{NZ}}{2} \right\rceil - \upsilon)) \times 4$ |
|            | highest priority bits of                                |
|            | $\{ i_{2,5,l}:l = 1,\ldots,\upsilon\}$, $i_{1,9}$       |
|            | and$\ \nu*\sum_{n = 1}^{N_{0}}                          |
|            | K_{1,\sigma(n)}M - \left\lfloor K^{NZ}/2 \right\rfloor$ |
|            | highest priority bits                                   |
|            | of$\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$,   |
|            | in decreasing order of priority based on the            |
|            | corresponding function                                  |
|            | $Pri\left( l,\ i_{j},f,j \right)$ defined in clause     |
|            | 5.2.3 of TS 38.214 \[6\] where $j$ is equivalent to     |
|            | $n$, if present and if reported                         |
+------------+---------------------------------------------------------+
| CSI report | The following PMI fields $X_{2}$, from left to right,   |
| #n         | as in Table                                             |
|            | 6.3.2.1.2-2C$:\ (\min\left( K^{NZ} - v,\ \left\l        |
| CSI part   | floor \frac{K^{NZ}}{2} \right\rfloor \right)) \times 3$ |
| 2, group 2 | lowest priority bits of                                 |
|            | $\left\{ i_{2,4,l}:l = 1,\l                             |
|            | dots,\upsilon \right\},(\min\left( K^{NZ} - v,\ \left\l |
|            | floor \frac{K^{NZ}}{2} \right\rfloor \right)) \times 4$ |
|            | lowest priority bits of                                 |
|            | $\left\{ i_{2,5,l}:l = 1,\ldots,\upsilon \right\}$ and  |
|            | $\left\lfloor K^{NZ}/2 \right\rfloor$ lowest priority   |
|            | bits of                                                 |
|            | $\left\{ i_{1,7,l}:l = 1,\ldots,\upsilon \right\}$, in  |
|            | decreasing order of priority based on the corresponding |
|            | function $Pri\left( l,\ i_{j},f,j \right)$ defined in   |
|            | clause 5.2.3 of TS 38.214 \[6\] where $j$ is equivalent |
|            | to $n$, if reported                                     |
+------------+---------------------------------------------------------+

Table 6.3.2.1.2-5H: Mapping order of CSI fields of one CSI report
containing $\mathbf{N}_{\mathbf{n}}^{\mathbf{sub}}$ CSI sub-report(s),
CSI part 2 subband

+----------+-----------------------------------------------------------+
| CSI      | Subband differential CQI of CSI sub-report #1 for the     |
| report   | second TB of all even subbands with increasing order of   |
| #n       | subband number, as in Tables 6.3.1.1.2-3/4, if            |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
| Part 2   |                                                           |
| subband  |                                                           |
+==========+===========================================================+
|          | PMI subband information fields $X_{2}$ of CSI sub-report  |
|          | #1 of all even subbands with increasing order of subband  |
|          | number, from left to right as in Tables 6.3.1.1.2-1/2, or |
|          | codebook index for 2 antenna ports of CSI sub-report #1   |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI of CSI sub-report #2 for the     |
|          | second TB of all even subbands with increasing order of   |
|          | subband number, as in Tables 6.3.1.1.2-3/4, if            |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields $X_{2}$ of CSI sub-report  |
|          | #2 of all even subbands with increasing order of subband  |
|          | number, from left to right as in Tables 6.3.1.1.2-1/2, or |
|          | codebook index for 2 antenna ports of CSI sub-report #2   |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | even subbands with increasing order of subband number, if |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | ...                                                       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI of CSI sub-report                |
|          | \#$N_{n}^{sub}$ for the second TB of all even subbands    |
|          | with increasing order of subband number, as in Tables     |
|          | 6.3.1.1.2-3/4, if *cqi-FormatIndicator=subbandCQI* and if |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields $X_{2}$ of CSI sub-report  |
|          | \#$N_{n}^{sub}$ of all even subbands with increasing      |
|          | order of subband number, from left to right as in Tables  |
|          | 6.3.1.1.2-1/2, or codebook index for 2 antenna ports of   |
|          | CSI sub-report \#$N_{n}^{sub}$ according to Clause        |
|          | 5.2.2.2.1 in \[6, TS38.214\] of all even subbands with    |
|          | increasing order of subband number, if                    |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI of CSI sub-report #1 for the     |
|          | second TB of all odd subbands with increasing order of    |
|          | subband number, as in Tables 6.3.1.1.2-3/4, if            |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields $X_{2}$ of CSI sub-report  |
|          | #1 of all odd subbands with increasing order of subband   |
|          | number, from left to right as in Tables 6.3.1.1.2-1/2, or |
|          | codebook index for 2 antenna ports of CSI sub-report #1   |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | odd subbands with increasing order of subband number, if  |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI of CSI sub-report #2 for the     |
|          | second TB of all odd subbands with increasing order of    |
|          | subband number, as in Tables 6.3.1.1.2-3/4, if            |
|          | *cqi-FormatIndicator=subbandCQI* and if reported          |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields $X_{2}$ of CSI sub-report  |
|          | #2 of all odd subbands with increasing order of subband   |
|          | number, from left to right as in Tables 6.3.1.1.2-1/2, or |
|          | codebook index for 2 antenna ports of CSI sub-report #2   |
|          | according to Clause 5.2.2.2.1 in \[6, TS38.214\] of all   |
|          | odd subbands with increasing order of subband number, if  |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
|          | ...                                                       |
+----------+-----------------------------------------------------------+
|          | Subband differential CQI of CSI sub-report                |
|          | \#$N_{n}^{sub}$ for the second TB of all odd subbands     |
|          | with increasing order of subband number, as in Tables     |
|          | 6.3.1.1.2-3/4, if *cqi-FormatIndicator=subbandCQI* and if |
|          | reported                                                  |
+----------+-----------------------------------------------------------+
|          | PMI subband information fields $X_{2}$ of CSI sub-report  |
|          | \#$N_{n}^{sub}$ of all odd subbands with increasing order |
|          | of subband number, from left to right as in Tables        |
|          | 6.3.1.1.2-1/2, or codebook index for 2 antenna ports of   |
|          | CSI sub-report \#$N_{n}^{sub}$ according to Clause        |
|          | 5.2.2.2.1 in \[6, TS38.214\] of all odd subbands with     |
|          | increasing order of subband number, if                    |
|          | *pmi-FormatIndicator=* *subbandPMI* and if reported       |
+----------+-----------------------------------------------------------+
| Note:    |                                                           |
|          |                                                           |
| Subbands |                                                           |
| for      |                                                           |
| given    |                                                           |
| CSI      |                                                           |
| report   |                                                           |
| *n*      |                                                           |
| i        |                                                           |
| ndicated |                                                           |
| by the   |                                                           |
| higher   |                                                           |
| layer    |                                                           |
| p        |                                                           |
| arameter |                                                           |
| *cs      |                                                           |
| i-Report |                                                           |
| ingBand* |                                                           |
| with     |                                                           |
| value    |                                                           |
| set to   |                                                           |
| \'1\'    |                                                           |
| are      |                                                           |
| numbered |                                                           |
| cont     |                                                           |
| inuously |                                                           |
| in the   |                                                           |
| in       |                                                           |
| creasing |                                                           |
| order    |                                                           |
| with the |                                                           |
| lowest   |                                                           |
| subband  |                                                           |
| of       |                                                           |
| *cs      |                                                           |
| i-Report |                                                           |
| ingBand* |                                                           |
| with     |                                                           |
| value    |                                                           |
| set to   |                                                           |
| \'1\' as |                                                           |
| subband  |                                                           |
| 0.       |                                                           |
|          |                                                           |
| CSI      |                                                           |
| su       |                                                           |
| b-report |                                                           |
| #1, CSI  |                                                           |
| su       |                                                           |
| b-report |                                                           |
| #2, ..., |                                                           |
| CSI      |                                                           |
| su       |                                                           |
| b-report |                                                           |
| \#$N_{n  |                                                           |
| }^{sub}$ |                                                           |
| co       |                                                           |
| rrespond |                                                           |
| to the   |                                                           |
| CSI      |                                                           |
| sub      |                                                           |
| -reports |                                                           |
| in       |                                                           |
| in       |                                                           |
| creasing |                                                           |
| order of |                                                           |
| *CSI-Rep |                                                           |
| ortSubCo |                                                           |
| nfigID*. |                                                           |
+----------+-----------------------------------------------------------+

Table 6.3.2.1.2-6: Mapping order of CSI reports to UCI bit sequence
![](media/image676.wmf),\
with two-part CSI report(s)

  ---------------------------------------------------------------------------------
  UCI bit sequence             CSI report number
  ---------------------------- ----------------------------------------------------
  ![](media/image680.wmf)      CSI part 1 of CSI report #1 as in Table
                               6.3.2.1.2-3/3A/3B or Table 6.3.1.1.2-8/8A/8B/8C or
                               Table 6.3.2.1.2-3C

                               CSI part 1 of CSI report #2 as in Table
                               6.3.2.1.2-3/3A/3B or Table 6.3.1.1.2-8/8A/8B/8C or
                               Table 6.3.2.1.2-3C

                               ...

                               CSI part 1 of CSI report #n as in Table
                               6.3.2.1.2-3/3A/3B or Table 6.3.1.1.2-8/8A/8B/8C or
                               Table 6.3.2.1.2-3C

  NOTE: For a CSI report #i    
  containing $N_{i}^{sub}$ CSI 
  sub-reports, where           
  $i \in \{ 1,2,\ldots,n\}$,   
  CSI part 1 of all CSI        
  sub-reports are mapped to    
  the corresponding segment of 
  the UCI bit sequence of CSI  
  report #i, from upper part   
  to lower part of the         
  segment, in increasing order 
  of CSI sub-report number.    
  CSI sub-report #1, CSI       
  sub-report #2, ..., CSI      
  sub-report \#$N_{i}^{sub}$   
  correspond to the CSI        
  sub-reports in increasing    
  order of                     
  *CSI-ReportSubConfigID*.     
  ---------------------------------------------------------------------------------

where CSI report #1, CSI report #2, ..., CSI report #n in Table
6.3.2.1.2-6 correspond to the CSI reports in increasing order of CSI
report priority values according to Clause 5.2.5 of \[6, TS38.214\].

Table 6.3.2.1.2-7: Mapping order of CSI reports to UCI bit sequence
![](media/image677.wmf),\
with two-part CSI report(s)

+-----------------+----------------------------------------------------+
| UCI bit         | CSI report number                                  |
| sequence        |                                                    |
+=================+====================================================+
| ![](medi        | CSI report #1, CSI part 2 wideband, as in Table    |
| a/image681.wmf) | 6.3.2.1.2-4/4A/4B,                                 |
|                 |                                                    |
|                 | or CSI part 2 with group 0, as in Table            |
|                 | 6.3.2.1.2-5A/5B/5E/5F/5G,\                         |
|                 | if CSI part 2 exists for CSI report #1             |
+-----------------+----------------------------------------------------+
|                 | CSI report #2, CSI part 2 wideband, as in Table    |
|                 | 6.3.2.1.2-4/4A/4B,                                 |
|                 |                                                    |
|                 | or CSI part 2 with group 0, as in Table            |
|                 | 6.3.2.1.2-5A/5B/5E/5F/5G,\                         |
|                 | if CSI part 2 exists for CSI report #2             |
+-----------------+----------------------------------------------------+
|                 | ...                                                |
+-----------------+----------------------------------------------------+
|                 | CSI report #n, CSI part 2 wideband, as in Table    |
|                 | 6.3.2.1.2-4/4A/4B,                                 |
|                 |                                                    |
|                 | or CSI part 2 with group 0, as in Table            |
|                 | 6.3.2.1.2-5A/5B/5E/5F/5G,\                         |
|                 | if CSI part 2 exists for CSI report #n             |
+-----------------+----------------------------------------------------+
|                 | CSI report #1, CSI part 2 subband, as in Table     |
|                 | 6.3.2.1.2-5/5C/5D/5H,                              |
|                 |                                                    |
|                 | or CSI part 2 with group 1 and 2, as in Table      |
|                 | 6.3.2.1.2-5A/5B/5E/5F/5G,\                         |
|                 | if CSI part 2 exists for CSI report #1             |
+-----------------+----------------------------------------------------+
|                 | CSI report #2, CSI part 2 subband, as in Table     |
|                 | 6.3.2.1.2-5/5C/5D/5H,                              |
|                 |                                                    |
|                 | or CSI part 2 with group 1 and 2, as in Table      |
|                 | 6.3.2.1.2-5A/5B/5E/5F/5G,                          |
|                 |                                                    |
|                 | if CSI part 2 exists for CSI report #2             |
+-----------------+----------------------------------------------------+
|                 | ...                                                |
+-----------------+----------------------------------------------------+
|                 | CSI report #n, CSI part 2 subband, as in Table     |
|                 | 6.3.2.1.2-5/5C/5D/5H,                              |
|                 |                                                    |
|                 | or CSI part 2 with group 1 and 2, as in Table      |
|                 | 6.3.2.1.2-5A/5B/5E/5F/5G,                          |
|                 |                                                    |
|                 | if CSI part 2 exists for CSI report #n             |
+-----------------+----------------------------------------------------+
| NOTE: For a CSI |                                                    |
| report #i       |                                                    |
| containing      |                                                    |
| $N_{i}^{sub}$   |                                                    |
| CSI             |                                                    |
| sub-reports,    |                                                    |
| where           |                                                    |
| $i \in \{ 1     |                                                    |
| ,2,\ldots,n\}$, |                                                    |
|                 |                                                    |
| > \- CSI part 2 |                                                    |
| > wideband of   |                                                    |
| > all CSI       |                                                    |
| > sub-reports   |                                                    |
| > are mapped to |                                                    |
| > the           |                                                    |
| > corresponding |                                                    |
| > segment of    |                                                    |
| > the UCI bit   |                                                    |
| > sequence of   |                                                    |
| > CSI report    |                                                    |
| > #i, from      |                                                    |
| > upper part to |                                                    |
| > lower part of |                                                    |
| > the segment,  |                                                    |
| > in increasing |                                                    |
| > order of CSI  |                                                    |
| > sub-report    |                                                    |
| > number;       |                                                    |
| >               |                                                    |
| > \- CSI        |                                                    |
| > sub-report    |                                                    |
| > #1, CSI       |                                                    |
| > sub-report    |                                                    |
| > #2, ..., CSI  |                                                    |
| > sub-report    |                                                    |
| >               |                                                    |
| \#$N_{i}^{sub}$ |                                                    |
| > correspond to |                                                    |
| > the CSI       |                                                    |
| > sub-reports   |                                                    |
| > in increasing |                                                    |
| > order of      |                                                    |
| > *CSI-Repo     |                                                    |
| rtSubConfigID*. |                                                    |
+-----------------+----------------------------------------------------+

where CSI report #1, CSI report #2, ..., CSI report #n in Table
6.3.2.1.2-7 correspond to the CSI reports in increasing order of CSI
report priority values according to Clause 5.2.5 of \[6, TS38.214\].

The bitwidth for RI/CQI of *codebookType= typeII-r16* or
*codebookType=typeII-PortSelection-r16* is provided in
Table 6.3.2.1.2-8.

Table 6.3.2.1.2-8: RI and CQI of *codebookType=typeII-r16 or
typeII-PortSelection-r16*

+-----------------------------------------+----------------------------+
| Field                                   | Bitwidth                   |
+=========================================+============================+
| Rank Indicator                          | $$\min\left(               |
|                                         |  2,\left\lceil \log_{2}n_{ |
|                                         | RI} \right\rceil \right)$$ |
+-----------------------------------------+----------------------------+
| Wide-band CQI                           | 4                          |
+-----------------------------------------+----------------------------+
| Subband differential CQI                | 2                          |
+-----------------------------------------+----------------------------+
| Indicator of the total number of        | $\left\lceil \log_         |
| non-zero coefficients summed across all | {2}{(K_{0})} \right\rceil$ |
| layers $K^{NZ}$                         | if max allowed rank is 1;  |
|                                         |                            |
|                                         | $\left\lceil \log_{2}      |
|                                         | {({2K}_{0})} \right\rceil$ |
|                                         | otherwise                  |
+-----------------------------------------+----------------------------+

where $n_{RI}$ is the number of allowed rank indicator values according
to Clauses 5.2.2.2.5 and 5.2.2.2.6 \[6, TS
38.214\],$\ K_{0} = \left\lceil 2L\left\lceil p_{1} \times \frac{N_{3}}{R} \right\rceil\beta \right\rceil$,
where $p_{1}$, $N_{3}$, $R$, and $\beta$ are given by Clause 5.2.2.2.5
and 5.2.2.2.6 in \[6, TS 38.214\]. The values of the rank indicator
field are mapped to allowed rank indicator values with increasing order,
where \'0\' is mapped to the smallest allowed rank indicator value. The
values of the $K^{NZ}$ indicator field are mapped to the allowed values
of $K^{NZ}$, according to Clauses 5.2.2.2.5 and 5.2.2.2.6 \[6, TS
38.214\], with increasing order, where \'0\' is mapped to $K^{NZ} = 1$.

The bitwidth for RI/CQI of *codebookType*= *typeII-CJT* is provided in
Table 6.3.2.1.2-8A.

Table 6.3.2.1.2-8A: RI and CQI of *codebookType= typeII-CJT*

+-------------------------------------+--------------------------------+
| **Field**                           | **Bitwidth**                   |
+=====================================+================================+
| Rank Indicator                      | $$\m                           |
|                                     | in\left( 2,\left\lceil \log_{2 |
|                                     | }n_{RI} \right\rceil \right)$$ |
+-------------------------------------+--------------------------------+
| Wide-band CQI                       | 4                              |
+-------------------------------------+--------------------------------+
| Subband differential CQI            | 2                              |
+-------------------------------------+--------------------------------+
| Indicator of the total number of    | $\left\lceil \log_{2           |
| non-zero coefficients summed across | }\left\lceil 2\beta M_{1}L_{\m |
| all layers, and all CSI-RS          | ax} \right\rceil \right\rceil$ |
| resources if configured, $K^{NZ}$   | if max allowed rank is 1;      |
|                                     |                                |
|                                     | $\                             |
|                                     | left\lceil {\log_{2}2}\left\lc |
|                                     | eil 2\beta M_{1}L_{\max} \righ |
|                                     | t\rceil \right\rceil$otherwise |
+-------------------------------------+--------------------------------+

Where $n_{RI}$ is the number of allowed rank indicator values according
to Clause 5.2.2.2.8 TS 38.214 \[6\],$\ L_{\max}$ is the maximum of
$\sum_{n = 1}^{N_{TRP}}L_{n}$ for all $N_{L}$ configured $L_{n}$
combinations, where$\ \left\{ L_{n} \right\}_{n = 1,\ldots,\ N_{TRP}}$,
$M_{1}$, and $\beta$ are given by Clause 5.2.2.2.8 in TS 38.214 \[6\].
The values of the rank indicator field are mapped to allowed rank
indicator values with increasing order, where \'0\' is mapped to the
smallest allowed rank indicator value. The values of the $K^{NZ}$
indicator field are mapped to the allowed values of $K^{NZ}$, according
to Clause 5.2.2.2.8 TS 38.214 \[6\], with increasing order, where \'0\'
is mapped to $K^{NZ} = 1$.

The bitwidth for RI/CQI of *codebookType*= *typeII-Doppler* is provided
in Table 6.3.2.1.2-8B.

Table 6.3.2.1.2-8B: RI and CQI of *codebookType= typeII-Doppler*

+-------------------------------------------+--------------------------+
| **Field**                                 | **Bitwidth**             |
+===========================================+==========================+
| Rank Indicator                            | $$\min\left( 2,\         |
|                                           | left\lceil \log_{2}n_{RI |
|                                           | } \right\rceil \right)$$ |
+-------------------------------------------+--------------------------+
| Wide-band CQI                             | 4                        |
+-------------------------------------------+--------------------------+
| Subband differential CQI                  | 2                        |
+-------------------------------------------+--------------------------+
| The second time-domain wide-band CQI      | 4                        |
+-------------------------------------------+--------------------------+
| The second time-domain subband            | 2                        |
| differential CQI                          |                          |
+-------------------------------------------+--------------------------+
| Indicator of the total number of non-zero | $\left\lceil \log_{2     |
| coefficients summed across all layers     | }{(K_{0})} \right\rceil$ |
| $K^{NZ}$                                  | if max allowed rank is   |
|                                           | 1;                       |
|                                           |                          |
|                                           | $\left\lceil \log_{2}{(  |
|                                           | {2K}_{0})} \right\rceil$ |
|                                           | otherwise                |
+-------------------------------------------+--------------------------+

Where $n_{RI}$ is the number of allowed rank indicator values according
to Clause 5.2.2.2.10 TS 38.214
\[6\],$\ K_{0} = \left\lceil 2L\left\lceil p_{1} \times \frac{N_{3}}{R} \right\rceil\beta Q \right\rceil$,
where $p_{1}$, $N_{3}$, $R$, $\beta$ and $Q$ are given by Clause
5.2.2.2.10 in TS 38.214 \[6\]. The values of the rank indicator field
are mapped to allowed rank indicator values with increasing order, where
\'0\' is mapped to the smallest allowed rank indicator value. The values
of the $K^{NZ}$ indicator field are mapped to the allowed values of
$K^{NZ}$, according to Clause 5.2.2.2.10 TS 38.214 \[6\], with
increasing order, where \'0\' is mapped to $K^{NZ} = 1$.

The bitwidth for RI/CQI of codebookType=typeII-PortSelection-r17 or
typeII-Doppler-PortSelection is provided in Table 6.3.2.1.2-9.

Table 6.3.2.1.2-9: RI and CQI of *codebookType=typeII-PortSelection-r17*
or\
*typeII-Doppler-PortSelection-r18*

+-----------------------------------------+----------------------------+
| Field                                   | Bitwidth                   |
+=========================================+============================+
| Rank Indicator                          | $$\min\left(               |
|                                         |  2,\left\lceil \log_{2}n_{ |
|                                         | RI} \right\rceil \right)$$ |
+-----------------------------------------+----------------------------+
| Wide-band CQI                           | 4                          |
+-----------------------------------------+----------------------------+
| Subband differential CQI                | 2                          |
+-----------------------------------------+----------------------------+
| Indicator of the total number of        | $\left\lceil \log_         |
| non-zero coefficients summed across all | {2}{(K_{0})} \right\rceil$ |
| layers $K^{NZ}$                         | if max allowed rank is 1;  |
|                                         |                            |
|                                         | $\left\lceil \log_{2}      |
|                                         | {({2K}_{0})} \right\rceil$ |
|                                         | otherwise                  |
+-----------------------------------------+----------------------------+

where $n_{RI}$ is the number of allowed rank indicator values according
to Clauses 5.2.2.2.7 and Clauses 5.2.2.2.11 \[6, TS
38.214\],$\ K_{0} = \left\lceil K_{1}M\beta \right\rceil$, where
$K_{1}$, $M$, and $\beta$ are given by Clause 5.2.2.2.7 and Clauses
5.2.2.2.11 in \[6, TS 38.214\]. The values of the rank indicator field
are mapped to allowed rank indicator values with increasing order, where
\'0\' is mapped to the smallest allowed rank indicator value. The values
of the $K^{NZ}$ indicator field are mapped to the allowed values of
$K^{NZ}$, according to Clauses 5.2.2.2.7 and Clauses 5.2.2.2.11 \[6, TS
38.214\], with increasing order, where \'0\' is mapped to $K^{NZ} = 1$.

The bitwidth for RI/CQI of *codebookType*=*typeII-CJT-PortSelection* is
provided in Table 6.3.2.1.2-9A.

Table 6.3.2.1.2-9A: RI and CQI of codebookType= typeII-CJT-PortSelection

+------------------------------------+---------------------------------+
| **Field**                          | **Bitwidth**                    |
+====================================+=================================+
| Rank Indicator                     | $$                              |
|                                    | \min\left( 2,\left\lceil \log_{ |
|                                    | 2}n_{RI} \right\rceil \right)$$ |
+------------------------------------+---------------------------------+
| Wide-band CQI                      | 4                               |
+------------------------------------+---------------------------------+
| Subband differential CQI           | 2                               |
+------------------------------------+---------------------------------+
| Indicator of the total number of   | $\left\lceil \lo                |
| non-zero coefficients summed       | g_{2}\left\lceil \beta MK_{1,ma |
| across all layers, and all CSI-RS  | x} \right\rceil \right\rceil\ $ |
| resources if configured, $K^{NZ}$  | if max allowed rank is 1;       |
|                                    |                                 |
|                                    | $\left\lceil \log_{             |
|                                    | 2}{2\left\lceil \beta MK_{1,max |
|                                    | } \right\rceil} \right\rceil\ $ |
|                                    | otherwise                       |
+------------------------------------+---------------------------------+

Where $n_{RI}$ is the number of allowed rank indicator values according
to Clause 5.2.2.2.9 TS 38.214 \[6\]$,\ K_{1,max}$ is the maximum of
$\sum_{n = 1}^{N_{TRP}}K_{1,\ n}$ for all $N_{L}$ configured
$\alpha_{n}$ combinations, where
$\left\{ K_{1.n} \right\}_{n = 1,\ldots,\ N_{TRP}}$, $M$, and $\beta$
are given by Clause 5.2.2.2.9 in TS 38.214 \[6\], and. The values of the
rank indicator field are mapped to allowed rank indicator values with
increasing order, where \'0\' is mapped to the smallest allowed rank
indicator value. The values of the $K^{NZ}$ indicator field are mapped
to the allowed values of $K^{NZ}$, according to Clause 5.2.2.2.9 TS
38.214 \[6\], with increasing order, where \'0\' is mapped to
$K^{NZ} = 1$.

The bitwidth for *reportQuantity*=*tdcp* is provided in Table
6.3.2.1.2-10.

Table 6.3.2.1.2-10: Amplitude and phase values for
*reportQuantity*=*tdcp*

  -----------------------------------------------------------------------
  **Field**                                      **Bitwidth**
  ---------------------------------------------- ------------------------
  Amplitude value                                4

  Phase value                                    4
  -----------------------------------------------------------------------

##### 6.3.2.1.3 CG-UCI

For CG-UCI bits transmitted on a CG PUSCH when the higher layer
parameter *cg-RetransmissionTimer* is configured, the CG-UCI bit
sequence $a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}\ $ is
determined as follows:

\- set $a_{i} = {\widetilde{o}}_{i}^{CG - UCI}$ for
$i = 0,1,\ \ldots,\ O^{CG - UCI} - 1$ and $A = O^{CG - UCI}$, where the
CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\ {\widetilde{o}}_{O^{CG - UCI} - 1}^{CG - UCI}$
is given by Table 6.3.2.1.3-1, mapped in the order from upper part to
lower part.

Table 6.3.2.1.3-1: Mapping order of CG-UCI fields

+--------------------------------+-------------------------------------+
| **Field**                      | **Bitwidth**                        |
+================================+=====================================+
| HARQ process number            | 5 if *nrofHARQ-Processes-v1700* in  |
|                                | *ConfiguredGrantConfig* is          |
|                                | configured;                         |
|                                |                                     |
|                                | 4 otherwise.                        |
+--------------------------------+-------------------------------------+
| Redundancy version             | 2                                   |
+--------------------------------+-------------------------------------+
| New data indicator             | 1                                   |
+--------------------------------+-------------------------------------+
| Channel Occupancy Time (COT)   | $                                   |
| sharing information            | \left\lceil \log_{2}C \right\rceil$ |
|                                | if both higher layer parameter      |
|                                | *ul-toDL-COT-SharingED-Threshold*   |
|                                | and higher layer parameter          |
|                                | *cg-COT-SharingList* are            |
|                                | configured, or if both higher layer |
|                                | parameter                           |
|                                | *semiStaticChannelAccessConfigUE*   |
|                                | and higher layer parameter          |
|                                | *cg-COT-SharingList* are            |
|                                | configured, or if higher layer      |
|                                | parameter *cg-COT-SharingList* is   |
|                                | configured in frequency range 2-2,  |
|                                | where *C* is the number of          |
|                                | combinations configured in          |
|                                | *cg-COT-SharingList;*               |
|                                |                                     |
|                                | 1 if higher layer parameter         |
|                                | *ul-toDL-COT-SharingED-Threshold*   |
|                                | is not configured, and if higher    |
|                                | layer parameter                     |
|                                | *semiStaticChannelAccessConfigUE*   |
|                                | is not configured, and if higher    |
|                                | layer parameter                     |
|                                | *cg-COT-SharingOffset* is           |
|                                | configured;                         |
|                                |                                     |
|                                | 0 otherwise.                        |
|                                |                                     |
|                                | If a UE indicates COT sharing other |
|                                | than \"no sharing\" in a CG PUSCH   |
|                                | within the UE\'s initiated COT, the |
|                                | UE should provide consistent COT    |
|                                | sharing information in all the      |
|                                | subsequent CG PUSCHs, if any,       |
|                                | occurring within the same UE\'s     |
|                                | initiated COT such that the same DL |
|                                | starting point and duration are     |
|                                | maintained.                         |
+--------------------------------+-------------------------------------+

##### 6.3.2.1.3A UTO-UCI

For UTO-UCI bits transmitted on a CG PUSCH when the higher layer
parameter *nrofBitsInUTO-UCI* is configured, the UTO-UCI bit sequence
$a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}\ $ is determined as
follows:

\- set $a_{i} = {\widetilde{o}}_{i}^{UTO - UCI}$ for
$i = 0,1,\ \ldots,\ O^{UTO - UCI} - 1$ and $A = O^{UTO - UCI}$, where
$O^{UTO - UCI}$ is provided by *nrofBitsInUTO-UCI*, and the UTO-UCI bit
sequence
${\widetilde{o}}_{0}^{UTO - UCI},\ {\widetilde{o}}_{1}^{UTO - UCI},\ \ldots,\ {\widetilde{o}}_{O^{UTO - UCI} - 1}^{UTO - UCI}$
is given by clause 9.3.1 of \[5, TS 38.213\].

##### 6.3.2.1.4 HARQ-ACK and CG-UCI/UTO-UCI

If the higher layer parameter *nrofBitsInUTO-UCI* is configured, the
procedure in this clause 6.3.2.1.4 applies by replacing CG-UCI with
UTO-UCI in all the notations and texts, and replacing \"When higher
layer parameter *cg-UCI-Multiplexing* is configured\" with \"When
UTO-UCI and HARQ-ACK have the same priority index and are jointly
encoded and transmitted on a PUSCH\".

When higher layer parameter *cg-UCI-Multiplexing* is configured, the UCI
bit sequence $a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}\ $ is
determined as follows, where $A = {O^{CG - UCI} + O}^{ACK}$.

\- The CG-UCI bits are mapped to the UCI bit
sequence$a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{O^{CG - UCI} - 1}\ $,
where $a_{i} = {\widetilde{o}}_{i}^{CG - UCI\ }$for
$i = 0,1,\ \ldots,\ O^{CG - UCI} - 1$. The CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\ {\widetilde{o}}_{O^{CG - UCI} - 1}^{CG - UCI}$
is given by Table 6.3.2.1.3-1 mapped in the order from upper part to
lower part, and $O^{CG - UCI}$ is number of CG-UCI bits;

\- The HARQ-ACK bits are mapped to the UCI bit sequence
$a_{O^{CG - UCI}},\ a_{O^{CG - UCI} + 1},\ \ \ldots,a_{{O^{CG - UCI} + O}^{ACK} - 1}$,
where $a_{i + O^{CG - UCI}} = {\widetilde{o}}_{i}^{ACK}$ for
$i = 0,1,\ \ldots,\ O^{ACK} - 1$. The HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK},\ {\widetilde{o}}_{1}^{ACK},\ \ldots,\ {\widetilde{o}}_{O^{ACK} - 1}^{ACK}$
is given by Clause 9.1 of \[5, TS38.213\], and $O^{ACK}$ is number of
HARQ-ACK bits.

##### 6.3.2.1.5 UCI with different priority indexes

If the higher layer parameter *nrofBitsInUTO-UCI* is configured, the
procedure in this clause 6.3.2.1.5 applies by replacing CG-UCI with
UTO-UCI in all the notations and texts, and replacing \"is given by
Table 6.3.2.1.3-1 mapped in the order from upper part to lower part\"
with \"is given by clause 9.3.1 of \[5, TS 38.213\]\".

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, and CSI part 1 if any are transmitted on a PUSCH
associated with priority index 1, the following UCI bit sequences are
generated,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$,
and
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{(2)}$
if any, according to the following:

\- If CSI part 1 is also transmitted on the PUSCH,

\- Set $a_{i}^{(1)}$ for $i = 0,1,\ldots,A^{(1)} - 1$ as the bit
sequence of CSI part 1, where the CSI fields of all CSI reports, in the
order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to
the UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$
starting with $a_{0}^{(1)}$.

\- Set $a_{i}^{(2)} = {\widetilde{o}}_{i}^{ACK - LP}$ for
$i = {0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(2)} = O^{ACK - LP}$, where
the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$
associated with priority index 0 is given by Clause 9.1 of \[5, TS
38.213\].

\- Otherwise, set $a_{i}^{(1)} = {\widetilde{o}}_{i}^{ACK - LP}$ for
$i = {0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(1)} = O^{ACK - LP}$, where
the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$
associated with priority index 0 is given by Clause 9.1 of \[5, TS
38.213\].

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 1, and CSI if any are transmitted on a PUSCH
associated with priority index 0, the following UCI bit sequences are
generated,$\ a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$
if any, and
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{(2)}$
if any, according to the following:

\- If HARQ-ACK bits associated with priority index 1 and CSI are
transmitted on the PUSCH without UL-SCH and the CSI includes CSI part 1
without CSI part 2, and there is only one HARQ-ACK bit associated with
priority index 1 given by Clause 9.1 of \[5, TS 38.213\], set
$a_{0} = {\widetilde{o}}_{0}^{ACK - HP}$, $a_{1} = 0$, and $A = 2$;
otherwise, set $a_{i} = {\widetilde{o}}_{i}^{ACK - HP}$ for
$i = {0,1,\ldots,O}^{ACK - HP} - 1$ and $A = O^{ACK - HP}$, where the
HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - HP},\ {\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} - 1}^{ACK - HP}$
associated with priority index 1 is given by Clause 9.1 of \[5, TS
38.213\];

\- Set $a_{i}^{(1)}$ for $i = 0,1,\ldots,A^{(1)} - 1$ as the bit
sequence of CSI part 1, if CSI part 1 is also transmitted on the PUSCH,
where the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$
starting with $a_{0}^{(1)}$;

\- Set $a_{i}^{(2)}$ for $i = 0,1,\ldots,A^{(2)} - 1$ as the bit
sequence of CSI part 2, if CSI part 2 is also transmitted on the PUSCH,
where the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.2.1.2-7, are mapped to the UCI bit sequence
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(1)} - 1}^{(2)}$
starting with $a_{0}^{(2)}$.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, HARQ-ACK bits associated with priority index 1
and/or CG-UCI associated with priority index 1, and CSI part 1 if any
are transmitted on a PUSCH, the following UCI bit sequences are
generated,$\ a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$,
and
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{(2)}$
if any, according to the following:

\- Set $a_{i} = {\widetilde{o}}_{i}^{ACK - HP}$ for
$i = {0,1,\ldots,O}^{ACK - HP} - 1$ and $A = O^{ACK - HP}$ if HARQ-ACK
bits associated with priority index 1 are transmitted without CG-UCI
associated with priority index 1, where the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - HP},\ {\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} - 1}^{ACK - HP}$
associated with priority index 1 is given by Clause 9.1 of \[5, TS
38.213\];

\- Set $a_{i} = {\widetilde{o}}_{i}^{CG - UCI}$ for
$i = 0,1,\ldots,O^{CG - UCI} - 1$ and $A = O^{CG - UCI}$ if CG-UCI
associated with priority index 1 is transmitted without HARQ-ACK bits
associated with priority index 1, where the CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\ {\widetilde{o}}_{O^{CG - UCI} - 1}^{CG - UCI}$
associated with priority index 1 is given by Table 6.3.2.1.3-1 mapped in
the order from upper part to lower part;

\- Set $a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$ as follows, if
both CG-UCI associated with priority index 1 and HARQ-ACK bits
associated with priority index 1 are transmitted, where
$A = O^{CG - UCI} + O^{ACK - HP}$

\- The CG-UCI bits are mapped to the UCI bit sequence
$a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{O^{CG - UCI} - 1}$, where
$a_{i} = {\widetilde{o}}_{i}^{CG - UCI\ }$for
$i = 0,1,\ \ldots,\ O^{CG - UCI} - 1$. The CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\ {\widetilde{o}}_{O^{CG - UCI} - 1}^{CG - UCI}$
is given by Table 6.3.2.1.3-1 mapped in the order from upper part to
lower part, and $O^{CG - UCI}$ is number of CG-UCI bits

\- The HARQ-ACK bits are mapped to the UCI bit sequence
$a_{O^{CG - UCI}},\ a_{O^{CG - UCI} + 1},\ \ \ldots,a_{O^{CG - UCI} + O^{ACK - HP} - 1}$,
where $a_{i + O^{CG - UCI}} = {\widetilde{o}}_{i}^{ACK - HP}$ for
$i = 0,1,\ \ldots,\ O^{ACK - HP} - 1$. The HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - HP},\ {\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} - 1}^{ACK - HP}$
associated with priority index 1 is given by Clause 9.1 of \[5, TS
38.213\].

\- If CSI part 1 is also transmitted on the PUSCH and the PUSCH is
associated with priority index 1,

\- Set $a_{i}^{(1)}$ for $i = 0,1,\ldots,A^{(1)} - 1$ as the bit
sequence of CSI part 1, where the CSI fields of all CSI reports, in the
order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to
the UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$
starting with $a_{0}^{(1)}$.

\- Set $a_{i}^{(2)} = {\widetilde{o}}_{i}^{ACK - LP}$ for
$i = {0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(2)} = O^{ACK - LP}$, where
the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$
associated with priority index 0 is given by Clause 9.1 of \[5, TS
38.213\].

\- Otherwise,

\- Set $a_{i}^{(1)} = {\widetilde{o}}_{i}^{ACK - LP}$ for
$i = {0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(1)} = O^{ACK - LP}$, where
the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$
associated with priority index 0 is given by Clause 9.1 of \[5, TS
38.213\].

\- Set $a_{i}^{(2)} = {\widetilde{a}}_{i}^{(1)}$ for
$i = 0,1,\ldots,{\widetilde{A}}^{(1)} - 1\ $and
$A^{(2)} = {\widetilde{A}}^{(1)}$, if CSI part 1 is also transmitted on
the PUSCH and the PUSCH is associated with priority index 0, where the
CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\ {\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\ \ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$
is given by Table 6.3.2.1.2-6 by replacing
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$,
and the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.2.1.2-6, are mapped to the CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\ {\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\ \ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$
starting with ${\widetilde{a}}_{0}^{(1)}$.

If *uci-MuxWithDiffPrio* is configured, and CG-UCI associated with
priority index 0 and HARQ-ACK bits associated with priority index 0 if
any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if
any are transmitted on a PUSCH associated with priority index 0, the
following UCI bit sequences are
generated,$\ a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$,
and
$a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{(2)}$
if any, according to the following:

\- Set $a_{i} = {\widetilde{o}}_{i}^{ACK - HP}$ for
$i = {0,1,\ldots,O}^{ACK - HP} - 1$ and $A = O^{ACK - HP}$, where the
HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - HP},\ {\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} - 1}^{ACK - HP}$
associated with priority index 1 is given by Clause 9.1 of \[5, TS
38.213\];

\- Set $a_{i}^{(1)} = {\widetilde{o}}_{i}^{CG - UCI}$ for
$i = 0,1,\ \ldots,\ O^{CG - UCI} - 1$ and $A^{(1)} = O^{CG - UCI}$ if
CG-UCI associated with priority index 0 is transmitted without HARQ-ACK
bits associated with priority index 0, where the CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\ {\widetilde{o}}_{O^{CG - UCI} - 1}^{CG - UCI}$
associated with priority index 0 is given by Table 6.3.2.1.3-1 mapped in
the order from upper part to lower part;

\- Set
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$
as follows if both CG-UCI associated with priority index 0 and HARQ-ACK
bits associated with priority index 0 are transmitted, where
$A^{(1)} = O^{CG - UCI} + O^{ACK - LP}$

\- The CG-UCI bits are mapped to the UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{O^{CG - UCI} - 1}^{(1)}$,
where $a_{i}^{(1)} = {\widetilde{o}}_{i}^{CG - UCI\ }$for
$i = 0,1,\ \ldots,\ O^{CG - UCI} - 1$. The CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\ {\widetilde{o}}_{O^{CG - UCI} - 1}^{CG - UCI}$
is given by Table 6.3.2.1.3-1 mapped in the order from upper part to
lower part, and $O^{CG - UCI}$ is number of CG-UCI bits

\- The HARQ-ACK bits are mapped to the UCI bit sequence
$a_{O^{CG - UCI}}^{(1)},\ a_{O^{CG - UCI} + 1}^{(1)},\ \ \ldots,a_{O^{CG - UCI} + O^{ACK - LP} - 1}^{(1)}$,
where $a_{i + O^{CG - UCI}}^{(1)} = {\widetilde{o}}_{i}^{ACK - LP}$ for
$i = 0,1,\ \ldots,\ O^{ACK - LP} - 1$. The HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$
associated with priority index 0 is given by Clause 9.1 of \[5, TS
38.213\].

\- Set $a_{i}^{(2)} = {\widetilde{a}}_{i}^{(1)}$ for
$i = 0,1,\ldots,{\widetilde{A}}^{(1)} - 1\ $and
$A^{(2)} = {\widetilde{A}}^{(1)}$, if CSI part 1 is also transmitted on
the PUSCH and the PUSCH is associated with priority index 0, where the
CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\ {\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\ \ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$
is given by Table 6.3.2.1.2-6 by replacing
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{(1)}$,
and the CSI fields of all CSI reports, in the order from upper part to
lower part in Table 6.3.2.1.2-6, are mapped to the CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\ {\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\ \ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$
starting with ${\widetilde{a}}_{0}^{(1)}$.

#### 6.3.2.2 Code block segmentation and CRC attachment

Denote the bits of the payload by ![](media/image3.wmf), where
![](media/image5.wmf) is the payload size. The procedure in 6.3.2.2.1
applies for ![](media/image703.wmf) and the procedure in Clause
6.3.2.2.2 applies for ![](media/image704.wmf).

##### 6.3.2.2.1 UCI encoded by Polar code

Code block segmentation and CRC attachment is performed according to
Clause 6.3.1.2.1.

##### 6.3.2.2.2 UCI encoded by channel coding of small block lengths

The procedure in Clause 6.3.1.2.2 applies.

#### 6.3.2.3 Channel coding of UCI

##### 6.3.2.3.1 UCI encoded by Polar code

Channel coding is performed according to Clause 6.3.1.3.1, except that
the rate matching output sequence length ![](media/image725.wmf) is
given in Clause 6.3.2.4.1.

##### 6.3.2.3.2 UCI encoded by channel coding of small block lengths

Information bits are delivered to the channel coding block. They are
denoted by ![](media/image714.wmf), where ![](media/image96.wmf) is the
number of bits.

The information bits are encoded according to Clause 5.3.3.

After encoding the bits are denoted by ![](media/image730.wmf), where
![](media/image731.wmf) is the number of coded bits.

#### 6.3.2.4 Rate matching

In case where there are more than one UL-SCH transport blocks for the
PUSCH transmission, the UCI information is multiplexed only on the
UL-SCH transport block with highest *I~MCS~* value for the initial
PUSCH, where *I~MCS~* is as defined in Clause 6.1.4.1 in \[6, TS
38.214\]. In case the two transport blocks have the same *I~MCS~* value
for the initial PUSCH, the UCI information is multiplexed with data only
on the first transport block. The PUSCH for UCI multiplexing in this
Clause refers to the UL-SCH transport block for UCI multiplexing.

##### 6.3.2.4.1 UCI encoded by Polar code

If the higher layer parameter *nrofBitsInUTO-UCI* is configured, the
procedures in this clause and the clauses it refers to apply by
replacing CG-UCI with UTO-UCI in all the notations and texts, when
applicable.

##### 6.3.2.4.1.1 HARQ-ACK {#harq-ack-1 .H6}

For HARQ-ACK transmission on PUSCH not using repetition type B with
UL-SCH and if *numberOfSlotsTBoMS* is not present in the resource
allocation table, or if *numberOfSlotsTBoMS* is present in the resource
allocation table and the value of *numberOfSlotsTBoMS* in the row
indicated by the Time domain resource assignment field in DCI is equal
to 1, the number of coded modulation symbols per layer for HARQ-ACK
transmission, denoted as ![](media/image867.wmf), is determined as
follows:

![](media/image868.wmf)

where

\- ![](media/image869.wmf) is the number of HARQ-ACK bits;

\- if ![](media/image870.wmf), ![](media/image871.wmf); otherwise
![](media/image872.wmf) is the number of CRC bits for HARQ-ACK
determined according to Clause 6.3.1.2.1;

\- ![](media/image873.wmf);

\- ![](media/image874.wmf) is the number of code blocks for UL-SCH of
the PUSCH transmission;

\- if the DCI format scheduling the PUSCH transmission includes a CBGTI
field indicating that the UE shall not transmit the
![](media/image875.wmf)-th code block, ![](media/image876.wmf)=0;
otherwise, ![](media/image877.wmf) is the ![](media/image878.wmf)-th
code block size for UL-SCH of the PUSCH transmission;

\- ![](media/image879.wmf) is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- ![](media/image880.wmf) is the number of subcarriers in OFDM symbol
![](media/image414.wmf) that carries PTRS, in the PUSCH transmission;

\- ![](media/image881.wmf) is the number of resource elements that can
be used for transmission of UCI in OFDM symbol ![](media/image414.wmf),
for ![](media/image882.wmf), in the PUSCH transmission and
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
![](media/image883.wmf);

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
![](media/image884.wmf);

\- ![](media/image885.wmf) is configured by higher layer parameter
*scaling*;

\- ![](media/image886.wmf) is the symbol index of the first OFDM symbol
that does not carry DMRS of the PUSCH, after the first DMRS symbol(s),
in the PUSCH transmission.

For HARQ-ACK transmission on PUSCH not using repetition type B with
UL-SCH, and if *numberOfSlotsTBoMS* is present in the resource
allocation table and the value of *numberOfSlotsTBoMS* in the row
indicated by the Time domain resource assignment field in DCI is larger
than 1, the number of coded modulation symbols per layer for HARQ-ACK
transmission, denoted as $Q_{ACK}^{'}$, is determined as follows:

$Q_{ACK}^{'} = \min\left\{ \left\lceil \frac{\left( O_{ACK} + L_{ACK} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = l_{0}}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil \right\}$

where

\- $N_{s}$ is the value of *numberOfSlotsTBoMS* in the row indicated by
the Time domain resource assignment field in DCI;

\- $M_{sc}^{PT - RS}(l)\ $is the number of subcarriers in OFDM symbol
$l$ that carries PTRS, in the PUSCH transmission of TB processing over
multiple slots in the slot with the HARQ-ACK transmission;

\- $M_{sc}^{UCI}(l)$ is the number of resource elements that can be used
for transmission of UCI in OFDM symbol $l$, for
$l = 0,1,2,\ldots,N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission
of TB processing over multiple slots in the slot with the HARQ-ACK
transmission and $N_{symb,all}^{PUSCH}\ $is the total number of OFDM
symbols of the PUSCH in the slot, including all OFDM symbols used for
DMRS;

\- $l_{0}\ $is the symbol index of the first OFDM symbol that does not
carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH
transmission of TB processing over multiple slots in the slot with the
HARQ-ACK transmission;

\- and all the other notations in the formula are defined the same as
for PUSCH not using repetition type B and if *numberOfSlotsTBoMS* is not
present in the resource allocation table.

For HARQ-ACK transmission on an actual repetition of a PUSCH with
repetition Type B with UL-SCH, the number of coded modulation symbols
per layer for HARQ-ACK transmission, denoted as $Q_{ACK}^{'}$, is
determined as follows:

$Q_{ACK}^{'} = \min\left\{ \left\lceil \frac{\left( O_{ACK} + L_{ACK} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} - 1}{M_{\text{sc,nominal}}^{\text{UCI}}(l)}}{\sum_{r = 0}^{C_{\text{UL-SCH}} - 1}K_{r}} \right\rceil,\ \ \ \left\lceil \alpha \bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} - 1}{M_{\text{sc,nominal}}^{\text{UCI}}(l)} \right\rceil,\ \ \sum_{l = 0}^{N_{\text{symb,actual}}^{\text{PUSCH}} - 1}{M_{\text{sc,actual}}^{\text{UCI}}(l)} \right\}\ $

where

\- $M_{\text{sc,nominal}}^{\text{UCI}}(l)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$,
for
$l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,nominal}}^{\text{PUSCH}} - 1$,
in the PUSCH transmission assuming a nominal repetition without
segmentation, and $N_{\text{symb,nominal}}^{\text{PUSCH}}$ is the total
number of OFDM symbols in a nominal repetition of the PUSCH, including
all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal
repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the PUSCH assuming a
nominal repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}(l) = M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,nominal}}^{\text{PT-RS}}(l)$
where $M_{\text{sc,nominal}}^{\text{PT-RS}}(l)$ is the number of
subcarriers in OFDM symbol $l$ that carries PTRS, in the PUSCH
transmission assuming a nominal repetition without segmentation;

\- $M_{\text{sc,actual}}^{\text{UCI}}(l)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$ ,
for
$l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,actual}}^{\text{PUSCH}} - 1$, in
the actual repetition of the PUSCH transmission, and
$N_{\text{symb,actual}}^{\text{PUSCH}}$ is the total number of OFDM
symbols in the actual repetition of the PUSCH transmission, including
all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the actual repetition of the
PUSCH transmission, $M_{\text{sc,actual}}^{\text{UCI}}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the actual repetition
of the PUSCH transmission,
$M_{\text{sc,actual}}^{\text{UCI}}(l) = M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,actual}}^{\text{PT-RS}}(l)$
where $M_{\text{sc,actual}}^{\text{PT-RS}}(l)$ is the number of
subcarriers in OFDM symbol $l$ that carries PTRS, in the actual
repetition of the PUSCH transmission;

\- and all the other notations in the formula are defined the same as
for PUSCH not using repetition type B and if *numberOfSlotsTBoMS* is not
present in the resource allocation table.

For HARQ-ACK transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for HARQ-ACK transmission, denoted as
![](media/image867.wmf), is determined as follows:

![](media/image887.wmf)

where

\- ![](media/image869.wmf) is the number of HARQ-ACK bits;

\- if ![](media/image870.wmf), ![](media/image871.wmf); otherwise
![](media/image872.wmf) is the number of CRC bits for HARQ-ACK defined
according to Clause 6.3.1.2.1;;

\- ![](media/image888.wmf);

\- ![](media/image889.wmf) is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- ![](media/image880.wmf) is the number of subcarriers in OFDM symbol
![](media/image414.wmf) that carries PTRS, in the PUSCH transmission;

\- ![](media/image881.wmf) is the number of resource elements that can
be used for transmission of UCI in OFDM symbol ![](media/image414.wmf),
for ![](media/image882.wmf), in the PUSCH transmission and
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
![](media/image883.wmf);

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
![](media/image884.wmf);

\- ![](media/image886.wmf) is the symbol index of the first OFDM symbol
that does not carry DMRS of the PUSCH, after the first DMRS symbol(s),
in the PUSCH transmission;

\- ![](media/image890.wmf) is the code rate of the PUSCH, determined
according to Clause 6.1.4.1 of \[6, TS38.214\];

\- ![](media/image456.wmf) is the modulation order of the PUSCH;

\- ![](media/image891.wmf) is configured by higher layer parameter
*scaling*.

The input bit sequence to rate matching is ![](media/image740.wmf) where
![](media/image67.wmf) is the code block number, and
![](media/image729.wmf) is the number of coded bits in code block number
![](media/image67.wmf).

Rate matching is performed according to Clause 5.4.1 by setting
![](media/image751.wmf) and the rate matching output sequence length to
![](media/image752.wmf), where

\- ![](media/image892.wmf) is the number of code blocks for UCI
determined according to Clause 5.2.1;

\- ![](media/image455.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH;

\- ![](media/image893.wmf).

The output bit sequence after rate matching is denoted as
![](media/image766.wmf) where ![](media/image767.wmf) is the length of
rate matching output sequence in code block number
![](media/image67.wmf).

##### 6.3.2.4.1.2 CSI part 1 {#csi-part-1 .H6}

For CSI part 1 transmission on PUSCH not using repetition type B with
UL-SCH and if *numberOfSlotsTBoMS* is not present in the resource
allocation table, or if *numberOfSlotsTBoMS* is present in the resource
allocation table and the value of *numberOfSlotsTBoMS* in the row
indicated by the Time domain resource assignment field in DCI is equal
to 1, the number of coded modulation symbols per layer for CSI part 1
transmission, denoted as ![](media/image894.wmf), is determined as
follows:

$Q_{CSI - 1}^{'} = min\left\{ \left\lceil \frac{\left( O_{CSI - 1} + L_{CSI - 1} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil - Q_{ACK/CG - UCI}^{'} \right\}$

where

\- ![](media/image895.wmf) is the number of bits for CSI part 1;

\- if ![](media/image896.wmf), ![](media/image897.wmf); otherwise
![](media/image898.wmf) is the number of CRC bits for CSI part 1
determined according to Clause 6.3.1.2.1;

\- ![](media/image899.wmf);

\- ![](media/image874.wmf) is the number of code blocks for UL-SCH of
the PUSCH transmission;

\- if the DCI format scheduling the PUSCH transmission includes a CBGTI
field indicating that the UE shall not transmit the
![](media/image875.wmf)-th code block, ![](media/image900.wmf)=0;
otherwise,![](media/image877.wmf) is the ![](media/image878.wmf)-th code
block size for UL-SCH of the PUSCH transmission;

\- ![](media/image879.wmf) is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- ![](media/image880.wmf) is the number of subcarriers in OFDM symbol
![](media/image414.wmf) that carries PTRS, in the PUSCH transmission;

\- $Q_{ACK/CG - UCI}^{'} = Q_{ACK}^{'}$ if HARQ-ACK is present for
transmission on the same PUSCH with UL-SCH and without CG-UCI, where
$Q_{ACK}^{'}$ is the number of coded modulation symbols per layer for
HARQ-ACK transmitted on the PUSCH as defined in clause 6.3.2.4.1.1 if
number of HARQ-ACK information bits is more than 2, and
![](media/image901.wmf) if the number of HARQ-ACK information bits is no
more than 2 bits, where ![](media/image902.wmf) is the number of
reserved resource elements for potential HARQ-ACK transmission in OFDM
symbol ![](media/image414.wmf), for ![](media/image903.wmf), in the
PUSCH transmission, defined in Clause 6.2.7; or

\- $Q_{ACK/CG - UCI}^{'} = Q_{ACK}^{'}$ if both HARQ-ACK and CG-UCI are
present on the same PUSCH with UL-SCH, where $Q_{ACK}^{'}$ is the number
of coded modulation symbols per layer for HARQ-ACK and CG-UCI
transmitted on the PUSCH as defined in clause 6.3.2.4.1.5; or

\- $Q_{ACK/CG - UCI}^{'} = Q_{CG - UCI}^{'}$ if CG-UCI is present on the
same PUSCH with UL-SCH and without HARQ-ACK, where $Q_{CG - UCI}^{'}$ is
the number of coded modulation symbols per layer for CG-UCI transmitted
on the PUSCH as defined in clause 6.3.2.4.1.4;

\- ![](media/image881.wmf) is the number of resource elements that can
be used for transmission of UCI in OFDM symbol ![](media/image414.wmf),
for ![](media/image882.wmf), in the PUSCH transmission and
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
![](media/image883.wmf);

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
![](media/image884.wmf);

\- ![](media/image904.wmf) is configured by higher layer parameter
*scaling*.

For CSI part 1 transmission on PUSCH not using repetition type B with
UL-SCH, and if *numberOfSlotsTBoMS* is present in the resource
allocation table and the value of *numberOfSlotsTBoMS* in the row
indicated by the Time domain resource assignment field in DCI is larger
than 1, the number of coded modulation symbols per layer for CSI part 1
transmission, denoted as $Q_{CSI - part1}^{'}$, is determined as
follows:

$$Q_{CSI - 1}^{'} = \min\left\{ \left\lceil \frac{\left( O_{CSI - 1} + L_{CSI - 1} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil - Q_{ACK/CG - UCI}^{'} \right\}$$

where

\- $N_{s}$ is the value of *numberOfSlotsTBoMS* in the row indicated by
the Time domain resource assignment field in DCI;

\- $M_{sc}^{PT - RC}(l)$ is the number of subcarriers in OFDM symbol $l$
that carries PTRS, in the PUSCH transmission of TB processing over
multiple slots in the slot with the CSI part 1 transmission;

\- $M_{sc}^{UCI}(l)\ $is the number of resource elements that can be
used for transmission of UCI in OFDM symbol $l$, for
$l = 0,1,2,\ldots,N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission
of TB processing over multiple slots in the slot with the CSI part 1
transmission and $N_{symb,all}^{PUSCH}\ $is the total number of OFDM
symbols of the PUSCH in the slot, including all OFDM symbols used for
DMRS;

\- and all the other notations in the formula are defined the same as
for PUSCH not using repetition type B and if *numberOfSlotsTBoMS* is not
present in the resource allocation table.

For CSI part 1 transmission on an actual repetition of a PUSCH with
repetition Type B with UL-SCH, the number of coded modulation symbols
per layer for CSI part 1 transmission, denoted as
$Q_{\text{CSI-}\text{part}\text{1}}^{'}$, is determined as follows:

$$Q_{\text{CSI-1}}^{'} = \min\left\{ \left\lceil \frac{\left( O_{\text{CSI-1}} + L_{\text{CSI-1}} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} - 1}{M_{\text{sc,nominal}}^{\text{UCI}}(l)}}{\sum_{r = 0}^{C_{\text{UL-SCH}} - 1}K_{r}} \right\rceil,\ \ \ \left\lceil \alpha \bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} - 1}{M_{\text{sc,nominal}}^{\text{UCI}}(l)} \right\rceil - Q_{ACK/CG - UCI}^{'}\ ,\ \ \sum_{l = 0}^{N_{\text{symb,actual}}^{\text{PUSCH}} - 1}{M_{\text{sc,actual}}^{\text{UCI}}(l)} - Q_{ACK/CG - UCI}^{'} \right\}\ $$

where

\- $M_{\text{sc,nominal}}^{\text{UCI}}(l)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$,
for
$l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,nominal}}^{\text{PUSCH}} - 1$,
in the PUSCH transmission assuming a nominal repetition without
segmentation, and $N_{\text{symb,nominal}}^{\text{PUSCH}}$ is the total
number of OFDM symbols in a nominal repetition of the PUSCH, including
all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal
repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the PUSCH assuming a
nominal repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}(l) = M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,nominal}}^{\text{PT-RS}}(l)$
where $M_{\text{sc,nominal}}^{\text{PT-RS}}(l)$ is the number of
subcarriers in OFDM symbol $l$ that carries PTRS, in the PUSCH
transmission assuming a nominal repetition without segmentation;

\- $M_{\text{sc,actual}}^{\text{UCI}}(l)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$,
for
$l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,actual}}^{\text{PUSCH}} - 1$, in
the actual repetition of the PUSCH transmission, and
$N_{\text{symb,actual}}^{\text{PUSCH}}$ is the total number of OFDM
symbols in the actual repetition of the PUSCH transmission, including
all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the actual repetition of the
PUSCH transmission, $M_{\text{sc,actual}}^{\text{UCI}}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the actual repetition
of the PUSCH transmission,
$M_{\text{sc,actual}}^{\text{UCI}}(l) = M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,actual}}^{\text{PT-RS}}(l)$
where $M_{\text{sc,actual}}^{\text{PT-RS}}(l)$ is the number of
subcarriers in OFDM symbol $l$ that carries PTRS, in the actual
repetition of the PUSCH transmission;

\- and all the other notations in the formula are defined the same as
for PUSCH not using repetition type B and if *numberOfSlotsTBoMS* is not
present in the resource allocation table.

For CSI part 1 transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for CSI part 1 transmission, denoted as
![](media/image894.wmf), is determined as follows:

if there is CSI part 2 to be transmitted on the PUSCH,

![](media/image905.wmf)

else

![](media/image906.wmf)

end if

where

\- ![](media/image895.wmf) is the number of bits for CSI part 1;

\- if ![](media/image896.wmf), ![](media/image897.wmf); otherwise
![](media/image898.wmf) is the number of CRC bits for CSI part 1
determined according to Clause 6.3.1.2.1;

\- ![](media/image899.wmf);

\- ![](media/image879.wmf) is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- ![](media/image880.wmf) is the number of subcarriers in OFDM symbol
![](media/image414.wmf) that carries PTRS, in the PUSCH transmission;

\- ![](media/image907.wmf) is the number of coded modulation symbols per
layer for HARQ-ACK transmitted on the PUSCH if number of HARQ-ACK
information bits is more than 2, and ![](media/image901.wmf) if the
number of HARQ-ACK information bits is no more than 2 bits, where
![](media/image902.wmf) is the number of reserved resource elements for
potential HARQ-ACK transmission in OFDM symbol ![](media/image414.wmf),
for ![](media/image903.wmf), in the PUSCH transmission, defined in
Clause 6.2.7;

\- ![](media/image881.wmf) is the number of resource elements that can
be used for transmission of UCI in OFDM symbol ![](media/image414.wmf),
for ![](media/image882.wmf), in the PUSCH transmission and
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
![](media/image883.wmf);

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
![](media/image884.wmf);

\- ![](media/image890.wmf) is the code rate of the PUSCH, determined
according to Clause 6.1.4.1 of \[6, TS38.214\];

\- ![](media/image456.wmf) is the modulation order of the PUSCH.

The input bit sequence to rate matching is ![](media/image740.wmf) where
![](media/image67.wmf) is the code block number, and
![](media/image729.wmf) is the number of coded bits in code block number
![](media/image67.wmf).

Rate matching is performed according to Clause 5.4.1 by setting
![](media/image751.wmf) and the rate matching output sequence length to
![](media/image752.wmf), where

\- ![](media/image892.wmf) is the number of code blocks for UCI
determined according to Clause 5.2.1;

\- ![](media/image908.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH;

\- ![](media/image909.wmf).

The output bit sequence after rate matching is denoted as
![](media/image766.wmf) where ![](media/image767.wmf) is the length of
rate matching output sequence in code block number
![](media/image67.wmf).

##### 6.3.2.4.1.3 CSI part 2 {#csi-part-2 .H6}

For CSI part 2 transmission on PUSCH not using repetition type B with
UL-SCH and if *numberOfSlotsTBoMS* is not present in the resource
allocation table, or if *numberOfSlotsTBoMS* is present in the resource
allocation table and the value of *numberOfSlotsTBoMS* in the row
indicated by the Time domain resource assignment field in DCI is equal
to 1, the number of coded modulation symbols per layer for CSI part 2
transmission, denoted as ![](media/image910.wmf), is determined as
follows:

$Q_{CSI - 2}^{'} = min\left\{ \left\lceil \frac{\left( O_{CSI - 2} + L_{CSI - 2} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil - Q_{ACK/CG - UCI}^{'} - Q_{CSI - 1}^{'} \right\}$

where

\- ![](media/image911.wmf) is the number of bits for CSI part 2;

\- if ![](media/image912.wmf), ![](media/image913.wmf); otherwise
![](media/image914.wmf) is the number of CRC bits for CSI part 2
determined according to Clause 6.3.1.2.1;

\- ![](media/image915.wmf);

\- ![](media/image874.wmf) is the number of code blocks for UL-SCH of
the PUSCH transmission;

\- if the DCI format scheduling the PUSCH transmission includes a CBGTI
field indicating that the UE shall not transmit the
![](media/image875.wmf)-th code block, ![](media/image916.wmf)=0;
otherwise,![](media/image877.wmf) is the ![](media/image878.wmf)-th code
block size for UL-SCH of the PUSCH transmission;

\- ![](media/image879.wmf) is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- ![](media/image880.wmf) is the number of subcarriers in OFDM symbol
![](media/image414.wmf) that carries PTRS, in the PUSCH transmission;

\- $Q_{ACK/CG - UCI}^{'} = Q_{ACK}^{'}$ if HARQ-ACK is present for
transmission on the same PUSCH with UL-SCH and without CG-UCI, where
$Q_{ACK}^{'}$ is the number of coded modulation symbols per layer for
HARQ-ACK transmitted on the PUSCH as defined in clause 6.3.2.4.1.1 if
number of HARQ-ACK information bits is more than 2, and
![](media/image917.wmf) if the number of HARQ-ACK information bits is 1
or 2 bits; or

\- $Q_{ACK/CG - UCI}^{'} = Q_{ACK}^{'}$ if both HARQ-ACK and CG-UCI are
present on the same PUSCH with UL-SCH, where $Q_{ACK}^{'}$ is the number
of coded modulation symbols per layer for HARQ-ACK and CG-UCI
transmitted on the PUSCH as defined in clause 6.3.2.4.1.5; or

\- $Q_{ACK/CG - UCI}^{'} = Q_{CG - UCI}^{'}$ if CG-UCI is present on the
same PUSCH with UL-SCH and without HARQ-ACK, where $Q_{CG - UCI}^{'}$ is
the number of coded modulation symbols per layer for CG-UCI transmitted
on the PUSCH as defined in clause 6.3.2.4.1.4;

\- ![](media/image918.wmf) is the number of coded modulation symbols per
layer for CSI part 1 transmitted on the PUSCH;

\- ![](media/image881.wmf) is the number of resource elements that can
be used for transmission of UCI in OFDM symbol ![](media/image414.wmf),
for ![](media/image882.wmf), in the PUSCH transmission and
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
![](media/image883.wmf);

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
![](media/image884.wmf).

\- ![](media/image919.wmf) is configured by higher layer parameter
*scaling*.

For CSI part 2 transmission on PUSCH not using repetition type B with
UL-SCH, and if *numberOfSlotsTBoMS* is present in the resource
allocation table and the value of *numberOfSlotsTBoMS* in the row
indicated by the Time domain resource assignment field in DCI is larger
than 1, the number of coded modulation symbols per layer for CSI part 2
transmission, denoted as $Q_{CSI - part2}^{'}$, is determined as
follows:

$$Q_{CSI - 2}^{'} = \min\left\{ \left\lceil \frac{\left( O_{CSI - 2} + L_{CSI - 2} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil - Q_{ACK/CG - UCI}^{'} - Q_{CSI - 1}^{'} \right\}$$

where

\- $N_{s}$ is the value of *numberOfSlotsTBoMS* in the row indicated by
the Time domain resource assignment field in DCI;

\- $M_{sc}^{PT - RS}(l)\ $is the number of subcarriers in OFDM symbol
$l$ that carries PTRS, in the PUSCH transmission of TB processing over
multiple slots in the slot with the CSI part 2 transmission;

\- $M_{sc}^{UCI}(l)\ $is the number of resource elements that can be
used for transmission of UCI in OFDM symbol $l$, for
$l = 0,1,2,\ldots,N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission
of TB processing over multiple slots in the slot with the CSI part 2
transmission and $N_{symb,all}^{PUSCH}\ $is the total number of OFDM
symbols of the PUSCH in the slot, including all OFDM symbols used for
DMRS;

\- and all the other notations in the formula are defined the same as
for PUSCH not using repetition type B and if *numberOfSlotsTBoMS* is not
present in the resource allocation table.

For CSI part 2 transmission on an actual repetition of a PUSCH with
repetition Type B with UL-SCH, the number of coded modulation symbols
per layer for CSI part 2 transmission, denoted as
$Q_{\text{CSI-}\text{part}\text{2}}^{'}$, is determined as follows:

$$Q_{\text{CSI-2}}^{'} = \min\left\{ \left\lceil \frac{\left( O_{\text{CSI-2}} + L_{\text{CSI-2}} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} - 1}{M_{\text{sc,nominal}}^{\text{UCI}}(l)}}{\sum_{r = 0}^{C_{\text{UL-SCH}} - 1}K_{r}} \right\rceil,\ \ \ \left\lceil \alpha \bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} - 1}{M_{\text{sc,nominal}}^{\text{UCI}}(l)} \right\rceil - Q_{ACK/CG - UCI}^{'} - Q_{\text{CSI-1}}^{'}\ ,\ \ \sum_{l = 0}^{N_{\text{symb,actual}}^{\text{PUSCH}} - 1}{M_{\text{sc,actual}}^{\text{UCI}}(l)} - Q_{ACK/CG - UCI}^{'} - Q_{\text{CSI-1}}^{'} \right\}\ $$

where

\- $M_{\text{sc,nominal}}^{\text{UCI}}(l)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$,
for
$l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,nominal}}^{\text{PUSCH}} - 1$,
in the PUSCH transmission assuming a nominal repetition without
segmentation, and $N_{\text{symb,nominal}}^{\text{PUSCH}}$ is the total
number of OFDM symbols in a nominal repetition of the PUSCH, including
all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal
repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the PUSCH assuming a
nominal repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}(l) = M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,nominal}}^{\text{PT-RS}}(l)$
where $M_{\text{sc,nominal}}^{\text{PT-RS}}(l)$ is the number of
subcarriers in OFDM symbol $l$ that carries PTRS, in the PUSCH
transmission assuming a nominal repetition without segmentation;

\- $M_{\text{sc,actual}}^{\text{UCI}}(l)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$,
for
$l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,actual}}^{\text{PUSCH}} - 1$, in
the actual repetition of the PUSCH transmission, and
$N_{\text{symb,actual}}^{\text{PUSCH}}$ is the total number of OFDM
symbols in the actual repetition of the PUSCH transmission, including
all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the actual repetition of the
PUSCH transmission, $M_{\text{sc,actual}}^{\text{UCI}}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the actual repetition
of the PUSCH transmission,
$M_{\text{sc,actual}}^{\text{UCI}}(l) = M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,actual}}^{\text{PT-RS}}(l)$
where $M_{\text{sc,actual}}^{\text{PT-RS}}(l)$ is the number of
subcarriers in OFDM symbol $l$ that carries PTRS, in the actual
repetition of the PUSCH transmission;

\- and all the other notations in the formula are defined the same as
for PUSCH not using repetition type B and if *numberOfSlotsTBoMS* is not
present in the resource allocation table.

For CSI part 2 transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for CSI part 2 transmission, denoted as
![](media/image910.wmf), is determined as follows:

![](media/image920.wmf)

where

\- ![](media/image879.wmf) is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- ![](media/image880.wmf) is the number of subcarriers in OFDM symbol
![](media/image414.wmf) that carries PTRS, in the PUSCH transmission;

\- ![](media/image921.wmf) is the number of coded modulation symbols per
layer for HARQ-ACK transmitted on the PUSCH if number of HARQ-ACK
information bits is more than 2, and ![](media/image917.wmf) if the
number of HARQ-ACK information bits is 1 or 2 bits;

\- ![](media/image918.wmf) is the number of coded modulation symbols per
layer for CSI part 1 transmitted on the PUSCH;

\- ![](media/image881.wmf) is the number of resource elements that can
be used for transmission of UCI in OFDM symbol ![](media/image414.wmf),
for ![](media/image882.wmf), in the PUSCH transmission and
![](media/image416.wmf) is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
![](media/image883.wmf);

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
![](media/image884.wmf).

The input bit sequence to rate matching is ![](media/image740.wmf) where
![](media/image67.wmf) is the code block number, and
![](media/image729.wmf) is the number of coded bits in code block number
![](media/image67.wmf).

Rate matching is performed according to Clause 5.4.1 by setting
![](media/image751.wmf) and the rate matching output sequence length to
![](media/image752.wmf), where

\- ![](media/image892.wmf) is the number of code blocks for UCI
determined according to Clause 5.2.1;

\- ![](media/image908.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH;

\- ![](media/image922.wmf).

The output bit sequence after rate matching is denoted as
![](media/image766.wmf) where ![](media/image767.wmf) is the length of
rate matching output sequence in code block number
![](media/image67.wmf).

##### 6.3.2.4.1.4 CG-UCI  {#cg-uci-1 .H6}

For CG-UCI transmission on PUSCH with UL-SCH and if *numberOfSlotsTBoMS*
is not present in the resource allocation table, or if
*numberOfSlotsTBoMS* is present in the resource allocation table and the
value of *numberOfSlotsTBoMS* in the row indicated by the Time domain
resource assignment field in DCI is equal to 1, the number of coded
modulation symbols per layer for CG-UCI transmission, denoted as
$Q_{CG - UCI}^{'}$, is determined as follows:

$Q_{CG - UCI}^{'} = \min\left\{ \left\lceil \frac{\left( O_{CG - UCI} + L_{CG - UCI} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = l_{0}}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil \right\}$

where

\- $O_{CG - UCI}$ is the number of CG-UCI bits;

\- $L_{CG - UCI}$ is the number of CRC bits for CG-UCI determined
according to Clause 6.3.1.2.1;

\- $\beta_{offset}^{PUSCH} = \beta_{offset}^{CG - UCI}$;

\- $C_{UL - SCH}$ is the number of code blocks for UL-SCH of the PUSCH
transmission;

\- $K_{r}$ is the *r*-th code block size for UL-SCH of the PUSCH
transmission;

\- $M_{sc}^{PUSCH}$ is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- $M_{sc}^{PT - RS}(l)$ is the number of subcarriers in OFDM symbol *l*
that carries PTRS, in the PUSCH transmission;

\- $M_{sc}^{UCI}(l)$ is the number of resource elements that can be used
for transmission of UCI in OFDM symbol *l*, for $l$=0,1,2,...,
$N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission and
$N_{symb,all}^{PUSCH}$ is the total number of OFDM symbols of the PUSCH,
including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
$M_{sc}^{UCI}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
$M_{sc}^{UCI}(l) = M_{sc}^{PUSCH} - \ M_{sc}^{PT - RS}(l)$;

\- $\alpha$ is configured by higher layer parameter *scaling*;

\- $l_{0}$ is the symbol index of the first OFDM symbol that does not
carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH
transmission.

For CG-UCI transmission on PUSCH with UL-SCH, and if
*numberOfSlotsTBoMS* is present in the resource allocation table and the
value of *numberOfSlotsTBoMS* in the row indicated by the Time domain
resource assignment field in DCI is larger than 1, the number of coded
modulation symbols per layer for CG-UCI transmission, denoted as
$Q_{CG - UCI}^{'}$, is determined as follows:

$$Q_{CG - UCI}^{'} = \min\left\{ \left\lceil \frac{\left( O_{CG - UCI} + L_{CG - UCI} \right){\bullet \beta}_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = l_{0}}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil \right\}$$

where

\- $N_{s}$ is the value of *numberOfSlotsTBoMS* in the row indicated by
the Time domain resource assignment field in DCI;

\- $M_{sc}^{PT - RS}(l)\ $is the number of subcarriers in OFDM
symbol$\ l$ that carries PTRS, in the PUSCH transmission of TB
processing over multiple slots in the slot with the CG-UCI transmission;

\- $M_{sc}^{UCI}(l)$is the number of resource elements that can be used
for transmission of UCI in OFDM symbol $l$, for
$l = 0,1,2,\ldots,N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission
of TB processing over multiple slots in the slot with the CG-UCI
transmission and $N_{symb,all}^{PUSCH}$ is the total number of OFDM
symbols of the PUSCH in the slot, including all OFDM symbols used for
DMRS;

\- $l_{0}\ $is the symbol index of the first OFDM symbol that does not
carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH
transmission of TB processing over multiple slots in the slot with the
CG-UCI transmission;

\- and all the other notations in the formula are defined the same as
for PUSCH with UL-SCH and if *numberOfSlotsTBoMS* is not present in the
resource allocation table.

The input bit sequence to rate matching is
$d_{r0},\ d_{r1},\ d_{r2},\ d_{r3},\ \ldots,\ d_{r\left( N_{r} - 1 \right)}$
where *r* is the code block number, and $N_{r}$ is the number of coded
bits in code block number *r*.

Rate matching is performed according to Clause 5.4.1 by setting
$I_{BIL} = 1$ and the rate matching output sequence length to
$E_{r} = \left\lfloor \frac{E_{UCI}}{C_{UCI}} \right\rfloor$, where

\- $C_{UCI}$ is the number of code blocks for UCI determined according
to Clause 5.2.1;

\- $N_{L}$ is the number of transmission layers of the PUSCH;

\- $Q_{m}$ is the modulation order of the PUSCH;

\- $E_{UCI} = N_{L} \bullet Q_{CG - UCI}^{'} \bullet Q_{m}$.

The output bit sequence after rate matching is denoted as
$f_{r0},\ f_{r1},f_{r2},\ \ldots,\ f_{r\left( E_{r} - 1 \right)}$ where
$E_{r}$ is the length of rate matching output sequence in code block
number *r*.

##### 6.3.2.4.1.5 HARQ-ACK and CG-UCI {#harq-ack-and-cg-uci .H6}

For HARQ-ACK and CG-UCI transmission on PUSCH with UL-SCH and if
*numberOfSlotsTBoMS* is not present in the resource allocation table, or
if *numberOfSlotsTBoMS* is present in the resource allocation table and
the value of *numberOfSlotsTBoMS* in the row indicated by the Time
domain resource assignment field in DCI is equal to 1, the number of
coded modulation symbols per layer for HARQ-ACK and CG-UCI transmission,
denoted as $Q_{ACK}^{'}$, is determined as follows:

$Q_{ACK}^{'} = min\left\{ \left\lceil \frac{\left( O_{ACK} + O_{CG - UCI} + L_{ACK} \right) \bullet \beta_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = l_{0}}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil \right\}$

where

\- $O_{ACK}$ is the number of HARQ-ACK bits;

\- $O_{CG - UCI}$ is the number of CG-UCI bits;

\- if ${O_{ACK} + O}_{CG - UCI} \geq 360$, $L_{ACK} = 11$; otherwise
$L_{ACK}$ is the number of CRC bits for HARQ-ACK and CG-UCI determined
according to Clause 6.3.1.2.1;

\- $\beta_{offset}^{PUSCH} = \beta_{offset}^{HARQ - ACK}$;

\- $C_{UL - SCH}$ is the number of code blocks for UL-SCH of the PUSCH
transmission;

\- $K_{r}$ is the *r*-th code block size for UL-SCH of the PUSCH
transmission;

\- $M_{sc}^{PUSCH}$ is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;

\- $M_{sc}^{PT - RS}(l)$ is the number of subcarriers in OFDM symbol *l*
that carries PTRS, in the PUSCH transmission;

\- $M_{sc}^{UCI}(l)$ is the number of resource elements that can be used
for transmission of UCI in OFDM symbol *l*, for $l$=0,1,2,...,
$N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission and
$N_{symb,all}^{PUSCH}$ is the total number of OFDM symbols of the PUSCH,
including all OFDM symbols used for DMRS;

\- for any OFDM symbol that carries DMRS of the PUSCH,
$M_{sc}^{UCI}(l) = 0$;

\- for any OFDM symbol that does not carry DMRS of the PUSCH,
$M_{sc}^{UCI}(l) = M_{sc}^{PUSCH} - \ M_{sc}^{PT - RS}(l)$;

\- $\alpha$ is configured by higher layer parameter *scaling*;

\- $l_{0}$ is the symbol index of the first OFDM symbol that does not
carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH
transmission.

For HARQ-ACK and CG-UCI transmission on PUSCH with UL-SCH, and if
*numberOfSlotsTBoMS* is present in the resource allocation table and the
value of *numberOfSlotsTBoMS* in the row indicated by the Time domain
resource assignment field in DCI is larger than 1, the number of coded
modulation symbols per layer for HARQ-ACK and CG-UCI transmission,
denoted as $Q_{ACK}^{'}$, is determined as follows:

$$Q_{ACK}^{'} = \min\left\{ \left\lceil \frac{\left( O_{ACK} + O_{CG - UCI} + L_{ACK} \right){\bullet \beta}_{offset}^{PUSCH} \bullet \sum_{l = 0}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l = l_{0}}^{N_{symb,all}^{PUSCH} - 1}{M_{sc}^{UCI}(l)} \right\rceil \right\}$$

where

\- $N_{s}$ is the value of *numberOfSlotsTBoMS* in the row indicated by
the Time domain resource assignment field in DCI;

\- $M_{sc}^{PT - RS}(l)\ $is the number of subcarriers in OFDM symbol
$l$ that carries PTRS, in the PUSCH transmission of TB processing over
multiple slots in the slot with the HARQ-ACK and CG-UCI transmission;

\- $M_{sc}^{UCI}(l)\ $is the number of resource elements that can be
used for transmission of UCI in OFDM symbol $l$, for
$l = 0,1,2,\ldots,N_{symb,all}^{PUSCH} - 1$, in the PUSCH transmission
of TB processing over multiple slots in the slot with the HARQ-ACK and
CG-UCI transmission and $N_{symb,all}^{PUSCH}$ is the total number of
OFDM symbols of the PUSCH in the slot, including all OFDM symbols used
for DMRS;

\- $l_{0}\ $is the symbol index of the first OFDM symbol that does not
carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH
transmission of TB processing over multiple slots in the slot with the
HARQ-ACK and CG-UCI transmission;

\- and all the other notations in the formula are defined the same as
for PUSCH with UL-SCH and if *numberOfSlotsTBoMS* is not present in the
resource allocation table.

The input bit sequence to rate matching is
$d_{r0},\ d_{r1},\ d_{r2},\ d_{r3},\ \ldots,\ d_{r\left( N_{r} - 1 \right)}$
where *r* is the code block number, and $N_{r}$ is the number of coded
bits in code block number *r*.

Rate matching is performed according to Clause 5.4.1 by setting
$I_{BIL} = 1$ and the rate matching output sequence length to
$E_{r} = \left\lfloor \frac{E_{UCI}}{C_{UCI}} \right\rfloor$, where

\- $C_{UCI}$ is the number of code blocks for UCI determined according
to Clause 5.2.1;

\- $N_{L}$ is the number of transmission layers of the PUSCH;

\- $Q_{m}$ is the modulation order of the PUSCH;

\- $E_{UCI} = N_{L} \bullet Q_{ACK}^{'} \bullet Q_{m}$.

The output bit sequence after rate matching is denoted as
$f_{r0},\ f_{r1},f_{r2},\ \ldots,\ f_{r\left( E_{r} - 1 \right)}$ where
$E_{r}$ is the length of rate matching output sequence in code block
number *r*.

##### 6.3.2.4.1.6 UCI with different priority indexes {#uci-with-different-priority-indexes-2 .H6}

In this clause, $\beta_{offset}^{HARQ - ACK - LP}\ $is equal to
$\beta_{offset}^{HARQ - ACK,0}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 1, and equal to
$\beta_{offset}^{HARQ - ACK}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 0.
$\beta_{offset}^{HARQ - ACK - HP}\ $is equal to
$\beta_{offset}^{HARQ - ACK,1}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 0, and equal to
$\beta_{offset}^{HARQ - ACK}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 1.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, and CSI part 1 if any are transmitted on a PUSCH
associated with priority index 1:

\- If CSI part 1 is also transmitted on the PUSCH,

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.2,
by assuming the number of HARQ-ACK information bits to be transmitted on
PUSCH in clause 6.3.2.4.1.2 is 0 bit.

\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 0 as CSI part
2 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.1.3 is 0
bit.

\- Otherwise, perform rate matching for HARQ-ACK with priority index 0
according to clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index
0 as CSI-part 1 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.1.2 is 0
bit.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 1, and CSI if any are transmitted on a PUSCH
associated with priority index 0:

\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK
and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$.

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.2,
by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is
also transmitted on the PUSCH.

\- Perform rate matching for CSI part 2 according to clause 6.3.2.4.1.3,
by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 2 is
also transmitted on the PUSCH.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, HARQ-ACK bits associated with priority index 1
and/or CG-UCI associated with priority index 1, and CSI part 1 if any
are transmitted on a PUSCH:

\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK
and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$, if HARQ-ACK bits associated with
priority index 1 are transmitted without CG-UCI associated with priority
index 1.

\- Perform rate matching for CG-UCI with priority index 1 according to
clause 6.3.2.4.1.4, if CG-UCI associated with priority index 1 is
transmitted without HARQ-ACK bits associated with priority index 1.

\- Perform rate matching for CG-UCI with priority index 1 and HARQ-ACK
with priority index 1 according to clause 6.3.2.4.1.5, if both CG-UCI
associated with priority index 1 and HARQ-ACK bits associated with
priority index 1 are transmitted, by taking HARQ-ACK with priority index
1 as HARQ-ACK and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$.

\- If CSI part 1 is also transmitted on the PUSCH and the PUSCH is
associated with priority index 1,

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.2,
by taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking
CG-UCI associated with priority index 1 if any as CG-UCI.

\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 0 as CSI part
2 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP}$, and taking HARQ-ACK with priority
index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority
index 1 if any as CG-UCI.

\- Otherwise,

\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 0 as CSI-part
1 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP},$ and taking HARQ-ACK with priority
index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority
index 1 if any as CG-UCI.

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.3,
by taking CSI part 1 as CSI part 2 and replacing
$\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{CSI - part1}$, taking
HARQ-ACK with priority index 0 as CSI-part 1 and taking HARQ-ACK with
priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the
PUSCH and the PUSCH is associated with priority index 0.

If *uci-MuxWithDiffPrio* is configured, and CG-UCI associated with
priority index 0 and HARQ-ACK bits associated with priority index 0 if
any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if
any are transmitted on a PUSCH associated with priority index 0:

\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK
and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$.

\- Perform rate matching for CG-UCI associated with priority index 0
according to clause 6.3.2.4.1.2, if CG-UCI associated with priority
index 0 is transmitted without HARQ-ACK bits associated with priority
index 0, by taking CG-UCI associated with priority index 0 as CSI-part 1
and replacing $\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{CG - UCI},$
and taking HARQ-ACK with priority index 1 as HARQ-ACK.

\- Perform rate matching for CG-UCI associated with priority index 0 and
HARQ-ACK bits associated with priority index 0 according to clause
6.3.2.4.1.2, if both CG-UCI associated with priority index 0 and
HARQ-ACK bits associated with priority index 0 are transmitted, by
taking CG-UCI associated with priority index 0 and HARQ-ACK bits
associated with priority index 0 as CSI-part 1 and replacing
$\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{HARQ - ACK - LP},$ and
taking HARQ-ACK with priority index 1 as HARQ-ACK.

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.3,
by taking CSI part 1 as CSI part 2 and replacing
$\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{CSI - part1}$, taking
CG-UCI associated with priority index 0 and HARQ-ACK bits associated
with priority index 0 if any as CSI-part 1 and taking HARQ-ACK with
priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the
PUSCH and the PUSCH is associated with priority index 0.

##### 6.3.2.4.2 UCI encoded by channel coding of small block lengths

If the higher layer parameter *nrofBitsInUTO-UCI* is configured, the
procedures in this clause and the clauses it refers to apply by
replacing CG-UCI with UTO-UCI in all the notations and texts.

##### 6.3.2.4.2.1 HARQ-ACK {#harq-ack-2 .H6}

For HARQ-ACK transmission on PUSCH, the number of coded modulation
symbols per layer for HARQ-ACK transmission, denoted as
![](media/image867.wmf), is determined according to Clause 6.3.2.4.1.1,
by setting the number of CRC bits ![](media/image923.wmf).

The input bit sequence to rate matching is ![](media/image97.wmf).

Rate matching is performed according to Clause 5.4.3, by setting the
rate matching output sequence length ![](media/image924.wmf), where

\- ![](media/image908.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH.

The output bit sequence after rate matching is denoted as
![](media/image252.wmf).

##### 6.3.2.4.2.2 CSI part 1 {#csi-part-1-1 .H6}

For CSI part 1 transmission on PUSCH, the number of coded modulation
symbols per layer for CSI part 1 transmission, denoted as
![](media/image925.wmf), is determined according to Clause 6.3.2.4.1.2,
by setting the number of CRC bits ![](media/image923.wmf).

Rate matching is performed according to Clause 5.4.3, by setting the
rate matching output sequence length ![](media/image926.wmf), where

\- ![](media/image908.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH.

The output bit sequence after rate matching is denoted as
![](media/image252.wmf).

##### 6.3.2.4.2.3 CSI part 2 {#csi-part-2-1 .H6}

For CSI part 2 transmission on PUSCH, the number of coded modulation
symbols per layer for CSI part 2 transmission, denoted as
![](media/image927.wmf), is determined according to Clause 6.3.2.4.1.3,
by setting the number of CRC bits ![](media/image923.wmf).

Rate matching is performed according to Clause 5.4.3, by setting the
rate matching output sequence length ![](media/image928.wmf), where

\- ![](media/image908.wmf) is the number of transmission layers of the
PUSCH;

\- ![](media/image456.wmf) is the modulation order of the PUSCH.

The output bit sequence after rate matching is denoted as
![](media/image252.wmf).

##### 6.3.2.4.2.4 CG-UCI  {#cg-uci-2 .H6}

For CG-UCI transmission on PUSCH, the number of coded modulation symbols
per layer for CG-UCI transmission, denoted as $Q_{CG - UCI}^{'}$, is
determined according to Clause 6.3.2.4.1.4, by setting the number of CRC
bits $L_{CG - UCI} = 0$.

The input bit sequence to rate matching is
$d_{0},\ d_{1},\ d_{2},\ \ldots,\ d_{N - 1}$.

Rate matching is performed according to Clause 5.4.3, by setting the
rate matching output sequence length

$E = N_{L} \bullet Q_{CG - UCI}^{'} \bullet Q_{m}$, where

\- $N_{L}$ is the number of transmission layers of the PUSCH;

\- $Q_{m}$ is the modulation order of the PUSCH.

The output bit sequence after rate matching is denoted as
$f_{0},\ f_{1},f_{2},\ \ldots,\ f_{E - 1}$.

##### 6.3.2.4.2.5 HARQ-ACK and CG-UCI {#harq-ack-and-cg-uci-1 .H6}

For HARQ-ACK and CG-UCI transmission on PUSCH, the number of coded
modulation symbols per layer for HARQ-ACK and CG-UCI transmission,
denoted as $Q_{ACK}^{'}$, is determined according to Clause 6.3.2.4.1.5,
by setting the number of CRC bits $L_{ACK} = 0$.

The input bit sequence to rate matching is
$d_{0},\ d_{1},\ d_{2},\ \ldots,\ d_{N - 1}$.

Rate matching is performed according to Clause 5.4.3, by setting the
rate matching output sequence length
$E = N_{L} \bullet Q_{ACK}^{'} \bullet Q_{m}$, where

\- $N_{L}$ is the number of transmission layers of the PUSCH;

\- $Q_{m}$ is the modulation order of the PUSCH.

The output bit sequence after rate matching is denoted as
$f_{0},\ f_{1},f_{2},\ \ldots,\ f_{E - 1}$.

##### 6.3.2.4.2.6 UCI with different priority indexes {#uci-with-different-priority-indexes-3 .H6}

In this clause, $\beta_{offset}^{HARQ - ACK - LP}\ $is equal to
$\beta_{offset}^{HARQ - ACK,0}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 1, and equal to
$\beta_{offset}^{HARQ - ACK}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 0.
$\beta_{offset}^{HARQ - ACK - HP}\ $is equal to
$\beta_{offset}^{HARQ - ACK,1}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 0, and equal to
$\beta_{offset}^{HARQ - ACK}$ defined in \[5, TS38.213\] in case of
PUSCH associated with priority index 1.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, and CSI part 1 if any are transmitted on a PUSCH
associated with priority index 1:

\- If CSI part 1 is also transmitted on the PUSCH,

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.2,
by assuming the number of HARQ-ACK information bits to be transmitted on
PUSCH in clause 6.3.2.4.2.2 is 0 bit.

\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 0 as CSI part
2 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.2.3 is 0
bit.

\- Otherwise, perform rate matching for HARQ-ACK with priority index 0
according to clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index
0 as CSI-part 1 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.2.2 is 0
bit.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 1, and CSI if any are transmitted on a PUSCH
associated with priority index 0:

\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK
and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$.

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.2,
by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is
also transmitted on the PUSCH.

\- Perform rate matching for CSI part 2 according to clause 6.3.2.4.2.3,
by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 2 is
also transmitted on the PUSCH.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, HARQ-ACK bits associated with priority index 1
and/or CG-UCI associated with priority index 1, and CSI part 1 if any
are transmitted on a PUSCH:

\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK
and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$, if HARQ-ACK bits associated with
priority index 1 are transmitted without CG-UCI associated with priority
index 1.

\- Perform rate matching for CG-UCI with priority index 1 according to
clause 6.3.2.4.2.4, if CG-UCI associated with priority index 1 is
transmitted without HARQ-ACK bits associated with priority index 1.

\- Perform rate matching for CG-UCI with priority index 1 and HARQ-ACK
with priority index 1 according to clause 6.3.2.4.2.5, if both CG-UCI
associated with priority index 1 and HARQ-ACK bits associated with
priority index 1 are transmitted, by taking HARQ-ACK with priority index
1 as HARQ-ACK and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$.

\- If CSI part 1 is also transmitted on the PUSCH and the PUSCH is
associated with priority index 1,

> \- Perform rate matching for CSI part 1 according to clause
> 6.3.2.4.2.2, by taking HARQ-ACK with priority index 1 if any as
> HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as
> CG-UCI.
>
> \- Perform rate matching for HARQ-ACK with priority index 0 according
> to clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 0 as CSI
> part 2 and replacing $\beta_{offset}^{PUSCH}$ by
> $\beta_{offset}^{HARQ - ACK - LP}$, and taking HARQ-ACK with priority
> index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority
> index 1 if any as CG-UCI.

\- Otherwise,

\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 0 as CSI-part
1 and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - LP},$ and taking HARQ-ACK with priority
index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority
index 1 if any as CG-UCI.

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.3,
by taking CSI part 1 as CSI part 2 and replacing
$\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{CSI - part1}$, taking
HARQ-ACK with priority index 0 as CSI-part 1 and taking HARQ-ACK with
priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the
PUSCH and the PUSCH is associated with priority index 0.

If *uci-MuxWithDiffPrio* is configured, and CG-UCI associated with
priority index 0 and HARQ-ACK bits associated with priority index 0 if
any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if
any are transmitted on a PUSCH associated with priority index 0:

\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK
and replacing $\beta_{offset}^{PUSCH}$ by
$\beta_{offset}^{HARQ - ACK - HP}$.

\- Perform rate matching for CG-UCI associated with priority index 0
according to clause 6.3.2.4.2.2, if CG-UCI associated with priority
index 0 is transmitted without HARQ-ACK bits associated with priority
index 0, by taking CG-UCI associated with priority index 0 as CSI-part 1
and replacing $\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{CG - UCI},$
and taking HARQ-ACK with priority index 1 as HARQ-ACK.

\- Perform rate matching for CG-UCI associated with priority index 0 and
HARQ-ACK bits associated with priority index 0 according to clause
6.3.2.4.2.2, if both CG-UCI associated with priority index 0 and
HARQ-ACK bits associated with priority index 0 are transmitted, by
taking CG-UCI associated with priority index 0 and HARQ-ACK bits
associated with priority index 0 as CSI-part 1 and replacing
$\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{HARQ - ACK - LP},$ and
taking HARQ-ACK with priority index 1 as HARQ-ACK.

\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.3,
by taking CSI part 1 as CSI part 2 and replacing
$\beta_{offset}^{PUSCH}$ by $\beta_{offset}^{CSI - part1}$, taking
CG-UCI associated with priority index 0 and HARQ-ACK bits associated
with priority index 0 if any as CSI-part 1 and taking HARQ-ACK with
priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the
PUSCH and the PUSCH is associated with priority index 0.

#### 6.3.2.5 Code block concatenation

Code block concatenation is performed according to Clause 6.3.1.5,
except that the values of
![](media/image929.wmf){width="0.2916666666666667in"
height="0.20833333333333334in"} and
![](media/image930.wmf){width="0.2916666666666667in"
height="0.20833333333333334in"} given in Clause 6.3.2.4.1.

#### 6.3.2.6 Multiplexing of coded UCI bits to PUSCH

The coded UCI bits are multiplexed onto PUSCH according to the
procedures in Clause 6.2.7.

#### 6.3.2.7 Multiplexing of coded UCI bits with different priority indexes to PUSCH

If the higher layer parameter *nrofBitsInUTO-UCI* is configured, the
procedure in this clause 6.3.2.7 applies by replacing CG-UCI with
UTO-UCI in all the notations and texts, when applicable.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, and CSI part 1 if any are transmitted on a PUSCH
associated with priority index 1,

\- If CSI part 1 is also transmitted on the PUSCH, the coded UCI bits
are multiplexed onto PUSCH according to the procedures in Clause 6.2.7
by taking HARQ-ACK with priority index 0 as CSI part 2, and assuming the
number of HARQ-ACK information in Clause 6.2.7 is 0 bit;

\- Otherwise, the coded UCI bits are multiplexed onto PUSCH according to
the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 0
as CSI-part 1, and assuming the number of HARQ-ACK information in Clause
6.2.7 is 0 bit.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 1, and CSI if any are transmitted on a PUSCH
associated with priority index 0, the coded UCI bits are multiplexed
onto PUSCH according to the procedures in Clause 6.2.7 by taking
HARQ-ACK with priority index 1 as HARQ-ACK.

If *uci-MuxWithDiffPrio* is configured, and HARQ-ACK bits associated
with priority index 0, HARQ-ACK bits associated with priority index 1
and/or CG-UCI associated with priority index 1, and CSI part 1 if any
are transmitted on a PUSCH,

\- if CSI part 1 is also transmitted on the PUSCH and the PUSCH is
associated with priority index 1, the coded UCI bits are multiplexed
onto PUSCH according to the procedures in Clause 6.2.7 by taking
HARQ-ACK with priority index 1 as HARQ-ACK, and taking HARQ-ACK with
priority index 0 as CSI part 2;

\- otherwise, the coded UCI bits are multiplexed onto PUSCH according to
the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1
if any as HARQ-ACK, taking CG-UCI associated with priority index 1 if
any as CG-UCI, taking HARQ-ACK with priority index 0 as CSI part 1, and
taking CSI part 1 as CSI part 2 if CSI part 1 is also transmitted on the
PUSCH and the PUSCH is associated with priority index 0.

If *uci-MuxWithDiffPrio* is configured, and CG-UCI associated with
priority index 0 and HARQ-ACK bits associated with priority index 0 if
any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if
any are transmitted on a PUSCH associated with priority index 0, the
coded UCI bits are multiplexed onto PUSCH according to the procedures in
Clause 6.2.7 by taking HARQ-ACK with priority index 1 as HARQ-ACK,
taking CG-UCI associated with priority index 0 and HARQ-ACK bits
associated with priority index 0 if any as CSI part 1, and taking CSI
part 1 as CSI part 2 if CSI part 1 is also transmitted on the PUSCH and
the PUSCH is associated with priority index 0.

# 7 Downlink transport channels and control information

## 7.1 Broadcast channel

Data arrives to the coding unit in the form of a maximum of one
transport block every 80ms. The following coding steps can be
identified:

\- Payload generation

\- Scrambling

\- Transport block CRC attachment

\- Channel coding

\- Rate matching

### 7.1.1 PBCH payload generation

Denote the bits in a transport block delivered to layer 1 by
![](media/image931.wmf), where ![](media/image932.wmf) is the payload
size generated by higher layers. The lowest order information bit
![](media/image933.wmf) is mapped to the most significant bit of the
transport block as defined in Clause 6.1.1 of \[8, TS 38.321\].

Generate the following additional timing related PBCH payload bits
![](media/image934.wmf), where:

\- ![](media/image935.wmf) are the 4^th^, 3^rd^, 2^nd^, and 1^st^ LSB of
SFN, respectively;

\- ![](media/image936.wmf) is the half frame bit
![](media/image937.wmf);

\- if ${\overline{L}}_{\max} = 10$ as defined in Clause 4.1 of \[5,
TS38.213\],

${\overline{a}}_{\overline{A} + 5}$ is the MSB of $k_{SSB}$ as defined
in Clause 7.4.3.1 of \[4, TS 38.211\].

${\overline{a}}_{\overline{A} + 6}$ is reserved.

${\overline{a}}_{\overline{A} + 7}$ is the MSB of candidate SS/PBCH
block index.

\- else if ${\overline{L}}_{\max} = 20$ as defined in Clause 4.1 of \[5,
TS38.213\],

${\overline{a}}_{\overline{A} + 5}$ is the MSB of $k_{SSB}$ as defined
in Clause 7.4.3.1 of \[4, TS 38.211\].

${\overline{a}}_{\overline{A} + 6}$, ${\overline{a}}_{\overline{A} + 7}$
are the 5^th^ and 4^th^ bits of the candidate SS/PBCH block index,
respectively.

\- else if ${\overline{L}}_{\max} = 64$ as defined in Clause 4.1 of \[5,
TS38.213\],

${\overline{a}}_{\overline{A} + 5}$,
${\overline{a}}_{\overline{A} + 6}$, ${\overline{a}}_{\overline{A} + 7}$
are the 6^th^, 5^th^, and 4^th^ bits of the candidate SS/PBCH block
index, respectively.

\- else

${\overline{a}}_{\overline{A} + 5}$ is the MSB of $k_{SSB}$ as defined
in Clause 7.4.3.1 of \[4, TS 38.211\].

${\overline{a}}_{\overline{A} + 6}$, ${\overline{a}}_{\overline{A} + 7}$
are reserved.

\- end if

Let ![](media/image938.wmf); ![](media/image939.wmf);
![](media/image940.wmf); ![](media/image941.wmf);
![](media/image942.wmf);

for ![](media/image943.wmf) to ![](media/image944.wmf)

if ![](media/image945.wmf) is an SFN bit

![](media/image946.wmf);

![](media/image947.wmf);

elseif ![](media/image948.wmf) is the half radio frame bit

![](media/image949.wmf)

elseif ![](media/image950.wmf)

![](media/image951.wmf);

![](media/image952.wmf);

else

![](media/image953.wmf);

![](media/image954.wmf);

end if

end for

where ${\overline{L}}_{\max}$ is the number of candidate SS/PBCH blocks
in a half frame according to Clause 4.1 of \[5, TS38.213\], and the
value of ![](media/image955.wmf) is given by Table 7.1.1-1.

Table 7.1.1-1: Value of PBCH payload interleaver pattern
![](media/image956.wmf)

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)   ![](media/image957.wmf)   ![](media/image958.wmf)
  ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- ------------------------- -------------------------
  0                         16                        4                         8                         8                         24                        12                        3                         16                        9                         20                        14                        24                        21                        28                        27

  1                         23                        5                         30                        9                         7                         13                        2                         17                        11                        21                        15                        25                        22                        29                        28

  2                         18                        6                         10                        10                        0                         14                        1                         18                        12                        22                        19                        26                        25                        30                        29

  3                         17                        7                         6                         11                        5                         15                        4                         19                        13                        23                        20                        27                        26                        31                        31
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

### 7.1.2 Scrambling

For PBCH transmission in a frame, the bit sequence ![](media/image3.wmf)
is scrambled into a bit sequence ![](media/image959.wmf), where
![](media/image960.wmf) for ![](media/image961.wmf) and
![](media/image962.wmf) is generated according to the following:

![](media/image963.wmf);

![](media/image964.wmf);

while ![](media/image965.wmf)

if ![](media/image966.wmf) corresponds to any one of the bits belonging
to the candidate SS/PBCH block index, the half frame index, and 2^nd^
and 3^rd^ least significant bits of the system frame number

![](media/image967.wmf);

else

![](media/image968.wmf);

![](media/image969.wmf);

end if

![](media/image970.wmf);

end while

The scrambling sequence ![](media/image971.wmf) is given by Clause
5.2.1of \[4, TS38.211\] and initialized with ![](media/image972.wmf) at
the start of each SFN satisfying ![](media/image973.wmf);
![](media/image974.wmf) for ${\overline{L}}_{\max} = 4$ or
${\overline{L}}_{\max} = 8$, $M = A - 4$ for
${\overline{L}}_{\max} = 10$, $M = A - 5$ for
${\overline{L}}_{\max} = 20$, and ![](media/image975.wmf) for
${\overline{L}}_{\max} = 64$, where ${\overline{L}}_{\max}$ is the
number of candidate SS/PBCH blocks in a half frame according to Clause
4.1 of \[5, TS38.213\]; and ![](media/image976.wmf) is determined
according to Table 7.1.2-1 using the 3^rd^ and 2^nd^ LSB of the SFN in
which the PBCH is transmitted.

Table 7.1.2-1: Value of ![](media/image976.wmf) for PBCH scrambling

  --------------------------------------------------------------------------------
  *(3^rd^ LSB of SFN, 2^nd^ LSB of SFN)*                 *Value of*
                                                         ![](media/image976.wmf)
  ------------------------------------------------------ -------------------------
  (0, 0)                                                 0

  (0, 1)                                                 1

  (1, 0)                                                 2

  (1, 1)                                                 3
  --------------------------------------------------------------------------------

### 7.1.3 Transport block CRC attachment

Error detection is provided on BCH transport blocks through a Cyclic
Redundancy Check (CRC).

The entire transport block is used to calculate the CRC parity bits. The
input bit sequence is denoted by ![](media/image959.wmf), and the parity
bits by![](media/image4.wmf), where ![](media/image5.wmf) is the payload
size and ![](media/image6.wmf) is the number of parity bits.

The parity bits are computed and attached to the BCH transport block
according to Clause 5.1 by setting ![](media/image6.wmf) to 24 bits and
using the generator polynomial ![](media/image977.wmf), resulting in the
sequence![](media/image18.wmf), where ![](media/image19.wmf).

The bit sequence ![](media/image18.wmf) is the input bit sequence
![](media/image714.wmf) to the channel encoder, where
![](media/image978.wmf) for ![](media/image979.wmf) and
![](media/image980.wmf).

### 7.1.4 Channel coding

Information bits are delivered to the channel coding block. They are
denoted by ![](media/image714.wmf) , where ![](media/image96.wmf) is the
number of bits, and they are encoded via Polar coding according to
Clause 5.3.1, by setting ![](media/image981.wmf),
![](media/image982.wmf), ![](media/image727.wmf), and
![](media/image723.wmf).

After encoding the bits are denoted by ![](media/image730.wmf), where
![](media/image731.wmf) is the number of coded bits.

### 7.1.5 Rate matching

The input bit sequence to rate matching is ![](media/image97.wmf).

The rate matching output sequence length ![](media/image983.wmf).

Rate matching is performed according to Clause 5.4.1 by setting
![](media/image984.wmf).

The output bit sequence after rate matching is denoted as
![](media/image252.wmf).

## 7.2 Downlink shared channel and paging channel

### 7.2.1 Transport block CRC attachment

Error detection is provided on each transport block through a Cyclic
Redundancy Check (CRC).

The entire transport block is used to calculate the CRC parity bits.
Denote the bits in a transport block delivered to layer 1
by![](media/image3.wmf), and the parity bits by![](media/image4.wmf),
where ![](media/image5.wmf) is the payload size and
![](media/image6.wmf) is the number of parity bits. The lowest order
information bit ![](media/image386.wmf) is mapped to the most
significant bit of the transport block as defined in Clause 6.1.1 of
\[TS38.321\].

The parity bits are computed and attached to the DL-SCH transport block
according to Clause 5.1, by setting ![](media/image6.wmf) to 24 bits and
using the generator polynomial ![](media/image387.wmf) if
![](media/image388.wmf); and by setting ![](media/image6.wmf) to 16 bits
and using the generator polynomial ![](media/image389.wmf) otherwise.

The bits after CRC attachment are denoted by ![](media/image18.wmf),
where ![](media/image19.wmf).

### 7.2.2 LDPC base graph selection

For initial transmission of a transport block with coding rate
![](media/image390.wmf) indicated by the MCS index according to
Clause 5.1.3.1 in \[6, TS 38.214\] and subsequent re-transmission of the
same transport block, each code block of the transport block is encoded
with either LDPC base graph 1 or 2 according to the following:

\- if ![](media/image985.wmf), or if ![](media/image392.wmf) and
![](media/image393.wmf), or if ![](media/image394.wmf), LDPC base graph
2 is used;

\- otherwise, LDPC base graph 1 is used,

where ![](media/image986.wmf) is the payload size in Clause 7.2.1.

### 7.2.3 Code block segmentation and code block CRC attachment 

The bits input to the code block segmentation are denoted by
![](media/image18.wmf) where ![](media/image396.wmf) is the number of
bits in the transport block (including CRC).

Code block segmentation and code block CRC attachment are performed
according to Clause 5.2.2.

The bits after code block segmentation are denoted
by![](media/image397.wmf), where ![](media/image67.wmf) is the code
block number and ![](media/image398.wmf) is the number of bits for code
block number ![](media/image67.wmf) according to Clause 5.2.2.

### 7.2.4 Channel coding

Code blocks are delivered to the channel coding block. The bits in a
code block are denoted by ![](media/image399.wmf) , where
![](media/image67.wmf) is the code block number, and
![](media/image398.wmf) is the number of bits in code block number
![](media/image67.wmf). The total number of code blocks is denoted by
![](media/image400.wmf) and each code block is individually LDPC encoded
according to Clause 5.3.2.

After encoding the bits are denoted by ![](media/image401.wmf), where
the values of ![](media/image402.wmf) is given in Clause 5.3.2.

### 7.2.5 Rate matching

Coded bits for each code block, denoted as ![](media/image401.wmf), are
delivered to the rate match block, where ![](media/image67.wmf) is the
code block number, and ![](media/image403.wmf) is the number of encoded
bits in code block number ![](media/image67.wmf). The total number of
code blocks is denoted by ![](media/image400.wmf) and each code block is
individually rate matched according to Clause 5.4.2 by setting
![](media/image987.wmf).

After rate matching, the bits are denoted by![](media/image406.wmf),
where![](media/image407.wmf) is the number of rate matched bits for code
block number ![](media/image67.wmf).

### 7.2.6 Code block concatenation

The input bit sequence for the code block concatenation block are the
sequences ![](media/image406.wmf), for ![](media/image372.wmf) and where
![](media/image374.wmf) is the number of rate matched bits for the
![](media/image67.wmf)-th code block.

Code block concatenation is performed according to Clause 5.5.

The bits after code block concatenation are denoted
by![](media/image408.wmf), where ![](media/image409.wmf) is the total
number of coded bits for transmission.

## 7.3 Downlink control information

A DCI transports downlink control information for one or more cells with
one RNTI.

The following coding steps can be identified:

\- Information element multiplexing

\- CRC attachment

\- Channel coding

\- Rate matching

### 7.3.1 DCI formats

The DCI formats defined in table 7.3.1-1 are supported.

Table 7.3.1-1: DCI formats

  -------------------------------------------------------------------------
  **DCI      **Usage**
  format**   
  ---------- --------------------------------------------------------------
  0_0        Scheduling of PUSCH in one cell

  0_1        Scheduling of one or multiple PUSCH in one cell, or indicating
             downlink feedback information for configured grant PUSCH
             (CG-DFI)

  0_2        Scheduling of PUSCH in one cell

  0_3        Scheduling of one PUSCH in one cell, or multiple PUSCHs in
             multiple cells with one PUSCH per cell

  1_0        Scheduling of PDSCH in one cell

  1_1        Scheduling of one or multiple PDSCH in one cell, and/or
             triggering one shot HARQ-ACK codebook feedback

  1_2        Scheduling of PDSCH in one cell

  1_3        Scheduling of one PDSCH in one cell, or multiple PDSCHs in
             multiple cells with one PDSCH per cell

  2_0        Notifying a group of UEs of the slot format, available RB
             sets, COT duration and search space set group switching

  2_1        Notifying a group of UEs of the PRB(s) and OFDM symbol(s)
             where UE may assume no transmission is intended for the UE

  2_2        Transmission of TPC commands for PUCCH and PUSCH

  2_3        Transmission of a group of TPC commands for SRS transmissions
             by one or more UEs

  2_4        Notifying a group of UEs of the PRB(s) and OFDM symbol(s)
             where UE cancels the corresponding UL transmission from the UE

  2_5        Notifying the availability of soft resources as defined in
             Clause 9.3.1 of \[10, TS 38.473\]

  2_6        Notifying the power saving information outside DRX Active Time
             for one or more UEs

  2_7        Notifying paging early indication and TRS availability
             indication for one or more UEs

  2_8        Notifying the aperiodic beam indication and associated time
             resources

  2_9        Activating or de-activating the cell DTX and/or DRX
             configuration of one or multiple serving cells for one or more
             UEs, and/or for providing NES-mode indication of the primary
             cell for one or more UEs

  3_0        Scheduling of NR sidelink in one cell

  3_1        Scheduling of LTE sidelink in one cell

  3_2        Scheduling of NR SL PRS in one cell

  4_0        Scheduling of PDSCH with CRC scrambled by MCCH-RNTI/G-RNTI for
             broadcast or by multicast-MCCH-RNTI for multicast in
             RRC_INACITIVE state

  4_1        Scheduling of PDSCH with CRC scrambled by G-RNTI/G-CS-RNTI for
             multicast in RRC_CONNECTED state or by G-RNTI for multicast in
             RRC_INACITIVE state

  4_2        Scheduling of PDSCH with CRC scrambled by G-RNTI/G-CS-RNTI for
             multicast in RRC_CONNECTED state
  -------------------------------------------------------------------------

The fields defined in the DCI formats below are mapped to the
information bits ![](media/image988.wmf) to ![](media/image989.wmf) as
follows.

Each field is mapped in the order in which it appears in the
description, including the zero-padding bit(s), if any, with the first
field mapped to the lowest order information bit ![](media/image990.wmf)
and each successive field mapped to higher order information bits. The
most significant bit of each field is mapped to the lowest order
information bit for that field, e.g. the most significant bit of the
first field is mapped to ![](media/image990.wmf).

If the number of information bits in a DCI format is less than 12 bits,
zeros shall be appended to the DCI format until the payload size equals
12.

The size of each DCI format except for DCI format 0_3/1_3 is determined
by the configuration of the corresponding active bandwidth part of the
scheduled cell and shall be adjusted as described in clause 7.3.1.0 if
necessary.

For a cell set configured by higher layer parameter
*MC-DCI-SetofCellsToAddModList*, the size of DCI format 0_3/1_3 is
determined as follows and shall be adjusted as described in Clause
7.3.1.0 if necessary:

\- If *scheduledCellComboListDCI-0-3* for the cell set is configured,
the size of DCI format 0_3 is determined by the configuration of the
corresponding active bandwidth part(s) of the scheduled cells in the
entry which results in the largest size among the entries in the higher
layer parameter *scheduledCellComboListDCI-0-3*; Otherwise, the size of
DCI format 0_3 is determined by the configuration of the corresponding
active bandwidth part(s) of the cells configured by higher layer
parameter *scheduledCellListDCI-0-3* for the cell set.

\- If *scheduledCellComboListDCI-1-3* for the cell set is configured,
the size of DCI format 1_3 is determined by the configuration of the
corresponding active bandwidth part(s) of the scheduled cells in the
entry which results in the largest size among the entries in the higher
layer parameter *scheduledCellComboListDCI-1-3*; Otherwise, the size of
DCI format 1_3 is determined by the configuration of the corresponding
active bandwidth part(s) of the cells configured by higher layer
parameter *scheduledCellListDCI-1-3* for the cell set.

If a UE is configured with *pdsch-HARQ-ACK-CodebookList-r16*,
*pdsch-HARQ-ACK-Codebook* is replaced by the relevant entry in
*pdsch-HARQ-ACK-CodebookList-r16* in this clause.

If a UE is configured with *pdsch-HARQ-ACK-CodebookListMulticast-r17*,
*pdsch-HARQ-ACK-Codebook* is replaced by the relevant entry in
*pdsch-HARQ-ACK-CodebookListMulticast-r17* in this clause.

For a cell detected in cell search procedure with synchronization raster
defined in Table 5.4.3.1-2 or Table 5.4.3.1-3 of \[13, TS 38.101-1\],
the size of CORESET 0 for the cell in this clause refers to the size of
punctured CORESET 0 as defined in clause 7.3.2.2 of \[4, TS 38.211\] if
any.

#### 7.3.1.0 DCI size alignment

If necessary, padding or truncation shall be applied to the DCI formats
according to the following steps executed in the order below:

Step 0:

\- Determine DCI format 0_0 monitored in a common search space according
to clause 7.3.1.1.1 where ![](media/image991.wmf) is the size of the
initial UL bandwidth part.

\- Determine DCI format 1_0 monitored in a common search space according
to clause 7.3.1.2.1 where ![](media/image992.wmf) is given by

\- the size of CORESET 0 if CORESET 0 is configured for the cell; and

\- the size of initial DL bandwidth part if CORESET 0 is not configured
for the cell.

\- If DCI format 0_0 is monitored in common search space and if the
number of information bits in the DCI format 0_0 prior to padding is
less than the payload size of the DCI format 1_0 monitored in common
search space for scheduling the same serving cell, a number of zero
padding bits are generated for the DCI format 0_0 until the payload size
equals that of the DCI format 1_0.

\- If DCI format 0_0 is monitored in common search space and if the
number of information bits in the DCI format 0_0 prior to truncation is
larger than the payload size of the DCI format 1_0 monitored in common
search space for scheduling the same serving cell, the bitwidth of the
frequency domain resource assignment field in the DCI format 0_0 is
reduced by truncating the first few most significant bits such that the
size of DCI format 0_0 equals the size of the DCI format 1_0.

Step 1:

\- Determine DCI format 0_0 monitored in a UE-specific search space
according to clause 7.3.1.1.1 where ![](media/image991.wmf) is the size
of the active UL bandwidth part.

\- Determine DCI format 1_0 monitored in a UE-specific search space
according to clause 7.3.1.2.1 where ![](media/image992.wmf) is the size
of the active DL bandwidth part.

\- For a UE configured with *supplementaryUplink* in *ServingCellConfig*
in a cell, if PUSCH is configured to be transmitted on both the SUL and
the non-SUL of the cell and if the number of information bits in DCI
format 0_0 in UE-specific search space for the SUL is not equal to the
number of information bits in DCI format 0_0 in UE-specific search space
for the non-SUL, a number of zero padding bits are generated for the
smaller DCI format 0_0 until the payload size equals that of the larger
DCI format 0_0.

\- If DCI format 0_0 is monitored in UE-specific search space and if the
number of information bits in the DCI format 0_0 prior to padding is
less than the payload size of the DCI format 1_0 monitored in
UE-specific search space for scheduling the same serving cell, a number
of zero padding bits are generated for the DCI format 0_0 until the
payload size equals that of the DCI format 1_0.

\- If DCI format 1_0 is monitored in UE-specific search space and if the
number of information bits in the DCI format 1_0 prior to padding is
less than the payload size of the DCI format 0_0 monitored in
UE-specific search space for scheduling the same serving cell, zeros
shall be appended to the DCI format 1_0 until the payload size equals
that of the DCI format 0_0

Step 2:

\- Determine DCI format 0_1 monitored in a UE-specific search space
according to clause 7.3.1.1.2.

\- Determine DCI format 1_1 monitored in a UE-specific search space
according to clause 7.3.1.2.2.

\- For a UE configured with *supplementaryUplink* in *ServingCellConfig*
in a cell, if PUSCH is configured to be transmitted on both the SUL and
the non-SUL of the cell and if the number of information bits in format
0_1 for the SUL is not equal to the number of information bits in format
0_1 for the non-SUL, zeros shall be appended to smaller format 0_1 until
the payload size equals that of the larger format 0_1.

\- If the size of DCI format 0_1 monitored in a UE-specific search space
equals that of a DCI format 0_0/1_0 monitored in another UE-specific
search space, one bit of zero padding shall be appended to DCI format
0_1.

\- If the size of DCI format 1_1 monitored in a UE-specific search space
equals that of a DCI format 0_0/1_0 monitored in another UE-specific
search space, one bit of zero padding shall be appended to DCI format
1_1.

Step 2A:

\- Determine DCI format 0_2 monitored in a UE-specific search space
according to clause 7.3.1.1.3.

\- Determine DCI format 1_2 monitored in a UE-specific search space
according to clause 7.3.1.2.3.

\- For a UE configured with *supplementaryUplink* in *ServingCellConfig*
in a cell, if PUSCH is configured to be transmitted on both the SUL and
the non-SUL of the cell and if the number of information bits in format
0_2 for the SUL is not equal to the number of information bits in format
0_2 for the non-SUL, zeros shall be appended to smaller format 0_2 until
the payload size equals that of the larger format 0_2.

Step 2B:

\- If the cell is the serving cell for counting the size of one or both
DCI format 0_3 and DCI format 1_3 as defined in Clause 10.1 of \[5,
TS38.213\],

\- Determine DCI format 0_3 monitored in a UE-specific search space
according to clause 7.3.1.1.4.

\- Determine DCI format 1_3 monitored in a UE-specific search space
according to clause 7.3.1.2.4.

Step 3:

\- If both of the following conditions are fulfilled the size alignment
procedure is complete

\- the total number of different DCI sizes configured to monitor is no
more than 4 for the cell

\- the total number of different DCI sizes with C-RNTI configured to
monitor is no more than 3 for the cell

Step 4:

\- Otherwise

Step 4A:

\- Remove the padding bit (if any) introduced in step 2 above.

\- Determine DCI format 1_0 monitored in a UE-specific search space
according to clause 7.3.1.2.1 where ![](media/image992.wmf) is given by

\- the size of CORESET 0 if CORESET 0 is configured for the cell; and

\- the size of initial DL bandwidth part if CORESET 0 is not configured
for the cell.

\- Determine DCI format 0_0 monitored in a UE-specific search space
according to clause 7.3.1.1.1 where ![](media/image991.wmf) is the size
of the initial UL bandwidth part.

\- If the number of information bits in the DCI format 0_0 monitored in
a UE-specific search space prior to padding is less than the payload
size of the DCI format 1_0 monitored in UE-specific search space for
scheduling the same serving cell, a number of zero padding bits are
generated for the DCI format 0_0 monitored in a UE-specific search space
until the payload size equals that of the DCI format 1_0 monitored in a
UE-specific search space.

\- If the number of information bits in the DCI format 0_0 monitored in
a UE-specific search space prior to truncation is larger than the
payload size of the DCI format 1_0 monitored in UE-specific search space
for scheduling the same serving cell, the bitwidth of the frequency
domain resource assignment field in the DCI format 0_0 is reduced by
truncating the first few most significant bits such that the size of DCI
format 0_0 monitored in a UE-specific search space equals the size of
the DCI format 1_0 monitored in a UE-specific search space.

Step 4B:

\- If the total number of different DCI sizes configured to monitor is
more than 4 for the cell after applying the above steps, or if the total
number of different DCI sizes with C-RNTI configured to monitor is more
than 3 for the cell after applying the above steps

\- If the number of information bits in the DCI format 0_2 prior to
padding is less than the payload size of the DCI format 1_2 for
scheduling the same serving cell, a number of zero padding bits are
generated for the DCI format 0_2 until the payload size equals that of
the DCI format 1_2.

\- If the number of information bits in the DCI format 1_2 prior to
padding is less than the payload size of the DCI format 0_2 for
scheduling the same serving cell, zeros shall be appended to the DCI
format 1_2 until the payload size equals that of the DCI format 0_2.

Step 4C:

\- If the total number of different DCI sizes configured to monitor is
more than 4 for the cell after applying the above steps, or if the total
number of different DCI sizes with C-RNTI configured to monitor is more
than 3 for the cell after applying the above steps

\- If the number of information bits in the DCI format 0_1 prior to
padding is less than the payload size of the DCI format 1_1 for
scheduling the same serving cell, a number of zero padding bits are
generated for the DCI format 0_1 until the payload size equals that of
the DCI format 1_1.

\- If the number of information bits in the DCI format 1_1 prior to
padding is less than the payload size of the DCI format 0_1 for
scheduling the same serving cell, zeros shall be appended to the DCI
format 1_1 until the payload size equals that of the DCI format 0_1.

Step 4D:

\- If the total number of different DCI sizes configured to monitor is
more than 4 for the cell after applying the above steps and the cell is
the serving cell for counting the size of one or both DCI format 0_3 and
DCI format 1_3 as defined in Clause 10.1 of \[5, TS38.213\], or if the
total number of different DCI sizes with C-RNTI configured to monitor is
more than 3 for the cell after applying the above steps and the cell is
the serving cell for counting the size of one or both DCI format 0_3 and
DCI format 1_3 as defined in Clause 10.1 of \[5, TS38.213\]

\- If the number of information bits in the DCI format 0_3 prior to
padding is less than the payload size of the DCI format 1_3 for
scheduling the same cell set, a number of zero padding bits are
generated for the DCI format 0_3 until the payload size equals that of
the DCI format 1_3.

\- If the number of information bits in the DCI format 1_3 prior to
padding is less than the payload size of the DCI format 0_3 for
scheduling the same cell set, zeros shall be appended to the DCI format
1_3 until the payload size equals that of the DCI format 0_3.

The UE is not expected to handle a configuration that, after applying
the above steps, results in

\- the total number of different DCI sizes configured to monitor is more
than 4 for the cell; or

\- the total number of different DCI sizes with C-RNTI configured to
monitor is more than 3 for the cell; or

\- the size of DCI format 0_0 in a UE-specific search space is equal to
DCI format 0_1 in another UE-specific search space; or

\- the size of DCI format 1_0 in a UE-specific search space is equal to
DCI format 1_1 in another UE-specific search space; or

\- the size of DCI format 0_0 in a UE-specific search space is equal to
DCI format 0_2 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 0_0 and 0_2
are mapped to the same resource; or

\- the size of DCI format 1_0 in a UE-specific search space is equal to
DCI format 1_2 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 1_0 and 1_2
are mapped to the same resource; or

\- the size of DCI format 0_1 in a UE-specific search space is equal to
DCI format 0_2 in the same or another UE-specific search space when at
least one pair of the corresponding PDCCH candidates of DCI formats 0_1
and 0_2 are mapped to the same resource; or

\- the size of DCI format 1_1 in a UE-specific search space is equal to
DCI format 1_2 in the same or another UE-specific search space when at
least one pair of the corresponding PDCCH candidates of DCI formats 1_1
and 1_2 are mapped to the same resource; or

\- the size of DCI format 0_0 in a UE-specific search space is equal to
DCI format 0_3 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 0_0 and 0_3
are mapped to the same resource; or

\- the size of DCI format 1_0 in a UE-specific search space is equal to
DCI format 1_3 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 1_0 and 1_3
are mapped to the same resource; or

\- the size of DCI format 0_1 in a UE-specific search space is equal to
DCI format 0_3 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 0_1 and 0_3
are mapped to the same resource; or

\- the size of DCI format 1_1 in a UE-specific search space is equal to
DCI format 1_3 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 1_1 and 1_3
are mapped to the same resource.

\- the size of DCI format 0_2 in a UE-specific search space is equal to
DCI format 0_3 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 0_2 and 0_3
are mapped to the same resource; or

\- the size of DCI format 1_2 in a UE-specific search space is equal to
DCI format 1_3 in another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 1_2 and 1_3
are mapped to the same resource.

##### 7.3.1.0.1 DCI size alignment for DCI formats for scheduling of sidelink

If DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is
monitored on a cell, DCI size alignment for DCI format 3_0, DCI format
3_1, and DCI format 3_2 is performed as described in this clause after
performing the DCI size alignment described in Clause 7.3.1.0. The
size(s) of the DCI formats configured to monitor for a cell in this
clause refers to that after performing the DCI size alignment described
in Clause 7.3.1.0.

If DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is
monitored on a cell and the total number of DCI sizes of the DCI formats
configured to monitor for the cell and DCI format 3_0, and/or DCI format
3_1, and/or DCI format 3_2 is more than 4, zeros shall be appended to
DCI format 3_0 if configured, to DCI format 3_1 if configured, and to
DCI format 3_2 if configured, until the payload size of DCI format 3_0,
DCI format 3_1, and DCI format 3_2 equals that of the smallest DCI
format configured to monitor for the cell that is larger than DCI format
3_0, DCI format 3_1, and DCI format 3_2.

The UE is not expected to handle a configuration that results in:

\- the total number of different DCI sizes configured to monitor for the
cell and DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is
more than 4; and

\- the payload size of DCI format 3_0, and/or DCI format 3_1, and/or DCI
format 3_2 is larger than the payload size of all other DCI formats
configured to monitor for the cell.

#### 7.3.1.1 DCI formats for scheduling of PUSCH 

##### 7.3.1.1.1 Format 0_0

DCI format 0_0 is used for the scheduling of PUSCH in one cell.

The following information is transmitted by means of the DCI format 0_0
with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bit

\- The value of this bit field is always set to 0, indicating an UL DCI
format

\- Frequency domain resource assignment - number of bits determined by
the following:

\- ![](media/image993.wmf) bits if neither of the higher layer
parameters *useInterlacePUCCH-PUSCH* in *BWP-UplinkCommon* and
*useInterlacePUCCH-PUSCH* in *BWP-UplinkDedicated* is configured, where
![](media/image991.wmf) is defined in clause 7.3.1.0

\- For PUSCH hopping with resource allocation type 1:

\- ![](media/image994.wmf) MSB bits are used to indicate the frequency
offset according to Clause 6.3 of \[6, TS 38.214\], where
![](media/image995.wmf) if the higher layer parameter
*frequencyHoppingOffsetLists* contains two offset values and
![](media/image996.wmf) if the higher layer parameter
*frequencyHoppingOffsetLists* contains four offset values

\- ![](media/image997.wmf) bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- For non-PUSCH hopping with resource allocation type 1:

\- ![](media/image998.wmf) bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- If any of the higher layer parameters *useInterlacePUCCH-PUSCH* in
*BWP-UplinkCommon* and *useInterlacePUCCH-PUSCH* in
*BWP-UplinkDedicated* is configured

\- 5+Y bits provide the frequency domain resource allocation according
to Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for
the active UL bandwidth part is 30 kHz.

\- 6+Y bits provide the frequency domain resource allocation according
to Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for
the active UL bandwidth part is 15 kHz.

If the DCI format 0_0 is monitored in a UE-specific search space, the
value of Y is determined by
$\left\lceil \text{log}_{2}\left( \frac{N_{\text{RB-set,UL}}^{\text{BWP}}\left( N_{\text{RB-set,UL}}^{\text{BWP}} + 1 \right)}{2} \right) \right\rceil$
where $N_{\text{RB-set,UL}}^{\text{BWP}}$ is the number of RB sets
contained in the active UL BWP as defined in clause 7 of \[6,
TS38.214\]. If the DCI 0_0 is monitored in a common search space Y = 0.

\- Time domain resource assignment - 4 bits as defined in Clause 6.1.2.1
of \[6, TS 38.214\]

\- Frequency hopping flag - 1 bit according to Table 7.3.1.1.1-3, as
defined in Clause 6.3 of \[6, TS 38.214\]

\- Modulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- HARQ process number - 4 bits

\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of \[5, TS 38.213\]

\- ChannelAccess-CPext - 2 bits indicating combinations of channel
access type and CP extension as defined in Table 7.3.1.1.1-4, or Table
7.3.1.1.1-4A if *channelAccessMode-r16* = \"*semiStatic*\" is provided,
for operation in a cell with shared spectrum channel access in frequency
range 1; 2 bits indicating channel access type as defined in Table
7.3.1.1.1-4B if *ChannelAccessMode2-r17* is provided for operation in a
cell in frequency range 2-2; 0 bit otherwise.

\- Padding bits, if required.

\- UL/SUL indicator - 1 bit for UEs configured with
*supplementaryUplink* in *ServingCellConfig* in the cell as defined in
Table 7.3.1.1.1-1 and the number of bits for DCI format 1_0 before
padding is larger than the number of bits for DCI format 0_0 before
padding; 0 bit otherwise. The UL/SUL indicator, if present, locates in
the last bit position of DCI format 0_0, after the padding bit(s).

\- If the UL/SUL indicator is present in DCI format 0_0 and the higher
layer parameter *pusch-Config* is not configured on both UL and SUL the
UE ignores the UL/SUL indicator field in DCI format 0_0, and the
corresponding PUSCH scheduled by the DCI format 0_0 is for the UL or SUL
for which high layer parameter *pucch-Config* is configured;

\- If the UL/SUL indicator is not present in DCI format 0_0 and
*pucch-Config* is configured, the corresponding PUSCH scheduled by the
DCI format 0_0 is for the UL or SUL for which high layer parameter
*pucch-Config* is configured.

\- If the UL/SUL indicator is not present in DCI format 0_0 and
*pucch-Config* is not configured, the corresponding PUSCH scheduled by
the DCI format 0_0 is for the uplink on which the latest PRACH is
transmitted.

The following information is transmitted by means of the DCI format 0_0
with CRC scrambled by TC-RNTI:

\- Identifier for DCI formats - 1 bit

\- The value of this bit field is always set to 0, indicating an UL DCI
format

\- Frequency domain resource assignment - number of bits determined by
the following:

\- ![](media/image993.wmf)bits if the higher layer parameter
*useInterlacePUCCH-PUSCH* in *BWP-UplinkCommon* is not configured, where

\- ![](media/image991.wmf) is the size of the initial UL bandwidth part.

\- For PUSCH hopping with resource allocation type 1:

\- ![](media/image994.wmf) MSB bits are used to indicate the frequency
offset according to Table 8.3-1 in Clause 8.3 of \[5, TS 38.213\], where
![](media/image995.wmf) if ![](media/image999.wmf) and
![](media/image1000.wmf) otherwise

\- ![](media/image997.wmf) bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- For non-PUSCH hopping with resource allocation type 1:

\- ![](media/image998.wmf) bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- If the higher layer parameter *useInterlacePUCCH-PUSCH* in
*BWP-UplinkCommon* is configured

\- 5 bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for the
active UL bandwidth part is 30 kHz

\- 6 bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for the
active UL bandwidth part is 15 kHz

\- Time domain resource assignment - 4 bits as defined in Clause 6.1.2.1
of \[6, TS 38.214\]

\- Frequency hopping flag - 1 bit according to Table 7.3.1.1.1-3, as
defined in Clause 6.3 of \[6, TS 38.214\]

\- Modulation and coding scheme - 5 bits

\- If the UE requests repetition of PUSCH scheduled by RAR UL grant \[8,
TS 38.321\], 5 bits as defined in Clause 6.1.2.1 and Clause 6.1.4.1 of
\[6, TS 38.214\];

\- otherwise 5 bits as defined in Clause 6.1.4.1 of \[6, TS 38.214\].

\- New data indicator - 1 bit, reserved

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- HARQ process number - 4 bits, reserved

\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of \[5, TS 38.213\]

\- ChannelAccess-CPext - 2 bits indicating combinations of channel
access type and CP extension as defined in Table 7.3.1.1.1-4, or Table
7.3.1.1.1-4A if *channelAccessMode-r16* = \"*semiStatic*\" is provided,
for operation in a cell with shared spectrum channel access in frequency
range 1; 2 bits indicating channel access type as defined in Table
7.3.1.1.1-4B if *ChannelAccessMode2-r17* is provided for operation in a
cell in frequency range 2-2; 0 bit otherwise

\- Padding bits, if required.

\- UL/SUL indicator - 1 bit if the cell has two ULs and the number of
bits for DCI format 1_0 before padding is larger than the number of bits
for DCI format 0_0 before padding; 0 bit otherwise. The UL/SUL
indicator, if present, locates in the last bit position of DCI format
0_0, after the padding bit(s).

\- If 1 bit, reserved, and the corresponding PUSCH is always on the same
UL carrier as the previous transmission of the same TB

Table 7.3.1.1.1-1: UL/SUL indicator

  -----------------------------------------------------------------------
  Value of UL/SUL         Uplink
  indicator               
  ----------------------- -----------------------------------------------
  0                       The non-supplementary uplink

  1                       The supplementary uplink
  -----------------------------------------------------------------------

Table 7.3.1.1.1-2: Redundancy version

  -----------------------------------------------------------------------
  Value of the Redundancy Value of ![](media/image346.wmf) to be applied
  version field           
  ----------------------- -----------------------------------------------
  00                      0

  01                      1

  10                      2

  11                      3
  -----------------------------------------------------------------------

Table 7.3.1.1.1-3: Frequency hopping indication

  -----------------------------------------------------------------------
  **Bit field mapped to index**  **PUSCH frequency hopping**
  ------------------------------ ----------------------------------------
  0                              Disabled

  1                              Enabled
  -----------------------------------------------------------------------

Table 7.3.1.1.1-4: Channel access type & CP extension for DCI format 0_0
and\
DCI format 1_0 for frequency range 1

  ------------------------------------------------------------------------
  Bit field mapped   Channel Access Type       The CP extension T\_\"ext\"
  to index                                     index defined in Clause
                                               5.3.1 of \[4, TS 38.211\]
  ------------------ ------------------------- ---------------------------
  0                  Type2C-ULChannelAccess    2
                     defined in clause         
                     4.2.1.2.3 in TS 37.213    
                     \[14\]                    

  1                  Type2A-ULChannelAccess    3
                     defined in clause         
                     4.2.1.2.1 in TS 37.213    
                     \[14\]                    

  2                  Type2A-ULChannelAccess    1
                     defined in clause         
                     4.2.1.2.1 in TS 37.213    
                     \[14\]                    

  3                  Type1-ULChannelAccess     0
                     defined in clause 4.2.1.1 
                     in TS 37.213 \[14\]       
  ------------------------------------------------------------------------

Table 7.3.1.1.1-4A: Channel access type & CP extension if\
*channelAccessMode-r16* = \"*semiStatic*\" is provided

  ---------------------------------------------------------------------------------------------
  **Bit field mapped to index**       **Channel Access  **The CP extension   **Initiator of the
                                      Type**            T\_\"ext\" index     channel occupancy
                                                        defined in Clause    associated with
                                                        5.3.1 of \[4, TS     the UL
                                                        38.211\]**           transmission as
                                                                             described in
                                                                             Clause 4.3.1 in TS
                                                                             37.213**
  ----------------------------------- ----------------- -------------------- ------------------
  0                                   No sensing as     0                    gNB
                                      defined in Clause                      
                                      4.3 in TS 37.213                       
                                      \[14\]                                 

  1                                   No sensing as     2                    gNB
                                      defined in Clause                      
                                      4.3 in TS 37.213                       
                                      \[14\]                                 

  2                                   Sensing within a  0                    gNB
                                      25us interval as                       
                                      defined in Clause                      
                                      4.3 in TS 37.213                       
                                      \[14\]                                 

  3                                   Sensing as        0                    UE
                                      defined in Clause                      
                                      4.3.1.2 in TS                          
                                      37.213 \[14\]                          

  NOTE: Row index 3 is only                                                  
  applicable if                                                              
  *semiStaticChannelAccessConfigUE*                                          
  is provided. Otherwise, the row is                                         
  reserved.                                                                  
  ---------------------------------------------------------------------------------------------

Table 7.3.1.1.1-4B: Channel access type for DCI format 0_0 and\
DCI format 1_0 for frequency range 2-2

  -----------------------------------------------------------------------
  Bit field mapped to    Channel Access Type
  index                  
  ---------------------- ------------------------------------------------
  0                      Type 1 channel access defined in clause 4.4.1 of
                         TS 37.213 \[14\]

  1                      Type 2 channel access defined in clause 4.4.2 of
                         TS 37.213 \[14\]

  2                      Type 3 channel access defined in clause 4.4.3 of
                         TS 37.213 \[14\]

  3                      Reserved
  -----------------------------------------------------------------------

##### 7.3.1.1.2 Format 0_1

DCI format 0_1 is used for the scheduling of one or multiple PUSCH in
one cell, or indicating CG downlink feedback information (CG-DFI) to a
UE.

The following information is transmitted by means of the DCI format 0_1
with CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bit

\- The value of this bit field is always set to 0, indicating an UL DCI
format

\- Carrier indicator - 0 or 3 bits, as defined in Clause 10.1 of \[5,
TS38.213\]. This field is reserved when this format is carried by PDCCH
on the primary cell and the UE is configured for scheduling on the
primary cell from an SCell, with the same number of bits as that in this
format carried by PDCCH on the SCell for scheduling on the primary cell.

\- DFI flag - 0 or 1 bit

\- 1 bit if the UE is configured to monitor DCI format 0_1 with CRC
scrambled by CS-RNTI and for operation in a cell with shared spectrum
channel access when the higher layer parameter *cg-RetransmissionTimer*
is configured. For a DCI format 0_1 with CRC scrambled by CS-RNTI, the
bit value of 0 indicates activating or releasing type 2 CG transmission
and the bit value of 1 indicates CG-DFI. For a DCI format 0_1 with CRC
scrambled by C-RNTI/SP-CSI-RNTI/MCS-C-RNTI and for operation in a cell
with shared spectrum channel access, the bit is reserved.

\- 0 bit otherwise;

If DCI format 0_1 is used for indicating CG-DFI, all the remaining
fields are set as follows:

\- HARQ-ACK bitmap - 16 bits if *nrofHARQ-Processes-v1700* in
*ConfiguredGrantConfig* is not configured or 32 bits if
*nrofHARQ-Processes-v1700* in *ConfiguredGrantConfig* is configured,
where the order of the bitmap to HARQ process index mapping is such that
HARQ process indices are mapped in ascending order from MSB to LSB of
the bitmap. For each bit of the bitmap, value 1 indicates ACK, and value
0 indicates NACK.

\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of \[5, TS38.213\]

\- All the remaining bits in format 0_1 are set to zero.

Otherwise, all the remaining fields are set as follows:

\- UL/SUL indicator - 0 bit for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell or UEs
configured with *supplementaryUplink* in *ServingCellConfig* in the cell
but only one carrier in the cell is configured for PUSCH transmission;
otherwise, 1 bit as defined in Table 7.3.1.1.1-1.

\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number
of UL BWPs ![](media/image1001.wmf) configured by higher layers,
excluding the initial UL bandwidth part. The bitwidth for this field is
determined as ![](media/image1002.wmf)bits, where

\- ![](media/image1003.wmf) if ![](media/image1004.wmf), in which case
the bandwidth part indicator is equivalent to the ascending order of the
higher layer parameter *BWP-Id*;

\- otherwise ![](media/image1005.wmf), in which case the bandwidth part
indicator is defined in Table 7.3.1.1.2-1;

If a UE does not support active BWP change via DCI, the UE ignores this
bit field.

\- Frequency domain resource assignment - number of bits determined by
the following, where ![](media/image991.wmf) is the size of the active
UL bandwidth part:

\- If higher layer parameter *useInterlacePUCCH-PUSCH* in
*BWP-UplinkDedicated* is not configured

\- ![](media/image1006.wmf) bits if only resource allocation type 0 is
configured, where ![](media/image1006.wmf) is defined in Clause
6.1.2.2.1 of \[6, TS 38.214\],

\- ![](media/image993.wmf)bits if only resource allocation type 1 is
configured, or ![](media/image1007.wmf) bits if *resourceAllocation* is
configured as \'*dynamicSwitch\'*.

\- If *resourceAllocation* is configured as \'*dynamicSwitch\'*, the MSB
bit is used to indicate resource allocation type 0 or resource
allocation type 1, where the bit value of 0 indicates resource
allocation type 0 and the bit value of 1 indicates resource allocation
type 1.

\- For resource allocation type 0, the ![](media/image1006.wmf) LSBs
provide the resource allocation as defined in Clause 6.1.2.2.1 of \[6,
TS 38.214\].

\- For resource allocation type 1, the ![](media/image993.wmf) LSBs
provide the resource allocation as follows:

\- For PUSCH hopping with resource allocation type 1:

\- ![](media/image994.wmf) MSB bits are used to indicate the frequency
offset according to Clause 6.3 of \[6, TS 38.214\], where
![](media/image995.wmf) if the higher layer parameter
*frequencyHoppingOffsetLists* contains two offset values and
![](media/image1008.wmf) if the higher layer parameter
*frequencyHoppingOffsetLists* contains four offset values

\- ![](media/image997.wmf) bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- For non-PUSCH hopping with resource allocation type 1:

\- ![](media/image1009.wmf) bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of \[6, TS 38.214\]

If \"Bandwidth part indicator\" field indicates a bandwidth part other
than the active bandwidth part and if *resourceAllocation* is configured
as \'*dynamicSwitch\'* for the indicated bandwidth part, the UE assumes
resource allocation type 0 for the indicated bandwidth part if the
bitwidth of the \"Frequency domain resource assignment\" field of the
active bandwidth part is smaller than the bitwidth of the \"Frequency
domain resource assignment\" field of the indicated bandwidth part.

\- If the higher layer parameter *useInterlacePUCCH-PUSCH* in
*BWP-UplinkDedicated* is configured

\- 5 + Y bits provide the frequency domain resource allocation according
to Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for
the active UL bandwidth part is 30 kHz. The 5 MSBs provide the interlace
allocation and the Y LSBs provide the RB set allocation.

\- 6 + Y bits provide the frequency domain resource allocation according
to Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for
the active UL bandwidth part is 15 kHz. The 6 MSBs provide the interlace
allocation and the Y LSBs provide the RB set allocation.

The value of Y is determined by
$\left\lceil \log_{2}\left( \frac{N_{RB - set,UL}^{BWP}\left( N_{RB - set,UL}^{BWP} + 1 \right)}{2} \right) \right\rceil\ $
where $N_{\text{RB-set,UL}}^{\text{BWP}}$ is the number of RB sets
contained in the active UL BWP as defined in clause 7 of \[6,
TS38.214\].

\- Time domain resource assignment - 0, 1, 2, 3, 4, 5, or 6 bits

\- If the higher layer parameter *pusch-TimeDomainAllocationListDCI-0-1*
is not configured and if the higher layer parameter
*pusch-TimeDomainAllocationListForMultiPUSCH* is not configured and if
the higher layer parameter *pusch-TimeDomainAllocationList* is
configured, 0, 1, 2, 3, or 4 bits as defined in Clause 6.1.2.1 of \[6,
TS38.214\]. The bitwidth for this field is determined as
![](media/image1010.wmf)bits, where *I* is the number of entries in the
higher layer parameter *pusch-TimeDomainAllocationList*;

\- If the higher layer parameter *pusch-TimeDomainAllocationListDCI-0-1*
is configured or if the higher layer parameter
*pusch-TimeDomainAllocationListForMultiPUSCH* is configured, 0, 1, 2, 3,
4, 5 or 6 bits as defined in Clause 6.1.2.1 of \[6, TS38.214\]. The
bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil\ $bits, where *I* is the number
of entries in the higher layer parameter
*pusch-TimeDomainAllocationListDCI-0-1* or
*pusch-TimeDomainAllocationListForMultiPUSCH*;

\- otherwise the bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil\ $bits, where *I* is the number
of entries in the default table*.*

\- Frequency hopping flag - 0 or 1 bit:

\- 0 bit if only resource allocation type 0 is configured, or if the
higher layer parameter *frequencyHopping* is not configured and the
higher layer parameter *pusch-RepTypeIndicatorDCI-0-1* is not configured
to *pusch-RepTypeB*, or if the higher layer parameter
*frequencyHoppingDCI-0-1* is not configured and
*pusch-RepTypeIndicatorDCI-0-1* is configured to *pusch-RepTypeB*, or if
only resource allocation type 2 is configured;

\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to
resource allocation type 1, as defined in Clause 6.3 of \[6, TS
38.214\].

For transport block 1:

\- Modulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit if the number of scheduled PUSCH indicated
by the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5,
6, 7 or 8 bits determined based on the maximum number of schedulable
PUSCH among all entries in the higher layer parameter
*pusch-TimeDomainAllocationListForMultiPUSCH*, where each bit
corresponds to one scheduled PUSCH as defined in clause 6.1.4 in \[6, TS
38.214\].

\- Redundancy version - - number of bits determined by the following:

\- 2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled
PUSCH indicated by the Time domain resource assignment field is 1;

\- otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number
of schedulable PUSCHs among all entries in the higher layer parameter
*pusch-TimeDomainAllocationListForMultiPUSCH*, where each bit
corresponds to one scheduled PUSCH as defined in clause 6.1.4 in \[6, TS
38.214\] and redundancy version is determined according to Table
7.3.1.1.2-34.

For transport block 2 (only present if *maxRank-n8* is configured or
*maxMIMO-Layers-n8* is configured):

\- Modulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

If \"Bandwidth part indicator\" field indicates a bandwidth part other
than the active bandwidth part, *maxRank-n8* is configured or the value
of *maxMIMO-Layers* for the indicated bandwidth part is larger than 4
and the value of *maxRank* or *maxMIMO-Layers* for the active bandwidth
part is no more than 4, the UE assumes zeros are padded when
interpreting the \"Modulation and coding scheme\", \"New data
indicator\", and \"Redundancy version\" fields for transport block 2
according to Clause 12 of \[5, TS38.213\], and the UE ignores the
\"Modulation and coding scheme\", \"New data indicator\", and
\"Redundancy version\" fields of transport block 2 for the indicated
bandwidth part.

\- Transform precoder indicator - 0 or 1 bit

\- 1 bit if the higher layer parameter
*dynamicTransformPrecoderIndicationDCI-0-1* is configured to \'enabled
\' and if the UE is configured to monitor DCI format 0_1 with CRC
scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI, where the bit value of 0
indicates that transform precoder is enabled and the bit value of 1
indicates that transform precoder is disabled. For a DCI format 0_1 with
CRC scrambled by CS-RNTI and the value indicated by new data indicator
field is 0, or for a DCI format 0_1 with CRC scrambled by SP-CSI-RNTI,
the bit is reserved.

\- 0 bit otherwise.

\- HARQ process number - 5 bits if higher layer parameter
*harq-ProcessNumberSizeDCI-0-1* is configured; otherwise 4 bits

\- 1^st^ downlink assignment index - 1, 2 or 4 bits:

\- 1 bit for semi-static HARQ-ACK codebook for unicast and multicast if
*pdsch-HARQ-ACK-Codebook = semiStatic* is configured for both unicast
and multicast and the higher layer parameter *fdmed-ReceptionMulticast*
is not configured; otherwise for semi-static HARQ-ACK codebook for
unicast;

\- 2 bits for dynamic HARQ-ACK codebook for unicast, or for enhanced
dynamic HARQ-ACK codebook without *UL-TotalDAI-Included* configured;

\- 4 bits for enhanced dynamic HARQ-ACK codebook and with
*UL-TotalDAI-Included = true*.

When two HARQ-ACK codebooks are configured by
*pdsch-HARQ-ACK-CodebookList* for the same serving cell and if higher
layer parameter *priorityIndicatorDCI-0-1* is configured, if the bit
width of the 1^st^ downlink assignment index in DCI format 0_1 for one
HARQ-ACK codebook is not equal to that of the 1^st^ downlink assignment
index in DCI format 0_1 for the other HARQ-ACK codebook, a number of
most significant bits with value set to \'0\' are inserted to smaller
1^st^ downlink assignment index until the bit width of the 1^st^
downlink assignment index in DCI format 0_1 for the two HARQ-ACK
codebooks are the same.

\- 2^nd^ downlink assignment index - 0, 2 or 4 bits:

\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks
for unicast, or for enhanced dynamic HARQ-ACK codebook with two HARQ-ACK
sub-codebooks and without *UL-TotalDAI-Included* configured;

\- 4 bits for enhanced dynamic HARQ-ACK codebook with two HARQ-ACK
sub-codebooks and with *UL-TotalDAI-Included = true*;

\- 0 bit otherwise.

When two HARQ-ACK codebooks are configured by
*pdsch-HARQ-ACK-CodebookList* for the same serving cell and if higher
layer parameter *priorityIndicatorDCI-0-1* is configured, if the bit
width of the 2^nd^ downlink assignment index in DCI format 0_1 for one
HARQ-ACK codebook is not equal to that of the 2^nd^ downlink assignment
index in DCI format 0_1 for the other HARQ-ACK codebook, a number of
most significant bits with value set to \'0\' are inserted to smaller
2^nd^ downlink assignment index until the bit width of the 2^nd^
downlink assignment index in DCI format 0_1 for the two HARQ-ACK
codebooks are the same.

\- 3^rd^ downlink assignment index - 0, 1 or 2 bits:

\- 1 bit for semi-static HARQ-ACK codebook for multicast if the higher
layer parameter *fdmed-ReceptionMulticast* is configured;

\- 2 bits for the dynamic HARQ-ACK codebook for multicast;

\- 0 bit otherwise.

When two HARQ-ACK codebooks are configured by
*pdsch-HARQ-ACK-CodebookListMulticast* for the same serving cell and if
higher layer parameter *priorityIndicatorDCI-0-1* is configured, if the
bit width of the 3^rd^ downlink assignment index in DCI format 0_1 for
one HARQ-ACK codebook is not equal to that of the 3^rd^ downlink
assignment index in DCI format 0_1 for the other HARQ-ACK codebook, a
number of most significant bits with value set to \'0\' are inserted to
smaller 3^rd^ downlink assignment index until the bit width of the 3^rd^
downlink assignment index in DCI format 0_1 for the two HARQ-ACK
codebooks are the same.

\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of \[5, TS38.213\]

\- Second TPC command for scheduled PUSCH - 2 bits as defined in Clause
7.1.1 of \[5, TS38.213\] if higher layer parameter
*SecondTPCFieldDCI-0-1* is configured; 0 bit otherwise.

\- SRS resource set indicator - 0 or 2 bits

\- 2 bits according to Table 7.3.1.1.2-36 if

\- *txConfig = nonCodeBook*, and there are two SRS resource sets
configured by *srs-ResourceSetToAddModList* and associated with the
*usage* of value \'*nonCodeBook*\', and is not configured with
*coresetPoolIndex* or the value of *coresetPoolIndex* is the same for
all CORESETs if *coresetPoolIndex* is provided, or

> \- *txConfig*=*codebook*, and there are two SRS resource sets
> configured by *srs-ResourceSetToAddModList* and associated with
> *usage* of value \'*codebook*\', and is not configured with
> *coresetPoolIndex* or the value of *coresetPoolIndex* is the same for
> all CORESETs if *coresetPoolIndex* is provided;

\- 0 bit otherwise.

\- SRS resource indicator -number of bits determined by the following:

\- ![](media/image1011.wmf) bits according to Tables
7.3.1.1.2-28/28A/29/29B/30/30B/31/31B/31C/31D/31E/31F if the higher
layer parameter *txConfig = nonCodebook*, where

\- ![](media/image1012.wmf) is the number of configured SRS resources in
the SRS resource set indicated by SRS resource set indicator field if
present,

\- $N_{SRS}$ is the number of configured SRS resources in the SRS
resource set associated with the *coresetPoolIndex* value for the
CORESET used for the PDCCH carrying the DCI format 0_1, if the UE is not
provided *coresetPoolIndex* or is provided *coresetPoolIndex* with value
0 for the first CORESETs, and is provided *coresetPoolIndex* with value
1 for the second CORESETs, and is provided *enableSTx2PofmDCI*,

\- otherwise $N_{SRS}$ is the number of configured SRS resources in the
SRS resource set configured by higher layer parameter
*srs-ResourceSetToAddModList* and associated with the higher layer
parameter *usage* of value \'*nonCodeBook*\',

and

\- if UE supports operation with *maxMIMO-Layers* and the higher layer
parameter *maxMIMO-Layers* of *PUSCH-ServingCellConfig* of the serving
cell is configured,

\- L~max~ is given by max{*maxMIMO-Layers*, *maxMIMO-LayersforSdm*} if
*maxMIMO-LayersforSdm* is configured

\- L~max~ is given by max{*maxMIMO-Layers*, *maxMIMO-LayersforSfn*} if
*maxMIMO-LayersforSfn* is configured

\- L~max~ is given by *maxMIMO-Layers* otherwise

\- otherwise, *L~max~* is given by the maximum number of layers for
PUSCH supported by the UE for the serving cell for non-codebook based
operation.

\- ![](media/image1013.wmf) bits according to Tables 7.3.1.1.2-32,
7.3.1.1.2-32A and 7.3.1.1.2-32B if the higher layer parameter *txConfig
= codebook*, where

\- ![](media/image1012.wmf) is the number of configured SRS resources in
the SRS resource set indicated by SRS resource set indicator field if
present,

\- $N_{SRS}$ is the number of configured SRS resources in the SRS
resource set associated with the *coresetPoolIndex* value for the
CORESET used for the PDCCH carrying the DCI format 0_1, if the UE is not
provided *coresetPoolIndex* or is provided *coresetPoolIndex* with value
0 for the first CORESETs, and is provided *coresetPoolIndex* with value
1 for the second CORESETs, and is provided *enableSTx2PofmDCI*,

\- otherwise $N_{SRS}$ is the number of configured SRS resources in the
SRS resource set configured by higher layer parameter
*srs-ResourceSetToAddModList* and associated with the higher layer
parameter *usage* of value \'*codeBook*\'.

> When the UE is not provided *coresetPoolIndex* or is provided
> *coresetPoolIndex* with value 0 for the first CORESETs, and is
> provided *coresetPoolIndex* with value 1 for the second CORESETs, and
> is provided *enableSTx2PofmDCI*, and there are two SRS resource sets
> configured by *srs-ResourceSetToAddModList* and associated with
> *usage* of value \'*codebook*\' or \'*nonCodeBook*\', the first SRS
> resource set is associated with *coresetPoolIndex* value 0 and the
> second SRS resource set is associated with *coresetPoolIndex* value 1,
> where the first and the second SRS resource sets are respectively the
> ones with lower and higher *srs-ResourceSetId* of the two SRS
> resources sets.

\- Second SRS resource indicator - number of bits determined by the
following:

\-
$\left\lceil \log_{2}{(\max_{k \in \{ 1,2,\ldots,min\{ L_{\max},N_{SRS}\}\}}\binom{N_{SRS}}{k})} \right\rceil$
bits according to Tables 7.3.1.1.2-28/29A/30A/31A with the same number
of layers indicated by SRS resource indicator field if the higher layer
parameter *txConfig = nonCodebook*, the higher layer paramtere
*maxMIMO-LayersforSdm* is not configured, and SRS resource set indicator
field is present, where $N_{SRS}$ is the number of configured SRS
resources in the second SRS resource set, and

\- if UE supports operation with *maxMIMO-Layers* and the higher layer
parameter *maxMIMO-Layers* of *PUSCH-ServingCellConfig* of the serving
cell is configured,

\- L~max~ is given by maxMIMO-LayersforSfn if maxMIMO-LayersforSfn is
configured

\- L~max~ is given by maxMIMO-Layers otherwise

\- otherwise, *L~max~* is given by the maximum number of layers for
PUSCH supported by the UE for the serving cell for non-codebook based
operation.

\- ![](media/image1011.wmf) bits according to Tables 7.3.1.1.2-28/29 if
the higher layer parameter *txConfig = nonCodebook*, the higher layer
paramtere *maxMIMO-LayersforSdm* is configured and SRS resource set
indicator field is present, where $N_{SRS}$ is the number of configured
SRS resources in the second SRS resource set, and *L~max~* is given by
*maxMIMO-LayersforSdm.*

\- $\left\lceil \log_{2}{(N_{SRS})} \right\rceil$ bits according to
Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the higher layer
parameter *txConfig = codebook* and SRS resource set indicator field is
present, where $N_{SRS}$ is the number of configured SRS resources in
the second SRS resource set.

\- 0 bit otherwise.

\- Precoding information and number of layers - number of bits
determined by the following:

\- 0 bits if the higher layer parameter *txConfig = nonCodeBook*;

\- 0 bits for 1 antenna port and if the higher layer parameter *txConfig
= codebook*;

\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,*
transform precoder is disabled, and according to the values of higher
layer parameters *maxRank* if *multipanelScheme* is not configured or
max{*maxRank*, *maxRankSfn*} if *multipanelScheme =* *sfnScheme* or
max{*maxRank*, *maxRankSdm*} if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1,
maxRank=2* if *multipanelScheme* is not configured or max{*maxRank*,
*maxRankSfn*} = 2 if *multipanelScheme =* *sfnScheme* or max{*maxRank*,
*maxRankSdm*} = 2 if *multipanelScheme =* *sdmScheme,* transform
precoder is disabled, and according to the values of higher layer
parameter *codebookSubset*;

\- 4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if
*txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1,*
*maxRank=3 or 4,* transform precoder is disabled, and according to the
values of higher layer parameter *codebookSubset*;

\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and
*maxRank=1* if *multipanelScheme* is not configured or max{*maxRank*,
*maxRankSfn*} = 1 if *multipanelScheme =* *sfnScheme* or max{*maxRank*,
*maxRankSdm*} = 1 if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1*,
*maxRank=1* if *multipanelScheme* is not configured or max{*maxRank*,
*maxRankSfn*} = 1 if *multipanelScheme =* *sfnScheme* or max{*maxRank*,
*maxRankSdm*} = 1 if *multipanelScheme =* *sdmScheme*, and according to
whether transform precoder is enabled or disabled, and the values of
higher layer parameter *codebookSubset*;

\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRank* if *multipanelScheme* is not configured or
max{*maxRank*, *maxRankSfn*} if *multipanelScheme =* *sfnScheme* or
max{*maxRank*, *maxRankSdm*} if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1*,
transform precoder is disabled, *maxRank=2* if *multipanelScheme* is not
configured or max{*maxRank*, *maxRankSfn*} = 2 if *multipanelScheme =*
*sfnScheme* or max{*maxRank*, *maxRankSdm*} = 2 if *multipanelScheme =*
*sdmScheme*, and *codebookSubset=nonCoherent*;

\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and
*maxRank=1* if *multipanelScheme* is not configured or max{*maxRank*,
*maxRankSfn*}*=1* if *multipanelScheme =* *sfnScheme* or max{*maxRank*,
*maxRankSdm*}*=1* if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if
*txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1*,
*maxRank=1* if *multipanelScheme* is not configured or max{*maxRank*,
*maxRankSfn*} = 1 if multipanelScheme = sfnScheme or max{*maxRank*,
*maxRankSdm*} = 1 if *multipanelScheme* = *sdmScheme*, and according to
whether transform precoder is enabled or disabled, and the values of
higher layer parameter codebookSubset;

\- 7 bits according to Table 7.3.1.1.2-5B for 8 antenna ports, if
*CodebookTypeUL=Codebook1*, transform precoder is disabled, *maxRank-n8*
= 8, and according to *ULcodebookFC-N1N2*;

\- 7 bits according to Table 7.3.1.1.2-5C for 8 antenna ports, if
*CodebookTypeUL=Codebook1*, transform precoder is disabled, *maxRank-n8*
=7, and according to *ULcodebookFC-N1N2*;

\- 7 bits according to Table 7.3.1.1.2-5D for 8 antenna ports, if
*CodebookTypeUL=Codebook1*, transform precoder is disabled, *maxRank-n8*
=4, 5 or 6, and according to *maxRank-n8*;

\- 4, 6 or 7 bits according to Table 7.3.1.1.2-5E for 8 antenna ports,
if *CodebookTypeUL=Codebook1*, transform precoder is enabled or
*maxRank* =1, 2 or 3 if transform precoder is disabled, and according to
transform precoder and *maxRank*;

\- 8 bits according to Table 7.3.1.1.2-5F for 8 antenna ports, if
*CodebookTypeUL=Codebook4*, transform precoder is disabled,
*maxRank-n8*=5, 6, 7 or 8, *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower*, and
according to *maxRank-n8*;

\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5G for 8 antenna ports,
if *CodebookTypeUL=Codebook4*, transform precoder is disabled,
*maxRank*=2, 3 or 4, *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower*, and
according to *maxRank*;

\- 3 bits according to Table 7.3.1.1.2-5H for 8 antenna ports, if
*CodebookTypeUL=Codebook4*, transform precoder is enabled or *maxRank*=1
if transform precoder is disabled, *ul-FullPowerTransmission* is not
configured or configured to *fullpowerMode2* or configured to
*fullpower*.

\- 10 bits according to Table 7.3.1.1.2-5I for 8 antenna ports, if
*CodebookTypeUL=Codebook2*, transform precoder is disabled,
*maxRank-n8*=5, 6, 7 or 8, *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,* and
according to *maxRank-n8*;

\- 5, 9 or 10 bits according to Table 7.3.1.1.2-5J for 8 antenna ports,
if *CodebookTypeUL=Codebook2*, transform precoder is enabled or
*maxRank* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*, and according to
transform precoder and *maxRank*;

\- 10 bits according to Table 7.3.1.1.2-5K for 8 antenna ports, if
*CodebookTypeUL=Codebook3*, transform precoder is disabled,
*maxRank-n8*=5, 6, 7 or 8, *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,* and
according to *maxRank-n8*;

\- 4, 7, 9 or 10 bits according to Table 7.3.1.1.2-5L for 8 antenna
ports, if *CodebookTypeUL=Codebook3*, transform precoder is enabled or
*maxRank* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*, and according to
transform precoder and *maxRank*;

\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5M for 8 antenna ports,
if *CodebookTypeUL=Codebook4*, transform precoder is disabled,
*maxRank*=2, 3 or 4, *ul-FullPowerTransmission* is configured to
*fullpowerMode1*, and according to *maxRank*;

\- 4 bits according to Table 7.3.1.1.2-5N for 8 antenna ports, if
*CodebookTypeUL=Codebook4*, transform precoder is enabled or *maxRank*=1
if transform precoder is disabled, *ul-FullPowerTransmission* is
configured to *fullpowerMode1*.

\- 6, 9 or 10 bits according to Table 7.3.1.1.2-5O for 8 antenna ports,
if *CodebookTypeUL=Codebook2*, transform precoder is enabled or
*maxRank* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is configured to *fullpowerMode1*, and
according to transform precoder and *maxRank*;

\- 5, 7, 9 or 10 bits according to Table 7.3.1.1.2-5P for 8 antenna
ports, if *CodebookTypeUL=Codebook3*, transform precoder is enabled or
*maxRank* =1, 2, 3, or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is configured to *fullpowerMode1*, and
according to transform precoder and *maxRank*;

\- 8 or 9 bits according to Table 7.3.1.1.2-5Q for 8 antenna ports, if
*CodebookTypeUL*=*Codebook4*, transform precoder is disabled,
*maxRank-n8*=5, 6, 7 or 8, *ul-FullPowerTransmission* is configured to
*fullpowerMode1*, and according to *maxRank-n8*;

\- 10 bits according to Table 7.3.1.1.2-5R for 8 antenna ports, if
*CodebookTypeUL*=*Codebook2*, transform precoder is disabled,
*maxRank-n8*=5, 6, 7 or 8, *ul-FullPowerTransmission* is configured to
*fullpowerMode1*, and according to *maxRank-n8*;

\- 10 bits according to Table 7.3.1.1.2-5S for 8 antenna ports, if
*CodebookTypeUL*=*Codebook3*, transform precoder is disabled,
*maxRank-n8* =5, 6, 7, or 8, *ul-FullPowerTransmission* is configured to
*fullpowerMode1*, and according to *maxRank-n8*;

> For the higher layer parameter *txConfig=codebook*, if
> *ul-FullPowerTransmission* is configured to *fullpowerMode2*, maxRank
> is configured to be larger than 2, and at least one SRS resource with
> 4 antenna ports or 8 antenna ports is configured in the SRS resource
> set indicated by SRS resource set indicator field if present,
> otherwise in an SRS resource set with usage set to \'codebook\', and
> an SRS resource with 2 antenna ports is indicated via SRI in the same
> SRS resource set, then Table 7.3.1.1.2-4 is used.
>
> For the higher layer parameter *txConfig=codebook*, if
> *ul-FullPowerTransmission* is configured to *fullpowerMode2*,
> *maxRank* is configured to be larger than 4, and at least one SRS
> resource with 8 antenna ports is configured in the SRS resource set
> with usage set to \'codebook\', and an SRS resource with 4 antenna
> ports is indicated via SRI in the same SRS resource set, then Table
> 7.3.1.1.2-2 is used.
>
> For the higher layer parameter *txConfig = codebook*, if different SRS
> resources with different number of antenna ports are configured, the
> bitwidth is determined according to the maximum number of ports in an
> SRS resource among the configured SRS resources in all SRS resource
> set(s) with usage set to \'codebook\'. If the number of ports for a
> configured SRS resource in the set is less than the maximum number of
> ports in an SRS resource among the configured SRS resources, a number
> of most significant bits with value set to \'0\' are inserted to the
> field.
>
> When the UE is not provided *coresetPoolIndex* or is provided
> *coresetPoolIndex* with value 0 for the first CORESETs, and is
> provided *coresetPoolIndex* with value 1 for the second CORESETs, and
> is provided *enableSTx2PofmDCI*, and there are two SRS resource sets
> configured by *srs-ResourceSetToAddModList* and associated with
> *usage* of value \'*codebook*\' or \'*nonCodeBook*\', the Precoding
> information and number of layers field is associated with the SRS
> resource set that is associated with the *coresetPoolIndex* value for
> the CORESET used for the PDCCH carrying the DCI format 0_1.
>
> For the higher layer parameter *txConfig = codebook*, when the
> Transform precoder indicator field is present, if the bit width of the
> Precoding information and number of layers field for the case with
> transform precoder enabled is not equal to that for the case with
> transform precoder disabled, a number of most significant bits with
> value set to \'0\' are inserted to the Precoding information and
> number of layers field for the case with smaller bit width until the
> bit width of the Precoding information and number of layers field for
> the two cases are the same.
>
> \- Second Precoding information - number of bits determined by the
> following:

\- 0 bits if SRS resource set indicator field is not present;

\- 0 bits if the higher layer parameter *txConfig = nonCodeBook*;

\- 0 bits for 1 antenna port and if the higher layer parameter *txConfig
= codebook*;

\- 3, 4, or 5 bits according to Table 7.3.1.1.2-2C with the same number
of layers indicated by Precoding information and number of layers field
for 4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRank* if *multipanelScheme* is not configured or
*maxRankSfn* if *multipanelScheme =* *sfnScheme*, and *codebookSubset*;

\- 3 or 4 bits according to Table 7.3.1.1.2-2D with the same number of
layers indicated by Precoding information and number of layers field for
4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1,
maxRank=2* if *multipanelScheme* is not configured or *maxRankSfn=2* if
*multipanelScheme =* *sfnScheme,* transform precoder is disabled, and
according to the values of higher layer parameter *codebookSubset*;

\- 3 or 4 bits according to Table 7.3.1.1.2-2E with the same number of
layers indicated by Precoding information and number of layers field for
4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1,*
*maxRank=3 or 4,* transform precoder is disabled, and according to the
values of higher layer parameter *codebookSubset*;

\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 with the same number
of layers indicated by Precoding information and number of layers field
for 4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and the
values of higher layer parameters *maxRank* if *multipanelScheme* is not
configured or *maxRankSfn* if *multipanelScheme =* *sfnScheme*, and
*codebookSubset*;

\- 3 or 4 bits according to Table 7.3.1.1.2-3A with the same number of
layers indicated by Precoding information and number of layers field for
4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1*,
*maxRank=1* if *multipanelScheme* is not configured or *maxRankSfn=1* if
*multipanelScheme =* *sfnScheme*, and according to whether transform
precoder is enabled or disabled, and the values of higher layer
parameter *codebookSubset*;

\- 1 or 3 bits according to Table7.3.1.1.2-4B with the same number of
layers indicated by Precoding information and number of layers field for
2 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRank* if *multipanelScheme* is not configured or
*maxRankSfn* if *multipanelScheme =* *sfnScheme*, and *codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-4C with the same number of layers
indicated by Precoding information and number of layers field for 2
antenna ports, if SRS resource set indicator field is present, *txConfig
= codebook,* *ul-FullPowerTransmission = fullpowerMode1*, transform
precoder is disabled, *maxRank=2* if *multipanelScheme* is not
configured or *maxRankSfn=2* if *multipanelScheme =* *sfnScheme*, and
*codebookSubset=nonCoherent*;

\- 1 or 3 bits according to Table7.3.1.1.2-5 with the same number of
layers indicated by Precoding information and number of layers field for
2 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and the
values of higher layer parameters *maxRank* if *multipanelScheme* is not
configured or *maxRankSfn* if *multipanelScheme =* *sfnScheme*, and
*codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-5A with the same number of layers
indicated by Precoding information and number of layers field for 2
antenna ports, if SRS resource set indicator field is present, *txConfig
= codebook,* *ul-FullPowerTransmission = fullpowerMode1*, *maxRank=1* if
*multipanelScheme* is not configured or *maxRankSfn=1* if
*multipanelScheme =* *sfnScheme*, and according to whether transform
precoder is enabled or disabled, and the values of higher layer
parameter *codebookSubset*;

\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,*
transform precoder is disabled, and according to the values of higher
layer parameters *maxRankSdm* if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1,
maxRankSdm = 2* if *multipanelScheme =* *sdmScheme,* transform precoder
is disabled, and according to the values of higher layer parameter
*codebookSubset*;

\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and the
values of higher layer parameters *maxRankSdm* if *multipanelScheme =*
*sdmScheme*, and *codebookSubset*;

\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1*,
*maxRankSdm = 1* if *multipanelScheme =* *sdmScheme*, and according to
whether transform precoder is enabled or disabled, and the values of
higher layer parameter *codebookSubset*;

\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRankSdm* if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1*,
transform precoder is disabled, *maxRankSdm = 2* if *multipanelScheme =*
*sdmScheme*, and *codebookSubset=nonCoherent*;

\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and
*maxRankSdm= 1* if *multipanelScheme =* *sdmScheme*, and
*codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission = fullpowerMode1*,
*maxRankSdm = 1* if *multipanelScheme =* *sdmScheme*, and according to
whether transform precoder is enabled or disabled, and the values of
higher layer parameter *codebookSubset*;

> For the higher layer parameter *txConfig=codebook*, if
> *ul-FullPowerTransmission* is configured to *fullpowerMode2*, maxRank
> is configured to be larger than 2, and at least one SRS resource with
> 4 antenna ports is configured in the SRS resource set indicated by SRS
> resource set indicator field, and an SRS resource with 2 antenna ports
> is indicated via Second SRS resource indicator field in the same SRS
> resource set, then Table 7.3.1.1.2-4B is used.
>
> For the higher layer parameter *txConfig = codebook*, if different SRS
> resources with different number of antenna ports are configured, the
> bitwidth is determined according to the maximum number of ports in an
> SRS resource among the configured SRS resources in the second SRS
> resource set with usage set to \'codebook\' as defined in Table
> 7.3.1.1.2-36. If the number of ports for a configured SRS resource in
> the set is less than the maximum number of ports in an SRS resource
> among the configured SRS resources, a number of most significant bits
> with value set to \'0\' are inserted to the field.
>
> For the higher layer parameter *txConfig = codebook*, when the
> Transform precoder indicator field is present, if the bit width of the
> Second Precoding information field for the case with transform
> precoder enabled is not equal to that for the case with transform
> precoder disabled, a number of most significant bits with value set to
> \'0\' are inserted to the Second Precoding information field for the
> case with smaller bit width until the bit width of the Second
> Precoding information field for the two cases are the same.

\- Antenna ports - number of bits determined by the following

\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is
enabled, *dmrs-Type*=1, and *maxLength*=1, except that
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured and
π/2 BPSK modulation is used;

\- 2 bits as defined by Tables 7.3.1.1.2-6A, if transform precoder is
enabled and *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured, π/2 BPSK modulation is used, *dmrs-Type*=1, and
*maxLength*=1, where n~SCID~ is the scrambling identity for antenna
ports defined in Clause 6.4.1.1.1.2, TS 38.211 \[4\];

\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is
enabled, *dmrs-Type*=1, and *maxLength*=2, except that
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured and
π/2 BPSK modulation is used;

\- 4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is
enabled and *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured, π/2 BPSK modulation is used, *dmrs-Type*=1, and
*maxLength*=2, where n~SCID~ is the scrambling identity for antenna
ports defined in Clause 6.4.1.1.1.2, TS 38.211 \[4\];

\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/10A/11 according to the
value of rank, if transform precoder is disabled, *dmrs-Type*=1,
*dmrs-TypeEnh* is not configured, and *maxLength*=1;

\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/14A/15/15A/15B/15C/15D
according to the value of rank, if transform precoder is disabled,
*dmrs-Type*=1, *dmrs-TypeEnh* is not configured, and *maxLength*=2;

\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/18A/19/19A/19B
according to the value of rank, if transform precoder is disabled,
*dmrs-Type*=2, *dmrs-TypeEnh* is not configured, and *maxLength*=1;

\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/22A/23/23A/23B/23C/23D
according to the value of rank, if transform precoder is disabled,
*dmrs-Type*=2, *dmrs-TypeEnh* is not configured, and *maxLength*=2.

\- 4 bits as defined by Tables 7.3.1.1.2-38/39/40/40A/41/42/43/44/45, if
transform precoder is disabled, *dmrs-Type*=1, *dmrs-TypeEnh* is
configured, and *maxLength*=1;

\- 5 bits as defined by Tables 7.3.1.1.2-46/47/48/48A/49/50/51/52/53, if
transform precoder is disabled, *dmrs-Type*=1, *dmrs-TypeEnh* is
configured, and *maxLength*=2;

\- 5 bits as defined by Tables 7.3.1.1.2-54/55/56/56A/57/58/59/60/61, if
transform precoder is disabled, *dmrs-Type*=2, *dmrs-TypeEnh* is
configured, and *maxLength*=1;

\- 6 bits as defined by Tables 7.3.1.1.2-62/63/64/64A/65/66/67/68/69, if
transform precoder is disabled, *dmrs-Type*=2, *dmrs-TypeEnh* is
configured, and *maxLength*=2.

> where the number of CDM groups without data of values 1, 2, and 3 in
> Tables 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1},
> and {0, 1,2} respectively, and the value of rank is:

\- the sum of the value determined according to the SRS resource
indicator field and the value determined according to the second SRS
resource indicator field, if *txConfig = nonCodebook*, *multipanelScheme
=* *sdmScheme* and SRS resource set indicator field equals \"10\"

\- the sum of the value determined according to the Precoding
information and number of layers field and the value determined
according to the Second Precoding information, if *txConfig = codebook*,
*multipanelScheme =* *sdmScheme* and SRS resource set indicator field
equals \"10\"

\- determined according to the SRS resource indicator field if the
higher layer parameter *txConfig = nonCodebook* and *multipanelScheme =*
*sdmScheme* is not configured, or if the higher layer parameter
*txConfig = nonCodebook*, *multipanelScheme =* *sdmScheme* and SRS
resource set indicator field equals \"00\" or "01",

\- determined according to the Precoding information and number of
layers field if the higher layer parameter *txConfig = codebook* and
*multipanelScheme =* *sdmScheme* is not configured, or if the higher
layer parameter *txConfig = codebook*, *multipanelScheme =* *sdmScheme*
and SRS resource set indicator field equals \"00\" or \"01\".

> If a UE is configured with both *dmrs-UplinkForPUSCH-MappingTypeA* and
> *dmrs-UplinkForPUSCH-MappingTypeB*, the bitwidth of this field equals
> ![](media/image1014.wmf), where ![](media/image1015.wmf) is the
> \"Antenna ports\" bitwidth derived according to
> *dmrs-UplinkForPUSCH-MappingTypeA* and ![](media/image1016.wmf) is the
> \"Antenna ports\" bitwidth derived according to
> *dmrs-UplinkForPUSCH-MappingTypeB*. A number of
> ![](media/image1017.wmf) zeros are padded in the MSB of this field, if
> the mapping type of the PUSCH corresponds to the smaller value of
> ![](media/image1015.wmf) and ![](media/image1016.wmf).
>
> When the Transform precoder indicator field is present, if the bit
> width of the Antenna ports field for the case with transform precoder
> enabled is not equal to that for the case with transform precoder
> disabled, a number of most significant bits with value set to \'0\'
> are inserted to the Antenna ports field for the case with smaller bit
> width until the bit width of the Antenna ports field for the two cases
> are the same.

\- SRS request - 2 bits as defined by Table 7.3.1.1.2-24 for UEs not
configured with *supplementaryUplink* in *ServingCellConfig* in the
cell; 3 bits for UEs configured with *supplementaryUplink* in
*ServingCellConfig* in the cell where the first bit is the non-SUL/SUL
indicator as defined in Table 7.3.1.1.1-1 and the second and third bits
are defined by Table 7.3.1.1.2-24. This bit field may also indicate the
associated CSI-RS according to Clause 6.1.1.2 of \[6, TS 38.214\].

\- SRS offset indicator - 0, 1 or 2 bits.

\- 0 bit if higher layer parameter *AvailableSlotOffset* is not
configured for any aperiodic SRS resource set in the scheduled cell, or
if higher layer parameter *AvailableSlotOffset* is configured for at
least one aperiodic SRS resource set in the scheduled cell and the
maximum number of entries of *availableSlotOffsetList* configured for
all aperiodic SRS resource set(s) is 1;

\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and
Clause 6.2.1 of \[6, TS 38.214\], where K is the maximum number of
entries of *availableSlotOffsetList* configured for all aperiodic SRS
resource set(s) in the scheduled cell;

\- CSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter *reportTriggerSize*.

\- CBG transmission information (CBGTI) - 0 bit if higher layer
parameter *codeBlockGroupTransmission* for PUSCH is not configured or if
the number of scheduled PUSCH indicated by the Time domain resource
assignment field is larger than 1; otherwise, 2, 4, 6, or 8 bits as
defined in Clause 6.1.5 of \[6, TS38.214\], determined by higher layer
parameter *maxCodeBlockGroupsPerTransportBlock* and *maxRank* or
*maxMIMO-Layers* for PUSCH.

\- PTRS-DMRS association - number of bits determined as follows

\- 0 bit if *PTRS-UplinkConfi*g is not configured in either
*dmrs-UplinkForPUSCH-MappingTypeA* or *dmrs-UplinkForPUSCH-MappingTypeB*
and transform precoder is disabled, or if transform precoder is enabled,
or if *maxRank=1* and *multipanelScheme* is not configured, or if
*maxRank=1* and *maxRankSfn=1*, or if *maxRank=1* and *maxRankSdm=1*
when two PTRS ports are configured by *maxNrofPortsforSdm*;

\- 2 or 4 bits otherwise, where Table
7.3.1.1.2-25/7.3.1.1.2-25A/7.3.1.1.2-25B/7.3.1.1.2-26/7.3.1.1.2-26A are
used to indicate the association between PTRS port(s) and DMRS port(s),
and the DMRS ports are indicated by the Antenna ports field.

\- 2 bits when one PTRS port or two PTRS ports are configured by
*maxNrofPorts* in *PTRS-UplinkConfig*, SRS resource set indicator field
is absent or SRS resource set indicator field is present and equals
\"00\" or "01" and *maxRank*\<=4, this field indicates the association
between PTRS port(s) and DMRS port(s) corresponding to SRS resource
indicator field and/or Precoding information and number of layers field
according to Tables 7.3.1.1.2-25 and 7.3.1.1.2-26.

\- 2 bits when one PTRS port or two PTRS ports are configured by
*maxNrofPorts* in *PTRS-UplinkConfig*, the SRS resource set indicator
field is present and equals \"10\" or "11", *maxRank=3 or 4* and
*multipanelScheme* is not configured, this field indicates the
association between PTRS port(s) and DMRS port(s) corresponding to SRS
resource indicator field and/or Precoding information and number of
layers field according to Tables 7.3.1.1.2-25 and 7.3.1.1.2-26.

\- 2 bits when one PTRS port is configured by *maxNrofPorts* in
*PTRS-UplinkConfig*, the SRS resource set indicator field is present and
equals \"10\" and \"11\", *maxRank=2* and *multipanelScheme* is not
configured, the MSB of this field indicates the association between PTRS
port(s) and DMRS port(s) corresponding to SRS resource indicator and/or
Precoding information and number of layers field, and the LSB of this
field indicates the association between PTRS port(s) and DMRS port(s)
corresponding to Second SRS resource indicator field and/or Second
Precoding information field, according to Table 7.3.1.1.2-25A.

\- 2 bits when two PTRS ports are configured by *maxNrofPortsforSDM* in
*PTRS-UplinkConfig*, the SRS resource set indicator field is present and
equals \"10\" and *multipanelScheme* is configured to *sdmScheme*, the
MSB of this field indicates the association between PTRS port 0 and DMRS
port(s) corresponding to SRS resource indicator field and/or Precoding
information and number of layers field, and the LSB of this field
indicates the association between PTRS port 1 and DMRS port(s)
corresponding to Second SRS resource indicator field and/or Second
Precoding information field, according to Table 7.3.1.1.2-25A.

\- 2 bits when one PTRS port is configured by *maxNrofPortsforSDM* in
*PTRS-UplinkConfig*, SRS resource set indicator field is present and
equals \"10\" and *multipanelScheme* is configured to *sdmScheme*, this
field indicates the association between PTRS port and DMRS ports
corresponding to SRS resource indicator field and Second SRS resource
indicator field and/or Precoding information and number of layers field
and Second Precoding information field according to Table 7.3.1.1.2-25.

\- 2 bits when one PTRS port or two PTRS ports are configured by
*maxNrofPorts* in *PTRS-UplinkConfig,* SRS resource set indicator field
is present and equals \"10\", *multipanelScheme* is configured to
*sfnScheme*, this field indicates the association between PTRS port(s)
and DMRS port(s) corresponding to SRS resource indicator field and/or
Precoding information and number of layers field according to
Tables 7.3.1.1.2-25 and 7.3.1.1.2-26.

\- 2 bits when one PTRS port is configured by *maxNrofPorts* in
*PTRS-UplinkConfig*, the SRS resource set indicator field is absent,
*maxRank\>4* and *multipanelScheme* is not configured, this field
indicates the association between PTRS port and DMRS port(s)
corresponding to the selected codeword according to Table 7.3.1.1.2-25B,
where the selected codeword is the codeword with higher MCS for the
initial PUSCH if the MCS indices of the two codewords are different for
the initial PUSCH, or codeword 0 otherwise.

\- 4 bits when two PTRS ports are configured by *maxNrofPorts* in
*PTRS-UplinkConfig*, the SRS resource set indicator field is absent,
*maxRank\>4* and *multipanelScheme* is not configured, this field
indicates the association between PTRS port(s) and DMRS port(s)
corresponding to SRS resource indicator field and/or Precoding
information and number of layers field according to Table 7.3.1.1.2-26A.

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part and the \"PTRS-DMRS association\" field
> is present for the indicated bandwidth part but not present for the
> active bandwidth part, the UE assumes the \"PTRS-DMRS association\"
> field is not present for the indicated bandwidth part.
>
> When the Transform precoder indicator field is present, if the bit
> width of PTRS-DMRS association field for the case with transform
> precoder enabled is not equal to that for the case with transform
> precoder disabled, a number of most significant bits with value set to
> \'0\' are inserted to the PTRS-DMRS association field for the case
> with smaller bit width until the bit width of the PTRS-DMRS
> association field for the two cases are the same.

\- Second PTRS-DMRS association - 2 bits if PTRS-DMRS association field
and SRS resource set indicator field are present and *maxRank\>2* and
*multipanelScheme* is not configured; 0 bit otherwise. Tables
7.3.1.1.2-25 and 7.3.1.1.2-26 are used to indicate the association
between PTRS port(s) and DMRS port(s) corresponding to Second SRS
resource indicator field and/or Second precoding information field when
one PT-RS port and two PT-RS ports are configured by *maxNrofPorts* in
*PTRS-UplinkConfig* respectively, and the DMRS ports are indicated by
the Antenna ports field.

\- beta_offset indicator - 0 if the higher layer parameter *betaOffsets
= semiStatic*; otherwise 2 bits as defined by Table 9.3-3 in \[5, TS
38.213\].

> When two HARQ-ACK codebooks are configured by
> *pdsch-HARQ-ACK-CodebookList* or by
> *pdsch-HARQ-ACK-CodebookListMulticast* for the same serving cell and
> if higher layer parameter *priorityIndicatorDCI-0-1* is configured, if
> the bit width of the beta_offset indicator in DCI format 0_1 for one
> HARQ-ACK codebook is not equal to that of the beta_offset indicator in
> DCI format 0_1 for the other HARQ-ACK codebook, a number of most
> significant bits with value set to \'0\' are inserted to smaller
> beta_offset indicator until the bit width of the beta_offset indicator
> in DCI format 0_1 for the two HARQ-ACK codebooks are the same.
>
> \- DMRS sequence initialization -- 0 bit if transform precoder is
> enabled by higher layers and the Transform precoder indicator field is
> not present; 1 bit if transform precoder is disabled by higher layers
> or if the Transform precoder indicator field is present. If the
> Transform precoder indicator field is present and set to \'0\', the
> bit is reserved.

\- UL-SCH indicator - 0 or 1 bit as follows

\- 0 bit if the number of scheduled PUSCH indicated by the Time domain
resource assignment field is larger than 1;

\- 1 bit otherwise. A value of \"1\" indicates UL-SCH shall be
transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not
be transmitted on the PUSCH. If a UE does not support triggering SRS
only in DCI, except for DCI format 0_1 with CRC scrambled by
SP-CSI-RNTI, the UE is not expected to receive a DCI format 0_1 with
UL-SCH indicator of \"0\" and CSI request of all zero(s). If a UE
supports triggering SRS only in DCI, except for DCI format 0_1 with CRC
scrambled by SP-CSI-RNTI, the UE is not expected to receive a DCI format
0_1 with UL-SCH indicator of \"0\", CSI request of all zero(s) and SRS
request of all zero(s). The UE is not expected to receive a DCI format
0_1 with UL-SCH indicator of \"0\", when the indicated number of layers
is larger than 4.

\- ChannelAccess-CPext-CAPC - 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth
for this field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$
bits, where *I* is the number of entries in the higher layer parameter
*ul-AccessConfigListDCI-0-1* or in Table 7.3.1.1.1-4A if
*channelAccessMode-r16* = \"*semiStatic*\" is provided, for operation in
a cell with shared spectrum channel access in frequency range 1, or for
operation in frequency range 2-2 if *ChannelAccessMode2-r17* is
provided; otherwise 0 bit. One or more entries from Table 7.3.1.1.2-35
or Table 7.3.1.1.2-35A are configured by the higher layer parameter
*ul-AccessConfigListDCI-0-1.*

\- Open-loop power control parameter set indication - 0 or 1 or 2 bits.

\- 0 bit if the higher layer parameter *p0-PUSCH-SetList* is not
configured;

\- 1 or 2 bits otherwise,

\- 1 bit if SRS resource indicator is present in the DCI format 0_1;

\- 1 or 2 bits as determined by higher layer parameter
*olpc-ParameterSetDCI-0-1* if SRS resource indicator is not present in
the DCI format 0_1.

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-0-1* is not configured; otherwise 1 bit as defined
in Clause 9 in \[5, TS 38.213\].

\- Invalid symbol pattern indicator - 0 bit if higher layer parameter
*invalidSymbolPatternIndicatorDCI-0-1* is not configured; otherwise 1
bit as defined in Clause 6.1.2.1 in \[6, TS 38.214\].

\- Minimum applicable scheduling offset indicator - 0 or 1 bit

\- 0 bit if higher layer parameter *minimumSchedulingOffsetK2* is not
configured;

\- 1 bit if higher layer parameter *minimumSchedulingOffsetK2* is
configured. The 1 bit indication is used to determine the minimum
applicable K2 for the active UL BWP and the minimum applicable K0 value
for the active DL BWP, if configured respectively, according to Table
7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum
applicable value of the aperiodic CSI-RS triggering offset for an active
DL BWP shall be the same as the minimum applicable K0 value.

\- SCell dormancy indication - 0 bit if higher layer parameter
*dormancyGroupWithinActiveTime* is not configured; otherwise 1, 2, 3, 4
or 5 bits bitmap determined according to the number of different
*DormancyGroupID(s)* provided by higher layer parameter
*dormancyGroupWithinActiveTime,* where each bit corresponds to one of
the SCell group(s) configured by higher layers parameter
*dormancyGroupWithinActiveTime,* with MSB to LSB of the bitmap
corresponding to the first to last configured SCell group in ascending
order of *DormancyGroupID*. The field is only present when this format
is carried by PDCCH on the primary cell within DRX Active Time and the
UE is configured with at least two DL BWPs for an SCell.

\- Sidelink assignment index - 0, 1 or 2 bits:

\- 1 bit if the UE is configured with *pdsch-HARQ-ACK-Codebook* =
*semi-static* and, in addition, the UE is configured with a SL
configured grant type 1 or to monitor DCI format 3_0 with CRC scrambled
by SL-RNTI or SL-CS-RNTI;

\- 2 bits if the UE is configured with *pdsch-HARQ-ACK-Codebook* =
*dynamic* and, in addition, the UE is configured with a SL configured
grant type 1 or to monitor DCI format 3_0 with CRC scrambled by SL-RNTI
or SL-CS-RNTI;

\- 0 bit otherwise.

\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits

\- 1 or 2 bits, if *searchSpaceGroupIdList-r17* is not configured and if
*pdcch-SkippingDurationList* is configured

\- 1 bit if the UE is configured with only one duration by
*pdcch-SkippingDurationList;*

\- 2 bits if the UE is configured with more than one duration by
*pdcch-SkippingDurationList*.

\- 1 or 2 bits, if *pdcch-SkippingDurationList* is not configured and if
*searchSpaceGroupIdList-r17* is configured

\- 1 bit if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0 and search space set(s) with
group index 1, and if the UE is not configured by
*searchSpaceGroupIdList-r17* with any search space set with group index
2;

\- 2 bits if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0, search space set(s) with group
index 1 and search space set(s) with group index 2;

\- 2 bits, if *pdcch-SkippingDurationList* is configured and if
*searchSpaceGroupIdList-r17* is configured

\- 0 bit, otherwise

A UE does not expect that the bit width of a field in DCI format 0_1
with CRC scrambled by CS-RNTI is larger than corresponding bit width of
same field in DCI format 0_1 with CRC scrambled by C-RNTI for the same
serving cell. If the bit width of a field in the DCI format 0_1 with CRC
scrambled by CS-RNTI is not equal to that of the corresponding field in
the DCI format 0_1 with CRC scrambled by C-RNTI for the same serving
cell, a number of most significant bits with value set to \'0\' are
inserted to the field in DCI format 0_1 with CRC scrambled by CS-RNTI
until the bit width equals that of the corresponding field in the DCI
format 0_1 with CRC scrambled by C-RNTI for the same serving cell.

If the number of information bits in DCI format 0_1 scheduling a single
PUSCH prior to padding is not equal to the number of information bits in
DCI format 0_1 scheduling multiple PUSCHs for the same serving cell,
zeros shall be appended to the DCI format 0_1 with smaller size until
the payload size is the same for scheduling a single PUSCH and multiple
PUSCHs.

For a UE configured with scheduling on the primary cell from an SCell,
if prior to padding the number of information bits in DCI format 0_1
carried by PDCCH on the primary cell is not equal to the number of
information bits in DCI format 0_1 carried by PDCCH on the SCell for
scheduling on the primary cell, zeros shall be appended to the DCI
format 0_1 with smaller size until the payload size is the same.

\- If application of step 4C in clause 7.3.1.0 results in additional
zero padding for DCI format 0_1 for scheduling on the primary cell,
corresponding zeros shall be appended to both DCI format 0_1 monitored
on the primary cell and DCI format 0_1 monitored on the SCell for
scheduling on the primary cell.

\- If the SCell is deactivated and *firstActiveDownlinkBWP-Id* is not
set to dormant BWP, the UE determines the number of information bits in
DCI format 0_1 carried by PDCCH on the primary cell based on a DL BWP
provided by *firstActiveDownlinkBWP-Id* for the SCell. If the active DL
BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and
*firstActiveDownlinkBWP-Id* is set to dormant BWP, the UE determines the
number of information bits in DCI format 0_1 carried by PDCCH on the
primary cell based on a DL BWP provided by *firstWithinActiveTimeBWP-Id*
for the SCell if provided; otherwise, based on a DL BWP provided by
*firstOutsideActiveTimeBWP-Id* for the SCell.

Table 7.3.1.1.2-1: Bandwidth part indicator

  -----------------------------------------------------------------------
  Value of BWP indicator  Bandwidth part
  field                   
  ----------------------- -----------------------------------------------
  2 bits                  

  00                      Configured BWP with BWP-Id = 1

  01                      Configured BWP with BWP-Id = 2

  10                      Configured BWP with BWP-Id = 3

  11                      Configured BWP with BWP-Id = 4
  -----------------------------------------------------------------------

Table 7.3.1.1.2-2: Precoding information and number of layers or Second
Precoding information, for 4 antenna ports, if transform precoder is
disabled, *maxRank* = 2 or 3 or 4 or max{*maxRank*, *maxRankSfn*} = 2 or
3 or 4 or max{*maxRank*, *maxRankSdm*} = 2 or 3 or 4 or *maxRankSdm*= 2,
and *ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  ----------------------------------------------------------------------------------------------------------------
  Bit field  *codebookSubset* =                Bit field *codebookSubset* =        Bit field   *codebookSubset*=
  mapped to  *fullyAndPartialAndNonCoherent*   mapped to *partialAndNonCoherent*   mapped to   *nonCoherent*
  index                                        index                               index       
  ---------- --------------------------------- --------- ------------------------- ----------- -------------------
  0          1 layer: TPMI=0                   0         1 layer: TPMI=0           0           1 layer: TPMI=0

  1          1 layer: TPMI=1                   1         1 layer: TPMI=1           1           1 layer: TPMI=1

  ...        ...                               ...       ...                       ...         ...

  3          1 layer: TPMI=3                   3         1 layer: TPMI=3           3           1 layer: TPMI=3

  4          2 layers: TPMI=0                  4         2 layers: TPMI=0          4           2 layers: TPMI=0

  ...        ...                               ...       ...                       ...         ...

  9          2 layers: TPMI=5                  9         2 layers: TPMI=5          9           2 layers: TPMI=5

  10         3 layers: TPMI=0                  10        3 layers: TPMI=0          10          3 layers: TPMI=0

  11         4 layers: TPMI=0                  11        4 layers: TPMI=0          11          4 layers: TPMI=0

  12         1 layer: TPMI=4                   12        1 layer: TPMI=4           12-15       reserved

  ...        ...                               ...       ...                                   

  19         1 layer: TPMI=11                  19        1 layer: TPMI=11                      

  20         2 layers: TPMI=6                  20        2 layers: TPMI=6                      

  ...        ...                               ...       ...                                   

  27         2 layers: TPMI=13                 27        2 layers: TPMI=13                     

  28         3 layers: TPMI=1                  28        3 layers: TPMI=1                      

  29         3 layers: TPMI=2                  29        3 layers: TPMI=2                      

  30         4 layers: TPMI=1                  30        4 layers: TPMI=1                      

  31         4 layers: TPMI=2                  31        4 layers: TPMI=2                      

  32         1 layers: TPMI=12                                                                 

  ...        ...                                                                               

  47         1 layers: TPMI=27                                                                 

  48         2 layers: TPMI=14                                                                 

  ...        ...                                                                               

  55         2 layers: TPMI=21                                                                 

  56         3 layers: TPMI=3                                                                  

  ...        ...                                                                               

  59         3 layers: TPMI=6                                                                  

  60         4 layers: TPMI=3                                                                  

  61         4 layers: TPMI=4                                                                  

  62-63      reserved                                                                          
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-2A: Precoding information and number of layers for 4
antenna ports or Second Precoding information,, if transform precoder is
disabled, *maxRank* = 2 or max{*maxRank*, *maxRankSfn*} = 2 or
max{*maxRank*, *maxRankSdm*} = 2 or *maxRankSdm*= 2, and
*ul-FullPowerTransmission = fullpowerMode1*

  -------------------------------------------------------------------------------
  Bit field       *codebookSubset* =        Bit field       *codebookSubset*=
  mapped to index *partialAndNonCoherent*   mapped to index *nonCoherent*
  --------------- ------------------------- --------------- ---------------------
  0               1 layer: TPMI=0           0               1 layer: TPMI=0

  1               1 layer: TPMI=1           1               1 layer: TPMI=1

  ...             ...                       ...             ...

  3               1 layer: TPMI=3           3               1 layer: TPMI=3

  4               2 layers: TPMI=0          4               2 layers: TPMI=0

  ...             ...                       ...             ...

  9               2 layers: TPMI=5          9               2 layers: TPMI=5

  10              1 layer: TPMI=13          10              1 layer: TPMI=13

  11              2 layer: TPMI=6           11              2 layer: TPMI=6

  12              1 layer: TPMI=4           12-15           Reserved

  ...             ...                                       

  20              1 layer: TPMI=12                          

  21              1 layer: TPMI=14                          

  22              1 layer: TPMI=15                          

  23              2 layers: TPMI=7                          

  ...             ...                                       

  29              2 layers: TPMI=13                         

  30-31           Reserved                                  
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-2B: Precoding information and number of layers for 4
antenna ports, if transform precoder is disabled, *maxRank* = 3 or 4,
and *ul-FullPowerTransmission = fullpowerMode1*

  -------------------------------------------------------------------------------
  Bit field mapped *codebookSubset* =        Bit field mapped *codebookSubset*=
  to index         *partialAndNonCoherent*   to index         *nonCoherent*
  ---------------- ------------------------- ---------------- -------------------
  0                1 layer: TPMI=0           0                1 layer: TPMI=0

  1                1 layer: TPMI=1           1                1 layer: TPMI=1

  ...              ...                       ...              ...

  3                1 layer: TPMI=3           3                1 layer: TPMI=3

  4                2 layers: TPMI=0          4                2 layers: TPMI=0

  ...              ...                       ...              ...

  9                2 layers: TPMI=5          9                2 layers: TPMI=5

  10               3 layers: TPMI=0          10               3 layers: TPMI=0

  11               4 layers: TPMI=0          11               4 layers: TPMI=0

  12               1 layer: TPMI=13          12               1 layer: TPMI=13

  13               2 layer: TPMI=6           13               2 layer: TPMI=6

  14               3 layer: TPMI=1           14               3 layer: TPMI=1

  15               1 layer: TPMI=4           15               Reserved

  ...              ...                                        

  23               1 layer: TPMI=12                           

  24               1 layer: TPMI=14                           

  25               1 layer: TPMI=15                           

  26               2 layers: TPMI=7                           

  ...              ...                                        

  32               2 layers: TPMI=13                          

  33               3 layers: TPMI=2                           

  34               4 layers: TPMI=1                           

  35               4 layers: TPMI=2                           

  36-63            Reserved                                   
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-2C: Second precoding information, for 4 antenna ports,
if transform precoder is disabled, *maxRank* = 2 or 3 or 4 or
*maxRankSfn* = 2, and *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower*

  ----------------------------------------------------------------------------------------------------------
  Bit      *codebookSubset* =                Bit      *codebookSubset* =        Bit      *codebookSubset*=
  field    *fullyAndPartialAndNonCoherent*   field    *partialAndNonCoherent*   field    *nonCoherent*
  mapped                                     mapped                             mapped   
  to index                                   to index                           to index 
  -------- --------------------------------- -------- ------------------------- -------- -------------------
  0        1 layer: TPMI=0                   0        1 layer: TPMI=0           0        1 layer: TPMI=0

  ...      ...                               ...      ...                       ...      ...

  27       1 layer: TPMI=27                  11       1 layer: TPMI=11          3        1 layer: TPMI=3

  28-31    1 layer: reserved                 12-15    1 layer: reserved         4-7      1 layer: reserved

  0        2 layers: TPMI=0                  0        2 layers: TPMI=0          0        2 layers: TPMI=0

  ...      ...                               ...      ...                       ...      ...

  21       2 layers: TPMI=21                 13       2 layers: TPMI=13         5        2 layers: TPMI=5

  22-31    2 layers: reserved                14-15    2 layers: reserved        6-7      2 layers: reserved

  0        3 layers: TPMI=0                  0        3 layers: TPMI=0          0        3 layers: TPMI=0

  ...      ...                               ...      ...                       1-7      3 layers: reserved

  6        3 layers: TPMI=6                  2        3 layers: TPMI=2          0        4 layers: TPMI=0

  7-31     3 layers: reserved                3-15     3 layers: reserved        1-7      4 layers: reserved

  0        4 layers: TPMI=0                  0        4 layers: TPMI=0                   

  ...      ...                               ...      ...                                

  4        4 layers: TPMI=4                  2        4 layers: TPMI=2                   

  5-31     4 layers: reserved                3-15     4 layers: reserved                 
  ----------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-2D: Second precoding information for 4 antenna ports, if
transform precoder is disabled, *maxRank* = 2 or *maxRankSfn* = 2, and
*ul-FullPowerTransmission = fullpowerMode1*

  -------------------------------------------------------------------------------
  Bit field mapped *codebookSubset* =        Bit field mapped *codebookSubset*=
  to index         *partialAndNonCoherent*   to index         *nonCoherent*
  ---------------- ------------------------- ---------------- -------------------
  0                1 layer: TPMI=0           0                1 layer: TPMI=0

  ...              ...                       ...              ...

  14               1 layer: TPMI=14          3                1 layer: TPMI=3

  15               1 layer: TPMI=15          4                1 layer: TPMI=13

  0                2 layers: TPMI=0          5-7              1 layer: reserved

  ...              ...                       0                2 layers: TPMI=0

  13               2 layers: TPMI=13         ...              ...

  14-15            2 layers: reserved        6                2 layers: TPMI=6

                                             7                2 layers: reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-2E: Second precoding information for 4 antenna ports, if
transform precoder is disabled, *maxRank* = 3 or 4, and
*ul-FullPowerTransmission = fullpowerMode1*

  -------------------------------------------------------------------------------
  Bit field mapped *codebookSubset* =        Bit field mapped *codebookSubset*=
  to index         *partialAndNonCoherent*   to index         *nonCoherent*
  ---------------- ------------------------- ---------------- -------------------
  0                1 layer: TPMI=0           0                1 layer: TPMI=0

  ...              ...                       ...              ...

  14               1 layer: TPMI=14          3                1 layer: TPMI=3

  15               1 layer: TPMI=15          4                1 layer: TPMI=13

  0                2 layers: TPMI=0          5-7              1 layer: reserved

  ...              ...                       0                2 layers: TPMI=0

  13               2 layers: TPMI=13         ...              ...

  14-15            2 layers: reserved        6                2 layers: TPMI=6

  0                3 layers: TPMI=0          7                2 layers: reserved

  ...              ...                       0                3 layers: TPMI=0

  2                3 layers: TPMI=2          1                3 layer: TPMI=1

  3-15             3 layers: reserved        2-7              3 layers: reserved

  0                4 layers: TPMI=0          0                4 layers: TPMI=0

  ...              ...                       1-7              4 layers: reserved

  2                4 layers: TPMI=2                           

  3-15             4 layers: reserved                         
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-3: Precoding information and number of layers or Second
Precoding information, for 4 antenna ports, if transform precoder is
enabled and *ul-FullPowerTransmission* is either not configured or
configured to *fullpowerMode2* or configured to *fullpower*, or if
transform precoder is disabled, *maxRank* = 1 or max{*maxRank*,
*maxRankSfn*} = 1 or max{*maxRank*, *maxRankSdm*} = 1 or *maxRankSdm*= 1
or *maxRankSfn*= 1, and *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower*

  ----------------------------------------------------------------------------------------------------------
  Bit      *codebookSubset* =                Bit      *codebookSubset*=         Bit      *codebookSubset*=
  field    *fullyAndPartialAndNonCoherent*   field    *partialAndNonCoherent*   field    *nonCoherent*
  mapped                                     mapped                             mapped   
  to index                                   to index                           to index 
  -------- --------------------------------- -------- ------------------------- -------- -------------------
  0        1 layer: TPMI=0                   0        1 layer: TPMI=0           0        1 layer: TPMI=0

  1        1 layer: TPMI=1                   1        1 layer: TPMI=1           1        1 layer: TPMI=1

  ...      ...                               ...      ...                       ...      ...

  3        1 layer: TPMI=3                   3        1 layer: TPMI=3           3        1 layer: TPMI=3

  4        1 layer: TPMI=4                   4        1 layer: TPMI=4                    

  ...      ...                               ...      ...                                

  11       1 layer: TPMI=11                  11       1 layer: TPMI=11                   

  12       1 layers: TPMI=12                 12-15    reserved                           

  ...      ...                                                                           

  27       1 layers: TPMI=27                                                             

  28-31    reserved                                                                      
  ----------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-3A: Precoding information and number of layers or Second
Precoding information, for 4 antenna ports, if transform precoder is
enabled and *ul-FullPowerTransmission = fullpowerMode1*, or if transform
precoder is disabled, *maxRank* = 1 or max{*maxRank*, *maxRankSfn*} = 1
or max{*maxRank*, *maxRankSdm*} = 1 or *maxRankSdm*= 1 or *maxRankSfn*=
1, and *ul-FullPowerTransmission = fullpowerMode1*

  -------------------------------------------------------------------------------
  Bit field mapped *codebookSubset*=         Bit field mapped *codebookSubset*=
  to index         *partialAndNonCoherent*   to index         *nonCoherent*
  ---------------- ------------------------- ---------------- -------------------
  0                1 layer: TPMI=0           0                1 layer: TPMI=0

  1                1 layer: TPMI=1           1                1 layer: TPMI=1

  ...              ...                       ...              ...

  3                1 layer: TPMI=3           3                1 layer: TPMI=3

  4                1 layer: TPMI=13          4                1 layer: TPMI=13

  5                1 layer: TPMI=4           5-7              Reserved

  ...              ...                                        

  13               1 layer: TPMI=12                           

  14               1 layer: TPMI=14                           

  15               1 layer: TPMI=15                           
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-4: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports, if transform precoder is
disabled, *maxRank* = 2 or max{*maxRank*, *maxRankSfn*} = 2 or
max{*maxRank*, *maxRankSdm*} = 2 or *maxRankSdm*= 2, and
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  ------------------------------------------------------------------------------------
  Bit field     *codebookSubset* =                Bit field     *codebookSubset* =
  mapped to     *fullyAndPartialAndNonCoherent*   mapped to     *nonCoherent*
  index                                           index         
  ------------- --------------------------------- ------------- ----------------------
  0             1 layer: TPMI=0                   0             1 layer: TPMI=0

  1             1 layer: TPMI=1                   1             1 layer: TPMI=1

  2             2 layers: TPMI=0                  2             2 layers: TPMI=0

  3             1 layer: TPMI=2                   3             reserved

  4             1 layer: TPMI=3                                 

  5             1 layer: TPMI=4                                 

  6             1 layer: TPMI=5                                 

  7             2 layers: TPMI=1                                

  8             2 layers: TPMI=2                                

  9-15          reserved                                        
  ------------------------------------------------------------------------------------

Table 7.3.1.1.2-4A: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports, if transform precoder is
disabled*, maxRank* = 2 or max{*maxRank*, *maxRankSfn*} = 2 or
max{*maxRank*, *maxRankSdm*} = 2 or *maxRankSdm*= 2, and
*ul-FullPowerTransmission = fullpowerMode1*

  -----------------------------------------------------------------------
  Bit field mapped to index *codebookSubset*= *nonCoherent*
  ------------------------- ---------------------------------------------
  0                         1 layer: TPMI=0

  1                         1 layer: TPMI=1

  2                         2 layers: TPMI=0

  3                         1 layer: TPMI=2
  -----------------------------------------------------------------------

Table 7.3.1.1.2-4B: Second precoding information, for 2 antenna ports,
if transform precoder is disabled, *maxRank* = 2 or *maxRankSfn* = 2,
and *ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  -----------------------------------------------------------------------------------
  Bit field    *codebookSubset* =                Bit field    *codebookSubset* =
  mapped to    *fullyAndPartialAndNonCoherent*   mapped to    *nonCoherent*
  index                                          index        
  ------------ --------------------------------- ------------ -----------------------
  0            1 layer: TPMI=0                   0            1 layer: TPMI=0

  1            1 layer: TPMI=1                   1            1 layer: TPMI=1

  ...          ...                               0            2 layers: TPMI=0

  5            1 layer: TPMI=5                   1            2 layers: reserved

  6-7          1 layer: reserved                              

  0            2 layers: TPMI=0                               

  ...          ...                                            

  2            2 layers: TPMI=2                               

  3-7          2 layers: reserved                             
  -----------------------------------------------------------------------------------

Table 7.3.1.1.2-4C: Second precoding information, for 2 antenna ports,
if transform precoder is disabled*, maxRank* = 2 or *maxRankSfn* = 2,
and *ul-FullPowerTransmission = fullpowerMode1*

  -----------------------------------------------------------------------
  Bit field mapped to index *codebookSubset*= *nonCoherent*
  ------------------------- ---------------------------------------------
  0                         1 layer: TPMI=0

  ...                       ...

  2                         1 layer: TPMI=2

  3                         1 layer: reserved

  0                         2 layers: TPMI=0

  1-3                       2 layers: reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-5: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports, if transform precoder is
enabled and *ul-FullPowerTransmission* is not configured or configured
to *fullpowerMode2* or configured to *fullpower*, or if transform
precoder is disabled, *maxRank* = 1 or max{*maxRank*, *maxRankSfn*} = 1
or max{*maxRank*, *maxRankSdm*} = 1 or *maxRankSdm*= 1 or *maxRankSfn*=
1, and and *ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  ----------------------------------------------------------------------------------
  Bit field      *codebookSubset* =                Bit field      *codebookSubset* =
  mapped to      *fullyAndPartialAndNonCoherent*   mapped to      *nonCoherent*
  index                                            index          
  -------------- --------------------------------- -------------- ------------------
  0              1 layer: TPMI=0                   0              1 layer: TPMI=0

  1              1 layer: TPMI=1                   1              1 layer: TPMI=1

  2              1 layer: TPMI=2                                  

  3              1 layer: TPMI=3                                  

  4              1 layer: TPMI=4                                  

  5              1 layer: TPMI=5                                  

  6-7            reserved                                         
  ----------------------------------------------------------------------------------

Table 7.3.1.1.2-5A: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports or Second Precoding
information, if transform precoder is enabled and
*ul-FullPowerTransmission = fullpowerMode1*, or if transform precoder is
disabled*, maxRank* = 1 or max{*maxRank*, *maxRankSfn*} = 1 or
max{*maxRank*, *maxRankSdm*} = 1 or *maxRankSdm*= 1 or *maxRankSfn*= 1,
and *ul-FullPowerTransmission = fullpowerMode1*

  -----------------------------------------------------------------------
  Bit field mapped to index    *codebookSubset*= *nonCoherent*
  ---------------------------- ------------------------------------------
  0                            1 layer: TPMI=0

  1                            1 layer: TPMI=1

  2                            1 layer: TPMI=2

  3                            Reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-5B: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 8, and
*CodebookTypeUL*=*Codebook1*

  -----------------------------------------------------------------------
  Bit field     *ULcodebookFC-N1N2* = Bit field     *ULcodebookFC-N1N2 =
  mapped to     (4, 1)                mapped to     (2, 2)*
  index                               index         
  ------------- --------------------- ------------- ---------------------
  0             1 layer: TPMI=0       0             1 layer: TPMI=0

  1             1 layer: TPMI=1       1             1 layer: TPMI=1

  ...           ...                   ...           ...

  15            1 layer: TPMI=15      15            1 layer: TPMI=15

  16            2 layers: TPMI=0      16            2 layer2: TPMI=0

  17            2 layers: TPMI=1      17            2 layer2: TPMI=1

  ...           ...                   ...           ...

  47            2 layers: TPMI=31     47            2 layers: TPMI=31

  48            3 layers: TPMI=0      48            3 layers: TPMI=0

  49            3 layers: TPMI=1      49            3 layers: TPMI=1

  ...           ...                   ...           ...

  71            3 layers: TPMI=23     71            3 layers: TPMI=23

  72            4 layers: TPMI=0      72            4 layers: TPMI=0

  73            4 layers: TPMI=1      73            4 layers: TPMI=1

  ...           ...                   ...           ...

  95            4 layers: TPMI=23     95            4 layers: TPMI=23

  96            5 layers: TPMI=0      96            5 layers: TPMI=0

  97            5 layers: TPMI=1      97            5 layers: TPMI=1

  ...           ...                   ...           ...

  103           5 layers: TPMI=7      103           5 layers: TPMI=7

  104           6 layers: TPMI=0      104           6 layers: TPMI=0

  105           6 layers: TPMI=1      105           6 layers: TPMI=1

  ...           ...                   ...           ...

  111           6 layers: TPMI=7      111           6 layers: TPMI=7

  112           7 layers: TPMI=0      112           7 layers: TPMI=0

  113           7 layers: TPMI=1      113           7 layers: TPMI=1

  ...           ...                   ...           ...

  115           7 layers: TPMI=3      119           7 layers: TPMI=7

  116           8 layers: TPMI=0      120           8 layers: TPMI=0

  117           8 layers: TPMI=1      121           8 layers: TPMI=1

  ...           ...                   ...           ...

  119           8 layers: TPMI=3      127           8 layers: TPMI=7

  120-127       reserved                            
  -----------------------------------------------------------------------

Table 7.3.1.1.2-5C: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 7, and
*CodebookTypeUL=Codebook1*

  ------------------------------------------------------------------------
  Bit field     *ULcodebookFC-N1N2*=   Bit field     *ULcodebookFC-N1N2=
  mapped to     (4, 1)                 mapped to     (2, 2)*
  index                                index         
  ------------- ---------------------- ------------- ---------------------
  0             1 layer: TPMI=0        0             1 layer: TPMI=0

  1             1 layer: TPMI=1        1             1 layer: TPMI=1

  ...           ...                    ...           ...

  15            1 layer: TPMI=15       15            1 layer: TPMI=15

  16            2 layers: TPMI=0       16            2 layer2: TPMI=0

  17            2 layers: TPMI=1       17            2 layer2: TPMI=1

  ...           ...                    ...           ...

  47            2 layers: TPMI=31      47            2 layers: TPMI=31

  48            3 layers: TPMI=0       48            3 layers: TPMI=0

  49            3 layers: TPMI=1       49            3 layers: TPMI=1

  ...           ...                    ...           ...

  71            3 layers: TPMI=23      71            3 layers: TPMI=23

  72            4 layers: TPMI=0       72            4 layers: TPMI=0

  73            4 layers: TPMI=1       73            4 layers: TPMI=1

  ...           ...                    ...           ...

  95            4 layers: TPMI=23      95            4 layers: TPMI=23

  96            5 layers: TPMI=0       96            5 layers: TPMI=0

  97            5 layers: TPMI=1       97            5 layers: TPMI=1

  ...           ...                    ...           ...

  103           5 layers: TPMI=7       103           5 layers: TPMI=7

  104           6 layers: TPMI=0       104           6 layers: TPMI=0

  105           6 layers: TPMI=1       105           6 layers: TPMI=1

  ...           ...                    ...           ...

  111           6 layers: TPMI=7       111           6 layers: TPMI=7

  112           7 layers: TPMI=0       112           7 layers: TPMI=0

  113           7 layers: TPMI=1       113           7 layers: TPMI=1

  ...           ...                    ...           ...

  115           7 layers: TPMI=3       119           7 layers: TPMI=7

  116-127       reserved               120-127       reserved
  ------------------------------------------------------------------------

Table 7.3.1.1.2-5D: Precoding information and number of layers, for 8
antenna ports,\
if transform precoder is disabled, *maxRank-n8* = 4, 5 or 6,
*CodebookTypeUL=Codebook1,\
ULcodebookFC-N1N2 = (4,1) or (2,2)*

  --------------------------------------------------------------------------------------
  Bit field   *maxRank-n8*=4   Bit field   *maxRank-n8*=5   Bit field   *maxRank-n8=6*
  mapped to                    mapped to                    mapped to   
  index                        index                        index       
  ----------- ---------------- ----------- ---------------- ----------- ----------------
  0           1 layer: TPMI=0  0           1 layer: TPMI=0  0           1 layer: TPMI=0

  1           1 layer: TPMI=1  1           1 layer: TPMI=1  1           1 layer: TPMI=1

  ...         ...              ...         ...              ...         ...

  15          1 layer: TPMI=15 15          1 layer: TPMI=15 15          1 layer: TPMI=15

  16          2 layers: TPMI=0 16          2 layers: TPMI=0 16          2 layer2: TPMI=0

  17          2 layers: TPMI=1 17          2 layers: TPMI=1 17          2 layer2: TPMI=1

  ...         ...              ...         ...              ...         ...

  47          2 layers:        47          2 layers:        47          2 layers:
              TPMI=31                      TPMI=31                      TPMI=31

  48          3 layers: TPMI=0 48          3 layers: TPMI=0 48          3 layers: TPMI=0

  49          3 layers: TPMI=1 49          3 layers: TPMI=1 49          3 layers: TPMI=1

  ...         ...              ...         ...              ...         ...

  71          3 layers:        71          3 layers:        71          3 layers:
              TPMI=23                      TPMI=23                      TPMI=23

  72          4 layers: TPMI=0 72          4 layers: TPMI=0 72          4 layers: TPMI=0

  73          4 layers: TPMI=1 73          4 layers: TPMI=1 73          4 layers: TPMI=1

  ...         ...              ...         ...              ...         ...

  95          4 layers:        95          4 layers:        95          4 layers:
              TPMI=23                      TPMI=23                      TPMI=23

  96-127      reserved         96          5 layers: TPMI=0 96          5 layers: TPMI=0

                               97          5 layers: TPMI=1 97          5 layers: TPMI=1

                               ...         ...              ...         ...

                               103         5 layers: TPMI=7 103         5 layers: TPMI=7

                               104-127     reserved         104         6 layers: TPMI=0

                                                            105         6 layers: TPMI=1

                                                            ...         ...

                                                            111         6 layers: TPMI=7

                                                            112-127     reserved
  --------------------------------------------------------------------------------------

Table 7.3.1.1.2-5E: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled or *maxRank*=1 or 2 or 3
if transform precoder is disabled, *CodebookTypeUL=Codebook1,
ULcodebookFC-N1N2 = (4,1) or (2,2)*

  -------------------------------------------------------------------------
  Bit      transform precoder Bit      transform     Bit      transform
  field    is enabled, or     field    precoder is   field    precoder is
  mapped   *maxRank*=1 if     mapped   disabled, and mapped   disabled, and
  to index transform precoder to index *maxRank*=2   to index *maxRank=3*
           is disabled                                        
  -------- ------------------ -------- ------------- -------- -------------
  0        1 layer: TPMI=0    0        1 layer:      0        1 layer:
                                       TPMI=0                 TPMI=0

  1        1 layer: TPMI=1    1        1 layer:      1        1 layer:
                                       TPMI=1                 TPMI=1

  ...      ...                ...      ...           ...      ...

  15       1 layer: TPMI=15   15       1 layer:      15       1 layer:
                                       TPMI=15                TPMI=15

                              16       2 layer2:     16       2 layer2:
                                       TPMI=0                 TPMI=0

                              17       2 layer2:     17       2 layer2:
                                       TPMI=1                 TPMI=1

                              ...      ...           ...      ...

                              47       2 layers:     47       2 layers:
                                       TPMI=31                TPMI=31

                              48-63    reserved      48       3 layers:
                                                              TPMI=0

                                                     49       3 layers:
                                                              TPMI=1

                                                     ...      ...

                                                     71       3 layers:
                                                              TPMI=23

                                                     72-127   reserved
  -------------------------------------------------------------------------

Table 7.3.1.1.2-5F: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 5, 6, 7
or 8, and *CodebookTypeUL=Codebook4*

  ----------------------------------------------------------------------------------------------
  Bit field *maxRank-n8 = Bit field *maxRank-n8 = Bit field *maxRank-n8 = Bit      *maxRank-n8 =
  mapped to 5*            mapped to 6*            mapped to 7*            field    8*
  index                   index                   index                   mapped   
                                                                          to index 
  --------- ------------- --------- ------------- --------- ------------- -------- -------------
  0         1 layer:      0         1 layer:      0         1 layer:      0        1 layer:
            TPMI=0                  TPMI=0                  TPMI=0                 TPMI=0

  ...       ...           ...       ...           ...       ...           ...      ...

  7         1 layer:      7         1 layer:      7         1 layer:      7        1 layer:
            TPMI=7                  TPMI=7                  TPMI=7                 TPMI=7

  8         2 layers:     8         2 layers:     8         2 layers:     8        2 layers:
            TPMI=8                  TPMI=8                  TPMI=8                 TPMI=8

  ...       ...           ...       ...           ...       ...           ...      ...

  35        2 layers:     35        2 layers:     35        2 layers:     35       2 layers:
            TPMI=35                 TPMI=35                 TPMI=35                TPMI=35

  36        3 layers:     36        3 layers:     36        3 layers:     36       3 layers:
            TPMI=36                 TPMI=36                 TPMI=36                TPMI=36

  ...       ...           ...       ...           ...       ...           ...      ...

  91        3 layers:     91        3 layers:     91        3 layers:     91       3 layers:
            TPMI=91                 TPMI=91                 TPMI=91                TPMI=91

  92        4 layers:     92        4 layers:     92        4 layers:     92       4 layers:
            TPMI=92                 TPMI=92                 TPMI=92                TPMI=92

  ...       ...           ...       ...           ...       ...           ...      ...

  161       4 layers:     161       4 layers:     161       4 layers:     161      4 layers:
            TPMI=161                TPMI=161                TPMI=161               TPMI=161

  162       5 layers:     162       5 layers:     162       5 layers:     162      5 layers:
            TPMI=162                TPMI=162                TPMI=162               TPMI=162

  ...       ...           ...       ...           ...       ...           ...      ...

  217       5 layers:     217       5 layers:     217       5 layers:     217      5 layers:
            TPMI=217                TPMI=217                TPMI=217               TPMI=217

  218-255   reserved      218       6 layers:     218       6 layers:     218      6 layers:
                                    TPMI=218                TPMI=218               TPMI=218

                          ...       ...           ...       ...           ...      ...

                          245       6 layers:     245       6 layers:     245      6 layers:
                                    TPMI=245                TPMI=245               TPMI=245

                          246-255   reserved      246       7 layers:     246      7 layers:
                                                            TPMI=246               TPMI=246

                                                  ...       ...           ...      ...

                                                  253       7 layers:     253      7 layers:
                                                            TPMI=253               TPMI=253

                                                  254-255   reserved      254      8 layers:
                                                                                   TPMI=254

                                                                          255      reserved
  ----------------------------------------------------------------------------------------------

Table 7.3.1.1.2-5G: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank* = 2, 3 or 4,
*CodebookTypeUL=Codebook4,* and *ul-FullPowerTransmission* is not
configured or configured to *fullpowerMode2* or configured to
*fullpower*

  -----------------------------------------------------------------------
  Bit field   *maxRank =  Bit field   *maxRank =  Bit field   *maxRank =
  mapped to   2*          mapped to   3*          mapped to   4*
  index                   index                   index       
  ----------- ----------- ----------- ----------- ----------- -----------
  0           1 layer:    0           1 layer:    0           1 layer:
              TPMI=0                  TPMI=0                  TPMI=0

  ...         ...         ...         ...         ...         ...

  7           1 layer:    7           1 layer:    7           1 layer:
              TPMI=7                  TPMI=7                  TPMI=7

  8           2 layers:   8           2 layers:   8           2 layers:
              TPMI=8                  TPMI=8                  TPMI=8

  ...         ...         ...         ...         ...         ...

  35          2 layers:   35          2 layers:   35          2 layers:
              TPMI=35                 TPMI=35                 TPMI=35

  36-63       reserved    36          3 layers:   36          3 layers:
                                      TPMI=36                 TPMI=36

                          ...         ...         ...         ...

                          91          3 layers:   91          3 layers:
                                      TPMI=91                 TPMI=91

                          92-127      reserved    92          4 layers:
                                                              TPMI=92

                                                  ...         ...

                                                  161         4 layers:
                                                              TPMI=161

                                                  162-255     reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-5H: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled or *maxRank*=1 if
transform is disabled, *CodebookTypeUL=Codebook4,* and
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  -----------------------------------------------------------------------
  Bit field mapped to index  Precoding information and number of layers
  -------------------------- --------------------------------------------
  0                          1 layer: TPMI=0

  ...                        ...

  7                          1 layer: TPMI=7
  -----------------------------------------------------------------------

Table 7.3.1.1.2-5I: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 5, 6, 7
or 8, and *CodebookTypeUL=Codebook2*

  ---------------------------------------------------------------------------------------------------
  Bit field  *maxRank-n8 = Bit field  *maxRank-n8 = Bit field  *maxRank-n8 = Bit field  *maxRank-n8 =
  mapped to  5*            mapped to  6*            mapped to  7*            mapped to  8*
  index                    index                    index                    index      
  ---------- ------------- ---------- ------------- ---------- ------------- ---------- -------------
  0          1 layer:      0          1 layer:      0          1 layer:      0          1 layer:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  31         1 layer:      31         1 layer:      31         1 layer:      31         1 layer:
             TPMI=31                  TPMI=31                  TPMI=31                  TPMI=31

  32         2 layers:     32         2 layers:     32         2 layers:     32         2 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  303        2 layers:     303        2 layers:     303        2 layers:     303        2 layers:
             TPMI=271                 TPMI=271                 TPMI=271                 TPMI=271

  304        3 layers:     304        3 layers:     304        3 layers:     304        3 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  567        3 layers:     567        3 layers:     567        3 layers:     567        3 layers:
             TPMI=263                 TPMI=263                 TPMI=263                 TPMI=263

  568        4 layers:     568        4 layers:     568        4 layers:     568        4 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  635        4 layers:     635        4 layers:     635        4 layers:     635        4 layers:
             TPMI=67                  TPMI=67                  TPMI=67                  TPMI=67

  636        5 layers:     636        5 layers:     636        5 layers:     636        5 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  667        5 layers:     667        5 layers:     667        5 layers:     667        5 layers:
             TPMI=31                  TPMI=31                  TPMI=31                  TPMI=31

  698-1023   reserved      668        6 layers:     668        6 layers:     668        6 layers:
                                      TPMI=0                   TPMI=0                   TPMI=0

                           ...        ...           ...        ...           ...        ...

                           683        6 layers:     683        6 layers:     683        6 layers:
                                      TPMI=15                  TPMI=15                  TPMI=15

                           684-1023   reserved      684        7 layers:     684        7 layers:
                                                               TPMI=0                   TPMI=0

                                                    ...        ...           ...        ...

                                                    691        7 layers:     691        7 layers:
                                                               TPMI=7                   TPMI=7

                                                    692-1023   reserved      692        8 layers:
                                                                                        TPMI=0

                                                                             ...        ...

                                                                             695        8 layers:
                                                                                        TPMI=3

                                                                             696-1023   reserved
  ---------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-5J: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled, or *maxRank* = 1, 2, 3
or 4 if transform precoder is disabled, *CodebookTypeUL=Codebook2,* and
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  ----------------------------------------------------------------------------------------
  Bit      Transform   Bit field transform   Bit field  transform   Bit field  transform
  field    precoder is mapped to precoder is mapped to  precoder is mapped to  precoder is
  mapped   enabled, or index     disabled    index      disabled    index      disabled
  to index *maxRank* =           *and                   *and                   *and
           1 if                  maxRank =              maxRank =              maxRank =
           transform             2*                     3*                     4*
           precoder is                                                         
           disabled                                                            
  -------- ----------- --------- ----------- ---------- ----------- ---------- -----------
  0        1 layer:    0         1 layer:    0          1 layer:    0          1 layer:
           TPMI=0                TPMI=0                 TPMI=0                 TPMI=0

  ...      ...         ...       ...         ...        ...         ...        ...

  31       1 layer:    31        1 layer:    31         1 layer:    31         1 layer:
           TPMI=31               TPMI=31                TPMI=31                TPMI=31

                       32        2 layers:   32         2 layers:   32         2 layers:
                                 TPMI=0                 TPMI=0                 TPMI=0

                       ...       ...         ...        ...         ...        ...

                       303       2 layers:   303        2 layers:   303        2 layers:
                                 TPMI=271               TPMI=271               TPMI=271

                       303-511   reserved    304        3 layers:   304        3 layers:
                                                        TPMI=0                 TPMI=0

                                             ...        ...         ...        ...

                                             567        3 layers:   567        3 layers:
                                                        TPMI=263               TPMI=263

                                             568-1023   reserved    568        4 layers:
                                                                               TPMI=0

                                                                    ...        ...

                                                                    635        4 layers:
                                                                               TPMI=67

                                                                    636-1023   reserved
  ----------------------------------------------------------------------------------------

Table 7.3.1.1.2-5K: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 5, 6, 7
or 8, and *CodebookTypeUL=Codebook3*

  ---------------------------------------------------------------------------------------------------
  Bit field  *maxRank-n8 = Bit field  *maxRank-n8 = Bit field  *maxRank-n8 = Bit field  *maxRank-n8 =
  mapped to  5*            mapped to  6*            mapped to  7*            mapped to  8*
  index                    index                    index                    index      
  ---------- ------------- ---------- ------------- ---------- ------------- ---------- -------------
  0          1 layer:      0          1 layer:      0          1 layer:      0          1 layer:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  15         1 layer:      15         1 layer:      15         1 layer:      15         1 layer:
             TPMI=15                  TPMI=15                  TPMI=15                  TPMI=15

  16         2 layers:     16         2 layers:     16         2 layers:     16         2 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  119        2 layers:     119        2 layers:     119        2 layers:     119        2 layers:
             TPMI=103                 TPMI=103                 TPMI=103                 TPMI=103

  120        3 layers:     120        3 layers:     120        3 layers:     120        3 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  423        3 layers:     423        3 layers:     423        3 layers:     423        3 layers:
             TPMI=303                 TPMI=303                 TPMI=303                 TPMI=303

  424        4 layers:     424        4 layers:     424        4 layers:     424        4 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  703        4 layers:     703        4 layers:     703        4 layers:     703        4 layers:
             TPMI=279                 TPMI=279                 TPMI=279                 TPMI=279

  704        5 layers:     704        5 layers:     704        5 layers:     704        5 layers:
             TPMI=0                   TPMI=0                   TPMI=0                   TPMI=0

  ...        ...           ...        ...           ...        ...           ...        ...

  863        5 layers:     863        5 layers:     863        5 layers:     863        5 layers:
             TPMI=159                 TPMI=159                 TPMI=159                 TPMI=159

  864-1023   reserved      864        6 layers:     864        6 layers:     864        6 layers:
                                      TPMI=0                   TPMI=0                   TPMI=0

                           ...        ...           ...        ...           ...        ...

                           943        6 layers:     943        6 layers:     943        6 layers:
                                      TPMI=79                  TPMI=79                  TPMI=79

                           944-1023   reserved      944        7 layers:     944        7 layers:
                                                               TPMI=0                   TPMI=0

                                                    ...        ...           ...        ...

                                                    975        7 layers:     975        7 layers:
                                                               TPMI=31                  TPMI=31

                                                    976-1023   reserved      976        8 layers:
                                                                                        TPMI=0

                                                                             ...        ...

                                                                             991        8 layers:
                                                                                        TPMI=15

                                                                             992-1023   reserved
  ---------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-5L: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled, or *maxRank* = 1, 2, 3
or 4 if transform precoder is disabled, *CodebookTypeUL=Codebook3,* and
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*

  ---------------------------------------------------------------------------------------
  Bit      Transform   Bit field transform   Bit field transform   Bit field  transform
  field    precoder is mapped to precoder is mapped to precoder is mapped to  precoder is
  mapped   enabled, or index     disabled    index     disabled    index      disabled
  to index *maxRank* =           *and                  *and                   *and
           1 if                  maxRank =             maxRank =              maxRank =
           transform             2*                    3*                     4*
           precoder is                                                        
           disabled                                                           
  -------- ----------- --------- ----------- --------- ----------- ---------- -----------
  0        1 layer:    0         1 layer:    0         1 layer:    0          1 layer:
           TPMI=0                TPMI=0                TPMI=0                 TPMI=0

  ...      ...         ...       ...         ...       ...         ...        ...

  15       1 layer:    15        1 layer:    15        1 layer:    15         1 layer:
           TPMI=15               TPMI=15               TPMI=15                TPMI=15

                       16        2 layers:   16        2 layers:   16         2 layers:
                                 TPMI=0                TPMI=0                 TPMI=0

                       ...       ...         ...       ...         ...        ...

                       119       2 layers:   119       2 layers:   119        2 layers:
                                 TPMI=103              TPMI=103               TPMI=103

                       119-127   reserved    120       3 layers:   120        3 layers:
                                                       TPMI=0                 TPMI=0

                                             ...       ...         ...        ...

                                             423       3 layers:   423        3 layers:
                                                       TPMI=303               TPMI=303

                                             424-511   reserved    424        4 layers:
                                                                              TPMI=0

                                                                   ...        ...

                                                                   703        4 layers:
                                                                              TPMI=279

                                                                   704-1024   reserved
  ---------------------------------------------------------------------------------------

Table 7.3.1.1.2-5M: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank* = 2, 3 or 4,
*CodebookTypeUL=Codebook4,* and *ul-FullPowerTransmission* configured to
*fullpowerMode1*

  --------------------------------------------------------------------------
  **Bit field ***maxRank = **Bit field ***maxRank = **Bit field ***maxRank =
  mapped to   2***         mapped to   3***         mapped to   4***
  index**                  index**                  index**     
  ----------- ------------ ----------- ------------ ----------- ------------
  0           1 layer:     0           1 layer:     0           1 layer:
              TPMI=0                   TPMI=0                   TPMI=0

  ...         ...          ...         ...          ...         ...

  7           1 layer:     7           1 layer:     7           1 layer:
              TPMI=7                   TPMI=7                   TPMI=7

  8           2 layers:    8           2 layers:    8           2 layers:
              TPMI=8                   TPMI=8                   TPMI=8

  ...         ...          ...         ...          ...         ...

  35          2 layers:    35          2 layers:    35          2 layers:
              TPMI=35                  TPMI=35                  TPMI=35

  36          1 layer:     36          3 layers:    36          3 layers:
              TPMI=255                 TPMI=36                  TPMI=36

  37          2 layers:    ...         ...          ...         ...
              TPMI=256                                          

  38-63       reserved     91          3 layers:    91          3 layers:
                                       TPMI=91                  TPMI=91

                           92          1 layer:     92          4 layers:
                                       TPMI=255                 TPMI=92

                           93          2 layers:    ...         ...
                                       TPMI=256                 

                           94          3 layers:    161         4 layers:
                                       TPMI=257                 TPMI=161

                           95-127      reserved     162         1 layer:
                                                                TPMI=255

                                                    163         2 layers:
                                                                TPMI=256

                                                    164         3 layers:
                                                                TPMI=257

                                                    165         4 layers:
                                                                258

                                                    166-255     reserved
  --------------------------------------------------------------------------

Table 7.3.1.1.2-5N: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled or *maxRank*=1 if
transform is disabled, *CodebookTypeUL=Codebook4,* and
*ul-FullPowerTransmission* configured to *fullpowerMode1*

  -----------------------------------------------------------------------
  Bit field mapped to   Precoding information and number of layers
  index                 
  --------------------- -------------------------------------------------
  0                     1 layer: TPMI=0

  ...                   ...

  7                     1 layer: TPMI=7

  8                     1 layer: TPMI=255

  9-15                  reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-5O: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled, or *maxRank* = 1, 2, 3
or 4 if transform precoder is disabled, *CodebookTypeUL=Codebook2,* and
*ul-FullPowerTransmission* configured to *fullpowerMode1*

  -------------------------------------------------------------------------------------------------
  **Bit     **Transform   **Bit     **Transform   **Bit      **Transform   **Bit      **Transform
  field     precoder is   field     precoder is   field      precoder is   field      precoder is
  mapped to enabled, or   mapped to disabled *and mapped to  disabled *and mapped to  disabled *and
  index**   maxRank = 1   index**   maxRank =     index**    maxRank =     index**    maxRank =
            if transform            2***                     3***                     4***
            precoder is                                                               
            disabled**                                                                
  --------- ------------- --------- ------------- ---------- ------------- ---------- -------------
  0         1 layer:      0         1 layer:      0          1 layer:      0          1 layer:
            TPMI=0                  TPMI=0                   TPMI=0                   TPMI=0

  ...       ...           ...       ...           ...        ...           ...        ...

  31        1 layer:      31        1 layer:      31         1 layer:      31         1 layer:
            TPMI=31                 TPMI=31                  TPMI=31                  TPMI=31

  32        1 layer:      32        2 layers:     32         2 layers:     32         2 layers:
            TPMI=32                 TPMI=0                   TPMI=0                   TPMI=0

  33-63     reserved      ...       ...           ...        ...           ...        ...

                          303       2 layers:     303        2 layers:     303        2 layers:
                                    TPMI=271                 TPMI=271                 TPMI=271

                          304       1 layer:      304        3 layers:     304        3 layers:
                                    TPMI=32                  TPMI=0                   TPMI=0

                          305-511   reserved      ...        ...           ...        ...

                                                  567        3 layers:     567        3 layers:
                                                             TPMI=263                 TPMI=263

                                                  568        1 layer:      568        4 layers:
                                                             TPMI=32                  TPMI=0

                                                  569-1023   reserved      ...        ...

                                                                           635        4 layers:
                                                                                      TPMI=67

                                                                           636        1 layer:
                                                                                      TPMI=32

                                                                           637-1023   reserved
  -------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-5P: Precoding information and number of layers, for 8
antenna ports, if transform precoder is enabled, or *maxRank* = 1, 2, 3
or 4 if transform precoder is disabled, *CodebookTypeUL=Codebook3,* and
*ul-FullPowerTransmission* is configured to *fullpowerMode1*

  ------------------------------------------------------------------------------------------------
  **Bit     **Transform   **Bit     **transform   **Bit     **transform   **Bit      **transform
  field     precoder is   field     precoder is   field     precoder is   field      precoder is
  mapped to enabled, or   mapped to disabled *and mapped to disabled *and mapped to  disabled *and
  index**   *maxRank* = 1 index**   maxRank =     index**   maxRank =     index**    maxRank =
            if transform            2***                    3***                     4***
            precoder is                                                              
            disabled**                                                               
  --------- ------------- --------- ------------- --------- ------------- ---------- -------------
  0         1 layer:      0         1 layer:      0         1 layer:      0          1 layer:
            TPMI=0                  TPMI=0                  TPMI=0                   TPMI=0

  ...       ...           ...       ...           ...       ...           ...        ...

  15        1 layer:      15        1 layer:      15        1 layer:      15         1 layer:
            TPMI=15                 TPMI=15                 TPMI=15                  TPMI=15

  16        1 layer:      16        2 layers:     16        2 layers:     16         2 layers:
            TPMI=16                 TPMI=0                  TPMI=0                   TPMI=0

  17-31     reserved      ...       ...           ...       ...           ...        ...

                          119       2 layers:     119       2 layers:     119        2 layers:
                                    TPMI=103                TPMI=103                 TPMI=103

                          120       1 layer:      120       3 layers:     120        3 layers:
                                    TPMI=16                 TPMI=0                   TPMI=0

                          121       2 layers:     ...       ...           ...        ...
                                    TPMI=104                                         

                          122-127   reserved      423       3 layers:     423        3 layers:
                                                            TPMI=303                 TPMI=303

                                                  424       1 layer:      424        4 layers:
                                                            TPMI=16                  TPMI=0

                                                  425       2 layers:     ...        ...
                                                            TPMI=104                 

                                                  426       3 layers: 304 703        4 layers:
                                                                                     TPMI=279

                                                  427-511   reserved      704        1 layer:
                                                                                     TPMI=16

                                                                          705        2 layers:
                                                                                     TPMI=104

                                                                          706        3 layers:
                                                                                     TPMI=304

                                                                          707-1023   reserved
  ------------------------------------------------------------------------------------------------

**Table 7.3.1.1.2-5Q: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 5, 6,
7, 8, *CodebookTypeUL=Codebook4,* and *ul-FullPowerTransmission* is
configured to *fullpowerMode1***

  -------------------------------------------------------------------------------------------------------
  **Bit     ***maxRank-n8 = **Bit     ***maxRank-n8 = **Bit     ***maxRank-n8 = **Bit     ***maxRank-n8 =
  field     5***            field     6***            field     7***            field     8***
  mapped to                 mapped to                 mapped to                 mapped to 
  index**                   index**                   index**                   index**   
  --------- --------------- --------- --------------- --------- --------------- --------- ---------------
  0         1 layer: TPMI=0 0         1 layer: TPMI=0 0         1 layer: TPMI=0 0         1 layer: TPMI=0

  ...       ...             ...       ...             ...       ...             ...       ...

  7         1 layer: TPMI=7 7         1 layer: TPMI=7 7         1 layer: TPMI=7 7         1 layer: TPMI=7

  8         2 layers:       8         2 layers:       8         2 layers:       8         2 layers:
            TPMI=8                    TPMI=8                    TPMI=8                    TPMI=8

  ...       ...             ...       ...             ...       ...             ...       ...

  35        2 layers:       35        2 layers:       35        2 layers:       35        2 layers:
            TPMI=35                   TPMI=35                   TPMI=35                   TPMI=35

  36        3 layers:       36        3 layers:       36        3 layers:       36        3 layers:
            TPMI=36                   TPMI=36                   TPMI=36                   TPMI=36

  ...       ...             ...       ...             ...       ...             ...       ...

  91        3 layers:       91        3 layers:       91        3 layers:       91        3 layers:
            TPMI=91                   TPMI=91                   TPMI=91                   TPMI=91

  92        4 layers:       92        4 layers:       92        4 layers:       92        4 layers:
            TPMI=92                   TPMI=92                   TPMI=92                   TPMI=92

  ...       ...             ...       ...             ...       ...             ...       ...

  161       4 layers:       161       4 layers:       161       4 layers:       161       4 layers:
            TPMI=161                  TPMI=161                  TPMI=161                  TPMI=161

  162       5 layers:       162       5 layers:       162       5 layers:       162       5 layers:
            TPMI=162                  TPMI=162                  TPMI=162                  TPMI=162

  ...       ...             ...       ...             ...       ...             ...       ...

  217       5 layers:       217       5 layers:       217       5 layers:       217       5 layers:
            TPMI=217                  TPMI=217                  TPMI=217                  TPMI=217

  218       1 layer:        218       6 layers:       218       6 layers:       218       6 layers:
            TPMI=255                  TPMI=218                  TPMI=218                  TPMI=218

  219       2 layers:       ...       ...             ...       ...             ...       ...
            TPMI=256                                                                      

  220       3 layers:       245       6 layers:       245       6 layers:       245       6 layers:
            TPMI=257                  TPMI=245                  TPMI=245                  TPMI=245

  221       4 layers:       246       1 layer:        246       7 layers:       246       7 layers:
            TPMI=258                  TPMI=255                  TPMI=246                  TPMI=246

  222-255   reserved        247       2 layers:       ...       ...             ...       ...
                                      TPMI=256                                            

                            248       3 layers:       253       7 layers:       253       7 layers:
                                      TPMI=257                  TPMI=253                  TPMI=253

                            249       4 layers:       254       1 layer:        254       8 layers:
                                      TPMI=258                  TPMI=255                  TPMI=254

                            250-255   reserved        255       2 layers:       255       1 layer:
                                                                TPMI=256                  TPMI=255

                                                      256       3 layers:       256       2 layers:
                                                                TPMI=257                  TPMI=256

                                                      257       4 layers:       257       3 layers:
                                                                TPMI=258                  TPMI=257

                                                      258-511   reserved        258       4 layers:
                                                                                          TPMI=258

                                                                                259-511   reserved
  -------------------------------------------------------------------------------------------------------

**Table 7.3.1.1.2-5R: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 5, 6,
7, 8, *CodebookTypeUL=Codebook2,* and *ul-FullPowerTransmission* is
configured to *fullpowerMode1***

  -----------------------------------------------------------------------------------------------------------
  **Bit      ***maxRank-n8 = **Bit      ***maxRank-n8 = **Bit      ***maxRank-n8 = **Bit      ***maxRank-n8 =
  field      5***            field      6***            field      7***            field      8***
  mapped to                  mapped to                  mapped to                  mapped to  
  index**                    index**                    index**                    index**    
  ---------- --------------- ---------- --------------- ---------- --------------- ---------- ---------------
  0          1 layer: TPMI=0 0          1 layer: TPMI=0 0          1 layer: TPMI=0 0          1 layer: TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  31         1 layer:        31         1 layer:        31         1 layer:        31         1 layer:
             TPMI=31                    TPMI=31                    TPMI=31                    TPMI=31

  32         2 layers:       32         2 layers:       32         2 layers:       32         2 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  303        2 layers:       303        2 layers:       303        2 layers:       303        2 layers:
             TPMI=271                   TPMI=271                   TPMI=271                   TPMI=271

  304        3 layers:       304        3 layers:       304        3 layers:       304        3 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  567        3 layers:       567        3 layers:       567        3 layers:       567        3 layers:
             TPMI=263                   TPMI=263                   TPMI=263                   TPMI=263

  568        4 layers:       568        4 layers:       568        4 layers:       568        4 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  635        4 layers:       635        4 layers:       635        4 layers:       635        4 layers:
             TPMI=67                    TPMI=67                    TPMI=67                    TPMI=67

  636        5 layers:       636        5 layers:       636        5 layers:       636        5 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  667        5 layers:       667        5 layers:       667        5 layers:       667        5 layers:
             TPMI=31                    TPMI=31                    TPMI=31                    TPMI=31

  668        1 layer:        668        6 layers:       668        6 layers:       668        6 layers:
             TPMI=32                    TPMI=0                     TPMI=0                     TPMI=0

  669-1023   reserved        ...        ...             ...        ...             ...        ...

                             683        6 layers:       683        6 layers:       683        6 layers:
                                        TPMI=15                    TPMI=15                    TPMI=15

                             684        1 layer:        684        7 layers:       684        7 layers:
                                        TPMI=32                    TPMI=0                     TPMI=0

                             685-1023   reserved        ...        ...             ...        ...

                                                        691        7 layers:       691        7 layers:
                                                                   TPMI=7                     TPMI=7

                                                        692        1 layer:        692        8 layers:
                                                                   TPMI=32                    TPMI=0

                                                        693-1023   reserved        ...        ...

                                                                                   695        8 layers:
                                                                                              TPMI=3

                                                                                   696        1 layer:
                                                                                              TPMI=32

                                                                                   697-1023   reserved
  -----------------------------------------------------------------------------------------------------------

**Table 7.3.1.1.2-5S: Precoding information and number of layers, for 8
antenna ports, if transform precoder is disabled, *maxRank-n8* = 5, 6,
7, 8, *CodebookTypeUL=Codebook3,* and *ul-FullPowerTransmission* is
configured to *fullpowerMode1***

  -----------------------------------------------------------------------------------------------------------
  **Bit      ***maxRank-n8 = **Bit      ***maxRank-n8 = **Bit      ***maxRank-n8 = **Bit      ***maxRank-n8 =
  field      5***            field      6***            field      7***            field      8***
  mapped to                  mapped to                  mapped to                  mapped to  
  index**                    index**                    index**                    index**    
  ---------- --------------- ---------- --------------- ---------- --------------- ---------- ---------------
  0          1 layer: TPMI=0 0          1 layer: TPMI=0 0          1 layer: TPMI=0 0          1 layer: TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  15         1 layer:        15         1 layer:        15         1 layer:        15         1 layer:
             TPMI=15                    TPMI=15                    TPMI=15                    TPMI=15

  16         2 layers:       16         2 layers:       16         2 layers:       16         2 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  119        2 layers:       119        2 layers:       119        2 layers:       119        2 layers:
             TPMI=103                   TPMI=103                   TPMI=103                   TPMI=103

  120        3 layers:       120        3 layers:       120        3 layers:       120        3 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  423        3 layers:       423        3 layers:       423        3 layers:       423        3 layers:
             TPMI=303                   TPMI=303                   TPMI=303                   TPMI=303

  424        4 layers:       424        4 layers:       424        4 layers:       424        4 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  703        4 layers:       703        4 layers:       703        4 layers:       703        4 layers:
             TPMI=279                   TPMI=279                   TPMI=279                   TPMI=279

  704        5 layers:       704        5 layers:       704        5 layers:       704        5 layers:
             TPMI=0                     TPMI=0                     TPMI=0                     TPMI=0

  ...        ...             ...        ...             ...        ...             ...        ...

  863        5 layers:       863        5 layers:       863        5 layers:       863        5 layers:
             TPMI=159                   TPMI=159                   TPMI=159                   TPMI=159

  864        1 layer:        864        6 layers:       864        6 layers:       864        6 layers:
             TPMI=16                    TPMI=0                     TPMI=0                     TPMI=0

  865        2 layers:       ...        ...             ...        ...             ...        ...
             TPMI=104                                                                         

  866        3 layers:       943        6 layers:       943        6 layers:       943        6 layers:
             TPMI=304                   TPMI=79                    TPMI=79                    TPMI=79

  867-1023   reserved        944        1 layer:        944        7 layers:       944        7 layers:
                                        TPMI=16                    TPMI=0                     TPMI=0

                             945        2 layers:       ...        ...             ...        ...
                                        TPMI=104                                              

                             946        3 layers:       975        7 layers:       975        7 layers:
                                        TPMI=304                   TPMI=31                    TPMI=31

                             944-1023   reserved        976        1 layer:        976        8 layers:
                                                                   TPMI=16                    TPMI=0

                                                        977        2 layers:       ...        ...
                                                                   TPMI=104                   

                                                        978        3 layers:       991        8 layers:
                                                                   TPMI=304                   TPMI=15

                                                        979-1023   reserved        992        1 layer:
                                                                                              TPMI=16

                                                                                   993        2 layers:
                                                                                              TPMI=104

                                                                                   994        3 layers:
                                                                                              TPMI=304

                                                                                   995-1023   reserved
  -----------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-6: Antenna port(s), transform precoder is enabled,
*dmrs-Type*=1, *maxLength*=1,\
except that *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured and\
π/2-BPSK modulation is used

  ------------------------------------------------------------------------
  Value    Number of DMRS CDM group(s) without data       DMRS port(s)
  -------- ---------------------------------------------- ----------------
  0        2                                              0

  1        2                                              1

  2        2                                              2

  3        2                                              3
  ------------------------------------------------------------------------

Table 7.3.1.1.2-6A: Antenna port(s), transform precoder is enabled,
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured,
π/2-BPSK modulation is used, *dmrs-Type*=1, *maxLength*=1

  ------------------------------------------------------------------------
  Value    Number of DMRS CDM group(s) without data       DMRS port(s)
  -------- ---------------------------------------------- ----------------
  0        2                                              0, n~SCID~= 0

  1        2                                              0, n~SCID~= 1

  2        2                                              2, n~SCID~= 0

  3        2                                              2, n~SCID~= 1
  ------------------------------------------------------------------------

Table 7.3.1.1.2-7: Antenna port(s), transform precoder is enabled,
*dmrs-Type*=1, *maxLength*=2,\
except that *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured and\
π/2-BPSK modulation is used

  --------------------------------------------------------------------------
  Value   Number of DMRS CDM group(s)      DMRS        Number of front-load
          without data                     port(s)     symbols
  ------- -------------------------------- ----------- ---------------------
  0       2                                0           1

  1       2                                1           1

  2       2                                2           1

  3       2                                3           1

  4       2                                0           2

  5       2                                1           2

  6       2                                2           2

  7       2                                3           2

  8       2                                4           2

  9       2                                5           2

  10      2                                6           2

  11      2                                7           2

  12-15   Reserved                         Reserved    Reserved
  --------------------------------------------------------------------------

Table 7.3.1.1.2-7A: Antenna port(s), transform precoder is enabled,
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured,
π/2-BPSK modulation is used, *dmrs-Type=1, maxLength=2*

  --------------------------------------------------------------------------
  Value   Number of DMRS CDM group(s)      DMRS        Number of front-load
          without data                     port(s)     symbols
  ------- -------------------------------- ----------- ---------------------
  0       2                                0, n~SCID~= 1
                                           0           

  1       2                                0, n~SCID~= 1
                                           1           

  2       2                                2, n~SCID~= 1
                                           0           

  3       2                                2, n~SCID~= 1
                                           1           

  4       2                                0, n~SCID~= 2
                                           0           

  5       2                                0, n~SCID~= 2
                                           1           

  6       2                                2, n~SCID~= 2
                                           0           

  7       2                                2, n~SCID~= 2
                                           1           

  8       2                                4, n~SCID~= 2
                                           0           

  9       2                                4, n~SCID~= 2
                                           1           

  10      2                                6, n~SCID~= 2
                                           0           

  11      2                                6, n~SCID~= 2
                                           1           

  12-15   Reserved                         Reserved    Reserved
  --------------------------------------------------------------------------

Table 7.3.1.1.2-8: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank = 1

  ------------------------------------------------------------------------
  Value        Number of DMRS CDM group(s) without data    DMRS port(s)
  ------------ ------------------------------------------- ---------------
  0            1                                           0

  1            1                                           1

  2            2                                           0

  3            2                                           1

  4            2                                           2

  5            2                                           3

  6-7          Reserved                                    Reserved
  ------------------------------------------------------------------------

Table 7.3.1.1.2-9: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank = 2

  ------------------------------------------------------------------------
  Value       Number of DMRS CDM group(s) without data  DMRS port(s)
  ----------- ----------------------------------------- ------------------
  0           1                                         0,1

  1           2                                         0,1

  2           2                                         2,3

  3           2                                         0,2

  4-7         Reserved                                  Reserved
  ------------------------------------------------------------------------

Table 7.3.1.1.2-10: Antenna port(s), transform precoder is disabled,
*multipanelScheme* is not\
configured to *sdmScheme*, *dmrs-Type*=1, *dmrs-TypeEnh* is not
configured,\
*maxLength*=1, rank = 3

  -----------------------------------------------------------------------
  Value       Number of DMRS CDM group(s) without data  DMRS port(s)
  ----------- ----------------------------------------- -----------------
  0           2                                         0-2

  1-7         Reserved                                  Reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-10A: Antenna port(s), transform precoder is disabled,
*multipanelScheme = sdmScheme*, *dmrs-Type*=1, *dmrs-TypeEnh* is not
configured, *maxLength*=1, rank = 3

  -----------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without     **DMRS port(s)**
              data**                                    
  ----------- ----------------------------------------- -----------------
  0           2                                         0-2

  1           2                                         0,2,3

  2-7         Reserved                                  Reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-11: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank = 4

  -----------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without     **DMRS port(s)**
              data**                                    
  ----------- ----------------------------------------- -----------------
  0           2                                         0-3

  1-7         Reserved                                  Reserved
  -----------------------------------------------------------------------

Table 7.3.1.1.2-12: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 1

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0           1

  1           1                                1           1

  2           2                                0           1

  3           2                                1           1

  4           2                                2           1

  5           2                                3           1

  6           2                                0           2

  7           2                                1           2

  8           2                                2           2

  9           2                                3           2

  10          2                                4           2

  11          2                                5           2

  12          2                                6           2

  13          2                                7           2

  14-15       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-13: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 2

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0,1         1

  1           2                                0,1         1

  2           2                                2,3         1

  3           2                                0,2         1

  4           2                                0,1         2

  5           2                                2,3         2

  6           2                                4,5         2

  7           2                                6,7         2

  8           2                                0,4         2

  9           2                                2,6         2

  10-15       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-14: Antenna port(s), transform precoder is disabled,
*multipanelScheme* is not to *sdmScheme*, *dmrs-Type*=1, *dmrs-TypeEnh*
is not configured, *maxLength*=2, rank = 3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           2                                0,1,4       2

  2           2                                2,3,6       2

  3-15        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

**Table 7.3.1.1.2-14A: Antenna port(s), transform precoder is disabled,
*multipanelScheme = sdmScheme*, *dmrs-Type*=1, *dmrs-TypeEnh* is not
configured, *maxLength*=2, rank = 3**

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           2                                0,1,4       2

  2           2                                2,3,6       2

  3           2                                0,2,3       1

  4-15        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-15: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 4

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-3         1

  1           2                                0,1,4,5     2

  2           2                                2,3,6,7     2

  3           2                                0,2,4,6     2

  4-15        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-15A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 5

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-4         2

  1-15        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-15B Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 6

  ---------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS        **Number of front-load
              without data**                   port(s)**     symbols**
  ----------- -------------------------------- ------------- ----------------------
  0           2                                0,1,2,3,4,6   2

  1-15        Reserved                         Reserved      Reserved
  ---------------------------------------------------------------------------------

Table 7.3.1.1.2-15C: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 7

  -----------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS          **Number of front-load
              without data**                   port(s)**       symbols**
  ----------- -------------------------------- --------------- ----------------------
  0           2                                0,1,2,3,4,5,6   2

  1-15        Reserved                         Reserved        Reserved
  -----------------------------------------------------------------------------------

Table 7.3.1.1.2-15D: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 8

  -------------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS port(s)**  **Number of front-load
              without data**                                     symbols**
  ----------- -------------------------------- ----------------- ----------------------
  0           2                                0,1,2,3,4,5,6,7   2

  1-15        Reserved                         Reserved          Reserved
  -------------------------------------------------------------------------------------

Table 7.3.1.1.2-16: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank=1

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           1                                              0

  1           1                                              1

  2           2                                              0

  3           2                                              1

  4           2                                              2

  5           2                                              3

  6           3                                              0

  7           3                                              1

  8           3                                              2

  9           3                                              3

  10          3                                              4

  11          3                                              5

  12-15       Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-17: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank=2

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           1                                              0,1

  1           2                                              0,1

  2           2                                              2,3

  3           3                                              0,1

  4           3                                              2,3

  5           3                                              4,5

  6           2                                              0,2

  7-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-18: Antenna port(s), transform precoder is disabled,
*multipanelScheme* is not\
configured to *sdmScheme*, *dmrs-Type*=2, *dmrs-TypeEnh* is not
configured,\
*maxLength*=1, rank =3

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-2

  1           3                                              0-2

  2           3                                              3-5

  3-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-18A: Antenna port(s), transform precoder is disabled,
*multipanelScheme = sdmScheme*, *dmrs-Type*=2, *dmrs-TypeEnh* is not
configured, *maxLength*=1, rank =3

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-2

  1           3                                              0-2

  2           3                                              3-5

  3           2                                              0,2,3

  4           3                                              0,2,3

  3-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-19: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank =4

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-3

  1           3                                              0-3

  2-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-19A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=1, rank = 5

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           3                                              0-4

  1-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-19B: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*enhanced-dmrs-Typedmrs-TypeEnh* is not configured, *maxLength*=1, rank
= 6

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           3                                              0-5

  1-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-20: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank=1

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0           1

  1           1                                1           1

  2           2                                0           1

  3           2                                1           1

  4           2                                2           1

  5           2                                3           1

  6           3                                0           1

  7           3                                1           1

  8           3                                2           1

  9           3                                3           1

  10          3                                4           1

  11          3                                5           1

  12          3                                0           2

  13          3                                1           2

  14          3                                2           2

  15          3                                3           2

  16          3                                4           2

  17          3                                5           2

  18          3                                6           2

  19          3                                7           2

  20          3                                8           2

  21          3                                9           2

  22          3                                10          2

  23          3                                11          2

  24          1                                0           2

  25          1                                1           2

  26          1                                6           2

  27          1                                7           2

  28-31       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-21: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank=2

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)  **DMRS      **Number of
              without data**                 port(s)**   front-load symbols**
  ----------- ------------------------------ ----------- --------------------
  0           1                              0,1         1

  1           2                              0,1         1

  2           2                              2,3         1

  3           3                              0,1         1

  4           3                              2,3         1

  5           3                              4,5         1

  6           2                              0,2         1

  7           3                              0,1         2

  8           3                              2,3         2

  9           3                              4,5         2

  10          3                              6,7         2

  11          3                              8,9         2

  12          3                              10,11       2

  13          1                              0,1         2

  14          1                              6,7         2

  15          2                              0,1         2

  16          2                              2,3         2

  17          2                              6,7         2

  18          2                              8,9         2

  19-31       Reserved                       Reserved    Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-22: Antenna port(s), transform precoder is disabled,
*multipanelScheme* is not\
configured to *sdmScheme, dmrs-Type*=2, *dmrs-TypeEnh* is not
configured,\
*maxLength*=2, rank=3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           3                                0-2         1

  2           3                                3-5         1

  3           3                                0,1,6       2

  4           3                                2,3,8       2

  5           3                                4,5,10      2

  6-31        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-22A: Antenna port(s), transform precoder is disabled,
*multipanelScheme = sdmScheme*, *dmrs-Type*=2, *dmrs-TypeEnh* is not
configured, *maxLength*=2, rank=3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           3                                0-2         1

  2           3                                3-5         1

  3           3                                0,1,6       2

  4           3                                2,3,8       2

  5           3                                4,5,10      2

  6           2                                0,2,3       1

  7           3                                0,2,3       1

  8-31        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-23: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank=4

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-3         1

  1           3                                0-3         1

  2           3                                0,1,6,7     2

  3           3                                2,3,8,9     2

  4           3                                4,5,10,11   2

  5-31        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-23A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 5

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           3                                0-4         1

  1           2                                0,1,2,3,6   2

  12-31       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-23B Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 6

  ---------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS        **Number of front-load
              without data**                   port(s)**     symbols**
  ----------- -------------------------------- ------------- ----------------------
  0           3                                0-5           1

  1           2                                0,1,2,3,6,8   2

  2-31        Reserved                         Reserved      Reserved
  ---------------------------------------------------------------------------------

Table 7.3.1.1.2-23C: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 7

  -----------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS          **Number of front-load
              without data**                   port(s)**       symbols**
  ----------- -------------------------------- --------------- ----------------------
  0           2                                0,1,2,3,6,7,8   2

  1-31        Reserved                         Reserved        Reserved
  -----------------------------------------------------------------------------------

Table 7.3.1.1.2-23D: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is not configured, *maxLength*=2, rank = 8

  -------------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS port(s)**  **Number of front-load
              without data**                                     symbols**
  ----------- -------------------------------- ----------------- ----------------------
  0           2                                0,1,2,3,6,7,8,9   2

  1-31        Reserved                         Reserved          Reserved
  -------------------------------------------------------------------------------------

Table 7.3.1.1.2-24: SRS request

+--------------+------------------------+------------------------------+
| Value of SRS | Triggered aperiodic    | Triggered aperiodic SRS      |
| request      | SRS resource set(s)    | resource set(s) for DCI      |
| field, or    | for DCI format 0_1,    | format 2_3 configured with   |
| value of     | 0_2, 0_3, 1_1, 1_2,    | higher layer parameter       |
| 'SRS         | 1_3, and 2_3           | *srs-TPC-PDCCH-Group* set to |
| request'     | configured with higher | \'typeA\'                    |
| index for    | layer parameter        |                              |
| each cell in | *srs-TPC-PDCCH-Group*  |                              |
| the          | set to \'typeB\'       |                              |
| scheduled    |                        |                              |
| cell set     |                        |                              |
| indicated by |                        |                              |
| SRS request  |                        |                              |
| field in DCI |                        |                              |
| 0_3 or 1_3   |                        |                              |
+==============+========================+==============================+
| 00           | No aperiodic SRS       | No aperiodic SRS resource    |
|              | resource set triggered | set triggered                |
+--------------+------------------------+------------------------------+
| 01           | SRS resource set(s)    | SRS resource set(s)          |
|              | configured by          | configured with higher layer |
|              | *SRS-ResourceSet* with | parameter *usage* in         |
|              | higher layer parameter | *SRS-ResourceSet* set to     |
|              | *aperiod               | \'*antennaSwitching*\' and   |
|              | icSRS-ResourceTrigger* | *resourceType* in            |
|              | set to 1 or an entry   | *SRS-ResourceSet* set to     |
|              | in                     | \'aperiodic\' for a 1^st^    |
|              | *aperiodicSR           | set of serving cells         |
|              | S-ResourceTriggerList* | configured by higher layers  |
|              | set to 1               |                              |
|              |                        |                              |
|              | SRS resource set(s)    |                              |
|              | configured by          |                              |
|              | *SRS-PosResourceSet*   |                              |
|              | with an entry in       |                              |
|              | *aperiodicSR           |                              |
|              | S-ResourceTriggerList* |                              |
|              | set to 1 when          |                              |
|              | triggered by DCI       |                              |
|              | formats 0_1, 0_2, 0_3, |                              |
|              | 1_1, 1_2 and 1_3       |                              |
+--------------+------------------------+------------------------------+
| 10           | SRS resource set(s)    | SRS resource set(s)          |
|              | configured by          | configured with higher layer |
|              | *SRS-ResourceSet* with | parameter *usage* in         |
|              | higher layer parameter | *SRS-ResourceSet* set to     |
|              | *aperiod               | \'*antennaSwitching*\' and   |
|              | icSRS-ResourceTrigger* | *resourceType* in            |
|              | set to 2 or an entry   | *SRS-ResourceSet* set to     |
|              | in                     | \'aperiodic\' for a 2^nd^    |
|              | *aperiodicSR           | set of serving cells         |
|              | S-ResourceTriggerList* | configured by higher layers  |
|              | set to 2               |                              |
|              |                        |                              |
|              | SRS resource set(s)    |                              |
|              | configured by          |                              |
|              | *SRS-PosResourceSet*   |                              |
|              | with an entry in       |                              |
|              | *aperiodicSR           |                              |
|              | S-ResourceTriggerList* |                              |
|              | set to 2 when          |                              |
|              | triggered by DCI       |                              |
|              | formats 0_1, 0_2, 0_3, |                              |
|              | 1_1, 1_2 and 1_3       |                              |
+--------------+------------------------+------------------------------+
| 11           | SRS resource set(s)    | SRS resource set(s)          |
|              | configured by          | configured with higher layer |
|              | *SRS-ResourceSet* with | parameter *usage* in         |
|              | higher layer parameter | *SRS-ResourceSet* set to     |
|              | *aperiod               | \'*antennaSwitching*\' and   |
|              | icSRS-ResourceTrigger* | *resourceType* in            |
|              | set to 3 or an entry   | *SRS-ResourceSet* set to     |
|              | in                     | \'aperiodic\' for a 3^rd^    |
|              | *aperiodicSR           | set of serving cells         |
|              | S-ResourceTriggerList* | configured by higher layers  |
|              | set to 3               |                              |
|              |                        |                              |
|              | SRS resource set(s)    |                              |
|              | configured by          |                              |
|              | *SRS-PosResourceSet*   |                              |
|              | with an entry in       |                              |
|              | *aperiodicSR           |                              |
|              | S-ResourceTriggerList* |                              |
|              | set to 3 when          |                              |
|              | triggered by DCI       |                              |
|              | formats 0_1, 0_2, 0_3, |                              |
|              | 1_1, 1_2 and 1_3       |                              |
+--------------+------------------------+------------------------------+

Table 7.3.1.1.2-25: PTRS-DMRS association or Second PTRS-DMRS
association for UL PTRS port 0

  -----------------------------------------------------------------------
  **Value**               **DMRS port**
  ----------------------- -----------------------------------------------
  0                       1^st^ scheduled DMRS port

  1                       2^nd^ scheduled DMRS port

  2                       3^rd^ scheduled DMRS port

  3                       4^th^ scheduled DMRS port
  -----------------------------------------------------------------------

Table 7.3.1.1.2-25A: PTRS-DMRS association for UL PTRS port 0 or for the
actual UL PT-RS port if *multipanelScheme* is not configured, or
PTRS-DMRS association for UL PTRS port 0 and 1 if multipanelScheme is
configured to *sdmScheme* and *maxNrofPortsforSDM* is set to 2

  ------------------------------------------------------------------------
  **Value   **DMRS port**              **Value   **DMRS port**
  of MSB**                             of LSB**  
  --------- ----------------------- -- --------- -------------------------
  0         1^st^ scheduled DMRS       0         1st scheduled DMRS port
            port corresponding to                corresponding to Second
            SRS resource indicator               SRS resource indicator
            field and/or Precoding               field and/or Second
            information and number               Precoding information
            of layers field                      field

  1         2^nd^ scheduled DMRS       1         2nd scheduled DMRS port
            port corresponding to                corresponding to Second
            SRS resource indicator               SRS resource indicator
            field and/or Precoding               field and/or Second
            information and number               Precoding information
            of layers field                      field
  ------------------------------------------------------------------------

Table 7.3.1.1.2-25B: PTRS-DMRS association for UL PTRS port 0,
*maxRank\>4*

  ---------------------------------------------------------------------------
  **Value**   **DMRS port**
  ----------- ---------------------------------------------------------------
  0           1^st^ scheduled DMRS port corresponding to the selected
              Codeword

  1           2^nd^ scheduled DMRS port corresponding to the selected
              Codeword

  2           3^rd^ scheduled DMRS port corresponding to the selected
              Codeword

  3           4^th^ scheduled DMRS port corresponding to the selected
              Codeword
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-26: PTRS-DMRS association or Second PTRS-DMRS
association for UL PTRS ports 0 and 1

  ------------------------------------------------------------------------
  **Value   **DMRS port**               **Value   **DMRS port**
  of MSB**                              of LSB**  
  --------- ------------------------ -- --------- ------------------------
  0         1^st^ DMRS port which       0         1^st^ DMRS port which
            shares PTRS port 0                    shares PTRS port 1

  1         2^nd^ DMRS port which       1         2^nd^ DMRS port which
            shares PTRS port 0                    shares PTRS port 1
  ------------------------------------------------------------------------

Table 7.3.1.1.2-26A: PTRS-DMRS association for UL PTRS ports 0 and 1,
*maxRank\>4*

  -----------------------------------------------------------------------------
  **Value   **DMRS port**                **Value   **DMRS port**
  of 2                                   of 2      
  MSBs**                                 LSBs**    
  --------- ---------------------------- --------- ----------------------------
  0         1^st^ DMRS port which shares 0         1^st^ DMRS port which shares
            PTRS port 0                            PTRS port 1

  1         2^nd^ DMRS port which shares 1         2^nd^ DMRS port which shares
            PTRS port 0                            PTRS port 1

  2         3^rd^ DMRS port which shares 2         3^rd^ DMRS port which shares
            PTRS port 0                            PTRS port 1

  3         4^th^ DMRS port which shares 3         4^th^ DMRS port which shares
            PTRS port 0                            PTRS port 1
  -----------------------------------------------------------------------------

Table 7.3.1.1.2-27: void

Table 7.3.1.1.2-28: SRI indication or Second SRI indication, for
non-codebook based PUSCH transmission, ![](media/image1018.wmf)

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1021.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

                                       2          2                          2          2

                                       3          reserved                   3          3
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-28A: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 1}$

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit      SRI(s),                                   Bit      SRI(s),                                   Bit      SRI(s),                                   Bit      SRI(s),
  field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
  mapped                                             mapped                                             mapped                                             mapped   
  to index                                           to index                                           to index                                           to index 
  -------- ----------------------------------------- -------- ----------------------------------------- -------- ----------------------------------------- -------- -----------------------------------------
  0        0                                         0        0                                         0        0                                         0        0

  1        1                                         1        1                                         1        1                                         1        1

  2        2                                         2        2                                         2        2                                         2        2

  3        3                                         3        3                                         3        3                                         3        3

  4        4                                         4        4                                         4        4                                         4        4

  5-7      reserved                                  5        5                                         5        5                                         5        5

                                                     6-7      reserved                                  6        6                                         6        6

                                                                                                        7        reserved                                  7        7
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-29: SRI indication or Second SRI indication, for\
non-codebook based PUSCH transmission, ![](media/image1022.wmf)

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1023.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

  2         0,1                        2          2                          2          2

  3         reserved                   3          0,1                        3          3

                                       4          0,2                        4          0,1

                                       5          1,2                        5          0,2

                                       6-7        reserved                   6          0,3

                                                                             7          1,2

                                                                             8          1,3

                                                                             9          2,3

                                                                             10-15      reserved
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-29A: Second SRI indication for non-codebook based PUSCH
transmission, $\mathbf{L}_{\mathbf{\max}}\mathbf{= 2}$

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1023.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

  0         0,1                        2          2                          2          2

  1         2 layers: reserved         3          1 layer: reserved          3          3

                                       0          0,1                        4-7        1 layer: reserved

                                       1          0,2                        0          0,1

                                       2          1,2                        1          0,2

                                       3          2 layers: reserved         2          0,3

                                                                             3          1,2

                                                                             4          1,3

                                                                             5          2,3

                                                                             6-7        2 layers: reserved
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-29B: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 2}$

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                   Bit      SRI(s),                                   Bit      SRI(s),                                   Bit      SRI(s),
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                                                          mapped                                             mapped                                             mapped   
                                                                                                                                                                                          to index                                           to index                                           to index 
  --------------------------------------------------------------------------------------------------------------------------------------------- ----------------------------------------- -------- ----------------------------------------- -------- ----------------------------------------- -------- -----------------------------------------
  0                                                                                                                                             0                                         0        0                                         0        0                                         0        0

  1                                                                                                                                             1                                         1        1                                         1        1                                         1        1

  2                                                                                                                                             2                                         2        2                                         2        2                                         2        2

  3                                                                                                                                             3                                         3        3                                         3        3                                         3        3

  4                                                                                                                                             4                                         4        4                                         4        4                                         4        4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                   5        5                                         5        5                                         5        5

  ...                                                                                                                                           ...                                       6        $$s_{0}^{0},s_{1}^{0}$$                   6        6                                         6        6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                   ...      ...                                       7        $$s_{0}^{0},s_{1}^{0}$$                   7        7

  15                                                                                                                                            reserved                                  20       $$s_{0}^{14},s_{1}^{14}$$                 ...      ...                                       8        $$s_{0}^{0},s_{1}^{0}$$

                                                                                                                                                                                          21-31    reserved                                  27       $$s_{0}^{20},s_{1}^{20}$$                 ...      ...

                                                                                                                                                                                                                                             28-31    reserved                                  35       $$s_{0}^{27},s_{1}^{27}$$

                                                                                                                                                                                                                                                                                                36-63    reserved

  where SRIs                                                                                                                                                                                                                                                                                             
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                            
  are as given in Table 7.3.1.1.2-29B-1.                                                                                                                                                                                                                                                                 
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-29B-1: SRI(s) for 2 layers,
$\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$

  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  SRI(s)                      SRI(s) for 2 layers,                      SRI(s) for 2 layers,                      SRI(s) for 2 layers,                      SRI(s) for 2 layers,
                              $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
  --------------------------- ----------------------------------------- ----------------------------------------- ----------------------------------------- -----------------------------------------
  $$s_{0}^{0},s_{1}^{0}$$     0,1                                       0,1                                       0,1                                       0,1

  $$s_{0}^{1},s_{1}^{1}$$     0,2                                       0,2                                       0,2                                       0,2

  $$s_{0}^{2},s_{1}^{2}$$     0,3                                       0,3                                       0,3                                       0,3

  $$s_{0}^{3},s_{1}^{3}$$     0,4                                       0,4                                       0,4                                       0,4

  $$s_{0}^{4},s_{1}^{4}$$     1,2                                       0,5                                       0,5                                       0,5

  $$s_{0}^{5},s_{1}^{5}$$     1,3                                       1,2                                       0,6                                       0,6

  $$s_{0}^{6},s_{1}^{6}$$     1,4                                       1,3                                       1,2                                       0,7

  $$s_{0}^{7},s_{1}^{7}$$     2,3                                       1,4                                       1,3                                       1,2

  $$s_{0}^{8},s_{1}^{8}$$     2,4                                       1,5                                       1,4                                       1,3

  $$s_{0}^{9},s_{1}^{9}$$     3,4                                       2,3                                       1,5                                       1,4

  $$s_{0}^{10},s_{1}^{10}$$                                             2,4                                       1,6                                       1,5

  $$s_{0}^{11},s_{1}^{11}$$                                             2,5                                       2,3                                       1,6

  $$s_{0}^{12},s_{1}^{12}$$                                             3,4                                       2,4                                       1,7

  $$s_{0}^{13},s_{1}^{13}$$                                             3,5                                       2,5                                       2,3

  $$s_{0}^{14},s_{1}^{14}$$                                             4,5                                       2,6                                       2,4

  $$s_{0}^{15},s_{1}^{15}$$                                                                                       3,4                                       2,5

  $$s_{0}^{16},s_{1}^{16}$$                                                                                       3,5                                       2,6

  $$s_{0}^{17},s_{1}^{17}$$                                                                                       3,6                                       2,7

  $$s_{0}^{18},s_{1}^{18}$$                                                                                       4,5                                       3,4

  $$s_{0}^{19},s_{1}^{19}$$                                                                                       4,6                                       3,5

  $$s_{0}^{20},s_{1}^{20}$$                                                                                       5,6                                       3,6

  $$s_{0}^{21},s_{1}^{21}$$                                                                                                                                 3,7

  $$s_{0}^{22},s_{1}^{22}$$                                                                                                                                 4,5

  $$s_{0}^{23},s_{1}^{23}$$                                                                                                                                 4,6

  $$s_{0}^{24},s_{1}^{24}$$                                                                                                                                 4,7

  $$s_{0}^{25},s_{1}^{25}$$                                                                                                                                 5,6

  $$s_{0}^{26},s_{1}^{26}$$                                                                                                                                 5,7

  $$s_{0}^{27},s_{1}^{27}$$                                                                                                                                 6,7
  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-30: SRI indication for non-codebook based PUSCH
transmission, ![](media/image1024.wmf)

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1023.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

  2         0,1                        2          2                          2          2

  3         reserved                   3          0,1                        3          3

                                       4          0,2                        4          0,1

                                       5          1,2                        5          0,2

                                       6          0,1,2                      6          0,3

                                       7          reserved                   7          1,2

                                                                             8          1,3

                                                                             9          2,3

                                                                             10         0,1,2

                                                                             11         0,1,3

                                                                             12         0,2,3

                                                                             13         1,2,3

                                                                             14-15      reserved
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-30A: Second SRI indication for non-codebook based PUSCH
transmission, if *multipanelScheme* is not configured,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 3}$

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1023.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

  0         0,1                        2          2                          2          2

  1         2 layers: reserved         3          1 layer: reserved          3          3

                                       0          0,1                        4-7        1 layer: reserved

                                       1          0,2                        0          0,1

                                       2          1,2                        1          0,2

                                       3          2 layers: reserved         2          0,3

                                       0          0,1,2                      3          1,2

                                       1-3        3 layers: reserved         4          1,3

                                                                             5          2,3

                                                                             6-7        2 layers: reserved

                                                                             0          0,1,2

                                                                             1          0,1,3

                                                                             2          0,2,3

                                                                             3          1,2,3

                                                                             4-7        3 layers: reserved
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-30B: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 3}$

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                   Bit      SRI(s),                                   Bit      SRI(s),                                   Bit      SRI(s),
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   field    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                                                          mapped                                             mapped                                             mapped   
                                                                                                                                                                                          to index                                           to index                                           to index 
  --------------------------------------------------------------------------------------------------------------------------------------------- ----------------------------------------- -------- ----------------------------------------- -------- ----------------------------------------- -------- -----------------------------------------
  0                                                                                                                                             0                                         0        0                                         0        0                                         0        0

  1                                                                                                                                             1                                         1        1                                         1        1                                         1        1

  2                                                                                                                                             2                                         2        2                                         2        2                                         2        2

  3                                                                                                                                             3                                         3        3                                         3        3                                         3        3

  4                                                                                                                                             4                                         4        4                                         4        4                                         4        4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                   5        5                                         5        5                                         5        5

  ...                                                                                                                                           \...                                      6        $$s_{0}^{0},s_{1}^{0}$$                   6        6                                         6        6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                   ...      \...                                      7        $$s_{0}^{0},s_{1}^{0}$$                   7        7

  15                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$         20       $$s_{0}^{14},s_{1}^{14}$$                 ...      \...                                      8        $$s_{0}^{0},s_{1}^{0}$$

  ...                                                                                                                                           \...                                      21       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$         27       $$s_{0}^{20},s_{1}^{20}$$                 ...      \...

  24                                                                                                                                            $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$         ...      \...                                      28       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$         35       $$s_{0}^{27},s_{1}^{27}$$

  25-31                                                                                                                                         reserved                                  40       $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$      ...      \...                                      36       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$

                                                                                                                                                                                          41-63    reserved                                  62       $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$      ...      \...

                                                                                                                                                                                                                                             63-127   reserved                                  91       $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$

                                                                                                                                                                                                                                                                                                92-127   reserved

  where SRIs                                                                                                                                                                                                                                                                                             
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                            
  are as given in Table 7.3.1.1.2-29B-1 and Table 7.3.1.1.2-30B-1.                                                                                                                                                                                                                                       
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-30B-1: SRI combinations for 3 layers,
$\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                         SRI(s) for 3 layers,                      SRI(s) for 3 layers,                      SRI(s) for 3 layers,                      SRI(s) for 3 layers,
                                         $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
  -------------------------------------- ----------------------------------------- ----------------------------------------- ----------------------------------------- -----------------------------------------
  $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$      0,1,2                                     0,1,2                                     0,1,2                                     0,1,2

  $$s_{0}^{1},s_{1}^{1},s_{2}^{1}$$      0,1,3                                     0,1,3                                     0,1,3                                     0,1,3

  $$s_{0}^{2},s_{1}^{2},s_{2}^{2}$$      0,1,4                                     0,1,4                                     0,1,4                                     0,1,4

  $$s_{0}^{3},s_{1}^{3},s_{2}^{3}$$      0,2,3                                     0,1,5                                     0,1,5                                     0,1,5

  $$s_{0}^{4},s_{1}^{4},s_{2}^{4}$$      0,2,4                                     0,2,3                                     0,1,6                                     0,1,6

  $$s_{0}^{5},s_{1}^{5},s_{2}^{5}$$      0,3,4                                     0,2,4                                     0,2,3                                     0,1,7

  $$s_{0}^{6},s_{1}^{6},s_{2}^{6}$$      1,2,3                                     0,2,5                                     0,2,4                                     0,2,3

  $$s_{0}^{7},s_{1}^{7},s_{2}^{7}$$      1,2,4                                     0,3,4                                     0,2,5                                     0,2,4

  $$s_{0}^{8},s_{1}^{8},s_{2}^{8}$$      1,3,4                                     0,3,5                                     0,2,6                                     0,2,5

  $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$      2,3,4                                     0,4,5                                     0,3,4                                     0,2,6

  $$s_{0}^{10},s_{1}^{10},s_{2}^{10}$$                                             1,2,3                                     0,3,5                                     0,2,7

  $$s_{0}^{11},s_{1}^{11},s_{2}^{11}$$                                             1,2,4                                     0,3,6                                     0,3,4

  $$s_{0}^{12},s_{1}^{12},s_{2}^{12}$$                                             1,2,5                                     0,4,5                                     0,3,5

  $$s_{0}^{13},s_{1}^{13},s_{2}^{13}$$                                             1,3,4                                     0,4,6                                     0,3,6

  $$s_{0}^{14},s_{1}^{14},s_{2}^{14}$$                                             1,3,5                                     0,5,6                                     0,3,7

  $$s_{0}^{15},s_{1}^{15},s_{2}^{15}$$                                             1,4,5                                     1,2,3                                     0,4,5

  $$s_{0}^{16},s_{1}^{16},s_{2}^{16}$$                                             2,3,4                                     1,2,4                                     0,4,6

  $$s_{0}^{17},s_{1}^{17},s_{2}^{17}$$                                             2,3,5                                     1,2,5                                     0,4,7

  $$s_{0}^{18},s_{1}^{18},s_{2}^{18}$$                                             2,4,5                                     1,2,6                                     0,5,6

  $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$                                             3,4,5                                     1,3,4                                     0,5,7

  $$s_{0}^{20},s_{1}^{20},s_{2}^{20}$$                                                                                       1,3,5                                     0,6,7

  $$s_{0}^{21},s_{1}^{21},s_{2}^{21}$$                                                                                       1,3,6                                     1,2,3

  $$s_{0}^{22},s_{1}^{22},s_{2}^{22}$$                                                                                       1,4,5                                     1,2,4

  $$s_{0}^{23},s_{1}^{23},s_{2}^{23}$$                                                                                       1,4,6                                     1,2,5

  $$s_{0}^{24},s_{1}^{24},s_{2}^{24}$$                                                                                       1,5,6                                     1,2,6

  $$s_{0}^{25},s_{1}^{25},s_{2}^{25}$$                                                                                       2,3,4                                     1,2,7

  $$s_{0}^{26},s_{1}^{26},s_{2}^{26}$$                                                                                       2,3,5                                     1,3,4

  $$s_{0}^{27},s_{1}^{27},s_{2}^{27}$$                                                                                       2,3,6                                     1,3,5

  $$s_{0}^{28},s_{1}^{28},s_{2}^{28}$$                                                                                       2,4,5                                     1,3,6

  $$s_{0}^{29},s_{1}^{29},s_{2}^{29}$$                                                                                       2,4,6                                     1,3,7

  $$s_{0}^{30},s_{1}^{30},s_{2}^{30}$$                                                                                       2,5,6                                     1,4,5

  $$s_{0}^{31},s_{1}^{31},s_{2}^{31}$$                                                                                       3,4,5                                     1,4,6

  $$s_{0}^{32},s_{1}^{32},s_{2}^{32}$$                                                                                       3,4,6                                     1,4,7

  $$s_{0}^{33},s_{1}^{33},s_{2}^{33}$$                                                                                       3,5,6                                     1,5,6

  $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$                                                                                       4,5,6                                     1,5,7

  $$s_{0}^{35},s_{1}^{35},s_{2}^{35}$$                                                                                                                                 1,6,7

  $$s_{0}^{36},s_{1}^{36},s_{2}^{36}$$                                                                                                                                 2,3,4

  $$s_{0}^{37},s_{1}^{37},s_{2}^{37}$$                                                                                                                                 2,3,5

  $$s_{0}^{38},s_{1}^{38},s_{2}^{38}$$                                                                                                                                 2,3,6

  $$s_{0}^{39},s_{1}^{39},s_{2}^{39}$$                                                                                                                                 2,3,7

  $$s_{0}^{40},s_{1}^{40},s_{2}^{40}$$                                                                                                                                 2,4,5

  $$s_{0}^{41},s_{1}^{41},s_{2}^{41}$$                                                                                                                                 2,4,6

  $$s_{0}^{42},s_{1}^{42},s_{2}^{42}$$                                                                                                                                 2,4,7

  $$s_{0}^{43},s_{1}^{43},s_{2}^{43}$$                                                                                                                                 2,5,6

  $$s_{0}^{44},s_{1}^{44},s_{2}^{44}$$                                                                                                                                 2,5,7

  $$s_{0}^{45},s_{1}^{45},s_{2}^{45}$$                                                                                                                                 2,6,7

  $$s_{0}^{46},s_{1}^{46},s_{2}^{46}$$                                                                                                                                 3,4,5

  $$s_{0}^{47},s_{1}^{47},s_{2}^{47}$$                                                                                                                                 3,4,6

  $$s_{0}^{48},s_{1}^{48},s_{2}^{48}$$                                                                                                                                 3,4,7

  $$s_{0}^{49},s_{1}^{49},s_{2}^{49}$$                                                                                                                                 3,5,6

  $$s_{0}^{50},s_{1}^{50},s_{2}^{50}$$                                                                                                                                 3,5,7

  $$s_{0}^{51},s_{1}^{51},s_{2}^{51}$$                                                                                                                                 3,6,7

  $$s_{0}^{52},s_{1}^{52},s_{2}^{52}$$                                                                                                                                 4,5,6

  $$s_{0}^{53},s_{1}^{53},s_{2}^{53}$$                                                                                                                                 4,5,7

  $$s_{0}^{54},s_{1}^{54},s_{2}^{54}$$                                                                                                                                 4,6,7

  $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$                                                                                                                                 5,6,7
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31: SRI indication for non-codebook based PUSCH
transmission, ![](media/image1025.wmf)

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1023.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

  2         0,1                        2          2                          2          2

  3         reserved                   3          0,1                        3          3

                                       4          0,2                        4          0,1

                                       5          1,2                        5          0,2

                                       6          0,1,2                      6          0,3

                                       7          reserved                   7          1,2

                                                                             8          1,3

                                                                             9          2,3

                                                                             10         0,1,2

                                                                             11         0,1,3

                                                                             12         0,2,3

                                                                             13         1,2,3

                                                                             14         0,1,2,3

                                                                             15         reserved
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31A: Second SRI indication for non-codebook based PUSCH
transmission,\
if *multipanelScheme* is not configured,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 4}$

  ----------------------------------------------------------------------------------------------------------------
  Bit field SRI(s),                    Bit field  SRI(s),                    Bit field  SRI(s),
  mapped to ![](media/image1019.wmf)   mapped to  ![](media/image1020.wmf)   mapped to  ![](media/image1023.wmf)
  index                                index                                 index      
  --------- -------------------------- ---------- -------------------------- ---------- --------------------------
  0         0                          0          0                          0          0

  1         1                          1          1                          1          1

  0         0,1                        2          2                          2          2

  1         2 layers: reserved         3          1 layer: reserved          3          3

                                       0          0,1                        4-7        1 layer: reserved

                                       1          0,2                        0          0,1

                                       2          1,2                        1          0,2

                                       3          2 layers: reserved         2          0,3

                                       0          0,1,2                      3          1,2

                                       1-3        3 layers: reserved         4          1,3

                                                                             5          2,3

                                                                             6-7        2 layers: reserved

                                                                             0          0,1,2

                                                                             1          0,1,3

                                                                             2          0,2,3

                                                                             3          1,2,3

                                                                             4-7        3 layer: reserved

                                                                             0          0,1,2,3

                                                                             1-7        4 layers: reserved
  ----------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31B: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 4}$

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                       Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   Bit field SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$       field                                                      field                                                      mapped to 
                                                                                                                                                                                              mapped                                                     mapped                                                     index     
                                                                                                                                                                                              to index                                                   to index                                                             
  --------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------- -------- ------------------------------------------------- -------- ------------------------------------------------- --------- -------------------------------------------------
  0                                                                                                                                             0                                             0        0                                                 0        0                                                 0         0

  1                                                                                                                                             1                                             1        1                                                 1        1                                                 1         1

  2                                                                                                                                             2                                             2        2                                                 2        2                                                 2         2

  3                                                                                                                                             3                                             3        3                                                 3        3                                                 3         3

  4                                                                                                                                             4                                             4        4                                                 4        4                                                 4         4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                       5        5                                                 5        5                                                 5         5

  ...                                                                                                                                           \...                                          6        $$s_{0}^{0},s_{1}^{0}$$                           6        6                                                 6         6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                       ...      \...                                              7        $$s_{0}^{0},s_{1}^{0}$$                           7         7

  15                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$             20       $$s_{0}^{14},s_{1}^{14}$$                         ...      \...                                              8         $$s_{0}^{0},s_{1}^{0}$$

  ...                                                                                                                                           \...                                          21       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                 27       $$s_{0}^{20},s_{1}^{20}$$                         ...       \...

  24                                                                                                                                            $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$             ...      \...                                              28       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                 35        $$s_{0}^{27},s_{1}^{27}$$

  25                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$   40       $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$              ...      \...                                              36        $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$

  ...                                                                                                                                           \...                                          41       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$       62       $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$              ...       \...

  29                                                                                                                                            $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$   ...      \...                                              63       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$       91        $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$

  30-31                                                                                                                                         reserved                                      55       $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$   ...      \...                                              92        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$

                                                                                                                                                                                              56-63    reserved                                          97       $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$   ...       \...

                                                                                                                                                                                                                                                         98-127   reserved                                          161       $$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$

                                                                                                                                                                                                                                                                                                                    162-255   reserved

  where SRIs                                                                                                                                                                                                                                                                                                                  
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                                                 
  are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1 and Table 7.3.1.1.2-31B-1.                                                                                                                                                                                                                                     
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31B-1: SRI combinations for 4 layers,
$\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                                    SRI(s) for 4 layers,                      SRI(s) for 4 layers,                      SRI(s) for 4 layers,                      SRI(s) for 4 layers,
                                                    $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
  ------------------------------------------------- ----------------------------------------- ----------------------------------------- ----------------------------------------- -----------------------------------------
  $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$       0,1,2,3                                   0,1,2,3                                   0,1,2,3                                   0,1,2,3

  $$s_{0}^{1},s_{1}^{1},s_{2}^{1},s_{3}^{1}$$       0,1,2,4                                   0,1,2,4                                   0,1,2,4                                   0,1,2,4

  $$s_{0}^{2},s_{1}^{2},s_{2}^{2},s_{3}^{2}$$       0,1,3,4                                   0,1,2,5                                   0,1,2,5                                   0,1,2,5

  $$s_{0}^{3},s_{1}^{3},s_{2}^{3},s_{3}^{3}$$       0,2,3,4                                   0,1,3,4                                   0,1,2,6                                   0,1,2,6

  $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$       1,2,3,4                                   0,1,3,5                                   0,1,3,4                                   0,1,2,7

  $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5}$$                                                 0,1,4,5                                   0,1,3,5                                   0,1,3,4

  $$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6}$$                                                 0,2,3,4                                   0,1,3,6                                   0,1,3,5

  $$s_{0}^{7},s_{1}^{7},s_{2}^{7},s_{3}^{7}$$                                                 0,2,3,5                                   0,1,4,5                                   0,1,3,6

  $$s_{0}^{8},s_{1}^{8},s_{2}^{8},s_{3}^{8}$$                                                 0,2,4,5                                   0,1,4,6                                   0,1,3,7

  $$s_{0}^{9},s_{1}^{9},s_{2}^{9},s_{3}^{9}$$                                                 0,3,4,5                                   0,1,5,6                                   0,1,4,5

  $$s_{0}^{10},s_{1}^{10},s_{2}^{10},s_{3}^{10}$$                                             1,2,3,4                                   0,2,3,4                                   0,1,4,6

  $$s_{0}^{11},s_{1}^{11},s_{2}^{11},s_{3}^{11}$$                                             1,2,3,5                                   0,2,3,5                                   0,1,4,7

  $$s_{0}^{12},s_{1}^{12},s_{2}^{12},s_{3}^{12}$$                                             1,2,4,5                                   0,2,3,6                                   0,1,5,6

  $$s_{0}^{13},s_{1}^{13},s_{2}^{13},s_{3}^{13}$$                                             1,3,4,5                                   0,2,4,5                                   0,1,5,7

  $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$                                             2,3,4,5                                   0,2,4,6                                   0,1,6,7

  $$s_{0}^{15},s_{1}^{15},s_{2}^{15},s_{3}^{15}$$                                                                                       0,2,5,6                                   0,2,3,4

  $$s_{0}^{16},s_{1}^{16},s_{2}^{16},s_{3}^{16}$$                                                                                       0,3,4,5                                   0,2,3,5

  $$s_{0}^{17},s_{1}^{17},s_{2}^{17},s_{3}^{17}$$                                                                                       0,3,4,6                                   0,2,3,6

  $$s_{0}^{18},s_{1}^{18},s_{2}^{18},s_{3}^{18}$$                                                                                       0,3,5,6                                   0,2,3,7

  $$s_{0}^{19},s_{1}^{19},s_{2}^{19},s_{3}^{19}$$                                                                                       0,4,5,6                                   0,2,4,5

  $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20}$$                                                                                       1,2,3,4                                   0,2,4,6

  $$s_{0}^{21},s_{1}^{21},s_{2}^{21},s_{3}^{21}$$                                                                                       1,2,3,5                                   0,2,4,7

  $$s_{0}^{22},s_{1}^{22},s_{2}^{22},s_{3}^{22}$$                                                                                       1,2,3,6                                   0,2,5,6

  $$s_{0}^{23},s_{1}^{23},s_{2}^{23},s_{3}^{23}$$                                                                                       1,2,4,5                                   0,2,5,7

  $$s_{0}^{24},s_{1}^{24},s_{2}^{24},s_{3}^{24}$$                                                                                       1,2,4,6                                   0,2,6,7

  $$s_{0}^{25},s_{1}^{25},s_{2}^{25},s_{3}^{25}$$                                                                                       1,2,5,6                                   0,3,4,5

  $$s_{0}^{26},s_{1}^{26},s_{2}^{26},s_{3}^{26}$$                                                                                       1,3,4,5                                   0,3,4,6

  $$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27}$$                                                                                       1,3,4,6                                   0,3,4,7

  $$s_{0}^{28},s_{1}^{28},s_{2}^{28},s_{3}^{28}$$                                                                                       1,3,5,6                                   0,3,5,6

  $$s_{0}^{29},s_{1}^{29},s_{2}^{29},s_{3}^{29}$$                                                                                       1,4,5,6                                   0,3,5,7

  $$s_{0}^{30},s_{1}^{30},s_{2}^{30},s_{3}^{30}$$                                                                                       2,3,4,5                                   0,3,6,7

  $$s_{0}^{31},s_{1}^{31},s_{2}^{31},s_{3}^{31}$$                                                                                       2,3,4,6                                   0,4,5,6

  $$s_{0}^{32},s_{1}^{32},s_{2}^{32},s_{3}^{32}$$                                                                                       2,3,5,6                                   0,4,5,7

  $$s_{0}^{33},s_{1}^{33},s_{2}^{33},s_{3}^{33}$$                                                                                       2,4,5,6                                   0,4,6,7

  $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$                                                                                       3,4,5,6                                   0,5,6,7

  $$s_{0}^{35},s_{1}^{35},s_{2}^{35},s_{3}^{35}$$                                                                                                                                 1,2,3,4

  $$s_{0}^{36},s_{1}^{36},s_{2}^{36},s_{3}^{36}$$                                                                                                                                 1,2,3,5

  $$s_{0}^{37},s_{1}^{37},s_{2}^{37},s_{3}^{37}$$                                                                                                                                 1,2,3,6

  $$s_{0}^{38},s_{1}^{38},s_{2}^{38},s_{3}^{38}$$                                                                                                                                 1,2,3,7

  $$s_{0}^{39},s_{1}^{39},s_{2}^{39},s_{3}^{39}$$                                                                                                                                 1,2,4,5

  $$s_{0}^{40},s_{1}^{40},s_{2}^{40},s_{3}^{40}$$                                                                                                                                 1,2,4,6

  $$s_{0}^{41},s_{1}^{41},s_{2}^{41},s_{3}^{41}$$                                                                                                                                 1,2,4,7

  $$s_{0}^{42},s_{1}^{42},s_{2}^{42},s_{3}^{42}$$                                                                                                                                 1,2,5,6

  $$s_{0}^{43},s_{1}^{43},s_{2}^{43},s_{3}^{43}$$                                                                                                                                 1,2,5,7

  $$s_{0}^{44},s_{1}^{44},s_{2}^{44},s_{3}^{44}$$                                                                                                                                 1,2,6,7

  $$s_{0}^{45},s_{1}^{45},s_{2}^{45},s_{3}^{45}$$                                                                                                                                 1,3,4,5

  $$s_{0}^{46},s_{1}^{46},s_{2}^{46},s_{3}^{46}$$                                                                                                                                 1,3,4,6

  $$s_{0}^{47},s_{1}^{47},s_{2}^{47},s_{3}^{47}$$                                                                                                                                 1,3,4,7

  $$s_{0}^{48},s_{1}^{48},s_{2}^{48},s_{3}^{48}$$                                                                                                                                 1,3,5,6

  $$s_{0}^{49},s_{1}^{49},s_{2}^{49},s_{3}^{49}$$                                                                                                                                 1,3,5,7

  $$s_{0}^{50},s_{1}^{50},s_{2}^{50},s_{3}^{50}$$                                                                                                                                 1,3,6,7

  $$s_{0}^{51},s_{1}^{51},s_{2}^{51},s_{3}^{51}$$                                                                                                                                 1,4,5,6

  $$s_{0}^{52},s_{1}^{52},s_{2}^{52},s_{3}^{52}$$                                                                                                                                 1,4,5,7

  $$s_{0}^{53},s_{1}^{53},s_{2}^{53},s_{3}^{53}$$                                                                                                                                 1,4,6,7

  $$s_{0}^{54},s_{1}^{54},s_{2}^{54},s_{3}^{54}$$                                                                                                                                 1,5,6,7

  $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55}$$                                                                                                                                 2,3,4,5

  $$s_{0}^{56},s_{1}^{56},s_{2}^{56},s_{3}^{56}$$                                                                                                                                 2,3,4,6

  $$s_{0}^{57},s_{1}^{57},s_{2}^{57},s_{3}^{57}$$                                                                                                                                 2,3,4,7

  $$s_{0}^{58},s_{1}^{58},s_{2}^{58},s_{3}^{58}$$                                                                                                                                 2,3,5,6

  $$s_{0}^{59},s_{1}^{59},s_{2}^{59},s_{3}^{59}$$                                                                                                                                 2,3,5,7

  $$s_{0}^{60},s_{1}^{60},s_{2}^{60},s_{3}^{60}$$                                                                                                                                 2,3,6,7

  $$s_{0}^{61},s_{1}^{61},s_{2}^{61},s_{3}^{61}$$                                                                                                                                 2,4,5,6

  $$s_{0}^{62},s_{1}^{62},s_{2}^{62},s_{3}^{62}$$                                                                                                                                 2,4,5,7

  $$s_{0}^{63},s_{1}^{63},s_{2}^{63},s_{3}^{63}$$                                                                                                                                 2,4,6,7

  $$s_{0}^{64},s_{1}^{64},s_{2}^{64},s_{3}^{64}$$                                                                                                                                 2,5,6,7

  $$s_{0}^{65},s_{1}^{65},s_{2}^{65},s_{3}^{65}$$                                                                                                                                 3,4,5,6

  $$s_{0}^{66},s_{1}^{66},s_{2}^{66},s_{3}^{66}$$                                                                                                                                 3,4,5,7

  $$s_{0}^{67},s_{1}^{67},s_{2}^{67},s_{3}^{67}$$                                                                                                                                 3,4,6,7

  $$s_{0}^{68},s_{1}^{68},s_{2}^{68},s_{3}^{68}$$                                                                                                                                 3,5,6,7

  $$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$                                                                                                                                 4,5,6,7
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31C: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 5}$

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                       Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$         Bit field SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$              Bit field SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$       field                                                            mapped to                                                              mapped to 
                                                                                                                                                                                              mapped                                                           index                                                                  index     
                                                                                                                                                                                              to index                                                                                                                                          
  --------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------- -------- ------------------------------------------------------- --------- ------------------------------------------------------------ --------- ------------------------------------------------------------
  0                                                                                                                                             0                                             0        0                                                       0         0                                                            0         0

  1                                                                                                                                             1                                             1        1                                                       1         1                                                            1         1

  2                                                                                                                                             2                                             2        2                                                       2         2                                                            2         2

  3                                                                                                                                             3                                             3        3                                                       3         3                                                            3         3

  4                                                                                                                                             4                                             4        4                                                       4         4                                                            4         4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                       5        5                                                       5         5                                                            5         5

  ...                                                                                                                                           \...                                          6        $$s_{0}^{0},s_{1}^{0}$$                                 6         6                                                            6         6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                       ...      \...                                                    7         $$s_{0}^{0},s_{1}^{0}$$                                      7         7

  15                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$             20       $$s_{0}^{14},s_{1}^{14}$$                               ...       \...                                                         8         $$s_{0}^{0},s_{1}^{0}$$

  ...                                                                                                                                           \...                                          21       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                       27        $$s_{0}^{20},s_{1}^{20}$$                                    ...       \...

  24                                                                                                                                            $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$             ...      \...                                                    28        $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                            35        $$s_{0}^{27},s_{1}^{27}$$

  25                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$   40       $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$                    ...       \...                                                         36        $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$

  ...                                                                                                                                           \...                                          41       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$             62        $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$                         ...       \...

  29                                                                                                                                            $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$   ...      \...                                                    63        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$                  91        $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$

  30                                                                                                                                            0,1,2,3,4                                     55       $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$         ...       \...                                                         92        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$

  31                                                                                                                                            reserved                                      56       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$   97        $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$              ...       \...

                                                                                                                                                                                              ...      \...                                                    98        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$        161       $$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$

                                                                                                                                                                                              61       $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$   ...       \...                                                         162       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$

                                                                                                                                                                                              62-63    reserved                                                118       $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$   ...       \...

                                                                                                                                                                                                                                                               119-127   reserved                                                     217       $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$

                                                                                                                                                                                                                                                                                                                                      218-255   reserved

  where SRIs                                                                                                                                                                                                                                                                                                                                    
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                                                                   
  are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table 7.3.1.1.2-31B-1 and Table 7.3.1.1.2-31C-1.                                                                                                                                                                                                                                
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31C-1: SRI combinations for 5 layers,
$\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                                               SRI(s) for 5 layers,                      SRI(s) for 5 layers,                      SRI(s) for 5 layers,
                                                               $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
  ------------------------------------------------------------ ----------------------------------------- ----------------------------------------- -----------------------------------------
  $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$        0,1,2,3,4                                 0,1,2,3,4                                 0,1,2,3,4

  $$s_{0}^{1},s_{1}^{1},s_{2}^{1},s_{3}^{1},s_{4}^{1}$$        0,1,2,3,5                                 0,1,2,3,5                                 0,1,2,3,5

  $$s_{0}^{2},s_{1}^{2},s_{2}^{2},s_{3}^{2},s_{4}^{2}$$        0,1,2,4,5                                 0,1,2,3,6                                 0,1,2,3,6

  $$s_{0}^{3},s_{1}^{3},s_{2}^{3},s_{3}^{3},s_{4}^{3}$$        0,1,3,4,5                                 0,1,2,4,5                                 0,1,2,3,7

  $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4},s_{4}^{4}$$        0,2,3,4,5                                 0,1,2,4,6                                 0,1,2,4,5

  $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$        1,2,3,4,5                                 0,1,2,5,6                                 0,1,2,4,6

  $$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6}$$                                                  0,1,3,4,5                                 0,1,2,4,7

  $$s_{0}^{7},s_{1}^{7},s_{2}^{7},s_{3}^{7},s_{4}^{7}$$                                                  0,1,3,4,6                                 0,1,2,5,6

  $$s_{0}^{8},s_{1}^{8},s_{2}^{8},s_{3}^{8},s_{4}^{8}$$                                                  0,1,3,5,6                                 0,1,2,5,7

  $$s_{0}^{9},s_{1}^{9},s_{2}^{9},s_{3}^{9},s_{4}^{9}$$                                                  0,1,4,5,6                                 0,1,2,6,7

  $$s_{0}^{10},s_{1}^{10},s_{2}^{10},s_{3}^{10},s_{4}^{10}$$                                             0,2,3,4,5                                 0,1,3,4,5

  $$s_{0}^{11},s_{1}^{11},s_{2}^{11},s_{3}^{11},s_{4}^{11}$$                                             0,2,3,4,6                                 0,1,3,4,6

  $$s_{0}^{12},s_{1}^{12},s_{2}^{12},s_{3}^{12},s_{4}^{12}$$                                             0,2,3,5,6                                 0,1,3,4,7

  $$s_{0}^{13},s_{1}^{13},s_{2}^{13},s_{3}^{13},s_{4}^{13}$$                                             0,2,4,5,6                                 0,1,3,5,6

  $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14},s_{4}^{14}$$                                             0,3,4,5,6                                 0,1,3,5,7

  $$s_{0}^{15},s_{1}^{15},s_{2}^{15},s_{3}^{15},s_{4}^{15}$$                                             1,2,3,4,5                                 0,1,3,6,7

  $$s_{0}^{16},s_{1}^{16},s_{2}^{16},s_{3}^{16},s_{4}^{16}$$                                             1,2,3,4,6                                 0,1,4,5,6

  $$s_{0}^{17},s_{1}^{17},s_{2}^{17},s_{3}^{17},s_{4}^{17}$$                                             1,2,3,5,6                                 0,1,4,5,7

  $$s_{0}^{18},s_{1}^{18},s_{2}^{18},s_{3}^{18},s_{4}^{18}$$                                             1,2,4,5,6                                 0,1,4,6,7

  $$s_{0}^{19},s_{1}^{19},s_{2}^{19},s_{3}^{19},s_{4}^{19}$$                                             1,3,4,5,6                                 0,1,5,6,7

  $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$                                             2,3,4,5,6                                 0,2,3,4,5

  $$s_{0}^{21},s_{1}^{21},s_{2}^{21},s_{3}^{21},s_{4}^{21}$$                                                                                       0,2,3,4,6

  $$s_{0}^{22},s_{1}^{22},s_{2}^{22},s_{3}^{22},s_{4}^{22}$$                                                                                       0,2,3,4,7

  $$s_{0}^{23},s_{1}^{23},s_{2}^{23},s_{3}^{23},s_{4}^{23}$$                                                                                       0,2,3,5,6

  $$s_{0}^{24},s_{1}^{24},s_{2}^{24},s_{3}^{24},s_{4}^{24}$$                                                                                       0,2,3,5,7

  $$s_{0}^{25},s_{1}^{25},s_{2}^{25},s_{3}^{25},s_{4}^{25}$$                                                                                       0,2,3,6,7

  $$s_{0}^{26},s_{1}^{26},s_{2}^{26},s_{3}^{26},s_{4}^{26}$$                                                                                       0,2,4,5,6

  $$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27}$$                                                                                       0,2,4,5,7

  $$s_{0}^{28},s_{1}^{28},s_{2}^{28},s_{3}^{28},s_{4}^{28}$$                                                                                       0,2,4,6,7

  $$s_{0}^{29},s_{1}^{29},s_{2}^{29},s_{3}^{29},s_{4}^{29}$$                                                                                       0,2,5,6,7

  $$s_{0}^{30},s_{1}^{30},s_{2}^{30},s_{3}^{30},s_{4}^{30}$$                                                                                       0,3,4,5,6

  $$s_{0}^{31},s_{1}^{31},s_{2}^{31},s_{3}^{31},s_{4}^{31}$$                                                                                       0,3,4,5,7

  $$s_{0}^{32},s_{1}^{32},s_{2}^{32},s_{3}^{32},s_{4}^{32}$$                                                                                       0,3,4,6,7

  $$s_{0}^{33},s_{1}^{33},s_{2}^{33},s_{3}^{33},s_{4}^{33}$$                                                                                       0,3,5,6,7

  $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34},s_{4}^{34}$$                                                                                       0,4,5,6,7

  $$s_{0}^{35},s_{1}^{35},s_{2}^{35},s_{3}^{35},s_{4}^{35}$$                                                                                       1,2,3,4,5

  $$s_{0}^{36},s_{1}^{36},s_{2}^{36},s_{3}^{36},s_{4}^{36}$$                                                                                       1,2,3,4,6

  $$s_{0}^{37},s_{1}^{37},s_{2}^{37},s_{3}^{37},s_{4}^{37}$$                                                                                       1,2,3,4,7

  $$s_{0}^{38},s_{1}^{38},s_{2}^{38},s_{3}^{38},s_{4}^{38}$$                                                                                       1,2,3,5,6

  $$s_{0}^{39},s_{1}^{39},s_{2}^{39},s_{3}^{39},s_{4}^{39}$$                                                                                       1,2,3,5,7

  $$s_{0}^{40},s_{1}^{40},s_{2}^{40},s_{3}^{40},s_{4}^{40}$$                                                                                       1,2,3,6,7

  $$s_{0}^{41},s_{1}^{41},s_{2}^{41},s_{3}^{41},s_{4}^{41}$$                                                                                       1,2,4,5,6

  $$s_{0}^{42},s_{1}^{42},s_{2}^{42},s_{3}^{42},s_{4}^{42}$$                                                                                       1,2,4,5,7

  $$s_{0}^{43},s_{1}^{43},s_{2}^{43},s_{3}^{43},s_{4}^{43}$$                                                                                       1,2,4,6,7

  $$s_{0}^{44},s_{1}^{44},s_{2}^{44},s_{3}^{44},s_{4}^{44}$$                                                                                       1,2,5,6,7

  $$s_{0}^{45},s_{1}^{45},s_{2}^{45},s_{3}^{45},s_{4}^{45}$$                                                                                       1,3,4,5,6

  $$s_{0}^{46},s_{1}^{46},s_{2}^{46},s_{3}^{46},s_{4}^{46}$$                                                                                       1,3,4,5,7

  $$s_{0}^{47},s_{1}^{47},s_{2}^{47},s_{3}^{47},s_{4}^{47}$$                                                                                       1,3,4,6,7

  $$s_{0}^{48},s_{1}^{48},s_{2}^{48},s_{3}^{48},s_{4}^{48}$$                                                                                       1,3,5,6,7

  $$s_{0}^{49},s_{1}^{49},s_{2}^{49},s_{3}^{49},s_{4}^{49}$$                                                                                       1,4,5,6,7

  $$s_{0}^{50},s_{1}^{50},s_{2}^{50},s_{3}^{50},s_{4}^{50}$$                                                                                       2,3,4,5,6

  $$s_{0}^{51},s_{1}^{51},s_{2}^{51},s_{3}^{51},s_{4}^{51}$$                                                                                       2,3,4,5,7

  $$s_{0}^{52},s_{1}^{52},s_{2}^{52},s_{3}^{52},s_{4}^{52}$$                                                                                       2,3,4,6,7

  $$s_{0}^{53},s_{1}^{53},s_{2}^{53},s_{3}^{53},s_{4}^{53}$$                                                                                       2,3,5,6,7

  $$s_{0}^{54},s_{1}^{54},s_{2}^{54},s_{3}^{54},s_{4}^{54}$$                                                                                       2,4,5,6,7

  $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$                                                                                       3,4,5,6,7
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31D: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 6}$

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                       Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$         Bit field SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$                   Bit field SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$       field                                                            mapped to                                                                   mapped to 
                                                                                                                                                                                              mapped                                                           index                                                                       index     
                                                                                                                                                                                              to index                                                                                                                                               
  --------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------- -------- ------------------------------------------------------- --------- ----------------------------------------------------------------- --------- -----------------------------------------------------------------------
  0                                                                                                                                             0                                             0        0                                                       0         0                                                                 0         0

  1                                                                                                                                             1                                             1        1                                                       1         1                                                                 1         1

  2                                                                                                                                             2                                             2        2                                                       2         2                                                                 2         2

  3                                                                                                                                             3                                             3        3                                                       3         3                                                                 3         3

  4                                                                                                                                             4                                             4        4                                                       4         4                                                                 4         4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                       5        5                                                       5         5                                                                 5         5

  ...                                                                                                                                           \...                                          6        $$s_{0}^{0},s_{1}^{0}$$                                 6         6                                                                 6         6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                       ...      \...                                                    7         $$s_{0}^{0},s_{1}^{0}$$                                           7         7

  15                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$             20       $$s_{0}^{14},s_{1}^{14}$$                               ...       \...                                                              8         $$s_{0}^{0},s_{1}^{0}$$

  ...                                                                                                                                           \...                                          21       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                       27        $$s_{0}^{20},s_{1}^{20}$$                                         ...       \...

  24                                                                                                                                            $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$             ...      \...                                                    28        $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                                 35        $$s_{0}^{27},s_{1}^{27}$$

  25                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$   40       $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$                    ...       \...                                                              36        $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$

  ...                                                                                                                                           \...                                          41       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$             62        $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$                              ...       \...

  29                                                                                                                                            $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$   ...      \...                                                    63        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$                       91        $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$

  30                                                                                                                                            0,1,2,3,4                                     55       $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$         ...       \...                                                              92        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$

  31                                                                                                                                            reserved                                      56       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$   97        $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$                   ...       \...

                                                                                                                                                                                              ...      \...                                                    98        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$             161       $$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$

                                                                                                                                                                                              61       $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$   ...       \...                                                              162       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$

                                                                                                                                                                                              62       0,1,2,3,4,5                                             118       $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$        ...       \...

                                                                                                                                                                                              63       reserved                                                119       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$   217       $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$

                                                                                                                                                                                                                                                               ...       \...                                                              218       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$

                                                                                                                                                                                                                                                               125       $$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$   ...       \...

                                                                                                                                                                                                                                                               126-127   reserved                                                          245       $$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$

                                                                                                                                                                                                                                                                                                                                           246-255   reserved

  where SRIs                                                                                                                                                                                                                                                                                                                                         
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                                                                        
  are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table 7.3.1.1.2-31B-1, Table 7.3.1.1.2-31C-1 and Table 7.3.1.1.2-31D-1.                                                                                                                                                                                                              
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31D-1: SRI combinations for 6 layers,
$\mathbf{N}_{\mathbf{SRS}}\mathbf{> 6}$

  -----------------------------------------------------------------------------------------------------------------------------------------------------------
                                                                          SRI(s) for 6 layers,                      SRI(s) for 6 layers,
                                                                          $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$   $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
  ----------------------------------------------------------------------- ----------------------------------------- -----------------------------------------
  $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$         0,1,2,3,4,5                               0,1,2,3,4,5

  $$s_{0}^{1},s_{1}^{1},s_{2}^{1},s_{3}^{1},s_{4}^{1},s_{5}^{1}$$         0,1,2,3,4,6                               0,1,2,3,4,6

  $$s_{0}^{2},s_{1}^{2},s_{2}^{2},s_{3}^{2},s_{4}^{2},s_{5}^{2}$$         0,1,2,3,5,6                               0,1,2,3,4,7

  $$s_{0}^{3},s_{1}^{3},s_{2}^{3},s_{3}^{3},s_{4}^{3},s_{5}^{3}$$         0,1,2,4,5,6                               0,1,2,3,5,6

  $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4},s_{4}^{4},s_{5}^{4}$$         0,1,3,4,5,6                               0,1,2,3,5,7

  $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5},s_{5}^{5}$$         0,2,3,4,5,6                               0,1,2,3,6,7

  $$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$         1,2,3,4,5,6                               0,1,2,4,5,6

  $$s_{0}^{7},s_{1}^{7},s_{2}^{7},s_{3}^{7},s_{4}^{7},s_{5}^{7}$$                                                   0,1,2,4,5,7

  $$s_{0}^{8},s_{1}^{8},s_{2}^{8},s_{3}^{8},s_{4}^{8},s_{5}^{8}$$                                                   0,1,2,4,6,7

  $$s_{0}^{9},s_{1}^{9},s_{2}^{9},s_{3}^{9},s_{4}^{9},s_{5}^{9}$$                                                   0,1,2,5,6,7

  $$s_{0}^{10},s_{1}^{10},s_{2}^{10},s_{3}^{10},s_{4}^{10},s_{5}^{10}$$                                             0,1,3,4,5,6

  $$s_{0}^{11},s_{1}^{11},s_{2}^{11},s_{3}^{11},s_{4}^{11},s_{5}^{11}$$                                             0,1,3,4,5,7

  $$s_{0}^{12},s_{1}^{12},s_{2}^{12},s_{3}^{12},s_{4}^{12},s_{5}^{12}$$                                             0,1,3,4,6,7

  $$s_{0}^{13},s_{1}^{13},s_{2}^{13},s_{3}^{13},s_{4}^{13},s_{5}^{13}$$                                             0,1,3,5,6,7

  $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14},s_{4}^{14},s_{5}^{14}$$                                             0,1,4,5,6,7

  $$s_{0}^{15},s_{1}^{15},s_{2}^{15},s_{3}^{15},s_{4}^{15},s_{5}^{15}$$                                             0,2,3,4,5,6

  $$s_{0}^{16},s_{1}^{16},s_{2}^{16},s_{3}^{16},s_{4}^{16},s_{5}^{16}$$                                             0,2,3,4,5,7

  $$s_{0}^{17},s_{1}^{17},s_{2}^{17},s_{3}^{17},s_{4}^{17},s_{5}^{17}$$                                             0,2,3,4,6,7

  $$s_{0}^{18},s_{1}^{18},s_{2}^{18},s_{3}^{18},s_{4}^{18},s_{5}^{18}$$                                             0,2,3,5,6,7

  $$s_{0}^{19},s_{1}^{19},s_{2}^{19},s_{3}^{19},s_{4}^{19},s_{5}^{19}$$                                             0,2,4,5,6,7

  $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20},s_{5}^{20}$$                                             0,3,4,5,6,7

  $$s_{0}^{21},s_{1}^{21},s_{2}^{21},s_{3}^{21},s_{4}^{21},s_{5}^{21}$$                                             1,2,3,4,5,6

  $$s_{0}^{22},s_{1}^{22},s_{2}^{22},s_{3}^{22},s_{4}^{22},s_{5}^{22}$$                                             1,2,3,4,5,7

  $$s_{0}^{23},s_{1}^{23},s_{2}^{23},s_{3}^{23},s_{4}^{23},s_{5}^{23}$$                                             1,2,3,4,6,7

  $$s_{0}^{24},s_{1}^{24},s_{2}^{24},s_{3}^{24},s_{4}^{24},s_{5}^{24}$$                                             1,2,3,5,6,7

  $$s_{0}^{25},s_{1}^{25},s_{2}^{25},s_{3}^{25},s_{4}^{25},s_{5}^{25}$$                                             1,2,4,5,6,7

  $$s_{0}^{26},s_{1}^{26},s_{2}^{26},s_{3}^{26},s_{4}^{26},s_{5}^{26}$$                                             1,3,4,5,6,7

  $$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$                                             2,3,4,5,6,7
  -----------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31E: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 7}$

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                       Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$         Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$                   Bit field SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$       field                                                            field                                                                      mapped to 
                                                                                                                                                                                              mapped                                                           mapped                                                                     index     
                                                                                                                                                                                              to index                                                         to index                                                                             
  --------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------- -------- ------------------------------------------------------- -------- ----------------------------------------------------------------- --------- -----------------------------------------------------------------------
  0                                                                                                                                             0                                             0        0                                                       0        0                                                                 0         0

  1                                                                                                                                             1                                             1        1                                                       1        1                                                                 1         1

  2                                                                                                                                             2                                             2        2                                                       2        2                                                                 2         2

  3                                                                                                                                             3                                             3        3                                                       3        3                                                                 3         3

  4                                                                                                                                             4                                             4        4                                                       4        4                                                                 4         4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                       5        5                                                       5        5                                                                 5         5

  ...                                                                                                                                           \...                                          6        $$s_{0}^{0},s_{1}^{0}$$                                 6        6                                                                 6         6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                       ...      \...                                                    7        $$s_{0}^{0},s_{1}^{0}$$                                           7         7

  15                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$             20       $$s_{0}^{14},s_{1}^{14}$$                               ...      \...                                                              8         $$s_{0}^{0},s_{1}^{0}$$

  ...                                                                                                                                           \...                                          21       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                       27       $$s_{0}^{20},s_{1}^{20}$$                                         ...       \...

  24                                                                                                                                            $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$             ...      \...                                                    28       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                                 35        $$s_{0}^{27},s_{1}^{27}$$

  25                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$   40       $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$                    ...      \...                                                              36        $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$

  ...                                                                                                                                           \...                                          41       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$             62       $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$                              ...       \...

  29                                                                                                                                            $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$   ...      \...                                                    63       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$                       91        $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$

  30                                                                                                                                            0,1,2,3,4                                     55       $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$         ...      \...                                                              92        $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$

  31                                                                                                                                            reserved                                      56       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$   97       $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$                   ...       \...

                                                                                                                                                                                              ...      \...                                                    98       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$             161       $$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$

                                                                                                                                                                                              61       $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$   ...      \...                                                              162       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$

                                                                                                                                                                                              62       0,1,2,3,4,5                                             118      $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$        ...       \...

                                                                                                                                                                                              63       reserved                                                119      $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$   217       $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$

                                                                                                                                                                                                                                                               ...      \...                                                              218       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$

                                                                                                                                                                                                                                                               125      $$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$   ...       \...

                                                                                                                                                                                                                                                               126      0,1,2,3,4,5,6                                                     245       $$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$

                                                                                                                                                                                                                                                               127      reserved                                                          246       0,1,2,3,4,5,6

                                                                                                                                                                                                                                                                                                                                          247       0,1,2,3,4,5,7

                                                                                                                                                                                                                                                                                                                                          248       0,1,2,3,4,6,7

                                                                                                                                                                                                                                                                                                                                          249       0,1,2,3,5,6,7

                                                                                                                                                                                                                                                                                                                                          250       0,1,2,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          251       0,1,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          252       0,2,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          253       1,2,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          254-255   reserved

  where SRIs                                                                                                                                                                                                                                                                                                                                        
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                                                                       
  are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table 7.3.1.1.2-31B-1, Table 7.3.1.1.2-31C-1 and Table 7.3.1.1.2-31D-1.                                                                                                                                                                                                             
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-31F: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{SRS}}\mathbf{> 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 8}$

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Bit field mapped to index                                                                                                                     SRI(s),                                       Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 6}$         Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 7}$                   Bit      SRI(s), $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 8}$
                                                                                                                                                $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 5}$       field                                                            field                                                                      field    
                                                                                                                                                                                              mapped                                                           mapped                                                                     mapped   
                                                                                                                                                                                              to index                                                         to index                                                                   to index 
  --------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------- -------- ------------------------------------------------------- -------- ----------------------------------------------------------------- -------- -----------------------------------------------------------------------
  0                                                                                                                                             0                                             0        0                                                       0        0                                                                 0        0

  1                                                                                                                                             1                                             1        1                                                       1        1                                                                 1        1

  2                                                                                                                                             2                                             2        2                                                       2        2                                                                 2        2

  3                                                                                                                                             3                                             3        3                                                       3        3                                                                 3        3

  4                                                                                                                                             4                                             4        4                                                       4        4                                                                 4        4

  5                                                                                                                                             $$s_{0}^{0},s_{1}^{0}$$                       5        5                                                       5        5                                                                 5        5

  ...                                                                                                                                           \...                                          6        $$s_{0}^{0},s_{1}^{0}$$                                 6        6                                                                 6        6

  14                                                                                                                                            $$s_{0}^{9},s_{1}^{9}$$                       ...      \...                                                    7        $$s_{0}^{0},s_{1}^{0}$$                                           7        7

  15                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$             20       $$s_{0}^{14},s_{1}^{14}$$                               ...      \...                                                              8        $$s_{0}^{0},s_{1}^{0}$$

  ...                                                                                                                                           \...                                          21       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                       27       $$s_{0}^{20},s_{1}^{20}$$                                         ...      \...

  24                                                                                                                                            $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$             ...      \...                                                    28       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$                                 35       $$s_{0}^{27},s_{1}^{27}$$

  25                                                                                                                                            $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$   40       $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$                    ...      \...                                                              36       $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$

  ...                                                                                                                                           \...                                          41       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$             62       $$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$                              ...      \...

  29                                                                                                                                            $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$   ...      \...                                                    63       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$                       91       $$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$

  30                                                                                                                                            0,1,2,3,4                                     55       $$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$         ...      \...                                                              92       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$

  31                                                                                                                                            reserved                                      56       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$   97       $$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$                   ...      \...

                                                                                                                                                                                              ...      \...                                                    98       $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$             161      $$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$

                                                                                                                                                                                              61       $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$   ...      \...                                                              162      $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$

                                                                                                                                                                                              62       0,1,2,3,4,5                                             118      $$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$        ...      \...

                                                                                                                                                                                              63       reserved                                                119      $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$   217      $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$

                                                                                                                                                                                                                                                               ...      \...                                                              218      $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$

                                                                                                                                                                                                                                                               125      $$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$   ...      \...

                                                                                                                                                                                                                                                               126      0,1,2,3,4,5,6                                                     245      $$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$

                                                                                                                                                                                                                                                               127      reserved                                                          246      0,1,2,3,4,5,6

                                                                                                                                                                                                                                                                                                                                          247      0,1,2,3,4,5,7

                                                                                                                                                                                                                                                                                                                                          248      0,1,2,3,4,6,7

                                                                                                                                                                                                                                                                                                                                          249      0,1,2,3,5,6,7

                                                                                                                                                                                                                                                                                                                                          250      0,1,2,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          251      0,1,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          252      0,2,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          253      1,2,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          254      0,1,2,3,4,5,6,7

                                                                                                                                                                                                                                                                                                                                          255      reserved

  where SRIs                                                                                                                                                                                                                                                                                                                                       
  $\left\{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right\},\ B \in \left\{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right\}$                                                                                                                                                                                                      
  are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table 7.3.1.1.2-31B-1, Table 7.3.1.1.2-31C-1 and Table 7.3.1.1.2-31D-1.                                                                                                                                                                                                            
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Table 7.3.1.1.2-32: SRI indication or Second SRI indication, for
codebook based PUSCH transmission, if *ul-FullPowerTransmission* is not
configured, or *ul-FullPowerTransmission = fullpowerMode1, or
ul-FullPowerTransmission = fullpowerMode2, or ul-FullPowerTransmission =
fullpower* and $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 2}$

  -----------------------------------------------------------------------
  Bit field mapped to index      SRI(s), ![](media/image1019.wmf)
  ------------------------------ ----------------------------------------
  0                              0

  1                              1
  -----------------------------------------------------------------------

Table 7.3.1.1.2-32A: SRI indication or Second SRI indication, for
codebook based PUSCH transmission, if *ul-FullPowerTransmission =
fullpowerMode2* and $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 3}$

  ------------------------------------------------------------------------
  Bit field mapped to index      SRI(s),
                                 $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 3}$
  ------------------------------ -----------------------------------------
  0                              0

  1                              1

  2                              2

  3                              Reserved
  ------------------------------------------------------------------------

Table 7.3.1.1.2-32B: SRI indication or Second SRI indication, for
codebook based PUSCH transmission, if *ul-FullPowerTransmission =
fullpowerMode2* and $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 4}$

  ------------------------------------------------------------------------
  Bit field mapped to index      SRI(s),
                                 $\mathbf{N}_{\mathbf{SRS}}\mathbf{= 4}$
  ------------------------------ -----------------------------------------
  0                              0

  1                              1

  2                              2

  3                              3
  ------------------------------------------------------------------------

Table 7.3.1.1.2-33: Joint indication of minimum applicable scheduling
offset K0/K2

  ------------------------------------------------------------------------
  **Bit field **Minimum applicable K0 for   **Minimum applicable K2 for
  mapped to   the active DL BWP, if         the active UL BWP, if
  index**     *minimumSchedulingOffsetK0*   *minimumSchedulingOffsetK2* is
              is configured for the DL      configured for the UL BWP**
              BWP**                         
  ----------- ----------------------------- ------------------------------
  0           The first value configured by The first value configured by
              *minimumSchedulingOffsetK0*   *minimumSchedulingOffsetK2*
              for the active DL BWP         for the active UL BWP

  1           The second value configured   The second value configured by
              by                            *minimumSchedulingOffsetK2*
              *minimumSchedulingOffsetK0*   for the active UL BWP if the
              for the active DL BWP if the  second value is configured; 0
              second value is configured; 0 otherwise
              otherwise                     
  ------------------------------------------------------------------------

Table 7.3.1.1.2-34: Redundancy version

  -----------------------------------------------------------------------
  **Value of the          **Value of** ![](media/image346.wmf) **to be
  Redundancy version      applied**
  field**                 
  ----------------------- -----------------------------------------------
  0                       0

  1                       2
  -----------------------------------------------------------------------

Table 7.3.1.1.2-35: Allowed entries for DCI format 0_1 and DCI format
0_2, configured by\
higher layer parameter *ul-AccessConfigListDCI-0-1* and
*ul-AccessConfigListDCI-0-2*, respectively,\
in frequency range 1

  -------------------------------------------------------------------------
  Entry   Channel Access Type                  The CP extension     CAPC
  index                                        T\_\"ext\" index     
                                               defined in Clause    
                                               5.3.1 of \[4,        
                                               38.211\]             
  ------- ------------------------------------ -------------------- -------
  0       Type2C-ULChannelAccess defined in    0                    1
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  1       Type2C-ULChannelAccess defined in    0                    2
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  2       Type2C-ULChannelAccess defined in    0                    3
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  3       Type2C-ULChannelAccess defined in    0                    4
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  4       Type2C-ULChannelAccess defined in    2                    1
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  5       Type2C-ULChannelAccess defined in    2                    2
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  6       Type2C-ULChannelAccess defined in    2                    3
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  7       Type2C-ULChannelAccess defined in    2                    4
          clause 4.2.1.2.3 in TS 37.213 \[14\]                      

  8       Type2B-ULChannelAccess defined in    0                    1
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  9       Type2B-ULChannelAccess defined in    0                    2
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  10      Type2B-ULChannelAccess defined in    0                    3
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  11      Type2B-ULChannelAccess defined in    0                    4
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  12      Type2B-ULChannelAccess defined in    2                    1
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  13      Type2B-ULChannelAccess defined in    2                    2
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  14      Type2B-ULChannelAccess defined in    2                    3
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  15      Type2B-ULChannelAccess defined in    2                    4
          clause 4.2.1.2.2 in TS 37.213 \[14\]                      

  16      Type2A-ULChannelAccess defined in    0                    1
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  17      Type2A-ULChannelAccess defined in    0                    2
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  18      Type2A-ULChannelAccess defined in    0                    3
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  19      Type2A-ULChannelAccess defined in    0                    4
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  20      Type2A-ULChannelAccess defined in    1                    1
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  21      Type2A-ULChannelAccess defined in    1                    2
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  22      Type2A-ULChannelAccess defined in    1                    3
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  23      Type2A-ULChannelAccess defined in    1                    4
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  24      Type2A-ULChannelAccess defined in    3                    1
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  25      Type2A-ULChannelAccess defined in    3                    2
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  26      Type2A-ULChannelAccess defined in    3                    3
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  27      Type2A-ULChannelAccess defined in    3                    4
          clause 4.2.1.2.1 in TS 37.213 \[14\]                      

  28      Type1-ULChannelAccess defined in     0                    1
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  29      Type1-ULChannelAccess defined in     0                    2
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  30      Type1-ULChannelAccess defined in     0                    3
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  31      Type1-ULChannelAccess defined in     0                    4
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  32      Type1-ULChannelAccess defined in     1                    1
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  33      Type1-ULChannelAccess defined in     1                    2
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  34      Type1-ULChannelAccess defined in     1                    3
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  35      Type1-ULChannelAccess defined in     1                    4
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  36      Type1-ULChannelAccess defined in     2                    1
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  37      Type1-ULChannelAccess defined in     2                    2
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  38      Type1-ULChannelAccess defined in     2                    3
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  39      Type1-ULChannelAccess defined in     2                    4
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  40      Type1-ULChannelAccess defined in     3                    1
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  41      Type1-ULChannelAccess defined in     3                    2
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  42      Type1-ULChannelAccess defined in     3                    3
          clause 4.2.1.1 in TS 37.213 \[14\]                        

  43      Type1-ULChannelAccess defined in     3                    4
          clause 4.2.1.1 in TS 37.213 \[14\]                        
  -------------------------------------------------------------------------

Table 7.3.1.1.2-35A: Allowed entries for DCI format 0_1 and DCI format
0_2, configured by higher layer parameter *ul-AccessConfigListDCI-0-1*
in frequency range 2-2

  -----------------------------------------------------------------------
  Entry index      Channel Access Type
  ---------------- ------------------------------------------------------
  0                Type 1 channel access defined in clause 4.4.1 of TS
                   37.213 \[14\]

  1                Type 2 channel access defined in clause 4.4.2 of TS
                   37.213 \[14\]

  2                Type 3 channel access defined in clause 4.4.3 of TS
                   37.213 \[14\]
  -----------------------------------------------------------------------

Table 7.3.1.1.2-36: SRS resource set indication

+---------------+------------------------------------------------------+
| Bit field     | SRS resource set indication                          |
| mapped to     |                                                      |
| index         |                                                      |
+===============+======================================================+
| 0             | SRS resource indicator field and Precoding           |
|               | information and number of layers field are           |
|               | associated with the first SRS resource set;          |
|               |                                                      |
|               | Second SRS resource indicator field and Second       |
|               | Precoding information field are reserved;            |
|               |                                                      |
|               | If there are two indicated joint/UL TCI states, the  |
|               | first indicated joint/UL TCI state is applied to the |
|               | corresponding PUSCH transmission occasions.          |
+---------------+------------------------------------------------------+
| 1             | SRS resource indicator field and Precoding           |
|               | information and number of layers field are           |
|               | associated with the second SRS resource set;         |
|               |                                                      |
|               | Second SRS resource indicator field and Second       |
|               | Precoding information field are reserved;            |
|               |                                                      |
|               | If there are two indicated joint/UL TCI states, the  |
|               | second indicated joint/UL TCI state is applied to    |
|               | the corresponding PUSCH transmission occasions.      |
+---------------+------------------------------------------------------+
| 2             | SRS resource indicator field and Precoding           |
|               | information and number of layers field are           |
|               | associated with the first SRS resource set;          |
|               |                                                      |
|               | Second SRS resource indicator field and Second       |
|               | Precoding information field are associated with the  |
|               | second SRS resource set;                             |
|               |                                                      |
|               | If there are two indicated joint/UL TCI states, the  |
|               | first indicated joint/UL TCI state is applied to the |
|               | PUSCH transmission occasions/antenna ports           |
|               | associated with the first SRS resource set, and the  |
|               | second indicated joint/UL TCI state is applied to    |
|               | the PUSCH transmission occasions/antenna ports       |
|               | associated with the second SRS resource set.         |
+---------------+------------------------------------------------------+
| 3             | SRS resource indicator field and Precoding           |
|               | information and number of layers field are           |
|               | associated with the first SRS resource set;          |
|               |                                                      |
|               | Second SRS resource indicator field and Second       |
|               | Precoding information field are associated with the  |
|               | second SRS resource set;                             |
|               |                                                      |
|               | If there are two indicated joint/UL TCI states, the  |
|               | first indicated joint/UL TCI state is applied to the |
|               | PUSCH transmission occasions associated with the     |
|               | first SRS resource set, and the second indicated 3UL |
|               | TCI state is applied to the PUSCH transmission       |
|               | occasions associated with the second SRS resource    |
|               | set.                                                 |
|               |                                                      |
|               | If *multipanelScheme* is configured, this row is     |
|               | reserved.                                            |
+---------------+------------------------------------------------------+
| NOTE 1: The   |                                                      |
| first and the |                                                      |
| second SRS    |                                                      |
| resource sets |                                                      |
| are           |                                                      |
| respectively  |                                                      |
| the ones with |                                                      |
| lower and     |                                                      |
| higher        |                                                      |
| *srs-R        |                                                      |
| esourceSetId* |                                                      |
| of the two    |                                                      |
| SRS resources |                                                      |
| sets          |                                                      |
| configured by |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| *sr           |                                                      |
| s-ResourceSet |                                                      |
| ToAddModList* |                                                      |
| or            |                                                      |
| *srs-Resour   |                                                      |
| ceSetToAddMod |                                                      |
| ListDCI-0-2*, |                                                      |
| and           |                                                      |
| associated    |                                                      |
| with the      |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| *usage* of    |                                                      |
| value         |                                                      |
| \'*n          |                                                      |
| onCodeBook*\' |                                                      |
| if            |                                                      |
| *txConfig*=   |                                                      |
| *nonCodebook* |                                                      |
| or            |                                                      |
| \             |                                                      |
| '*codebook*\' |                                                      |
| if            |                                                      |
| *txConfig     |                                                      |
| *=*codebook*. |                                                      |
| When only one |                                                      |
| SRS resource  |                                                      |
| set is        |                                                      |
| configured by |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| *sr           |                                                      |
| s-ResourceSet |                                                      |
| ToAddModList* |                                                      |
| or            |                                                      |
| *srs-Resour   |                                                      |
| ceSetToAddMod |                                                      |
| ListDCI-0-2*, |                                                      |
| and           |                                                      |
| associated    |                                                      |
| with the      |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| usage of      |                                                      |
| value         |                                                      |
| \             |                                                      |
| '*codebook*\' |                                                      |
| or            |                                                      |
| \'*n          |                                                      |
| onCodeBook*\' |                                                      |
| respectively, |                                                      |
| the first SRS |                                                      |
| resource set  |                                                      |
| is the SRS    |                                                      |
| resource set. |                                                      |
| The           |                                                      |
| association   |                                                      |
| of the first  |                                                      |
| and second    |                                                      |
| SRS resource  |                                                      |
| sets to PUSCH |                                                      |
| repetitions   |                                                      |
| for each bit  |                                                      |
| field index   |                                                      |
| value is as   |                                                      |
| defined in    |                                                      |
| Clause        |                                                      |
| 6.1.2.1 of TS |                                                      |
| 38.214 \[6\]. |                                                      |
|               |                                                      |
| NOTE 2: For   |                                                      |
| DCI format    |                                                      |
| 0_2, the      |                                                      |
| first and     |                                                      |
| second SRS    |                                                      |
| resource sets |                                                      |
| configured by |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| *srs-Resou    |                                                      |
| rceSetToAddMo |                                                      |
| dListDCI-0-2* |                                                      |
| are composed  |                                                      |
| of the first  |                                                      |
| $N_{          |                                                      |
| SRS,\ 0\_ 2}$ |                                                      |
| SRS resources |                                                      |
| together with |                                                      |
| other         |                                                      |
| c             |                                                      |
| onfigurations |                                                      |
| in the first  |                                                      |
| and second    |                                                      |
| SRS resource  |                                                      |
| sets          |                                                      |
| configured by |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| *srs          |                                                      |
| -ResourceSetT |                                                      |
| oAddModList*, |                                                      |
| if any, and   |                                                      |
| associated    |                                                      |
| with the      |                                                      |
| higher layer  |                                                      |
| parameter     |                                                      |
| *usage* of    |                                                      |
| value         |                                                      |
| \             |                                                      |
| '*codebook*\' |                                                      |
| or            |                                                      |
| \'*no         |                                                      |
| nCodeBook*\', |                                                      |
| respectively, |                                                      |
| except for    |                                                      |
| the higher    |                                                      |
| layer         |                                                      |
| parameters    |                                                      |
| *\'srs-Re     |                                                      |
| sourceSetId\' |                                                      |
| and           |                                                      |
| \'srs-Resou   |                                                      |
| rceIdList\'.* |                                                      |
+---------------+------------------------------------------------------+

Table 7.3.1.1.2-37: SRS offset indicator

+--------+-------------+--------+-------------+--------+-------------+
| Bit    | Available   | Bit    | Available   | Bit    | Available   |
| field  | slot        | field  | slot        | field  | slot        |
| mapped | offset, K=2 | mapped | offset, K=3 | mapped | offset, K=4 |
| to     |             | to     |             | to     |             |
| index  |             | index  |             | index  |             |
+========+=============+========+=============+========+=============+
| 0      | The 1^st^   | 0      | The 1^st^   | 0      | The 1^st^   |
|        | entry in    |        | entry in    |        | entry in    |
|        | *ava        |        | *ava        |        | *ava        |
|        | ilableSlotO |        | ilableSlotO |        | ilableSlotO |
|        | ffsetList*, |        | ffsetList*, |        | ffsetList*, |
|        | if          |        | if          |        | if          |
|        | configured  |        | configured  |        | configured  |
|        | for the     |        | for the     |        | for the     |
|        | aperiodic   |        | aperiodic   |        | aperiodic   |
|        | SRS         |        | SRS         |        | SRS         |
|        | resource    |        | resource    |        | resource    |
|        | set;        |        | set;        |        | set;        |
|        |             |        |             |        |             |
|        | 0,          |        | 0,          |        | 0,          |
|        | otherwise   |        | otherwise   |        | otherwise   |
+--------+-------------+--------+-------------+--------+-------------+
| 1      | The 2^nd^   | 1      | The 2^nd^   | 1      | The 2^nd^   |
|        | entry in    |        | entry in    |        | entry in    |
|        | *ava        |        | *ava        |        | *ava        |
|        | ilableSlotO |        | ilableSlotO |        | ilableSlotO |
|        | ffsetList*, |        | ffsetList*, |        | ffsetList*, |
|        | if          |        | if          |        | if          |
|        | configured  |        | configured  |        | configured  |
|        | for the     |        | for the     |        | for the     |
|        | aperiodic   |        | aperiodic   |        | aperiodic   |
|        | SRS         |        | SRS         |        | SRS         |
|        | resource    |        | resource    |        | resource    |
|        | set;        |        | set;        |        | set;        |
|        |             |        |             |        |             |
|        | 0,          |        | 0,          |        | 0,          |
|        | otherwise   |        | otherwise   |        | otherwise   |
+--------+-------------+--------+-------------+--------+-------------+
|        |             | 2      | The 3^rd^   | 2      | The 3^rd^   |
|        |             |        | entry in    |        | entry in    |
|        |             |        | *ava        |        | *ava        |
|        |             |        | ilableSlotO |        | ilableSlotO |
|        |             |        | ffsetList*, |        | ffsetList*, |
|        |             |        | if          |        | if          |
|        |             |        | configured  |        | configured  |
|        |             |        | for the     |        | for the     |
|        |             |        | aperiodic   |        | aperiodic   |
|        |             |        | SRS         |        | SRS         |
|        |             |        | resource    |        | resource    |
|        |             |        | set;        |        | set;        |
|        |             |        |             |        |             |
|        |             |        | 0,          |        | 0,          |
|        |             |        | otherwise   |        | otherwise   |
+--------+-------------+--------+-------------+--------+-------------+
|        |             | 3      | Reserved    | 3      | The 4^th^   |
|        |             |        |             |        | entry in    |
|        |             |        |             |        | *ava        |
|        |             |        |             |        | ilableSlotO |
|        |             |        |             |        | ffsetList*, |
|        |             |        |             |        | if          |
|        |             |        |             |        | configured  |
|        |             |        |             |        | for the     |
|        |             |        |             |        | aperiodic   |
|        |             |        |             |        | SRS         |
|        |             |        |             |        | resource    |
|        |             |        |             |        | set;        |
|        |             |        |             |        |             |
|        |             |        |             |        | 0,          |
|        |             |        |             |        | otherwise   |
+--------+-------------+--------+-------------+--------+-------------+

Table 7.3.1.1.2-38: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 1

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           1                                              0

  1           1                                              1

  2           2                                              0

  3           2                                              1

  4           2                                              2

  5           2                                              3

  6           1                                              8

  7           1                                              9

  8           2                                              8

  9           2                                              9

  10          2                                              10

  11          2                                              11

  12-15       Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-39: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 2

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           1                                              0,1

  1           2                                              0,1

  2           2                                              2,3

  3           2                                              0,2

  4           1                                              8,9

  5           2                                              8,9

  6           2                                              10,11

  7           2                                              9,11

  8-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-40: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1, *multipanelScheme* is not configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 3

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-2

  1           2                                              8-10

  2           1                                              0,1,8

  3           2                                              0,1,8

  4           2                                              2,3,10

  5-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-40A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1, *multipanelScheme* is configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 3

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-2

  1           2                                              8-10

  2           1                                              0,1,8

  3           2                                              0,1,8

  4           2                                              2,3,10

  5           2                                              0,2,3

  6-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-41: Antenna port(s), transform precoder is disabled,
dmrs-Type=1,\
*dmrs-TypeEnh* is configured, maxLength=1, rank = 4

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-3

  1           2                                              8-11

  2           1                                              0,1,8,9

  3           2                                              0,1,8,9

  4           2                                              2,3,10,11

  5-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-42: Antenna port(s), transform precoder is disabled,
dmrs-Type=1,\
*dmrs-TypeEnh* is configured, maxLength=1, rank = 5

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0,1,2,3,8

  1-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-43: Antenna port(s), transform precoder is disabled,
dmrs-Type=1,\
*dmrs-TypeEnh* is configured, maxLength=1, rank = 6

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0,1,2,3,8,10

  1-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-44: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 7

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0,1,2,3,8,9,10

  1-15        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-45: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 8

  -----------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**  **DMRS port(s)**
  ----------- --------------------------------------------- -------------------
  0           2                                             0,1,2,3,8,9,10,11

  1-15        Reserved                                      Reserved
  -----------------------------------------------------------------------------

Table 7.3.1.1.2-46: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 1

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0           1

  1           1                                1           1

  2           2                                0           1

  3           2                                1           1

  4           2                                2           1

  5           2                                3           1

  6           2                                0           2

  7           2                                1           2

  8           2                                2           2

  9           2                                3           2

  10          2                                4           2

  11          2                                5           2

  12          2                                6           2

  13          2                                7           2

  14          1                                8           1

  15          1                                9           1

  16          2                                8           1

  17          2                                9           1

  18          2                                10          1

  19          2                                11          1

  20          2                                8           2

  21          2                                9           2

  22          2                                10          2

  23          2                                11          2

  24          2                                12          2

  25          2                                13          2

  26          2                                14          2

  27          2                                15          2

  28          1                                0           2

  29          1                                1           2

  30          1                                8           2

  31          1                                9           2
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-47: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 2

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0,1         1

  1           2                                0,1         1

  2           2                                2,3         1

  3           2                                0,2         1

  4           2                                0,1         2

  5           2                                2,3         2

  6           2                                4,5         2

  7           2                                6,7         2

  8           2                                0,4         2

  9           2                                2,6         2

  10          1                                8,9         1

  11          2                                8,9         1

  12          2                                10,11       1

  13          2                                8,9         2

  14          2                                10,11       2

  15          2                                12,13       2

  16          2                                14,15       2

  17          2                                9,11        1

  18          2                                1,3         1

  19          2                                0,2         2

  20          2                                1,3         2

  21          2                                4,6         2

  22          2                                5,7         2

  23          2                                8,10        2

  24          2                                9,11        2

  25          2                                12,14       2

  26          2                                13,15       2

  27          1                                0,1         2

  28          1                                8,9         2

  29          1                                4,5         2

  30          1                                12,13       2

  31          Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-48: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1, *multipanelScheme* is not configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           2                                0,1,4       2

  2           2                                2,3,6       2

  3           2                                9-11        1

  4           2                                8,9,12      2

  5           2                                10,11,14    2

  6           1                                0,1,8       1

  7           2                                0,1,8       1

  8           2                                2,3,10      1

  9           2                                0,1,8       2

  10          2                                4,5,12      2

  11          2                                2,3,10      2

  12          2                                6,7,14      2

  13          2                                5,8,9       2

  14          2                                7,10,11     2

  15          2                                7,12,13     2

  16-31       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-48A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1, *multipanelScheme* is configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           2                                0,1,4       2

  2           2                                2,3,6       2

  3           2                                9-11        1

  4           2                                8,9,12      2

  5           2                                10,11,14    2

  6           1                                0,1,8       1

  7           2                                0,1,8       1

  8           2                                2,3,10      1

  9           2                                0,1,8       2

  10          2                                4,5,12      2

  11          2                                2,3,10      2

  12          2                                6,7,14      2

  13          2                                5,8,9       2

  14          2                                7,10,11     2

  15          2                                7,12,13     2

  16          2                                0,2,3       1

  17-31       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-49: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 4

  ---------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS        **Number of front-load
              without data**                   port(s)**     symbols**
  ----------- -------------------------------- ------------- ----------------------
  0           2                                0-3           1

  1           2                                0,1,4,5       2

  2           2                                2,3,6,7       2

  3           2                                0,2,4,6       2

  4           2                                8-11          1

  5           2                                8,9,12,13     2

  6           2                                10,11,14,15   2

  7           2                                1,3,5,7       2

  8           1                                0,1,8,9       1

  9           2                                0,1,8,9       1

  10          2                                2,3,10,11     1

  11          1                                0,1,8,9       2

  12          1                                4,5,12,13     2

  13          2                                0,1,8,9       2

  14          2                                4,5,12,13     2

  15          2                                2,3,10,11     2

  16          2                                6,7,14,15     2

  17-31       Reserved                         Reserved      Reserved
  ---------------------------------------------------------------------------------

Table 7.3.1.1.2-50: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 5

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-4         2

  1           2                                0,1,2,3,8   1

  2           1                                0,1,4,5,8   2

  3           2                                0,1,4,5,8   2

  4-31        Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-51: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 6

  ----------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS         **Number of front-load
              without data**                   port(s)**      symbols**
  ----------- -------------------------------- -------------- ----------------------
  0           2                                0,1,2,3,4,6    2

  1           2                                0,1,2,3,8,10   1

  2           1                                0,1,4,5,8,12   2

  3           2                                0,1,4,5,8,12   2

  4-31        Reserved                         Reserved       Reserved
  ----------------------------------------------------------------------------------

Table 7.3.1.1.2-52: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 7

  ------------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS port(s)** **Number of front-load
              without data**                                    symbols**
  ----------- -------------------------------- ---------------- ----------------------
  0           2                                0,1,2,3,4,5,6    2

  1           2                                0,1,2,3,8,9,10   1

  2           1                                0,1,4,5,8,9,12   2

  3           2                                0,1,4,5,8,9,12   2

  4-31        Reserved                         Reserved         Reserved
  ------------------------------------------------------------------------------------

Table 7.3.1.1.2-53: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 8

  -------------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)   **DMRS port(s)**    **Number of
              without data**                                      front-load symbols**
  ----------- ------------------------------- ------------------- ---------------------
  0           2                               0,1,2,3,4,5,6,7     2

  1           2                               0,1,2,3,8,9,10,11   1

  2           1                               0,1,4,5,8,9,12,13   2

  3           2                               0,1,4,5,8,9,12,13   2

  4-31        Reserved                        Reserved            Reserved
  -------------------------------------------------------------------------------------

Table 7.3.1.1.2-54: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 1

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           1                                              0

  1           1                                              1

  2           2                                              0

  3           2                                              1

  4           2                                              2

  5           2                                              3

  6           3                                              0

  7           3                                              1

  8           3                                              2

  9           3                                              3

  10          3                                              4

  11          3                                              5

  12          1                                              12

  13          1                                              13

  14          2                                              12

  15          2                                              13

  16          2                                              14

  17          2                                              15

  18          3                                              12

  19          3                                              13

  20          3                                              14

  21          3                                              15

  22          3                                              16

  23          3                                              17

  24-31       Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-55: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 2

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           1                                              0,1

  1           2                                              0,1

  2           2                                              2,3

  3           3                                              0,1

  4           3                                              2,3

  5           3                                              4,5

  6           2                                              0,2

  7           1                                              12,13

  8           2                                              12,13

  9           2                                              14,15

  10          3                                              12,13

  11          3                                              14,15

  12          3                                              16,17

  13          3                                              13,15

  14          2                                              13,15

  15-31       Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-56: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2, *multipanelScheme* is not configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 3

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-2

  1           3                                              0-2

  2           3                                              3-5

  3           1                                              0,1,12

  4           2                                              0,1,12

  5           2                                              2,3,14

  6           3                                              0,1,12

  7           3                                              2,3,14

  8           3                                              4,5,16

  9           3                                              13,15,17

  10-31       Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-56A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2, *multipanelScheme* is configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 3

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-2

  1           3                                              0-2

  2           3                                              3-5

  3           1                                              0,1,12

  4           2                                              0,1,12

  5           2                                              2,3,14

  6           3                                              0,1,12

  7           3                                              2,3,14

  8           3                                              4,5,16

  9           3                                              13,15,17

  10          2                                              0,2,3

  11-31       Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-57: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 4

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-3

  1           3                                              0-3

  2           1                                              0,1,12,13

  3           2                                              0,1,12,13

  4           2                                              2,3,14,15

  5           3                                              0,1,12,13

  6           3                                              2,3,14,15

  7           3                                              4,5,16,17

  8-31        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-58: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 5

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           3                                              0-4

  1           2                                              0,1,2,3,12

  2           3                                              0,1,2,3,12

  3-31        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-59: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 6

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           3                                              0-5

  1           2                                              0,1,2,3,12,14

  2           3                                              0,1,2,3,12,14

  3-31        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-60: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 7

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-3,12-14

  1           3                                              0-3,12-14

  2-31        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-61: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1, rank = 8

  ---------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s) without data**   **DMRS port(s)**
  ----------- ---------------------------------------------- ----------------
  0           2                                              0-3,12-15

  1           3                                              0-3,12-15

  2-31        Reserved                                       Reserved
  ---------------------------------------------------------------------------

Table 7.3.1.1.2-62: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 1

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0           1

  1           1                                1           1

  2           2                                0           1

  3           2                                1           1

  4           2                                2           1

  5           2                                3           1

  6           3                                0           1

  7           3                                1           1

  8           3                                2           1

  9           3                                3           1

  10          3                                4           1

  11          3                                5           1

  12          3                                0           2

  13          3                                1           2

  14          3                                2           2

  15          3                                3           2

  16          3                                4           2

  17          3                                5           2

  18          3                                6           2

  19          3                                7           2

  20          3                                8           2

  21          3                                9           2

  22          3                                10          2

  23          3                                11          2

  24          1                                0           2

  25          1                                1           2

  26          1                                6           2

  27          1                                7           2

  28          1                                12          1

  29          1                                13          1

  30          2                                12          1

  31          2                                13          1

  32          2                                14          1

  33          2                                15          1

  34          3                                12          1

  35          3                                13          1

  36          3                                14          1

  37          3                                15          1

  38          3                                16          1

  39          3                                17          1

  40          3                                12          2

  41          3                                13          2

  42          3                                14          2

  43          3                                15          2

  44          3                                16          2

  45          3                                17          2

  46          3                                18          2

  47          3                                19          2

  48          3                                20          2

  49          3                                21          2

  50          3                                22          2

  51          3                                23          2

  52          1                                12          2

  53          1                                13          2

  54          1                                18          2

  55          1                                19          2

  56-63       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-63: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 2

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           1                                0,1         1

  1           2                                0,1         1

  2           2                                2,3         1

  3           3                                0,1         1

  4           3                                2,3         1

  5           3                                4,5         1

  6           2                                0,2         1

  7           3                                0,1         2

  8           3                                2,3         2

  9           3                                4,5         2

  10          3                                6,7         2

  11          3                                8,9         2

  12          3                                10,11       2

  13          1                                0,1         2

  14          1                                6,7         2

  15          2                                0,1         2

  16          2                                2,3         2

  17          2                                6,7         2

  18          2                                8,9         2

  19          1                                12,13       1

  20          2                                12,13       1

  21          2                                14,15       1

  22          3                                12,13       1

  23          3                                14,15       1

  24          3                                16,17       1

  25          3                                12,13       2

  26          3                                14,15       2

  27          3                                16,17       2

  28          3                                18,19       2

  29          3                                20,21       2

  30          3                                22,23       2

  31          1                                12,13       2

  32          1                                18,19       2

  33          2                                12,13       2

  34          2                                14,15       2

  35          2                                18,19       2

  36          2                                20,21       2

  37          3                                13,15       1

  38          2                                13,15       1

  39-63       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-64: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2, *multipanelScheme* is not configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           3                                0-2         1

  2           3                                3-5         1

  3           3                                0,1,6       2

  4           3                                2,3,8       2

  5           3                                4,5,10      2

  6           1                                0,1,12      1

  7           2                                0,1,12      1

  8           2                                2,3,14      1

  9           3                                0,1,12      1

  10          3                                2,3,14      1

  11          3                                4,5,16      1

  12          3                                7,12,13     2

  13          3                                9,14,15     2

  14          3                                11,16,17    2

  15          3                                9,18,19     2

  16          3                                18,19,20    2

  17          3                                21,22,23    2

  18          3                                13,15,17    1

  19-63       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-64A: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2, *multipanelScheme* is configured to *sdmScheme*,
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 3

  -------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS      **Number of front-load
              without data**                   port(s)**   symbols**
  ----------- -------------------------------- ----------- ----------------------
  0           2                                0-2         1

  1           3                                0-2         1

  2           3                                3-5         1

  3           3                                0,1,6       2

  4           3                                2,3,8       2

  5           3                                4,5,10      2

  6           1                                0,1,12      1

  7           2                                0,1,12      1

  8           2                                2,3,14      1

  9           3                                0,1,12      1

  10          3                                2,3,14      1

  11          3                                4,5,16      1

  12          3                                7,12,13     2

  13          3                                9,14,15     2

  14          3                                11,16,17    2

  15          3                                9,18,19     2

  16          3                                18,19,20    2

  17          3                                21,22,23    2

  18          3                                13,15,17    1

  19          2                                0,2,3       1

  20-63       Reserved                         Reserved    Reserved
  -------------------------------------------------------------------------------

Table 7.3.1.1.2-65: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 4

  ---------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS        **Number of front-load
              without data**                   port(s)**     symbols**
  ----------- -------------------------------- ------------- ----------------------
  0           2                                0-3           1

  1           3                                0-3           1

  2           3                                0,1,6,7       2

  3           3                                2,3,8,9       2

  4           3                                4,5,10,11     2

  5           3                                12,13,18,19   2

  6           3                                14,15,20,21   2

  7           3                                16,17,22,23   2

  8           1                                0,1,12,13     1

  9           2                                0,1,12,13     1

  10          2                                2,3,14,15     1

  11          3                                0,1,12,13     1

  12          3                                2,3,14,15     1

  13          3                                4,5,16,17     1

  14-63       Reserved                         Reserved      Reserved
  ---------------------------------------------------------------------------------

Table 7.3.1.1.2-66: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 5

  --------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS       **Number of front-load
              without data**                   port(s)**    symbols**
  ----------- -------------------------------- ------------ ----------------------
  0           3                                0-4          1

  1           2                                0,1,2,3,6    2

  2           2                                0,1,2,3,12   1

  3           3                                0,1,2,3,12   1

  4           1                                0,1,6,7,12   2

  5           2                                0,1,6,7,12   2

  6           3                                0,1,6,7,12   2

  7-63        Reserved                         Reserved     Reserved
  --------------------------------------------------------------------------------

Table 7.3.1.1.2-67: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 6

  -----------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)    **DMRS          **Number of front-load
              without data**                   port(s)**       symbols**
  ----------- -------------------------------- --------------- ----------------------
  0           3                                0-5             1

  1           2                                0,1,2,3,6,8     2

  2           2                                0-3,12,14       1

  3           3                                0-3,12,14       1

  4           1                                0,1,6,7,12,18   2

  5           2                                0,1,6,7,12,18   2

  6           3                                0,1,6,7,12,18   2

  7-63        Reserved                         Reserved        Reserved
  -----------------------------------------------------------------------------------

Table 7.3.1.1.2-68: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 7

  ------------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)   **DMRS port(s)**   **Number of
              without data**                                     front-load symbols**
  ----------- ------------------------------- ------------------ ---------------------
  0           2                               0,1,2,3,6,7,8      2

  1           2                               0-3,12-14          1

  2           3                               0-3,12-14          1

  3           1                               0,1,6,7,12,13,18   2

  4           2                               0,1,6,7,12,13,18   2

  5           3                               0,1,6,7,12,13,18   2

  6-63        Reserved                        Reserved           Reserved
  ------------------------------------------------------------------------------------

Table 7.3.1.1.2-69: Antenna port(s), transform precoder is disabled,
*dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2, rank = 8

  --------------------------------------------------------------------------------------
  **Value**   **Number of DMRS CDM group(s)  **DMRS port(s)**      **Number of
              without data**                                       front-load symbols**
  ----------- ------------------------------ --------------------- ---------------------
  0           2                              0,1,2,3,6,7,8,9       2

  1           2                              0-3,12-15             1

  2           3                              0-3,12-15             1

  3           1                              0,1,6,7,12,13,18,19   2

  4           2                              0,1,6,7,12,13,18,19   2

  5           3                              0,1,6,7,12,13,18,19   2

  6-63        Reserved                       Reserved              Reserved
  --------------------------------------------------------------------------------------

##### 7.3.1.1.3 Format 0_2

DCI format 0_2 is used for the scheduling of PUSCH in one cell.

The following information is transmitted by means of the DCI format 0_2
with CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bit

\- The value of this bit field is always set to 0, indicating an UL DCI
format

\- Carrier indicator - 0, 1, 2 or 3 bits determined by higher layer
parameter *carrierIndicatorSizeDCI-0-2*, as defined in Clause 10.1 of
\[5, TS38.213\]. This field is reserved when this format is carried by
PDCCH on the primary cell and the UE is configured for scheduling on the
primary cell from an SCell, with the same number of bits as that in this
format carried by PDCCH on the SCell for scheduling on the primary cell.

\- UL/SUL indicator - 0 bit for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell or UEs
configured with *supplementaryUplink* in *ServingCellConfig* in the cell
but only one carrier in the cell is configured for PUSCH transmission;
otherwise, 1 bit as defined in Table 7.3.1.1.1-1.

\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number
of UL BWPs $n_{BWP,\ RRC}$ configured by higher layers, excluding the
initial UL bandwidth part. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(n_{BWP})} \right\rceil\ $bits, where

\- $n_{BWP} = n_{BWP,\ RRC} + 1\ $if $n_{BWP,\ RRC} \leq 3$, in which
case the bandwidth part indicator is equivalent to the ascending order
of the higher layer parameter *BWP-Id*;

\- otherwise $n_{BWP} = n_{BWP,\ RRC}$, in which case the bandwidth part
indicator is defined in Table 7.3.1.1.2-1;

If a UE does not support active BWP change via DCI, the UE ignores this
bit field.

\- Frequency domain resource assignment - number of bits determined by
the following:

\- $N_{RBG}$ bits if only resource allocation type 0 is configured,
where $N_{RBG}$ is defined in Clause 6.1.2.2.1 of \[6, TS 38.214\]

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$
bits if only resource allocation type 1 is configured, or
$\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil,\ N_{RBG} \right) + 1$
bits if *resourceAllocationDCI-0-2-r16* is configured as
\'*dynamicSwitch\'*, where
$N_{RBG,\ K1} = \left\lceil \left( N_{RB}^{UL,\ BWP} + \left( N_{UL,\ BWP}^{start}{mod}{K1} \right) \right)/K1 \right\rceil,$
$N_{RB}^{UL,\ BWP}$ is the size of the active UL bandwidth part,
$N_{UL,\ BWP}^{start}$ is defined as in clause 4.4.4.4 of \[4, TS
38.211\] and $K1$ is given by higher layer parameter
*resourceAllocationType1GranularityDCI-0-2.* If the higher layer
parameter *resourceAllocationType1GranularityDCI-0-2* is not configured,
$K1$ is equal to 1.

\- If *resourceAllocationDCI-0-2-r16* is configured as
\'*dynamicSwitch\'*, the MSB bit is used to indicate resource allocation
type 0 or resource allocation type 1, where the bit value of 0 indicates
resource allocation type 0 and the bit value of 1 indicates resource
allocation type 1.

\- For resource allocation type 0, the $N_{RBG}$ LSBs provide the
resource allocation as defined in Clause 6.1.2.2.1 of \[6, TS 38.214\].

\- For resource allocation type 1, the
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$
LSBs provide the resource allocation as follows:

\- For PUSCH hopping with resource allocation type 1:

\- $N_{UL\_ hop}\ $MSB bits are used to indicate the frequency offset
according to Clause 6.3 of \[6, TS 38.214\], where $N_{UL\_ hop} = 1$ if
the higher layer parameter *frequencyHoppingOffsetListsDCI-0-2* contains
two offset values and $N_{UL\_ hop} = 2\ $if the higher layer parameter
*frequencyHoppingOffsetListsDCI-0-2* contains four offset values

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil - N_{UL\_ hop}$
bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- For non-PUSCH hopping with resource allocation type 1:

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$
bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.2 of \[6, TS 38.214\]

If \"Bandwidth part indicator\" field indicates a bandwidth part other
than the active bandwidth part and if *resourceAllocationDCI-0-2-r16* is
configured as \'*dynamicSwitch\'* for the indicated bandwidth part, the
UE assumes resource allocation type 0 for the indicated bandwidth part
if the bitwidth of the \"Frequency domain resource assignment\" field of
the active bandwidth part is smaller than the bitwidth of the
\"Frequency domain resource assignment\" field of the indicated
bandwidth part.

\- Time domain resource assignment - 0, 1, 2, 3, 4, 5 or 6 bits as
defined in Clause 6.1.2.1 of \[6, TS38.214\]. The bitwidth for this
field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits,
where *I* is the number of entries in the higher layer parameter
*pusch-TimeDomainAllocationListDCI-0-2* if the higher layer parameter is
configured, or *I* is the number of entries in the higher layer
parameter *PUSCH-TimeDomainResourceAllocationList* if the higher layer
parameter *PUSCH-TimeDomainResourceAllocationList* is configured and the
higher layer parameter *pusch-TimeDomainAllocationListDCI-0-2* is not
configured; otherwise *I* is the number of entries in the default
table*.*

\- Frequency hopping flag - 0 or 1 bit:

\- 0 bit if the higher layer parameter *frequencyHoppingDCI-0-2* is not
configured;

\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to
resource allocation type 1, as defined in Clause 6.3 of \[6, TS
38.214\].

\- Modulation and coding scheme -5 bits as defined in Clause 6.1.4.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 0, 1 or 2 bits determined by higher layer
parameter *numberOfBitsForRV-DCI-0-2*

\- If 0 bit is configured, *rv~id~* to be applied is 0;

\- 1 bit according to Table 7.3.1.2.3-1;

\- 2 bits according to Table 7.3.1.1.1-2.

\- Transform precoder indicator - 0 or 1 bit

\- 1 bit if the higher layer parameter
*dynamicTransformPrecoderIndicationDCI-0-2* is configured to \'enabled
\' and if the UE is configured to monitor DCI format 0_2 with CRC
scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI, where the bit value of 0
indicates that transform precoder is enabled and the bit value of 1
indicates that transform precoder is disabled. For a DCI format 0_2 with
CRC scrambled by CS-RNTI and the value indicated by new data indicator
field is 0, or for a DCI format 0_2 with CRC scrambled by SP-CSI-RNTI,
the bit is reserved.

\- 0 bit otherwise.

\- HARQ process number - number of bits determined by the following:

\- 5 bits determined by higher layer parameter
*harq-ProcessNumberSizeDCI-0-2-v1700* if configured;

\- otherwise 0, 1, 2, 3 or 4 bits determined by higher layer parameter
*harq-ProcessNumberSizeDCI-0-2*

\- Downlink assignment index - 0, 1, 2 or 4 bits

\- 0 bit if the higher layer parameter *downlinkAssignmentIndexDCI-0-2*
is not configured;

\- 1, 2, 3, 4, 5 or 6 bits otherwise,

\- 1^st^ downlink assignment index - 1 or 2 bits:

\- 1 bit for semi-static HARQ-ACK codebook for unicast and multicast if
*pdsch-HARQ-ACK-Codebook = semiStatic* is configured for both unicast
and multicast and the higher layer parameter *fdmed-ReceptionMulticast*
is not configured; otherwise for semi-static HARQ-ACK codebook for
unicast;

\- 2 bits for dynamic HARQ-ACK codebook for unicast.

\- 2^nd^ downlink assignment index - 0 or 2 bits

\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks
for unicast;

\- 0 bit otherwise.

\- 3^rd^ downlink assignment index - 0, 1 or 2 bits

\- 1 bit for semi-static HARQ-ACK codebook for multicast if the higher
layer parameter *fdmed-ReceptionMulticast* is configured;

\- 2 bits for the dynamic HARQ-ACK codebook for multicast;

\- 0 bit otherwise.

> When two HARQ-ACK codebooks are configured by
> *pdsch-HARQ-ACK-CodebookList* for the same serving cell and if higher
> layer parameter *priorityIndicatorDCI-0-2* is configured, if the bit
> width of the 1^st^ or 2 ^nd^ Downlink assignment index in DCI format
> 0_2 for one HARQ-ACK codebook is not equal to that of the 1^st^ or 2
> ^nd^ Downlink assignment index in DCI format 0_2 for the other
> HARQ-ACK codebook, a number of most significant bits with value set to
> \'0\' are inserted to smaller 1^st^ or 2 ^nd^ Downlink assignment
> index until the bit width of the 1^st^ or 2 ^nd^ Downlink assignment
> index in DCI format 0_2 for the two HARQ-ACK codebooks are the same.
>
> When two HARQ-ACK codebooks are configured by
> *pdsch-HARQ-ACK-CodebookListMulticast* for the same serving cell and
> if higher layer parameter *priorityIndicatorDCI-0-2* is configured, if
> the bit width of the 3^rd^ downlink assignment index in DCI format 0_2
> for one HARQ-ACK codebook is not equal to that of the 3^rd^ downlink
> assignment index in DCI format 0_2 for the other HARQ-ACK codebook, a
> number of most significant bits with value set to \'0\' are inserted
> to smaller 3^rd^ downlink assignment index until the bit width of the
> 3^rd^ downlink assignment index in DCI format 0_2 for the two HARQ-ACK
> codebooks are the same.

\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of \[5, TS38.213\]

\- Second TPC command for scheduled PUSCH - 2 bits as defined in Clause
7.1.1 of \[5, TS38.213\] if higher layer parameter
*SecondTPCFieldDCI-0-2* is configured; 0 bit otherwise.

\- SRS resource set indicator - 0 or 2 bits

\- 2 bits according to Table 7.3.1.1.2-36 if

\- *txConfig = nonCodeBook*, and there are two SRS resource sets
configured by *srs-ResourceSetToAddModListDCI-0-2* and associated with
the *usage* of value \'*nonCodeBook*\', and is not configured with
*coresetPoolIndex* or the value of *coresetPoolIndex* is the same for
all CORESETs if *coresetPoolIndex* is provided, or

\- *txConfig*=*codebook*, and there are two SRS resource sets configured
by *srs-ResourceSetToAddModListDCI-0-2* and associated with *usage* of
value \'*codebook*\', and is not configured with *coresetPoolIndex* or
the value of *coresetPoolIndex* is the same for all CORESETs if
*coresetPoolIndex* is provided;

\- 0 bit otherwise.

\- SRS resource indicator - number of bits determined by the
following:$\ $*\'*

\-
$\left\lceil \log_{2}\left( \sum_{k = 1}^{\min\left\{ L_{\max},\ N_{SRS,0\_ 2} \right\}}\begin{pmatrix}
N_{SRS,0\_ 2} \\
k
\end{pmatrix} \right) \right\rceil$ bits according to Tables
7.3.1.1.2-28/28A/29/29B/30/30B/31/31B if the higher layer parameter
*txConfig = nonCodebook*, where

\- $N_{SRS,\ 0\_ 2}$ is the number of configured SRS resources in the
SRS resource set indicated by SRS resource set indicator field if
present,

\- $N_{SRS}$ is the number of configured SRS resources in the SRS
resource set associated with the *coresetPoolIndex* value for the
CORESET used for the PDCCH carrying the DCI format 0_2, if the UE is not
provided *coresetPoolIndex* or is provided *coresetPoolIndex* with value
0 for the first CORESETs, and is provided *coresetPoolIndex* with value
1 for the second CORESETs, and is provided *enableSTx2PofmDCI*,

\- otherwise $N_{SRS,\ 0\_ 2}$ is the number of configured SRS resources
in the SRS resource set configured by higher layer parameter
*srs-ResourceSetToAddModListDCI-0-2* and associated with the higher
layer parameter *usage* of value \'*nonCodeBook*\', where the SRS
resource set is composed of the first $N_{SRS,\ 0\_ 2}$ SRS resources
together with other configurations in the SRS resource set, or in the
SRS resource set with lower srs-ResourceSetId of two SRS resources sets,
configured by higher layer parameter *srs-ResourceSetToAddModList*, if
any, and associated with the higher layer parameter *usage* of value
\'*nonCodeBook*\', except for the higher layer parameters
*\'srs-ResourceSetId\' and \'srs-ResourceIdList\',*

and

\- if UE supports operation with *maxMIMO-LayersDCI-0-2* and the higher
layer parameter *maxMIMO-LayersDCI-0-2* of *PUSCH-ServingCellConfig* of
the serving cell is configured,

\- L~max~ is given by max{*maxMIMO-LayersDCI-0-2*,
*maxMIMO-LayersforSdmDCI-0-2*} if *maxMIMO-LayersforSdmDCI-0-2* is
configured

\- L~max~ is given by max{*maxMIMO-LayersDCI-0-2*,
*maxMIMO-LayersforSfnDCI-0-2*} if *maxMIMO-LayersforSfnDCI-0-2* is
configured

\- L~max~ is given by *maxMIMO-LayersDCI-0-2* otherwise

\- otherwise, *L~max~* is given by the maximum number of layers for
PUSCH supported by the UE for the serving cell for non-codebook based
operation.

\- $\left\lceil \log_{2}N_{SRS,\ 0\_ 2} \right\rceil\ $ bits according
to Tables 7.3.1.1.2-32/32A/32B if the higher layer parameter *txConfig =
codebook*, where

\- $N_{SRS,\ 0\_ 2}$ is the number of configured SRS resources in the
SRS resource set indicated by SRS resource set indicator field if
present,

\- $N_{SRS}$ is the number of configured SRS resources in the SRS
resource set associated with the *coresetPoolIndex* value for the
CORESET used for the PDCCH carrying the DCI format 0_2, if the UE is not
provided *coresetPoolIndex* or is provided *coresetPoolIndex* with value
0 for the first CORESETs, and is provided *coresetPoolIndex* with value
1 for the second CORESETs, and is provided *enableSTx2PofmD*CI,

\- otherwise $N_{SRS,\ 0\_ 2}$ is the number of configured SRS resources
in the SRS resource set configured by higher layer parameter
*srs-ResourceSetToAddModListDCI-0-2* and associated with the higher
layer parameter *usage* of value \'*codeBook*\', where the SRS resource
set is composed of the first $N_{SRS,\ 0\_ 2}$ SRS resources together
with other configurations in the SRS resource set configured by higher
layer parameter *srs-ResourceSetToAddModList*, if any, and associated
with the higher layer parameter *usage* of value \'*codeBook*\', except
for the higher layer parameters *\'srs-ResourceSetId\' and
\'srs-ResourceIdList\'*.

> When the UE is not provided *coresetPoolIndex* or is provided
> *coresetPoolIndex* with value 0 for the first CORESETs, and is
> provided *coresetPoolIndex* with value 1 for the second CORESETs, and
> is provided *enableSTx2PofmDCI*, and there are two SRS resource sets
> configured by *srs-ResourceSetToAddModListDCI-0-2* and associated with
> *usage* of value \'*codebook*\' or \'*nonCodeBook*\', the first SRS
> resource set is associated with *coresetPoolIndex* value 0 and the
> second SRS resource set is associated with *coresetPoolIndex* value 1,
> where the first and the second SRS resource sets are respectively the
> ones with lower and higher *srs-ResourceSetId* of the two SRS
> resources sets, and the first and second SRS resource sets are
> composed of the first $N_{SRS,\ 0\_ 2}$ SRS resources together with
> other configurations in the first and second SRS resource sets
> configured by higher layer parameter *srs-ResourceSetToAddModList*, if
> any, and associated with the higher layer parameter *usage* of value
> \'*codebook*\' or \'*nonCodeBook*\', respectively, except for the
> higher layer parameters *\'srs-ResourceSetId\' and
> \'srs-ResourceIdList\'.*

\- Second SRS resource indicator - number of bits determined by the
following:

\-
$\left\lceil \log_{2}{(\max_{k \in \{ 1,2,\ldots,min\{ L_{\max},N_{SRS,0\_ 2}\}\}}\binom{N_{SRS,0\_ 2}}{k})} \right\rceil\ $
bits according to Tables 7.3.1.1.2-28/29A/30A/31A with the same number
of layers indicated by SRS resource indicator field if the higher layer
parameter *txConfig = nonCodebook*, the higher layer parameter
*maxMIMO-LayersforSdmDCI-0-2* is not configured, and SRS resource set
indicator field is present, where $N_{SRS,\ 0\_ 2}$ is the number of
configured SRS resources in the second SRS resource set*,* and

\- if UE supports operation with *maxMIMO-LayersDCI-0-2* and the higher
layer parameter *maxMIMO-LayersDCI-0-2* of *PUSCH-ServingCellConfig* of
the serving cell is configured,

\- L~max~ is given by *maxMIMO-LayersforSfnDCI-0-2* if
*maxMIMO-LayersforSfnDCI-0-2* is configured

\- L~max~ is given by *maxMIMO-LayersDCI-0-2* otherwise

\- otherwise, *L~max~* is given by the maximum number of layers for
PUSCH supported by the UE for the serving cell for non-codebook based
operation.

\-
$\left\lceil \log_{2}\left( \sum_{k = 1}^{\min\left\{ L_{\max},\ N_{SRS,0\_ 2} \right\}}\begin{pmatrix}
N_{SRS,0\_ 2} \\
k
\end{pmatrix} \right) \right\rceil$ bits according to Tables
7.3.1.1.2-28/29 if the higher layer parameter *txConfig = nonCodebook*,
the higher layer parameter *maxMIMO-LayersforSdmDCI-0-2* is configured
and SRS resource set indicator field is present, where $N_{SRS,\ 0\_ 2}$
is the number of configured SRS resources in the second SRS resource
set, where the second SRS resource set is composed of the first
$N_{SRS,\ 0\_ 2}$ SRS resources together with other configurations in
the SRS resource set, or in the SRS resource set with higher
srs-ResourceSetId of two SRS resources sets, configured by higher layer
parameter *srs-ResourceSetToAddModList*, if any, and associated with the
higher layer parameter *usage* of value \'*nonCodeBook*\', except for
the higher layer parameters *\'srs-ResourceSetId\' and
\'srs-ResourceIdList\',* and *L~max~* is given by
*maxMIMO-LayersforSdmDCI-0-2.*

\- $\left\lceil \log_{2}N_{SRS,\ 0\_ 2} \right\rceil\ $ bits according
to Tables 7.3.1.1.2-32/32A/32B if the higher layer parameter *txConfig =
codebook* and SRS resource set indicator field is present, where
$N_{SRS,\ 0\_ 2}$ is the number of configured SRS resources in the
second SRS resource set.

\- 0 bit otherwise.

\- Precoding information and number of layers - number of bits
determined by the following:

\- 0 bits if the higher layer parameter *txConfig = nonCodeBook*;

\- 0 bits for 1 antenna port and if the higher layer parameter *txConfig
= codebook*;

\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,*
transform precoder is disabled, and according to the values of higher
layer parameters *maxRankDCI-0-2* if *multipanelScheme* is not
configured or max{*maxRankDCI-0-2*, *maxRankSfnDCI-0-2*} if
*multipanelScheme =* *sfnScheme* or max{*maxRankDCI-0-2*,
*maxRankSdmDCI-0-2*} if *multipanelScheme =* *sdmScheme*, and
*codebookSubsetDCI-0-2*;

\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1,* the
values of higher layer parameters *maxRankDCI-0-2=2* if
*multipanelScheme* is not configured or max{*maxRankDCI-0-2*,
*maxRankSfnDCI-0-2*} = 2 if *multipanelScheme =* *sfnScheme* or
max{*maxRanDCI-0-2k*, *maxRankSdmDCI-0-2*} = 2 if *multipanelScheme =*
*sdmScheme,* transform precoder is disabled, and according to the value
of higher layer parameter *codebookSubsetDCI-0-2*;

\- 4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if
*txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1,* the
values of higher layer parameters *maxRankDCI-0-2=3 or 4,* transform
precoder is disabled, and according to the value of higher layer
parameter *codebookSubsetDCI-0-2*;

\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and
*maxRankDCI-0-2=1* if *multipanelScheme* is not configured or
max{*maxRankDCI-0-2*, *maxRankSfnDCI-0-2*} = 1 if *multipanelScheme =*
*sfnScheme* or max{*maxRankDCI-0-2*, *maxRankSdmDCI-0-2*} = 1 if
*multipanelScheme =* *sdmScheme*, and *codebookSubsetDCI-0-2*;

\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1*,
*maxRankDCI-0-2=1* if *multipanelScheme* is not configured or
max{*maxRankDCI-0-2*, *maxRankSfnDCI-0-2*} = 1 if *multipanelScheme =*
*sfnScheme* or max{*maxRankDCI-0-2*, *maxRankSdmDCI-0-2*} = 1 if
*multipanelScheme =* *sdmScheme*, and according to whether transform
precoder is enabled or disabled, and the value of higher layer parameter
*codebookSubsetDCI-0-2*;

\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRankDCI-0-2* if *multipanelScheme* is not configured or
max{*maxRankDCI-0-2*, *maxRankSfnDCI-0-2*} if *multipanelScheme =*
*sfnScheme* or max{*maxRankDCI-0-2*, *maxRankSdmDCI-0-2*} if
*multipanelScheme =* *sdmScheme*, and *codebookSubsetDCI-0-2*;

\- 2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1*,
transform precoder is disabled, the *maxRankDCI-0-2=2* if
*multipanelScheme* is not configured or max{*maxRankDCI-0-2*,
*maxRankSfnDCI-0-2*} = 2 if *multipanelScheme =* *sfnScheme* or
max{*maxRankDCI-0-2*, *maxRankSdmDCI-0-2*} = 2 if *multipanelScheme =*
*sdmScheme*, and *codebookSubsetDCI-0-2=nonCoherent*;

\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and
*maxRankDCI-0-2=1* if *multipanelScheme* is not configured or
max{*maxRankDCI-0-2*, *maxRankSfnDCI-0-2*}*=1* if *multipanelScheme =*
*sfnScheme* or max{*maxRankDCI-0-2*, *maxRankSdmDCI-0-2*}*=1* if
*multipanelScheme =* *sdmScheme*, and *codebookSubsetDCI-0-2*;

\- 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if
*txConfig = codebook*, *ul-FullPowerTransmission =fullpowerMode1*,
*maxRankDCI-0-2=1* if *multipanelScheme* is not configured or
max{*maxRankDCI-0-2*, *maxRankSfnDCI-0-2*} = 1 if *multipanelScheme =
sfnScheme* or max{*maxRankDCI-0-2*, *maxRankSdmDCI-0-2*} = 1 if
*multipanelScheme = sdmScheme*, and according to whether transform
precoder is enabled or disabled, and the value of higher layer parameter
*codebookSubsetDCI-0-2*.

\- 7 bits according to Table 7.3.1.1.2-5D for 8 antenna ports by
replacing *maxRank-n8* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook1*, transform precoder is disabled,
*maxRankDCI-0-2* =4, and according to *maxRankDCI-0-2*;

\- 4, 6 or 7 bits according to Table 7.3.1.1.2-5E for 8 antenna ports by
replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook1*, transform precoder is enabled or
*maxRankDCI-0-2* =1, 2 or 3 if transform precoder is disabled, and
according to transform precoder and *maxRankDCI-0-2*;

\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5G for 8 antenna ports
by replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook4*, transform precoder is disabled,
*maxRankDCI-0-2*=2, 3 or 4, *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower*, and
according to *maxRankDCI-0-2*;

\- 3 bits according to Table 7.3.1.1.2-5H for 8 antenna ports by
replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook4*, transform precoder is enabled or
*maxRankDCI-0-2*=1 if transform precoder is disabled,
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*.

\- 5, 9 or 10 bits according to Table 7.3.1.1.2-5J for 8 antenna ports
by replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook2*, transform precoder is enabled or
*maxRankDCI-0-2* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*, and according to
transform precoder and *maxRankDCI-0-2*;

\- 4, 7, 9 or 10 bits according to Table 7.3.1.1.2-5L for 8 antenna
ports by replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook3*, transform precoder is enabled or
*maxRankDCI-0-2* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower*, and according to
transform precoder and *maxRankDCI-0-2*;

\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5M for 8 antenna ports
by replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook4*, transform precoder is disabled,
*maxRankDCI-0-2*=2, 3 or 4, *ul-FullPowerTransmission* is configured to
*fullpowerMode1*, and according to *maxRankDCI-0-2*;

\- 4 bits according to Table 7.3.1.1.2-5N for 8 antenna ports, if
*CodebookTypeUL=Codebook4*, transform precoder is enabled or
*maxRankDCI-0-2*=1 if transform precoder is disabled,
*ul-FullPowerTransmission* is configured to *fullpowerMode1*.

\- 6, 9 or 10 bits according to Table 7.3.1.1.2-5O for 8 antenna ports
by replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook2*, transform precoder is enabled or
*maxRankDCI-0-2* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is configured to *fullpowerMode1*, and
according to transform precoder and *maxRankDCI-0-2*;

\- 5, 7, 9 or 10 bits according to Table 7.3.1.1.2-5P for 8 antenna
ports by replacing *maxRank* with *maxRankDCI-0-2*, if
*CodebookTypeUL=Codebook3*, transform precoder is enabled or
*maxRankDCI-0-2* =1, 2, 3 or 4 if transform precoder is disabled,
*ul-FullPowerTransmission* is configured to *fullpowerMode1*, and
according to transform precoder and *maxRankDCI-0-2*;

> For the higher layer parameter *txConfig=codebook*, if
> *ul-FullPowerTransmission* is configured to *fullpowerMode2*, the
> values of higher layer parameters *maxRankDCI-0-2* is configured to be
> larger than 2, and at least one SRS resource with 4 antenna ports is
> configured in the SRS resource set indicated by SRS resource set
> indicator field if present, otherwise in an SRS resource set with
> usage set to \'codebook\', and an SRS resource with 2 antenna ports is
> indicated via SRI in the same SRS resource set, then Table 7.3.1.1.2-4
> is used.
>
> For the higher layer parameter *txConfig = codebook*, if different SRS
> resources with different number of antenna ports are configured, the
> bitwidth is determined according to the maximum number of ports in an
> SRS resource among the configured SRS resources in all SRS resource
> set(s) with usage set to \'codebook\'. If the number of ports for a
> configured SRS resource in the set is less than the maximum number of
> ports in an SRS resource among the configured SRS resources, a number
> of most significant bits with value set to \'0\' are inserted to the
> field.
>
> For the higher layer parameter *txConfig = codebook*, when the
> Transform precoder indicator field is present, if the bit width of the
> Precoding information and number of layers field for the case with
> transform precoder enabled is not equal to that for the case with
> transform precoder disabled, a number of most significant bits with
> value set to \'0\' are inserted to the Precoding information and
> number of layers field for the case with smaller bit width until the
> bit width of the Precoding information and number of layers field for
> the two cases are the same.
>
> When the UE is not provided *coresetPoolIndex* or is provided
> *coresetPoolIndex* with value 0 for the first CORESETs, and is
> provided *coresetPoolIndex* with value 1 for the second CORESETs, and
> is provided *enableSTx2PofmDCI*, and there are two SRS resource sets
> configured by *srs-ResourceSetToAddModListDCI-0-2* and associated with
> *usage* of value \'*codebook*\' or \'*nonCodeBook*\', the Precoding
> information and number of layers field is associated with the SRS
> resource set that is associated with the *coresetPoolIndex* value for
> the CORESET used for the PDCCH carrying the DCI format 0_2.

\- Second Precoding information - number of bits determined by the
following:

\- 0 bits if SRS resource set indicator field is not present;

\- 0 bits if the higher layer parameter *txConfig = nonCodeBook*;

\- 0 bits for 1 antenna port and if the higher layer parameter *txConfig
= codebook*;

\- 3, 4, or 5 bits according to Table 7.3.1.1.2-2C with the same number
of layers indicated by Precoding information and number of layers field
for 4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRankDCI-0-2* if *multipanelScheme* is not configured or
*maxRankSfnDCI-0-2* if *multipanelScheme =* *sfnScheme*, and
*codebookSubsetDCI-0-2*;

\- 3 or 4 bits according to Table 7.3.1.1.2-2D with the same number of
layers indicated by Precoding information and number of layers field for
4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1,* the
values of higher layer parameters *maxRankDCI-0-2=2* if
*multipanelScheme* is not configured or *maxRankSfnDCI-0-2=2* if
*multipanelScheme =* *sfnScheme,* transform precoder is disabled, and
according to the value of higher layer parameter
*codebookSubsetDCI-0-2*;

\- 3 or 4 bits according to Table 7.3.1.1.2-2E with the same number of
layers indicated by Precoding information and number of layers field for
4 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1,*
*maxRankDCI-0-2=3 or 4,* transform precoder is disabled, and according
to the value of higher layer parameter *codebookSubsetDCI-0-2*;

\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 with the same number
of layers indicated by Precoding information and number of layers field
for 4 antenna ports, if *txConfig = codebook,*
*ul-FullPowerTransmission* is not configured or configured to
*fullpowerMode2* or configured to *fullpower,* and according to whether
transform precoder is enabled or disabled, and the values of higher
layer parameters *maxRankDCI-0-2* if *multipanelScheme* is not
configured or *maxRankSfnDCI-0-2* if *multipanelScheme =* *sfnScheme*
and *codebookSubsetDCI-0-2*;

\- 3 or 4 bits according to Table 7.3.1.1.2-3A with the same number of
layers indicated by Precoding information and number of layers field for
4 antenna ports, if *txConfig = codebook,* *ul-FullPowerTransmission
=fullpowerMode1*, *maxRankDCI-0-2=1* if *multipanelScheme* is not
configured or *maxRankSfnDCI-0-2=1* if *multipanelScheme =* *sfnScheme*,
and according to whether transform precoder is enabled or disabled, and
the value of higher layer parameter *codebookSubsetDCI-0-2*;

\- 1 or 3 bits according to Table7.3.1.1.2-4B with the same number of
layers indicated by Precoding information and number of layers field for
2 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRankDCI-0-2* if *multipanelScheme* is not configured or
*maxRankSfnDCI-0-2* if *multipanelScheme =* *sfnScheme*, and
*codebookSubsetDCI-0-2*;

\- 2 bits according to Table 7.3.1.1.2-4C with the same number of layers
indicated by Precoding information and number of layers field for 2
antenna ports, if SRS resource set indicator field is present, *txConfig
= codebook,* *ul-FullPowerTransmission =fullpowerMode1*, transform
precoder is disabled, the *maxRankDCI-0-2=2* if *multipanelScheme* is
not configured or *maxRankSfnDCI-0-2=2* if *multipanelScheme =*
*sfnScheme*, and *codebookSubsetDCI-0-2=nonCoherent*;

\- 1 or 3 bits according to Table7.3.1.1.2-5 with the same number of
layers indicated by Precoding information and number of layers field for
2 antenna ports, if SRS resource set indicator field is present,
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and the
values of higher layer parameters *maxRankDCI-0-2* if *multipanelScheme*
is not configured or *maxRankSfnDCI-0-2* if *multipanelScheme =*
*sfnScheme*, and *codebookSubsetDCI-0-2*;

\- 2 bits according to Table 7.3.1.1.2-5A with the same number of layers
indicated by Precoding information and number of layers field for 2
antenna ports, if SRS resource set indicator field is present, *txConfig
= codebook,* *ul-FullPowerTransmission =fullpowerMode1*,
*maxRankDCI-0-2=1* if *multipanelScheme* is not configured or
*maxRankSfnDCI-0-2=1* if *multipanelScheme =* *sfnScheme*, and according
to whether transform precoder is enabled or disabled, and the value of
higher layer parameter *codebookSubsetDCI-0-2*.

> For the higher layer parameter *txConfig=codebook*, if
> *ul-FullPowerTransmission* is configured to *fullpowerMode2*, the
> values of higher layer parameters *maxRankDCI-0-2* is configured to be
> larger than 2, and at least one SRS resource with 4 antenna ports is
> configured in the SRS resource set indicated by SRS resource set
> indicator field, and an SRS resource with 2 antenna ports is indicated
> via Second SRS resource indicator field in the same SRS resource set,
> then Table 7.3.1.1.2-4B is used.
>
> For the higher layer parameter *txConfig = codebook*, if different SRS
> resources with different number of antenna ports are configured, the
> bitwidth is determined according to the maximum number of ports in an
> SRS resource among the configured SRS resources in the second SRS
> resource set with usage set to \'codebook\' as defined in Table
> 7.3.1.1.2-36. If the number of ports for a configured SRS resource in
> the set is less than the maximum number of ports in an SRS resource
> among the configured SRS resources, a number of most significant bits
> with value set to \'0\' are inserted to the field.
>
> For the higher layer parameter *txConfig = codebook*, when the
> Transform precoder indicator field is present, if the bit width of the
> Second Precoding information field for the case with transform
> precoder enabled is not equal to that for the case with transform
> precoder disabled, a number of most significant bits with value set to
> \'0\' are inserted to the Second Precoding information field for the
> case with smaller bit width until the bit width of the Second
> Precoding information field for the two cases are the same.

\- Antenna ports - number of bits determined by the following:

\- 0 bit if higher layer parameter *antennaPortsFieldPresenceDCI-0-2* is
not configured;

\- 2, 3, 4, 5 or 6 bits otherwise,

\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is
enabled, *dmrs-Type*=1, and *maxLength*=1[,]{.underline} except that
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured and
π/2 BPSK modulation is used;

\- 2 bits as defined by 7.3.1.1.2-6A, if transform precoder is enabled,
and *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured, π/2 BPSK modulation is used, *dmrs-Type*=1, and
*maxLength*=1, where n~SCID~ is the scrambling identity for antenna
ports defined in Clause 6.4.1.1.1.2, in \[4, TS38.211\][;]{.underline}

\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is
enabled, *dmrs-Type*=1, and *maxLength*=2, except that
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured and
π/2 BPSK modulation is used;

\- 4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is
enabled, and *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured, π/2 BPSK modulation is used, *dmrs-Type*=1, and
*maxLength*=2, where *n~SCID~* is the scrambling identity for antenna
ports defined in Clause 6.4.1.1.1.2, in \[4, TS38.211\][;]{.underline}

\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/10A/11 according to the
value of rank, if transform precoder is disabled, *dmrs-Type*=1,
*dmrs-TypeEnh* is not configured, and *maxLength*=1;

\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/14A/15 according to
the value of rank, if transform precoder is disabled, *dmrs-Type*=1,
*dmrs-TypeEnh* is not configured, and *maxLength*=2;

\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/18A/19 according to
the value of rank, if transform precoder is disabled, *dmrs-Type*=2,
*dmrs-TypeEnh* is not configured, and *maxLength*=1;

\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/22A/23 according to
the value of rank, if transform precoder is disabled, *dmrs-Type*=2,
*dmrs-TypeEnh* is not configured, and *maxLength*=2.

\- 4 bits as defined by Tables 7.3.1.1.2-38/39/40/40A/41, if transform
precoder is disabled, *dmrs-Type*=1, *dmrs-TypeEnh* is configured, and
*maxLength*=1;

\- 5 bits as defined by Tables 7.3.1.1.2-46/47/48/48A/49, if transform
precoder is disabled, *dmrs-Type*=1, *dmrs-TypeEnh* is configured, and
*maxLength*=2;

\- 5 bits as defined by Tables 7.3.1.1.2-54/55/56/56A/57, if transform
precoder is disabled, *dmrs-Type*=2, *dmrs-TypeEnh* is configured, and
*maxLength*=1;

\- 6 bits as defined by Tables 7.3.1.1.2-62/63/64/64A/65, if transform
precoder is disabled, *dmrs-Type*=2, *dmrs-TypeEnh* is configured, and
*maxLength*=2.

> where the number of CDM groups without data of values 1, 2, and 3 in
> Tables 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1},
> and {0, 1,2} respectively, and the value of rank is

\- the sum of the value determined according to the SRS resource
indicator field and the value determined according to the second SRS
resource indicator field, if *txConfig = nonCodebook* and
*multipanelScheme =* *sdmScheme* and SRS resource set indicator field
equals \"10\"

\- the sum of the value determined according to the Precoding
information and number of layers field and the value determined
according to the Second Precoding information, if *txConfig = codebook*
and *multipanelScheme =* *sdmScheme* and SRS resource set indicator
field equals \"10\"

\- determined according to the SRS resource indicator field if the
higher layer parameter *txConfig = nonCodebook* and *multipanelScheme =*
*sdmScheme* is not configured, , or if the higher layer parameter
*txConfig = nonCodebook*, *multipanelScheme =* *sdmScheme* and SRS
resource set indicator field equals \"00\" or "01"

\- determined according to the Precoding information and number of
layers field if the higher layer parameter *txConfig = codebook* and
*multipanelScheme =* *sdmScheme* is not configured, or if the higher
layer parameter *txConfig = codebook*, *multipanelScheme =* *sdmScheme*
and SRS resource set indicator field equals \"00\" or \"01\".

> If a UE is configured with both
> *dmrs-UplinkForPUSCH-MappingTypeA-DCI-0-2* and
> *dmrs-UplinkForPUSCH-MappingTypeB-DCI-0-2* and is configured with
> *antennaPortsFieldPresenceDCI-0-2*, the bitwidth of this field equals
> $\max\left\{ x_{A},x_{B} \right\}$, where $x_{A}$ is the \"Antenna
> ports\" bitwidth derived according to
> *dmrs-UplinkForPUSCH-MappingTypeA-DCI-0-2* and $x_{B}$ is the
> \"Antenna ports\" bitwidth derived according to
> *dmrs-UplinkForPUSCH-MappingTypeB-DCI-0-2*. A number of
> $\left| x_{A} - x_{B} \right|\ $zeros are padded in the MSB of this
> field, if the mapping type of the PUSCH corresponds to the smaller
> value of $x_{A}$ and $x_{B}$.
>
> If a UE is not configured with higher layer parameter
> *antennaPortsFieldPresenceDCI-0-2,* antenna port(s) are defined
> assuming bit field index value 0 in Tables 7.3.1.1.2-6 to
> 7.3.1.1.2-23.
>
> When the Transform precoder indicator field is present, if the bit
> width of the Antenna ports field for the case with transform precoder
> enabled is not equal to that for the case with transform precoder
> disabled, a number of most significant bits with value set to \'0\'
> are inserted to the Antenna ports field for the case with smaller bit
> width until the bit width of the Antenna ports field for the two cases
> are the same.

\- SRS request - 0, 1, 2 or 3 bits

\- 0 bit if the higher layer parameter *srs-RequestDCI-0-2* is not
configured;

\- 1 bit as defined by Table 7.3.1.1.3-1 if higher layer parameter
*srs-RequestDCI-0-2 = 1* and for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell;

\- 2 bits if higher layer parameter *srs-RequestDCI-0-2 = 1* and for UEs
configured with *supplementaryUplink* in *ServingCellConfig* in the
cell, where the first bit is the non-SUL/SUL indicator as defined in
Table 7.3.1.1.1-1 and the second bit is defined by Table 7.3.1.1.3-1;

\- 2 bits as defined by Table 7.3.1.1.2-24 if higher layer parameter
*srs-RequestDCI-0-2 = 2* and for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell;

\- 3 bits if higher layer parameter *srs-RequestDCI-0-2 = 2* and for UEs
configured with *supplementaryUplink* in *ServingCellConfig* in the
cell, where the first bit is the non-SUL/SUL indicator as defined in
Table 7.3.1.1.1-1 and the second and third bits are defined by Table
7.3.1.1.2-24;

\- SRS offset indicator - 0, 1 or 2 bits.

\- 0 bit if higher layer parameter *AvailableSlotOffset* is not
configured for any aperiodic SRS resource set in the scheduled cell, or
if higher layer parameter *AvailableSlotOffset* is configured for at
least one aperiodic SRS resource set in the scheduled cell and the
maximum number of entries of *availableSlotOffsetList* configured for
all aperiodic SRS resource set(s) is 1;

\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and
Clause 6.2.1 of \[6, TS 38.214\], where K is the maximum number of
entries of *availableSlotOffsetList* configured for all aperiodic SRS
resource set(s) in the scheduled cell;

\- CSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter *reportTriggerSizeDCI-0-2*.

\- PTRS-DMRS association - number of bits determined as follows

\- 0 bit if *PTRS-UplinkConfi*g is not configured in either
*dmrs-UplinkForPUSCH-MappingTypeA* or *dmrs-UplinkForPUSCH-MappingTypeB*
and transform precoder is disabled, or if transform precoder is enabled,
or if *maxRankDCI-0-2=1* and *multipanelScheme* is not configured, or if
*maxRankDCI-0-2=1* and *maxRankSfnDCI-0-2=1*, or if *maxRankDCI-0-2=1*
and *maxRankSdmDCI-0-2=1* when two PTRS ports are configured by
*maxNrofPortsforSdm*;

\- 2 bits otherwise, where Table
7.3.1.1.2-25/7.3.1.1.2-25A/7.3.1.1.2-25B/7.3.1.1.2-26 are used to
indicate the association between PTRS port(s) and DMRS port(s), and the
DMRS ports are indicated by the Antenna ports field.

\- When one PTRS port or two PTRS ports are configured by *maxNrofPorts*
in *PTRS-UplinkConfig*, SRS resource set indicator field is absent or
SRS resource set indicator field is present and equals \"00\" or "01"
and maxRank*DCI-0-2*\<=4, this field indicates the association between
PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator
field and/or Precoding information and number of layers field according
to Table 7.3.1.1.2-25 and 7.3.1.1.2-26.

\- When one PTRS port or two PTRS ports are configured by *maxNrofPorts*
in *PTRS-UplinkConfig*, the SRS resource set indicator field is present
and equals \"10\" or "11", *maxRankDCI-0-2=3 or 4* and
*multipanelScheme* is not configured, this field indicates the
association between PTRS port(s) and DMRS port(s) corresponding to SRS
resource indicator field and/or Precoding information and number of
layers field according to Table 7.3.1.1.2-25 and 7.3.1.1.2-26.

\- When one PTRS port is configured by *maxNrofPorts* in
*PTRS-UplinkConfig*, the SRS resource set indicator field is present and
equals \"10\" and \"11\" and *maxRankDCI-0-2=2* and *multipanelScheme*
is not configured, the MSB of this field indicates the association
between PTRS port(s) and DMRS port(s) corresponding to SRS resource
indicator field and/or Precoding information and number of layers field,
and the LSB of this field indicates the association between PTRS port(s)
and DMRS port(s) corresponding to Second SRS resource indicator field
and/or Second Precoding information field, according to Table
7.3.1.1.2-25A.

\- When two PTRS ports are configured by *maxNrofPorts* in
*PTRS-UplinkConfig*, the SRS resource set indicator field is present and
equals \"10\" and *multipanelScheme* is configured to *sdmScheme*, the
MSB of this field indicates the association between PTRS port 0 and DMRS
port(s) corresponding to SRS resource indicator field and/or Precoding
information and number of layers field, and the LSB of this field
indicates the association between PTRS port 1 and DMRS port(s)
corresponding to Second SRS resource indicator field and/or Second
Precoding information field, according to Table 7.3.1.1.2-25A.

\- When one PTRS port is configured by *maxNrofPortsforSDM* in
*PTRS-UplinkConfig*, SRS resource set indicator field is present and
equals \"10\" and *multipanelScheme* is configured to *sdmScheme*, this
field indicates the association between PTRS port and DMRS ports
corresponding to SRS resource indicator field and Second SRS resource
indicator field and/or Precoding information and number of layers field
and Second Precoding information field according to Table 7.3.1.1.2-25.

\- When one PTRS port or two PTRS ports are configured by *maxNrofPorts*
in *PTRS-UplinkConfig,* SRS resource set indicator field is present and
equals \"10\", *multipanelScheme* is configured to *sfnScheme*, this
field indicates the association between PTRS port(s) and DMRS port(s)
corresponding to SRS resource indicator field and/or Precoding
information and number of layers field according to Table 7.3.1.1.2-25
and 7.3.1.1.2-26.

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part and the \"PTRS-DMRS association\" field
> is present for the indicated bandwidth part but not present for the
> active bandwidth part, the UE assumes the \"PTRS-DMRS association\"
> field is not present for the indicated bandwidth part.
>
> When the Transform precoder indicator field is present, if the bit
> width of PTRS-DMRS association field for the case with transform
> precoder enabled is not equal to that for the case with transform
> precoder disabled, a number of most significant bits with value set to
> \'0\' are inserted to the PTRS-DMRS association field for the case
> with smaller bit width until the bit width of the PTRS-DMRS
> association field for the two cases are the same.

\- Second PTRS-DMRS association - 2 bits if PTRS-DMRS association field
and SRS resource set indicator field are present and *maxRankDCI-0-2\>2*
and *multipanelScheme* is not configured; 0 bit otherwise. Table
7.3.1.1.2-25 and 7.3.1.1.2-26 are used to indicate the association
between PTRS port(s) and DMRS port(s) corresponding to Second SRS
resource indicator field and/or Second precoding information field when
one PT-RS port and two PT-RS ports are configured by *maxNrofPorts* in
*PTRS-UplinkConfig* respectively, and the DMRS ports are indicated by
the Antenna ports field.

\- beta_offset indicator - 0 bit if the higher layer parameter
*betaOffsetsDCI-0-2 = semiStaticDCI-0-2*; otherwise 1 bit if 2 offset
indexes are configured by higher layer parameter *dynamicDCI-0-2* as
defined by Table 9.3-3A in \[5, TS 38.213\], and 2 bits if 4 offset
indexes are configured by higher layer parameter *dynamicDCI-0-2* as
defined by Table 9.3-3 in \[5, TS 38.213\].

When two HARQ-ACK codebooks are configured by
*pdsch-HARQ-ACK-CodebookList* or by
*pdsch-HARQ-ACK-CodebookListMulticast* for the same serving cell and if
higher layer parameter *priorityIndicatorDCI-0-2* is configured, if the
bit width of the beta_offset indicator in DCI format 0_2 for one
HARQ-ACK codebook is not equal to that of the beta_offset indicator in
DCI format 0_2 for the other HARQ-ACK codebook, a number of most
significant bits with value set to \'0\' are inserted to smaller
beta_offset indicator until the bit width of the beta_offset indicator
in DCI format 0_2 for the two HARQ-ACK codebooks are the same.

\- DMRS sequence initialization - 0 or 1 bit

\- 0 bit if the higher layer parameter
*dmrs-SequenceInitializationDCI-0-2* is not configured, or if transform
precoder is enabled by higher layers and the Transform precoder
indicator field is not present;

\- 1 bit if transform precoder is disabled by higher layers and the
higher layer parameter *dmrs-SequenceInitializationDCI-0-2* is
configured, or if the Transform precoder indicator field is present and
the higher layer parameter *dmrs-SequenceInitializationDCI-0-2* is
configured. If the Transform precoder indicator field is present and set
to \'0\', the bit is reserved.

\- UL-SCH indicator - 1 bit. A value of \"1\" indicates UL-SCH shall be
transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not
be transmitted on the PUSCH. If a UE does not support triggering SRS
only in DCI, except for DCI format 0_2 with CRC scrambled by
SP-CSI-RNTI, the UE is not expected to receive a DCI format 0_2 with
UL-SCH indicator of \"0\" and CSI request of all zero(s). If a UE
supports triggering SRS only in DCI, except for DCI format 0_2 with CRC
scrambled by SP-CSI-RNTI, the UE is not expected to recerive a DCI
format 0_2 with UL-SCH indicator of \"0\", CSI request of all zero(s)
and SRS request of all zero(s).

\- ChannelAccess-CPext-CAPC - 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth
for this field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$
bits, where *I* is the number of entries in the higher layer parameter
*ul-AccessConfigListDCI-0-2* or in Table 7.3.1.1.1-4A if
*channelAccessMode-r16* = \"*semiStatic*\" is provided, for operation in
a cell with shared spectrum channel access in frequency range 1, or the
number of entries in the high layer parameter
*ul-AccessConfigListDCI-0-1* for operation in frequency range 2-2 if
*ChannelAccessMode2-r17* is provided; otherwise 0 bit. One or more
entries from Table 7.3.1.1.2-35 are configured by the higher layer
parameter *ul-AccessConfigListDCI-0-2* in frequency range 1*.* One or
more entries from Table 7.3.1.1.2-35A are configured by the higher layer
parameter *ul-AccessConfigListDCI-0-1* in frequency range 2-2*.*

\- Open-loop power control parameter set indication - 0 or 1 or 2 bits.

\- 0 bit if the higher layer parameter *p0-PUSCH-SetList* is not
configured;

\- 1 or 2 bits otherwise,

\- 1 bit if SRS resource indicator is present in the DCI format 0_2;

\- 1 or 2 bits as determined by higher layer parameter
*olpc-ParameterSetDCI-0-2* if SRS resource indicator is not present in
the DCI format 0_2;

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-0-2* is not configured; otherwise 1 bit as defined
in Clause 9 in \[5, TS 38.213\].

> \- Invalid symbol pattern indicator - 0 bit if higher layer parameter
> *invalidSymbolPatternIndicatorDCI-0-2* is not configured; otherwise 1
> bit as defined in Clause 6.1.2.1 in \[6, TS 38.214\].

\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits

\- 1 or 2 bits, if *searchSpaceGroupIdList-r17* is not configured and if
*pdcch-SkippingDurationList* is configured

\- 1 bit if the UE is configured with only one duration by
*pdcch-SkippingDurationList;*

\- 2 bits if the UE is configured with more than one duration by
*pdcch-SkippingDurationList*.

\- 1 or 2 bits, if *pdcch-SkippingDurationList* is not configured and if
*searchSpaceGroupIdList-r17* is configured

\- 1 bit if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0 and search space set(s) with
group index 1, and if the UE is not configured by
*searchSpaceGroupIdList-r17* with any search space set with group index
2;

\- 2 bits if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0, search space set(s) with group
index 1 and search space set(s) with group index 2;

\- 2 bits, if *pdcch-SkippingDurationList* is configured and if
*searchSpaceGroupIdList-r17* is configured

\- 0 bit, otherwise

A UE does not expect that the bit width of a field in DCI format 0_2
with CRC scrambled by CS-RNTI is larger than corresponding bit width of
same field in DCI format 0_2 with CRC scrambled by C-RNTI for the same
serving cell. If the bit width of a field in the DCI format 0_2 with CRC
scrambled by CS-RNTI is not equal to that of the corresponding field in
the DCI format 0_2 with CRC scrambled by C-RNTI for the same serving
cell, a number of most significant bits with value set to \'0\' are
inserted to the field in DCI format 0_2 with CRC scrambled by CS-RNTI
until the bit width equals that of the corresponding field in the DCI
format 0_2 with CRC scrambled by C-RNTI for the same serving cell.

For a UE configured with scheduling on the primary cell from an SCell,
if prior to padding the number of information bits in DCI format 0_2
carried by PDCCH on the primary cell is not equal to the number of
information bits in DCI format 0_2 carried by PDCCH on the SCell for
scheduling on the primary cell, zeros shall be appended to the DCI
format 0_2 with smaller size until the payload size is the same.

\- If application of step 4B in clause 7.3.1.0 results in additional
zero padding for DCI format 0_2 for scheduling on the primary cell,
corresponding zeros shall be appended to both DCI format 0_2 monitored
on the primary cell and DCI format 0_2 monitored on the SCell for
scheduling on the primary cell.

\- If the SCell is deactivated and *firstActiveDownlinkBWP-Id* is not
set to dormant BWP, the UE determines the number of information bits in
DCI format 0_2 carried by PDCCH on the primary cell based on a DL BWP
provided by *firstActiveDownlinkBWP-Id* for the SCell. If the active DL
BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and
*firstActiveDownlinkBWP-Id* is set to dormant BWP, the UE determines the
number of information bits in DCI format 0_2 carried by PDCCH on the
primary cell based on a DL BWP provided by *firstWithinActiveTimeBWP-Id*
for the SCell if provided; otherwise, based on a DL BWP provided by
*firstOutsideActiveTimeBWP-Id* for the SCell.

Table 7.3.1.1.3-1: 1 bit SRS request in DCI format 0_2 and DCI format
1_2

  -----------------------------------------------------------------------
  Value of SRS       Triggered aperiodic SRS resource set(s) for DCI
  request field      format 0_2 and 1_2
  ------------------ ----------------------------------------------------
  0                  No aperiodic SRS resource set triggered

  1                  SRS resource set(s) configured with higher layer
                     parameter *aperiodicSRS-ResourceTrigger* set to 1 or
                     an entry in *aperiodicSRS-ResourceTriggerList* set
                     to 1
  -----------------------------------------------------------------------

##### 7.3.1.1.4 Format 0_3

DCI format 0_3 is used for the scheduling of one PUSCH in one cell, or
multiple PUSCHs in multiple cells with one PUSCH per cell.

The following information is transmitted by means of the DCI format 0_3
with CRC scrambled by C-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bit

\- The value of this bit field is always set to 0, indicating an UL DCI
format

\- Scheduled cell set indicator
-$\ \left\lceil \log_{2}N_{set} \right\rceil$ bits, where $N_{set}$ is
the number of cell sets which are configured by higher layer parameter
*MC-DCI-SetofCellsToAddModList* to be respectively scheduled by DCI
format 0_3/1_3 from the cell on which this format is carried by PDCCH.
If present, this field is used to indicate the scheduled cell set
according to Table 7.3.1.1.4-1; otherwise, the scheduled cell set is the
cell set configured to be scheduled by DCI format 0_3/1_3 from the cell
by higher layer parameter *MC-DCI-SetofCellsToAddModList*.

\- Scheduled cells indicator - number of bits determined by the
following:

\- 0 bit if the higher layer parameter *scheduledCellComboListDCI-0-3*
for the scheduled cell set is not configured;

\- otherwise $\left\lceil \log_{2}I_{UL} \right\rceil$ bits indicating
the scheduled cells in the scheduled cell set according to Table
7.3.1.1.4-2, where $I_{UL}$ is the number of entries in the higher layer
parameter *scheduledCellComboListDCI-0-3.* If only one entry is
configured in the higher layer parameter
*scheduledCellComboListDCI-0-3*, the scheduled cells are the cells
configured by higher layer parameter *scheduledCellComboListDCI-0-3*.

\- Bandwidth part indicator - 0, 1 or 2 bits determined as
$\left\lceil \log_{2}n_{BWP,\ max} \right\rceil$, where

\- $n_{BWP,\ max} = n_{BWP,RRC}^{\max} + 1$ if
$n_{BWP,RRC}^{\max} \leq 3$, $n_{BWP,RRC}^{\max}\ $is the maximum number
of UL BWPs configured by higher layers, excluding the initial UL
bandwidth part, across all the cells configured by higher layer
parameter *scheduledCellListDCI-0-3* in the scheduled cell set, in which
case the bandwidth part indicator is equivalent to the ascending order
of the higher layer parameter *BWP-Id*;

\- otherwise $n_{BWP,\ max} = n_{BWP,RRC}^{\max}$, in which case the
bandwidth part indicator is defined in Table 7.3.1.1.2-1;

> The field is only applicable to a scheduled cell with the number of
> configured UL BWPs larger than 1, including the initial UL bandwidth
> part, and is applied to the applicable scheduled cells in the
> scheduled cell set independently. If a UE does not support active BWP
> change via DCI, the UE ignores this bit field. If this field indicates
> a code point that does not correspond to a configured BWP of a
> scheduled cell, the UE ignores this bit field for the scheduled cell,
> and operates on the active BWP of the scheduled cell.

\- Frequency domain resource assignment - number of bits determined by
the following, where $N_{RB}^{UL,\ BWP}$ is the size of the active UL
bandwidth part:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> If *scheduledCellComboListDCI-0-3* for the scheduled cell set is
> configured with more than one entry, $N_{cell}^{UL}$ is the number of
> scheduled cells indicated by Scheduled cells indicator field; if
> *scheduledCellComboListDCI-0-3* for the scheduled cell set is
> configured with only one entry,$\ N_{cell}^{UL}$ is the number of
> cells configured by higher layer parameter
> *scheduledCellComboListDCI-0-3*; otherwise, $N_{cell}^{UL}$ is the
> number of cells configured by higher layer parameter
> *scheduledCellListDCI-0-3* in the scheduled cell set. Each block
> corresponds to the frequency domain resource assignment for a cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the frequency domain
> resource assignment for the cell with the smallest serving cell index.
> Each block is defined by the following fields:

\- If higher layer parameter *useInterlacePUCCH-PUSCH* in
*BWP-UplinkDedicated* is not configured

\- $N_{RBG}$ bits if only resource allocation type 0 is configured,
where $N_{RBG}$ is defined in Clause 6.1.2.2.1 of \[6, TS 38.214\]

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$
bits if only resource allocation type 1 is configured, or
$\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil,\ N_{RBG} \right) + 1$
bits if *resourceAllocationDCI-0-3* is configured as
\'*dynamicSwitch\'*, where
$N_{RBG,\ K1} = \left\lceil \left( N_{RB}^{UL,\ BWP} + \left( N_{UL,\ BWP}^{start}{mod}{K1} \right) \right)/K1 \right\rceil,$
$N_{RB}^{UL,\ BWP}$ is the size of the active UL bandwidth part,
$N_{UL,\ BWP}^{start}$ is defined as in clause 4.4.4.4 of \[4, TS
38.211\] and $K1$ is given by higher layer parameter
*resourceAllocationType1GranularityDCI-0-3.* If the higher layer
parameter *resourceAllocationType1GranularityDCI-0-3* is not configured,
$K1$ is equal to 1.

\- If *resourceAllocationDCI-0-3* is configured as \'*dynamicSwitch\'*,
the MSB bit is used to indicate resource allocation type 0 or resource
allocation type 1, where the bit value of 0 indicates resource
allocation type 0 and the bit value of 1 indicates resource allocation
type 1.

\- For resource allocation type 0, the $N_{RBG}$ LSBs provide the
resource allocation as defined in Clause 6.1.2.2.1 of \[6, TS 38.214\].

\- For resource allocation type 1, the
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$
LSBs provide the resource allocation as follows:

\- For PUSCH hopping with resource allocation type 1:

\- $N_{UL\_ hop}\ $MSB bits are used to indicate the frequency offset
according to Clause 6.3 of \[6, TS 38.214\], where $N_{UL\_ hop} = 1$ if
the higher layer parameter *frequencyHoppingOffsetLists* contains two
offset values and $N_{UL\_ hop} = 2\ $if the higher layer parameter
*frequencyHoppingOffsetLists* contains four offset values

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil - N_{UL\_ hop}$
bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.2 of \[6, TS 38.214\]

\- For non-PUSCH hopping with resource allocation type 1:

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$
bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.2 of \[6, TS 38.214\]

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part and if *resourceAllocationDCI-0-3* is
> configured as \'*dynamicSwitch\'* for the indicated bandwidth part,
> the UE assumes resource allocation type 0 for the indicated bandwidth
> part if the bitwidth of the \"Frequency domain resource assignment\"
> field of the active bandwidth part is smaller than the bitwidth of the
> \"Frequency domain resource assignment\" field of the indicated
> bandwidth part.

\- If the higher layer parameter *useInterlacePUCCH-PUSCH* in
*BWP-UplinkDedicated* is configured

\- 5 + Y bits provide the frequency domain resource allocation according
to Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for
the active UL bandwidth part is 30 kHz. The 5 MSBs provide the interlace
allocation and the Y LSBs provide the RB set allocation.

\- 6 + Y bits provide the frequency domain resource allocation according
to Clause 6.1.2.2.3 of \[6, TS 38.214\] if the subcarrier spacing for
the active UL bandwidth part is 15 kHz. The 6 MSBs provide the interlace
allocation and the Y LSBs provide the RB set allocation.

> The value of Y is determined by
> $\left\lceil \log_{2}\left( \frac{N_{RB - set,UL}^{BWP}\left( N_{RB - set,UL}^{BWP} + 1 \right)}{2} \right) \right\rceil\ $
> where $N_{\text{RB-set,UL}}^{\text{BWP}}$ is the number of RB sets
> contained in the active UL BWP as defined in clause 7 of \[6,
> TS38.214\].
>
> If the higher layer parameter *scheduledCellComboListDCI-0-3* for the
> scheduled cell set is not configured, each block is also used to
> indicate whether the corresponding cell is scheduled or not as
> follows:

\- if all bits of a block are set to 0 for resource allocation type 0,
or set to 1 for resource allocation type 1, or set to 0 or 1 for dynamic
switch resource allocation type, or set to 0 for resource allocation
type 2 with μ=1, or set to 1 for resource allocation type 2 with μ=0,
the cell corresponding to the block is not scheduled;

\- otherwise, the cell corresponding to the block is scheduled.

\- Time domain resource assignment -
$\left\lceil \log_{2}{(I_{TDRA})} \right\rceil\ $bits, where $I_{TDRA}$
is the number of entries in the higher layer parameter
*tdra-FieldIndexListDCI-0-3*. This field is used to indicate an entry in
the higher layer parameter *tdra-FieldIndexListDCI-0-3* according to
Table 7.3.1.1.4-3. Each entry in the higher layer parameter
*tdra-FieldIndexListDCI-0-3* contains the 'Time domain resource
assignment' index for each BWP of each cell in the scheduled cell set,
where the 'Time domain resource assignment' indexes for all the cells
are placed according to an ascending order of a serving cell index, and
the \'Time domain resource assignment\' indexes for all the BWPs of a
cell are placed according to an ascending order of the higher layer
parameter *BWP-Id*.

\- Frequency hopping flag - 0 or 1 bit

\- 0 bit if the higher layer parameter *frequencyHopping* is not
configured for any cell configured by higher layer parameter
*scheduledCellListDCI-0-3* in the scheduled cell set;

\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to
resource allocation type 1, as defined in Clause 6.3 of \[6, TS
38.214\].

> The field is only applicable to a scheduled cell configured with
> *frequencyHopping*, and is applied to the applicable scheduled cells
> independently.

\- Modulation and coding scheme - number of bits determined by the
following:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the modulation and coding scheme for a
> scheduled cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to
> the modulation and coding scheme for the cell with the smallest
> serving cell index. Each block is 5 bits as defined in Clause 6.1.4.1
> of \[6, TS 38.214\].

\- New data indicator - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the new data indicator for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the new data
> indicator for the cell with the smallest serving cell index. Each
> block is 1 bit.

\- Redundancy version - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the redundancy version for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the redundancy
> version for the cell with the smallest serving cell index. Each block
> is 0, 1 or 2 bits determined by higher layer parameter
> *numberOfBitsForRV-DCI-0-3* configured for the cell corresponding to
> the block,

\- If 0 bit is configured, *rv~id~* to be applied is 0;

\- 1 bit according to Table 7.3.1.2.3-1;

\- 2 bits according to Table 7.3.1.1.1-2.

\- HARQ process number - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the HARQ process number for a scheduled
> cell, and the blocks are placed according to an ascending order of a
> serving cell index, with block number 1 corresponding to the HARQ
> process number for the cell with the smallest serving cell index. Each
> block is 0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter
> *harq-ProcessNumberSizeDCI-0-3* configured for the cell corresponding
> to the block.

\- 1^st^ downlink assignment index - 1 or 2 bits

\- 1 bit for semi-static HARQ-ACK codebook;

\- 2 bits for dynamic HARQ-ACK codebook.

> When two HARQ-ACK codebooks are configured for the same serving cell
> and if higher layer parameter *priorityIndicatorDCI-0-3* is
> configured, if the bit width of the 1^st^ downlink assignment index in
> DCI format 0_3 for one HARQ-ACK codebook is not equal to that of the
> 1^st^ downlink assignment index in DCI format 0_3 for the other
> HARQ-ACK codebook, a number of most significant bits with value set to
> \'0\' are inserted to smaller 1^st^ downlink assignment index until
> the bit width of the 1^st^ downlink assignment index in DCI format 0_3
> for the two HARQ-ACK codebooks are the same.

\- 2^nd^ downlink assignment index - 0 or 2 bits:

\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks;

\- 0 bit otherwise.

> When two HARQ-ACK codebooks are configured for the same serving cell
> and if higher layer parameter *priorityIndicatorDCI-0-3* is
> configured, if the bit width of the 2^nd^ downlink assignment index in
> DCI format 0_3 for one HARQ-ACK codebook is not equal to that of the
> 2^nd^ downlink assignment index in DCI format 0_3 for the other
> HARQ-ACK codebook, a number of most significant bits with value set to
> \'0\' are inserted to smaller 2^nd^ downlink assignment index until
> the bit width of the 2^nd^ downlink assignment index in DCI format 0_3
> for the two HARQ-ACK codebooks are the same.

\- TPC command for scheduled PUSCH - number of bits determined by the
following:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the TPC command for the scheduled PUSCH for
> a scheduled cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to
> the TPC command for the scheduled PUSCH for the cell with the smallest
> serving cell index. Each block is 2 bits as defined in Clause 7.1.1 of
> \[5, TS38.213\].

\- SRS resource indicator - number of bits determined by the following:

\- If *sri-DCI0-3= type1a* is configured by higher layer,

\- $\max_{r \in \{ 1,2,\ldots,N_{cell}^{UL,2}\}}{M_{s}(r)}\ $bits
applying to the scheduled cells with $M_{s}(r) > 0$ independently, where
$N_{cell}^{UL,\ 2}$ is the number of cells configured by higher layer
parameter *scheduledCellListDCI-0-3* in the scheduled cell set, $r$ is
mapped to the cells according to an ascending order of a serving cell
index with $r = 1$ corresponding to the cell with the smallest serving
cell index, and $M_{s}(r)$ is defined below.

\- If *sri-DCI0-3= type2* is configured by higher layer,

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the SRS resource indicator for a scheduled
> cell, and the blocks are placed according to an ascending order of a
> serving cell index, with block number 1 corresponding to the SRS
> resource indicator for the cell with the smallest serving cell index.
> Each block is defined below.
>
> $M_{s}(r)$ above for the case of *sri-DCI0-3= type1a* or each block
> above for the case of *sri-DCI0-3= type2* is defined by the following:

\-
$\left\lceil \log_{2}\left( \sum_{k = 1}^{\min\left\{ L_{\max},\ N_{SRS} \right\}}\begin{pmatrix}
N_{SRS} \\
k
\end{pmatrix} \right) \right\rceil$ bits according to Tables
7.3.1.1.2-28/29/30/31 if the higher layer parameter *txConfig =
nonCodebook*, where $N_{SRS}$ is the number of configured SRS resources
in the first SRS resource set configured by higher layer parameter
*srs-ResourceSetToAddModList*, and associated with the higher layer
parameter *usage* of value \'*nonCodeBook*\' and

\- if UE supports operation with *maxMIMO-Layers* and the higher layer
parameter *maxMIMO-Layers* of *PUSCH-ServingCellConfig* of the serving
cell is configured, *L~max~* is given by that parameter

\- otherwise, *L~max~* is given by the maximum number of layers for
PUSCH supported by the UE for the serving cell for non-codebook based
operation.

\- $\left\lceil \log_{2}\left( N_{SRS} \right) \right\rceil$ bits
according to Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the
higher layer parameter *txConfig = codebook*, where $N_{SRS}$ is the
number of configured SRS resources in the first SRS resource set
configured by higher layer parameter *srs-ResourceSetToAddModList*, and
associated with the higher layer parameter *usage* of value
\'*codeBook*\'.

\- Precoding information and number of layers - number of bits
determined by the following:

\- If *tpmi-DCI0-3= type1a* is configured by higher layer,

\- $\ \max_{r \in \{ 1,2,\ldots,N_{cell}^{UL,2}\}}{M_{p}(r)}\ $bits
applying to the scheduled cells with $M_{p}(r) > 0$ independently, where
$r$ is mapped to the cells according to an ascending order of a serving
cell index with $r = 1$ corresponding to the cell with the smallest
serving cell index, and $M_{p}(r)$ is defined below.

\- If *tpmi-DCI0-3= type2* is configured by higher layer,

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the precoding information and number of
> layers for a scheduled cell, and the blocks are placed according to an
> ascending order of a serving cell index, with block number 1
> corresponding to the precoding information and number of layers for
> the cell with the smallest serving cell index. Each block is defined
> below.
>
> $M_{p}(r)$ above for the case of *tpmi-DCI0-3= type1a* or each block
> above for the case of *tpmi-DCI0-3= type2* is defined by the
> following:

\- 0 bits if the higher layer parameter *txConfig = nonCodeBook*;

\- 0 bits for 1 antenna port and if the higher layer parameter *txConfig
= codebook*;

\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,*
transform precoder is disabled, and according to the values of higher
layer parameters *maxRank*, and *codebookSubset*;

\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1,
maxRank=2,* transform precoder is disabled, and according to the value
of higher layer parameter *codebookSubset*;

\- 4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if
*txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1,*
*maxRank=3 or 4,* transform precoder is disabled, and according to the
value of higher layer parameter *codebookSubset*;

\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports,
if *txConfig = codebook,* *ul-FullPowerTransmission* is not configured
or configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and the
values of higher layer parameters *maxRank* and *codebookSubset*;

\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1*,
*maxRank=1*, and according to whether transform precoder is enabled or
disabled, and the value of higher layer parameter *codebookSubset*;

\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* transform
precoder is disabled, and according to the values of higher layer
parameters *maxRank* and *codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1*,
transform precoder is disabled, *maxRank=2*, and
*codebookSubset=nonCoherent*;

\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission* is not configured or
configured to *fullpowerMode2* or configured to *fullpower,* and
according to whether transform precoder is enabled or disabled, and the
values of higher layer parameters *maxRank* and *codebookSubset*;

\- 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if
*txConfig = codebook,* *ul-FullPowerTransmission =fullpowerMode1*,
*maxRank=1*, and according to whether transform precoder is enabled or
disabled, and the value of higher layer parameter *codebookSubset*.

> For the higher layer parameter *txConfig=codebook*, if
> *ul-FullPowerTransmission* is configured to *fullpowerMode2*,
> *maxRank* is configured to be larger than 2, and at least one SRS
> resource with 4 antenna ports is configured in the SRS resource set
> indicated by SRS resource set indicator field if present, otherwise in
> an SRS resource set with usage set to \'codebook\', and an SRS
> resource with 2 antenna ports is indicated via SRI in the same SRS
> resource set, then Table 7.3.1.1.2-4 is used.
>
> For the higher layer parameter *txConfig = codebook*, if different SRS
> resources with different number of antenna ports are configured, the
> bitwidth is determined according to the maximum number of ports in an
> SRS resource among the configured SRS resources in all SRS resource
> set(s) with usage set to \'codebook\'. If the number of ports for a
> configured SRS resource in the set is less than the maximum number of
> ports in an SRS resource among the configured SRS resources, a number
> of most significant bits with value set to \'0\' are inserted to the
> field.

\- Antenna ports - number of bits determined by the following:

\- If *antennaPortsDCI0-3= type1a* is configured by higher layer,

\- $\max_{r \in \{ 1,2,\ldots,N_{cell}^{UL,2}\}}{M_{A}(r)}\ $bits
applying to the scheduled cells independently, where $r$ is mapped to
the cells according to an ascending order of a serving cell index with
$r = 1$ corresponding to the cell with the smallest serving cell index,
and $M_{A}(r)$ is defined below.

\- If *antennaPortsDCI0-3= type2* is configured by higher layer,

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the Antenna ports information for a
> scheduled cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to
> the Antenna ports information for the cell with the smallest serving
> cell index. Each block is defined below.
>
> $M_{A}(r)$ above for the case of *antennaPortsDCI0-3= type1a* or each
> block above for the case of *antennaPortsDCI0-3= type2* is defined by
> the following:

\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is
enabled, *dmrs-Type*=1, and *maxLength*=1, except that
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured and
π/2 BPSK modulation is used;

\- 2 bits as defined by Tables 7.3.1.1.2-6A, if transform precoder is
enabled and *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured, π/2 BPSK modulation is used, *dmrs-Type*=1, and
*maxLength*=1, where n~SCID~ is the scrambling identity for antenna
ports defined in clause 6.4.1.1.1.2, TS38.211\];

\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is
enabled, *dmrs-Type*=1, and *maxLength*=2, except that
*dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both configured and
π/2 BPSK modulation is used;

\- 4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is
enabled and *dmrs-UplinkTransformPrecoding* and *tp-pi2BPSK* are both
configured, π/2 BPSK modulation is used, *dmrs-Type*=1, and
*maxLength*=2, where n~SCID~ is the scrambling identity for antenna
ports defined in clause 6.4.1.1.1.2, TS38.211\];

\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/11, if transform
precoder is disabled, *dmrs-Type*=1, and *maxLength*=1, and the value of
rank is determined according to the SRS resource indicator field if the
higher layer parameter *txConfig = nonCodebook* and according to the
Precoding information and number of layers field if the higher layer
parameter *txConfig = codebook*;

\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/15, if transform
precoder is disabled, *dmrs-Type*=1, and *maxLength*=2, and the value of
rank is determined according to the SRS resource indicator field if the
higher layer parameter *txConfig = nonCodebook* and according to the
Precoding information and number of layers field if the higher layer
parameter *txConfig = codebook*;

\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/19, if transform
precoder is disabled, *dmrs-Type*=2, and *maxLength*=1, and the value of
rank is determined according to the SRS resource indicator field if the
higher layer parameter *txConfig = nonCodebook* and according to the
Precoding information and number of layers field if the higher layer
parameter *txConfig = codebook*;

\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/23, if transform
precoder is disabled, *dmrs-Type*=2, and *maxLength*=2, and the value of
rank is determined according to the SRS resource indicator field if the
higher layer parameter *txConfig = nonCodebook* and according to the
Precoding information and number of layers field if the higher layer
parameter *txConfig = codebook*.

> where the number of CDM groups without data of values 1, 2, and 3 in
> Tables 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1},
> and {0, 1,2} respectively.
>
> If a UE is configured with both *dmrs-UplinkForPUSCH-MappingTypeA* and
> *dmrs-UplinkForPUSCH-MappingTypeB*, the bitwidth of this field equals
> $\max\left\{ x_{A},x_{B} \right\}$, where $x_{A}$ is the \"Antenna
> ports\" bitwidth derived according to
> *dmrs-UplinkForPUSCH-MappingTypeA* and $x_{B}$ is the \"Antenna
> ports\" bitwidth derived according to
> *dmrs-UplinkForPUSCH-MappingTypeB*. A number of
> $\left| x_{A} - x_{B} \right|$ zeros are padded in the MSB of this
> field, if the mapping type of the PUSCH corresponds to the smaller
> value of $x_{A}$ and $x_{B}$.

\- SRS request -$\ \left\lceil \log_{2}{(I_{SRS})} \right\rceil\ $bits,
where $I_{SRS}$ is the number of entries in the higher layer parameter
*srs-RequestListDCI-0-3*. This field is used to indicate an entry in the
higher layer parameter *srs-RequestListDCI-0-3* according to Table
7.3.1.1.4-4. Each entry in the higher layer parameter
*srs-RequestListDCI-0-3* contains the 'SRS request' index for each cell
in the scheduled cell set, where the 'SRS request' indexes for all the
cells are placed according to an ascending order of a serving cell
index. Each 'SRS request' index is defined by the following:

\- 2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell; 3 bits for UEs
configured with *supplementaryUplink* in *ServingCellConfig* in the cell
where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table
7.3.1.1.2-24. This bit field may also indicate the associated CSI-RS
according to Clause 6.1.1.2 of \[6, TS 38.214\].

\- SRS offset indicator
-$\ \left\lceil \log_{2}{(I_{offset})} \right\rceil\ $bits,
where$I_{offset}$ is the number of entries in the higher layer parameter
*srs-OffsetListDCI-0-3*. This field is used to indicate an entry in the
higher layer parameter *srs-OffsetListDCI-0-3* according to Table
7.3.1.1.4-5. Each entry in the higher layer parameter
*srs-OffsetListDCI-0-3* contains the 'SRS offset indicator' index for
each cell in the scheduled cell set, where the 'SRS offset indicator'
indexes for all the cells are placed according to an ascending order of
a serving cell index. Each 'SRS offset indicator' index is defined by
the following:

\- 0 bit if higher layer parameter *AvailableSlotOffset* is not
configured for any aperiodic SRS resource set in the scheduled cell, or
if higher layer parameter *AvailableSlotOffset* is configured for at
least one aperiodic SRS resource set in the scheduled cell and the
maximum number of entries of *availableSlotOffsetList* configured for
all aperiodic SRS resource set(s) is 1;

\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and
Clause 6.2.1 of \[6, TS 38.214\], where K is the maximum number of
entries of *availableSlotOffsetList* configured for all aperiodic SRS
resource set(s) in the scheduled cell;

\- CSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter *reportTriggerSize*. This field is applied to the cell with
the smallest serving cell index among the scheduled cells indicated by
Scheduled cells indicator field or Frequency domain resource assignment
field.

\- PTRS-DMRS association - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{UL}$

> Each block corresponds to the PTRS-DMRS association information for a
> scheduled cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to
> the PTRS-DMRS association information for the cell with the smallest
> serving cell index. Each block is defined by the following:

\- 0 bit if *PTRS-UplinkConfi*g is not configured in either
*dmrs-UplinkForPUSCH-MappingTypeA* or *dmrs-UplinkForPUSCH-MappingTypeB*
and transform precoder is disabled, or if transform precoder is enabled,
or if *maxRankDCI=1*;

\- 2 bits otherwise, where Table 7.3.1.1.2-25 and 7.3.1.1.2-26 are used
to indicate the association between PTRS port(s) and DMRS port(s) when
one PT-RS port and two PT-RS ports are configured by *maxNrofPorts* in
*PTRS-UplinkConfig* respectively, and the DMRS ports are indicated by
the Antenna ports field.

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part and the \"PTRS-DMRS association\" field
> is present for the indicated bandwidth part but not present for the
> active bandwidth part, the UE assumes the \"PTRS-DMRS association\"
> field is not present for the indicated bandwidth part.

\- beta_offset indicator - 0 or 2 bits

\- 0 bit if *betaOffsets = semiStatic* is configured in
*uci-OnPUSCH-ListDCI-0-3* for all the cells configured by higher layer
parameter *scheduledCellListDCI-0-3* in the scheduled cell set;

\- otherwise 2 bits as defined by Table 9.3-3 in \[5, TS 38.213\].

> When two HARQ-ACK codebooks are configured for the same serving cell
> and if higher layer parameter *priorityIndicatorDCI-0-3* is
> configured, if the bit width of the beta_offset indicator in DCI
> format 0_3 for one HARQ-ACK codebook is not equal to that of the
> beta_offset indicator in DCI format 0_3 for the other HARQ-ACK
> codebook, a number of most significant bits with value set to \'0\'
> are inserted to smaller beta_offset indicator until the bit width of
> the beta_offset indicator in DCI format 0_3 for the two HARQ-ACK
> codebooks are the same.
>
> The field is only applicable to a scheduled cell configured with
> *betaOffsets = dynamic* in *uci-OnPUSCH-ListDCI-0-3*, and is applied
> to the applicable scheduled cells independently.

\- DMRS sequence initialization - 1 bit if transform precoder is
disabled at least for one cell configured by higher layer parameter
*ScheduledCellListDCI-0-3* in the scheduled cell set; otherwise, 0 bit.

> This field is independently applied to all the scheduled cells with
> transform precoder disabled, and indicated by Scheduled cells
> indicator field or Frequency domain resource assignment field.

\- UL-SCH indicator - 1 bit. A value of \"1\" indicates UL-SCH shall be
transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not
be transmitted on the PUSCH. A UE is not expected to receive a DCI
format 0_3 with UL-SCH indicator of \"0\" and CSI request of all
zero(s). This field is applied to the cell with the smallest serving
cell index among the scheduled cells indicated by Scheduled cells
indicator field or Frequency domain resource assignment field.

\- ChannelAccess-CPext-CAPC
-$\ \max_{r \in \{ 1,2,\ldots,N_{cell}^{2}\}}{M_{c}(r)}\ $bits applying
to the scheduled cells with $M_{c}(r) > 0$ independently, where
$N_{cell}^{2}$ is the number of cells configured by higher layer
parameter *scheduledCellListDCI-0-3* in the scheduled cell set, $r$ is
mapped to the cells according to an ascending order of a serving cell
index with $r = 1$ corresponding to the cell with the smallest serving
cell index, and $M_{c}(r)$ is defined by the following:

\- 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for this field is determined
as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where *I* is the
number of entries in the higher layer parameter
*ul-AccessConfigListDCI-0-1* or in Table 7.3.1.1.1-4A if
*channelAccessMode-r16* = \"*semiStatic*\" is provided, for operation in
a cell with shared spectrum channel access in frequency range 1, or for
operation in frequency range 2-2 if *ChannelAccessMode2-r17* is
provided; otherwise 0 bit. One or more entries from Table 7.3.1.1.2-35
or Table 7.3.1.1.2-35A are configured by the higher layer parameter
*ul-AccessConfigListDCI-0-1.*

\- Open-loop power control parameter set indication -
$\max_{r \in \{ 1,2,\ldots,N_{cell}^{UL,2}\}}{M_{o}(r)}\ $bits applying
to the scheduled cells with $M_{o}(r) > 0$ independently, where $r$ is
mapped to the cells according to an ascending order of a serving cell
index with $r = 1$ corresponding to the cell with the smallest serving
cell index, and $M_{o}(r)$ is defined by the following:

\- 0 bit if the higher layer parameter *p0-PUSCH-SetList* is not
configured;

\- 1 or 2 bits otherwise,

\- 1 bit if SRS resource indicator is present in the DCI format 0_3;

\- 1 or 2 bits as determined by higher layer parameter
*olpc-ParameterSetDCI-0-1* if SRS resource indicator is not present in
the DCI format 0_3.

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-0-3* is not configured; otherwise 1 bit as defined
in Clause 9 in \[5, TS 38.213\]. This field is applied to all the
scheduled cells indicated by Scheduled cells indicator field or
Frequency domain resource assignment field.

\- Minimum applicable scheduling offset indicator - 0 or 1 bit

\- 0 bit if higher layer parameter *minimumSchedulingOffsetK0DCI-0-3* is
not configured;

\- 1 bit otherwise. The 1 bit indication is used to determine the
minimum applicable K2 for the active UL BWP and the minimum applicable
K0 for the active DL BWP, if configured respectively, according to Table
7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum
applicable value of the aperiodic CSI-RS triggering offset for an active
DL BWP for each scheduled cell shall be the same as the minimum
applicable K0.

\- SCell dormancy indication - 0 bit if higher layer parameter
*dormancyDCI-0-3* or *dormancyGroupWithinActiveTime* is not configured;
otherwise 1, 2, 3, 4, or 5 bits bitmap determined according to the
number of different *DormancyGroupID(s)* provided by higher layer
parameter *dormancyGroupWithinActiveTime,* where each bit corresponds to
one of the SCell group(s) configured by higher layers parameter
*dormancyGroupWithinActiveTime,* with MSB to LSB of the bitmap
corresponding to the first to last configured SCell group in ascending
order of *DormancyGroupID*. The field is only present when this format
is carried by PDCCH on the primary cell within DRX Active Time and the
UE is configured with at least two DL BWPs for an SCell.

\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits

\- 0 bit if higher layer parameter *pdcchMonAdaptDCI-0-3* is not
enabled;

\- otherwise,

\- 1 or 2 bits, if *searchSpaceGroupIdList-r17* is not configured and if
*pdcch-SkippingDurationList* is configured

\- 1 bit if the UE is configured with only one duration by
*pdcch-SkippingDurationList;*

\- 2 bits if the UE is configured with more than one duration by
*pdcch-SkippingDurationList*.

\- 1 or 2 bits, if *pdcch-SkippingDurationList* is not configured and if
*searchSpaceGroupIdList-r17* is configured

\- 1 bit if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0 and search space set(s) with
group index 1, and if the UE is not configured by
*searchSpaceGroupIdList-r17* with any search space set with group index
2;

\- 2 bits if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0, search space set(s) with group
index 1 and search space set(s) with group index 2;

\- 2 bits, if pdcch-SkippingDurationList is configured and if
searchSpaceGroupIdList-r17 is configured

If *scheduledCellComboListDCI-0-3* for the cell set is configured, zeros
shall be appended to DCI format 0_3 if needed until the payload size
equals the size of DCI format 0_3 that is determined by the
configuration of the corresponding active bandwidth part(s) of the
scheduled cells in the entry which results in the largest size among the
entries in the higher layer parameter *scheduledCellComboListDCI-0-3*.

If an SCell within the scheduled cell set is deactivated, the UE
determines the bitwidth of the fields in DCI format 0_3 based on a UL
BWP provided by *firstActiveUplinkBWP-Id* for the SCell.

Table 7.3.1.1.4-1: Scheduled cell set indicator in DCI format 0_3

  -----------------------------------------------------------------------
  Bit field mapped   Scheduled cell set
  to index           
  ------------------ ----------------------------------------------------
  0                  The cell set configured by the 1^st^ entry in
                     *MC-DCI-SetofCellsToAddModList*

  1                  The cell set configured by the 2^nd^ entry in
                     *MC-DCI-SetofCellsToAddModList*

  2                  The cell set configured by the 3^rd^ entry in
                     *MC-DCI-SetofCellsToAddModList*, if any

  3                  The cell set configured by the 4^th^ entry in
                     *MC-DCI-SetofCellsToAddModList*, if any
  -----------------------------------------------------------------------

Table 7.3.1.1.4-2: Scheduled cells indicator in DCI format 0_3

  -----------------------------------------------------------------------
  **Bit field mapped **Scheduled cells**
  to index**         
  ------------------ ----------------------------------------------------
  0                  The cells configured by the 1^st^ entry in
                     *scheduledCellComboListDCI-0-3*

  1                  The cells configured by the 2^nd^ entry in
                     *scheduledCellComboListDCI-0-3*

  2                  The cells configured by the 3^rd^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  3                  The cells configured by the 4^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  4                  The cells configured by the 5^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  5                  The cells configured by the 6^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  6                  The cells configured by the 7^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  7                  The cells configured by the 8^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  8                  The cells configured by the 9^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  9                  The cells configured by the 10^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  10                 The cells configured by the 11^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  11                 The cells configured by the 12^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  12                 The cells configured by the 13^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  13                 The cells configured by the 14^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  14                 The cells configured by the 15^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any

  15                 The cells configured by the 16^th^ entry in
                     *scheduledCellComboListDCI-0-3*, if any
  -----------------------------------------------------------------------

Table 7.3.1.1.4-3: Time domain resource assignment in DCI format 0_3

  -----------------------------------------------------------------------
  **Bit field mapped to   **Indicated time domain resource allocation**
  index**                 
  ----------------------- -----------------------------------------------
  0                       The 1^st^ entry in *tdra-FieldIndexListDCI-0-3*

  1                       The 2^nd^ entry in *tdra-FieldIndexListDCI-0-3*

  2                       The 3^rd^ entry in
                          *tdra-FieldIndexListDCI-0-3*, if any

  ...                     ...

  $$i$$                   The ${(i + 1)}^{th}$ entry in
                          *tdra-FieldIndexListDCI-0-3*, if any

  ...                     ...
  -----------------------------------------------------------------------

Table 7.3.1.1.4-4: SRS request in DCI format 0_3

  -----------------------------------------------------------------------
  Bit field mapped to index Triggered aperiodic SRS resource set(s)
  ------------------------- ---------------------------------------------
  0                         The 1^st^ entry in *srs-RequestListDCI-0-3*

  1                         The 2^nd^ entry in *srs-RequestListDCI-0-3*

  2                         The 3^rd^ entry in *srs-RequestListDCI-0-3*,
                            if any

  ...                       ...

  15                        The 16^th^ entry in *srs-RequestListDCI-0-3*,
                            if any
  -----------------------------------------------------------------------

Table 7.3.1.1.4-5: SRS offset indicator in DCI format 0_3

  -----------------------------------------------------------------------
  Bit field mapped to     Available slot offset
  index                   
  ----------------------- -----------------------------------------------
  0                       The 1^st^ entry in *srs-OffsetListDCI-0-3*

  1                       The 2^nd^ entry in *srs-OffsetListDCI-0-3*

  2                       The 3^rd^ entry in *srs-OffsetListDCI-0-3*, if
                          any

  ...                     ...

  7                       The 8^th^ entry in *srs-OffsetListDCI-0-3*, if
                          any
  -----------------------------------------------------------------------

#### 7.3.1.2 DCI formats for scheduling of PDSCH 

##### 7.3.1.2.1 Format 1_0

DCI format 1_0 is used for the scheduling of PDSCH in one DL cell.

The following information is transmitted by means of the DCI format 1_0
with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bits

\- The value of this bit field is always set to 1, indicating a DL DCI
format

\- Frequency domain resource assignment - ![](media/image1026.wmf) bits
where ![](media/image992.wmf) is given by Clause 7.3.1.0

If the CRC of the DCI format 1_0 is scrambled by C-RNTI and the
\"Frequency domain resource assignment\" field are of all ones, the DCI
format 1_0 is for random access procedure initiated by a PDCCH order,
with all remaining fields set as follows:

\- Random Access Preamble index - 6 bits according to *ra-PreambleIndex*
in Clause 5.1.2 of \[8, TS38.321\]

\- UL/SUL indicator - 1 bit. If the value of the \"Random Access
Preamble index\" is not all zeros and if the UE is configured with
*supplementaryUplink* in *ServingCellConfig* in the cell, this field
indicates which UL carrier in the cell to transmit the PRACH according
to Table 7.3.1.1.1-1; otherwise, this field is reserved

\- SS/PBCH index - 6 bits. If the value of the \"Random Access Preamble
index\" is not all zeros, this field indicates the SS/PBCH that shall be
used to determine the RACH occasion for the PRACH transmission;
otherwise, this field is reserved.

\- PRACH Mask index - 4 bits. If the value of the \"Random Access
Preamble index\" is not all zeros, this field indicates the RACH
occasion associated with the SS/PBCH indicated by \"SS/PBCH index\" for
the PRACH transmission, according to Clause 5.1.1 of \[8, TS38.321\];
otherwise, this field is reserved

\- Cell indicator -$\ \left\lceil \log_{2}(C + 1) \right\rceil$ bits
indicating the cell for the corresponding PRACH transmission if the UE
is configured with higher layer parameter *EarlyUlSyncConfig*, where *C*
is the number of candidate cells configured with higher layer parameter
*EarlyUlSyncConfig*; 0 bit otherwise. The bit field index 0 of the cell
indicator field is mapped to the serving cell, and other bit field
indexes are mapped to the candidate cells configured with higher layer
parameter *EarlyUlSyncConfig* according to an ascending order of a
candidate identity configured by *ltm-CandidateId*, with the bit field
index 1 mapped to the candidate cell with the smallest candidate
identity.

\- PRACH association indicator - 0 or 1 bit

\- 1bit if the UE is provided with *tag-Id2*, and the UE is not provided
*coresetPoolIndex* or is provided *coresetPoolIndex* with value 0 for
the first CORESETs, and is provided *coresetPoolIndex* with value 1 for
the second CORESETs.

\- This field indicates the PCI associated with the PRACH transmission
if the UE is provided *SSB-MTC-AddtionalPCI*. The bit field index 0 of
this field is mapped to the PCI of the serving cell, and the bit field
index 1 of this field is mapped to the additional PCI associated with
active TCI states.

\- This field indicates the PL-RS for the PRACH transmission if the UE
is not provided *SSB-MTC-AddtionalPCI*. The bit field index 0 of this
field is mapped to the DL RS that the DM-RS of the PDCCH order is
quasi-collocated with, and the bit field index 1 of this field is mapped
to the SS/PBCH indicated by the SS/PBCH index field in this DCI format.

\- 0 bit otherwise.

\- PRACH retransmission indicator - 0 or 1 bit

\- 1bit if the UE is configured with higher layer parameter
*EarlyUlSyncConfig*. This field indicates initial transmission or
retransmission of PRACH according to Table 7.3.1.2.1-3 if the cell
indicated by Cell indicator field is a candidate cell, and this field is
reserved if the cell indicated by Cell indicator field is a serving cell
but not a candidate cell.

\- 0 bit otherwise.

\- Reserved bits - a number of bits as determined by the following:

\- (12 - $Y_{1}$ - $Y_{2}$) bits for operation in a cell with shared
spectrum channel access in frequency range 1 or when the DCI format is
monitored in common search space for operation in a cell in frequency
range 2-2;

\- (10 - $Y_{1}$ - $Y_{2}$) bits otherwise;

where,

\- $Y_{1} = 0$ if the UE is not configured with higher layer parameter
*EarlyUlSyncConfig*;
$Y_{1} = \left\lceil \log_{2}(C + 1) \right\rceil$+1 otherwise.

\- $Y_{2} = 0$ if the \"PRACH association indicator\" field is not
present in this DCI format; $Y_{2} = 1$ otherwise.

Otherwise, all remaining fields are set as follows:

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS 38.214\]

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- HARQ process number - 4 bits

\- Downlink assignment index - 2 bits as defined in Clause 9.1.3 of \[5,
TS 38.213\], as counter DAI

\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of \[5, TS 38.213\]

\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of \[5,
TS 38.213\]

\- PDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause
9.2.3 of \[5, TS38.213\]

\- ChannelAccess-CPext - 2 bits indicating combinations of channel
access type and CP extension as defined in Table 7.3.1.1.1-4, or Table
7.3.1.1.1-4A if *channelAccessMode-r16* = \"*semiStatic*\" is provided,
for operation in a cell with shared spectrum channel access in frequency
range 1; 2 bits indicating channel access type as defined in Table
7.3.1.1.1-4B if *ChannelAccessMode2-r17* is provided for operation in a
cell in frequency range 2-2; 0 bits otherwise

\- Reserved bits - 2 bits when the DCI format is monitored in common
search space for operation in a cell in frequency range 2-2 and the
number of bits for the field of \'ChannelAccess-CPext\' is 0; 0 bits
otherwise

The following information is transmitted by means of the DCI format 1_0
with CRC scrambled by P-RNTI:

\- Short Messages Indicator - 2 bits according to Table 7.3.1.2.1-1.

\- Short Messages - 8 bits, according to Clause 6.5 of \[9, TS38.331\].
If only the scheduling information for Paging, and TRS availability
indication if *trs-ResourceSetConfig* is configured, are carried, this
bit field is reserved.

\- Frequency domain resource assignment -![](media/image1026.wmf) bits.
If only the short message, and TRS availability indication if
*trs-ResourceSetConfig* is configured, are carried, this bit field is
reserved.

\- ![](media/image1027.wmf) is the size of CORESET 0

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS38.214\]. If only the short message, and TRS availability
indication if *trs-ResourceSetConfig* is configured, are carried, this
bit field is reserved.

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5. If only
the short message, and TRS availability indication if
*trs-ResourceSetConfig* is configured, are carried, this bit field is
reserved.

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS38.214\], using Table 5.1.3.1-1. If only the short message, and
TRS availability indication if *trs-ResourceSetConfig* is configured,
are carried, this bit field is reserved.

\- TB scaling - 2 bits as defined in Clause 5.1.3.2 of \[6, TS38.214\].
If only the short message, and TRS availability indication if
*trs-ResourceSetConfig* is configured, are carried, this bit field is
reserved.

\- TRS availability indication - 1, 2, 3, 4, 5, or 6 bits, where the
number of bits is equal to one plus the highest value of all the
*indBitID*(s) provided by the *trs-ResourceSetConfig* if configured; 0
bits otherwise.

\- Reserved bits - (8 - *M*) bits for operation in a cell with shared
spectrum channel access in frequency range 1 or for operation in a cell
in frequency range 2-2; (6 - *M*) bits for operation in a cell without
shared spectrum channel access, where the value of *M* is the number of
bits for the field of \'TRS availability indication\' as defined above.

The following information is transmitted by means of the DCI format 1_0
with CRC scrambled by SI-RNTI:

\- Frequency domain resource assignment -![](media/image1026.wmf) bits

\- ![](media/image1027.wmf) is the size of CORESET 0

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS38.214\]

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS38.214\], using Table 5.1.3.1-1

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- System information indicator - 1 bit as defined in Table 7.3.1.2.1-2

\- Reserved bits - 17 bits for operation in a cell with shared spectrum
channel access in frequency range 1 or for operation in a cell in
frequency range 2-2; otherwise 15 bits

The following information is transmitted by means of the DCI format 1_0
with CRC scrambled by RA-RNTI or MsgB-RNTI:

\- Frequency domain resource assignment -![](media/image1026.wmf) bits

\- ![](media/image1027.wmf) is the size of CORESET 0 if CORESET 0 is
configured for the cell and ![](media/image1028.wmf) is the size of
initial DL bandwidth part if CORESET 0 is not configured for the cell

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS38.214\]

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS38.214\], using Table 5.1.3.1-1

> \- TB scaling - 2 bits as defined in Clause 5.1.3.2 of \[6, TS38.214\]

\- LSBs of SFN - 2 bits for the DCI format 1_0 with CRC scrambled by
MsgB-RNTI as defined in Clause 8.2A of \[5, TS 38.213\] if
*msgB-responseWindow* is configured to be larger than 10 ms; or 2 bits
for the DCI format 1_0 with CRC scrambled by RA-RNTI as defined in
Clause 8.2 of \[5, TS 38.213\] for operation in a cell with shared
spectrum channel access if *ra-ResponseWindow or
ra-ResponseWindow-v1610* is configured to be larger than 10 ms; 0 bit
otherwise

\- Reserved bits - (16 - *A*) bits for operation in a cell without
shared spectrum access in frequency range 1 and frequency range 2-1,
(18 - *A*) for operation in a cell with shared spectrum access in
frequency range 1 or for operation in a cell in frequency range 2-2,
where the value of *A* is the number of bits for the field of \'LSBs of
SFN\' as defined above

The following information is transmitted by means of the DCI format 1_0
with CRC scrambled by TC-RNTI:

\- Identifier for DCI formats - 1 bit

\- The value of this bit field is always set to 1, indicating a DL DCI
format

\- Frequency domain resource assignment -![](media/image1026.wmf) bits

\- ![](media/image1027.wmf) is the size of CORESET 0

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS38.214\]

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS38.214\], using Table 5.1.3.1-1

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- HARQ process number - 4 bits

\- Downlink assignment index - 2 bits

\- 2 bits indicating the number of repetitions for PUCCH as defined in
clause 9.2.6 of \[5, TS38.213\] according to Table 7.3.1.2.1-4, if the
higher layer parameter *numberOfPUCCHforMsg4HARQACK-RepetitionsList* is
configured with at least two values and the UE has indicated capability
of PUCCH repetition on common PUCCH resource \[8, TS38.321\];

\- otherwise, reserved.

\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of \[5, TS38.213\]

\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of \[5,
TS38.213\]

\- PDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause
9.2.3 of \[5, TS38.213\]

\- ChannelAccess-CPext - 2 bits indicating combinations of channel
access type and CP extension as defined in Table 7.3.1.1.1-4, or Table
7.3.1.1.1-4A if *channelAccessMode-r16* = \"*semiStatic*\" is provided,
for operation in a cell with shared spectrum channel access in frequency
range 1; 2 bits indicating channel access type as defined in Table
7.3.1.1.1-4B if *ChannelAccessMode2-r17* is provided for operation in a
cell in frequency range 2-2; otherwise 0 bit

\- Reserved bits - 2 bits when the DCI format is monitored in common
search space for operation in a cell in frequency range 2-2 and the
number of bits for the field of \'ChannelAccess-CPext\' is 0; 0 bits
otherwise

Table 7.3.1.2.1-1: Short Message indicator

  -----------------------------------------------------------------------
  Bit field  Short Message indicator
  ---------- ------------------------------------------------------------
  00         Reserved

  01         Only scheduling information for Paging, and TRS availability
             indication if *trs-ResourceSetConfig* is configured, are
             present in the DCI

  10         Only short message, and TRS availability indication if
             *trs-ResourceSetConfig* is configured, are present in the
             DCI

  11         Both scheduling information for Paging, TRS availability
             indication if *trs-ResourceSetConfig* is configured and
             short message are present in the DCI
  -----------------------------------------------------------------------

Table 7.3.1.2.1-2: System information indicator

  -----------------------------------------------------------------------
  Bit field  System information indicator
  ---------- ------------------------------------------------------------
  0          SIB1 \[9, TS38.331, Clause 5.2.1\]

  1          SI message \[9, TS38.331, Clause 5.2.1\]
  -----------------------------------------------------------------------

Table 7.3.1.2.1-3: PRACH retransmission indicator

  -----------------------------------------------------------------------
  Bit field               PRACH retransmission indicator
  ----------------------- -----------------------------------------------
  0                       Initial transmission of PRACH

  1                       Retransmission of PRACH
  -----------------------------------------------------------------------

Table 7.3.1.2.1-4: Number of repetitions
$\mathbf{N}_{\mathbf{PUCCH}}^{\mathbf{repeat}}$ as a function of 2 bits
of Downlink assignment index field

  -----------------------------------------------------------------------
  **Bit      $$\mathbf{N}_{\mathbf{PUCCH}}^{\mathbf{repeat}}$$
  field**    
  ---------- ------------------------------------------------------------
  00         First value of *numberOfPUCCHforMsg4HARQACK-RepetitionsList*

  01         Second value of
             *numberOfPUCCHforMsg4HARQACK-RepetitionsList*

  10         Third value of *numberOfPUCCHforMsg4HARQACK-RepetitionsList*
             if provided, otherwise reserved

  11         Fourth value of
             *numberOfPUCCHforMsg4HARQACK-RepetitionsList* if provided,
             otherwise reserved
  -----------------------------------------------------------------------

##### 7.3.1.2.2 Format 1_1

DCI format 1_1 is used for the scheduling of one or multiple PDSCH in
one cell.

The following information is transmitted by means of the DCI format 1_1
with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bits

\- The value of this bit field is always set to 1, indicating a DL DCI
format

\- Carrier indicator - 0 or 3 bits as defined in Clause 10.1 of \[5, TS
38.213\]. This field is reserved when this format is carried by PDCCH on
the primary cell and the UE is configured for scheduling on the primary
cell from an SCell, with the same number of bits as that in this format
carried by PDCCH on the SCell for scheduling on the primary cell.

\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number
of DL BWPs ![](media/image1001.wmf) configured by higher layers,
excluding the initial DL bandwidth part. The bitwidth for this field is
determined as ![](media/image1029.wmf)bits, where

\- ![](media/image1030.wmf) if ![](media/image1004.wmf), in which case
the bandwidth part indicator is equivalent to the ascending order of the
higher layer parameter *BWP-Id*;

\- otherwise ![](media/image1031.wmf), in which case the bandwidth part
indicator is defined in Table 7.3.1.1.2-1;

If a UE does not support active BWP change via DCI, the UE ignores this
bit field.

\- Frequency domain resource assignment - number of bits determined by
the following, where ![](media/image992.wmf) is the size of the active
DL bandwidth part:

\- ![](media/image1032.wmf) bits if only resource allocation type 0 is
configured, where ![](media/image1006.wmf) is defined in Clause
5.1.2.2.1 of \[6, TS38.214\],

\- ![](media/image1033.wmf)bits if only resource allocation type 1 is
configured, or

\- ![](media/image1034.wmf) bits if *resourceAllocation* is configured
as \'*dynamicSwitch\'*.

\- If *resourceAllocation* is configured as \'*dynamicSwitch\'*, the MSB
bit is used to indicate resource allocation type 0 or resource
allocation type 1, where the bit value of 0 indicates resource
allocation type 0 and the bit value of 1 indicates resource allocation
type 1.

\- For resource allocation type 0, the![](media/image1006.wmf) LSBs
provide the resource allocation as defined in Clause 5.1.2.2.1 of \[6,
TS 38.214\].

\- For resource allocation type 1, the ![](media/image1035.wmf) LSBs
provide the resource allocation as defined in Clause 5.1.2.2.2 of \[6,
TS 38.214\]

If \"Bandwidth part indicator\" field indicates a bandwidth part other
than the active bandwidth part and if *resourceAllocation* is configured
as \'*dynamicSwitch\'* for the indicated bandwidth part, the UE assumes
resource allocation type 0 for the indicated bandwidth part if the
bitwidth of the \"Frequency domain resource assignment\" field of the
active bandwidth part is smaller than the bitwidth of the \"Frequency
domain resource assignment\" field of the indicated bandwidth part.

\- Time domain resource assignment - 0, 1, 2, 3, 4, 5 or 6 bits

\- If the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH* is not configured and if
the higher layer parameter *pdsch-TimeDomainAllocationList* is
configured, 0, 1, 2, 3 or 4 bits as defined in Clause 5.1.2.1 of \[6, TS
38.214\]. The bitwidth for this field is determined as
![](media/image1036.wmf)bits, where *I* is the number of entries in the
higher layer parameter *pdsch-TimeDomainAllocationList* if the higher
layer parameter is configured;

\- if the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH* is configured, 0, 1, 2, 3,
4, 5 or 6 bits as defined in Clause 5.1.2.1 of \[6, TS38.214\]. The
bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil\ $bits, where *I* is the number
of entries in the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH*;

\- otherwise *I* is the number of entries in the default table.

\- VRB-to-PRB mapping - 0 or 1 bit:

\- 0 bit if only resource allocation type 0 is configured or if
interleaved VRB-to-PRB mapping is not configured by high layers;

\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to
resource allocation type 1, as defined in Clause 7.3.1.6 of \[4, TS
38.211\].

\- PRB bundling size indicator - 0 bit if the higher layer parameter
*prb-BundlingType* is not configured or is set to \'staticBundling\', or
1 bit if the higher layer parameter *prb-BundlingType* is set to
\'dynamicBundling\' according to Clause 5.1.2.3 of \[6, TS 38.214\].

\- Rate matching indicator - 0, 1, or 2 bits according to higher layer
parameters *rateMatchPatternGroup1* and *rateMatchPatternGroup2*, where
the MSB is used to indicate *rateMatchPatternGroup1* and the LSB is used
to indicate *rateMatchPatternGroup2* when there are two groups.

\- ZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of
\[6, TS 38.214\]. The bitwidth for this field is determined as
![](media/image1037.wmf)bits, where ![](media/image1038.wmf) is the
number of aperiodic ZP CSI-RS resource sets configured by higher layer.

For transport block 1:

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit if the number of scheduled PDSCH indicated
by the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5,
6, 7 or 8 bits determined based on the maximum number of schedulable
PDSCH among all entries in the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH*, where each bit
corresponds to one scheduled PDSCH as defined in clause 5.1.3 in \[6, TS
38.214\].

\- Redundancy version - number of bits determined by the following:

\- 2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled
PDSCH indicated by the Time domain resource assignment field is 1;

\- otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number
of schedulable PDSCHs among all entries in the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH*, where each bit
corresponds to one scheduled PDSCH as defined in clause 5.1.3 in \[6, TS
38.214\] and redundancy version is determined according to Table
7.3.1.1.2-34.

For transport block 2 (only present if *maxNrofCodeWordsScheduledByDCI*
equals 2):

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit if the number of scheduled PDSCH indicated
by the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5,
6, 7 or 8 bits determined based on the maximum number of schedulable
PDSCH among all entries in the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH*, where each bit
corresponds to one scheduled PDSCH as defined in clause 5.1.3 in \[6, TS
38.214\].

\- Redundancy version - number of bits determined by the following:

\- 2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled
PDSCH indicated by the Time domain resource assignment field is 1;

\- otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number
of schedulable PDSCHs among all entries in the higher layer parameter
*pdsch-TimeDomainAllocationListForMultiPDSCH*, where each bit
corresponds to one scheduled PDSCH as defined in clause 5.1.3 in \[6, TS
38.214\] and redundancy version is determined according to Table
7.3.1.1.2-34.

If \"Bandwidth part indicator\" field indicates a bandwidth part other
than the active bandwidth part and the value of
*maxNrofCodeWordsScheduledByDCI* for the indicated bandwidth part equals
2 and the value of *maxNrofCodeWordsScheduledByDCI* for the active
bandwidth part equals 1, the UE assumes zeros are padded when
interpreting the \"Modulation and coding scheme\", \"New data
indicator\", and \"Redundancy version\" fields of transport block 2
according to Clause 12 of \[5, TS38.213\], and the UE ignores the
\"Modulation and coding scheme\", \"New data indicator\", and
\"Redundancy version\" fields of transport block 2 for the indicated
bandwidth part.

\- HARQ process number - 5 bits if higher layer parameter
*harq-ProcessNumberSizeDCI-1-1* is configured; otherwise 4 bits

\- Downlink assignment index - number of bits as defined in the
following

\- 6 bits if more than one serving cell are configured in the DL and the
higher layer parameter *nfi-TotalDAI-Included* is configured. The 4 MSB
bits are the counter DAI and the total DAI for the scheduled PDSCH
group, and the 2 LSB bits are the total DAI for the non-scheduled PDSCH
group.

\- 4 bits if only one serving cell is configured in the DL and the
higher layer parameter *nfi-TotalDAI-Included* is configured*.* The 2
MSB bits are the counter DAI for the scheduled PDSCH group, and the 2
LSB bits are the total DAI for the non-scheduled PDSCH group;

\- 4 bits if more than one serving cell are configured in the DL, the
higher layer parameter *pdsch-HARQ-ACK-Codebook=dynamic* or
*pdsch-HARQ-ACK-Codebook-r16= enhancedDynamic*, and
*nfi-TotalDAI-Included* is not configured, where the 2 MSB bits are the
counter DAI and the 2 LSB bits are the total DAI;

\- 4 bits if one serving cell is configured in the DL, and the higher
layer parameter *pdsch-HARQ-ACK-Codebook=dynamic*, and the UE is not
provided *coresetPoolIndex* or is provided *coresetPoolIndex* with value
0 for one or more first CORESETs and is provided *coresetPoolIndex* with
value 1 for one or more second CORESETs, and is provided
*ackNackFeedbackMode = joint*, where the 2 MSB bits are the counter DAI
and the 2 LSB bits are the total DAI;

\- 2 bits if only one serving cell is configured in the DL, the higher
layer parameter *pdsch-HARQ-ACK-Codebook=dynamic* or
*pdsch-HARQ-ACK-Codebook-r16=enhancedDynamic*, and
*nfi-TotalDAI-Included* is not configured, when the UE is not configured
with *coresetPoolIndex* or the value of *coresetPoolIndex* is the same
for all CORESETs if *coresetPoolIndex* is provided or the UE is not
configured with *ackNackFeedbackMode = joint*, where the 2 bits are the
counter DAI;

\- 0 bits otherwise.

If the UE is configured with a PUCCH-SCell, the number of serving cells
is determined within a PUCCH group.

If the UE is configured with a PUCCH-SCell, *pdsch-HARQ-ACK-Codebook* is
replaced by *pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16* if present
for the secondary PUCCH group.

If higher layer parameter *priorityIndicatorDCI-1-1* is configured, if
the bit width of the Downlink assignment index in DCI format 1_1 for one
HARQ-ACK codebook is not equal to that of the Downlink assignment index
in DCI format 1_1 for the other HARQ-ACK codebook, a number of most
significant bits with value set to \'0\' are inserted to smaller
Downlink assignment index until the bit width of the Downlink assignment
index in DCI format 1_1 for the two HARQ-ACK codebooks are the same.

\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of \[5, TS 38.213\]

\- Second TPC command for scheduled PUCCH - 2 bits as defined in Clause
7.2.1 of \[5, TS 38.213\] if higher layer parameter
*SecondTPCFieldDCI-1-1* is configured; 0 bit otherwise.

\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of \[5,
TS 38.213\]

\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as
defined in Clause 9.2.3 of \[5, TS 38.213\]. The bitwidth for this field
is determined as ![](media/image1036.wmf)bits, where *I* is the number
of entries in the higher layer parameter *dl-DataToUL-ACK.*

If higher layer parameter *priorityIndicatorDCI-1-1* is configured, if
the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI
format 1_1 for one HARQ-ACK codebook is not equal to that of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 for the other
HARQ-ACK codebook on the same cell for PUCCH transmission, a number of
most significant bits with value set to \'0\' are inserted to smaller
PDSCH-to-HARQ_feedback timing indicator until the bit width of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 for the two
HARQ-ACK codebooks are the same.

If higher layer parameter *pucch-sSCellDyn* is configured, if the bit
width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1
associated with one cell for PUCCH transmission is not equal to that of
the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 associated
with the other cell for PUCCH transmission, a number of most significant
bits with value set to \'0\' are inserted to smaller
PDSCH-to-HARQ_feedback timing indicator until the bit width of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 associated
with the two cells are the same.

If the UE is configured with a PUCCH-SCell, *pucch-sSCellDyn* is
replaced by *pucch-sSCellDynSecondaryPUCCHgroup* for the secondary PUCCH
group*.*

\- One-shot HARQ-ACK request - 0 or 1 bit.

\- 1 bit if higher layer parameter *pdsch-HARQ-ACK-OneShotFeedback-r16*
or *pdsch-HARQ-ACK-EnhType3ToAddModList* is configured;

\- 0 bit otherwise.

If the UE is configured with a PUCCH-SCell,
*pdsch-HARQ-ACK-EnhType3ToAddModList* is replaced by
*pdsch-HARQ-ACK-EnhType3SecondaryToAddModList* for the secondary PUCCH
group*.*

\- Enhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.

\- 0 bit if *pdsch-HARQ-ACK-EnhType3DCI-Field* is not configured;

\- $\left\lceil \log_{2}{(n_{CB})} \right\rceil$ bits otherwise, where
$n_{CB}$ is the number of entries in the higher layer parameter
*pdsch-HARQ-ACK-EnhType3ToAddModList.*

If the UE is configured with a PUCCH-SCell,
*pdsch-HARQ-ACK-EnhType3DCI-Field* is replaced by
*pdsch-HARQ-ACK-EnhType3DCI-FieldSecondaryPUCCHgroup* for the secondary
PUCCH group, and *pdsch-HARQ-ACK-EnhType3ToAddModList* is replaced by
*pdsch-HARQ-ACK-EnhType3SecondaryList* for the secondary PUCCH group*.*

\- PDSCH group index - 0 or 1 bit.

\- 1 bit if the higher layer parameter *pdsch-HARQ-ACK-Codebook-r16=*
*enhancedDynamic*;

\- 0 bit otherwise.

\- New feedback indicator - 0, 1 or 2 bits.

\- 1 bit if the higher layer parameter *pdsch-HARQ-ACK-Codebook-r16=*
*enhancedDynamic* and the higher layer parameter *nfi-TotalDAI-Included*
is not configured;

\- 2 bits if the higher layer parameter *pdsch-HARQ-ACK-Codebook-r16=*
*enhancedDynamic* and the higher layer parameter
*nfi-TotalDAI-Included=true*; the MSB corresponds to the scheduled PDSCH
group, and the LSB corresponds to the non-scheduled PDSCH group, as
defined in \[TS38.213\] clause 9.1.3.3

\- 0 bit otherwise.

\- Number of requested PDSCH group(s) - 0 or 1 bit.

\- 1 bit if the higher layer parameter *pdsch-HARQ-ACK-Codebook-r16=*
*enhancedDynamic*;

\- 0 bit otherwise.

\- HARQ-ACK retransmission indicator - 0 or 1 bit.

\- 1 bit if higher layer parameter *pdsch-HARQ-ACK-Retx* is configured.

\- 0 bit otherwise.

If the UE is configured with a PUCCH-SCell, *pdsch-HARQ-ACK-Retx* is
replaced by *pdsch-HARQ-ACK-RetxSecondaryPUCCHgroup* for the secondary
PUCCH group.

\- Antenna port(s) - 4, 5, 6, 7 or 8 bits as defined by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 and Tables
7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A, where the number of CDM groups
without data of values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and
{0, 1,2} respectively. The antenna ports ![](media/image1039.wmf) shall
be determined according to the ordering of DMRS port(s) given by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 or Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A.
When a UE not configured with *dl-OrJointTCI-StateList* receives an
activation command that maps at least one codepoint of DCI field
\'*Transmission Configuration Indication*\' to two TCI states, or when a
UE configured with *dl-OrJointTCI-StateList* is having two indicated TCI
states, the UE shall use Table 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A;
otherwise, it shall use Tables 7.3.1.2.2-1/2/3/4/7/8/9/10. The UE can
receive an entry with DMRS ports equals to 1000, 1002, 1003 when two the
UE is not configured with *dl-OrJointTCI-StateList* and TCI states are
indicated in a codepoint of DCI field \'*Transmission Configuration
Indication*\', or when the UE configured with *dl-OrJointTCI-StateList*
is having two indicated TCI states to be applied to PDSCH.

If a UE is configured with both *dmrs-DownlinkForPDSCH-MappingTypeA* and
*dmrs-DownlinkForPDSCH-MappingTypeB*, the bitwidth of this field equals
![](media/image1014.wmf), where ![](media/image1015.wmf) is the
\"Antenna ports\" bitwidth derived according to
*dmrs-DownlinkForPDSCH-MappingTypeA* and ![](media/image1016.wmf) is the
\"Antenna ports\" bitwidth derived according to
*dmrs-DownlinkForPDSCH-MappingTypeB*. A number of
![](media/image1017.wmf) zeros are padded in the MSB of this field, if
the mapping type of the PDSCH corresponds to the smaller value of
![](media/image1015.wmf) and ![](media/image1016.wmf).

\- Transmission configuration indication - 0 bit if higher layer
parameter *tci-PresentInDCI* is not enabled; otherwise 3 bits as defined
in Clause 5.1.5 of \[6, TS38.214\].

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part,

\- if the higher layer parameter *tci-PresentInDCI* is not enabled for
the CORESET used for the PDCCH carrying the DCI format 1_1,

\- the UE assumes *tci-PresentInDCI* is not enabled for all CORESETs in
the indicated bandwidth part;

\- otherwise,

\- the UE assumes *tci-PresentInDCI* is enabled for all CORESETs in the
indicated bandwidth part.

\- TCI selection - 0 bit if higher layer parameter
*tciSelection-PresentInDCI* is not configured; otherwise 2 bits
according to Table 7.3.1.2.2-11.

\- SRS request - 2 bits as defined by Table 7.3.1.1.2-24 for UEs not
configured with *supplementaryUplink* in *ServingCellConfig* in the
cell; 3 bits for UEs configured with *supplementaryUplink* in
*ServingCellConfig* in the cell where the first bit is the non-SUL/SUL
indicator as defined in Table 7.3.1.1.1-1 and the second and third bits
are defined by Table 7.3.1.1.2-24. This bit field may also indicate the
associated CSI-RS according to Clause 6.1.1.2 of \[6, TS 38.214\].

\- SRS offset indicator - 0, 1 or 2 bits.

\- 0 bit if higher layer parameter *AvailableSlotOffset* is not
configured for any aperiodic SRS resource set in the scheduled cell, or
if higher layer parameter *AvailableSlotOffset* is configured for at
least one aperiodic SRS resource set in the scheduled cell and the
maximum number of entries of *availableSlotOffsetList* configured for
all aperiodic SRS resource set(s) is 1;

\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and
Clause 6.2.1 of \[6, TS 38.214\], where K is the maximum number of
entries of *availableSlotOffsetList* configured for all aperiodic SRS
resource set(s) in the scheduled cell;

\- CBG transmission information (CBGTI) - 0 bit if higher layer
parameter *PDSCH-CodeBlockGroupTransmission* for PDSCH is not
configured, otherwise, 2, 4, 6, or 8 bits as defined in Clause 5.1.7 of
\[6, TS38.214\], determined by the higher layer parameters
*maxCodeBlockGroupsPerTransportBlock* and
*maxNrofCodeWordsScheduledByDCI* for the PDSCH.

> If higher layer parameter *priorityIndicatorDCI-1-1* is configured, if
> the bit width of the CBG transmission information in DCI format 1_1
> for one HARQ-ACK codebook is not equal to that of the CBG transmission
> information in DCI format 1_1 for the other HARQ-ACK codebook, a
> number of most significant bits with value set to \'0\' are inserted
> to smaller CBG transmission information until the bit width of the CBG
> transmission information in DCI format 1_1 for the two HARQ-ACK
> codebooks are the same.

\- CBG flushing out information (CBGFI) - 1 bit if higher layer
parameter *codeBlockGroupFlushIndicator* is configured as \"TRUE\", 0
bit otherwise.

> If higher layer parameter *priorityIndicatorDCI-1-1* is configured, if
> the bit width of the CBG flushing out information in DCI format 1_1
> for one HARQ-ACK codebook is not equal to that of the CBG flushing out
> information in DCI format 1_1 for the other HARQ-ACK codebook, a
> number of most significant bits with value set to \'0\' are inserted
> to smaller CBG flushing out information until the bit width of the CBG
> flushing out information in DCI format 1_1 for the two HARQ-ACK
> codebooks are the same.

\- DMRS sequence initialization - 1 bit.

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-1-1* is not configured; otherwise 1 bit as defined
in Clause 9 in \[5, TS 38.213\].

\- ChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this
field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits,
where *I* is the number of entries in the higher layer parameter
*ul-AccessConfigListDCI-1-1* or in Table 7.3.1.1.1-4A if
*channelAccessMode-r16* = \"*semiStatic*\" is provided, for operation in
a cell with shared spectrum channel access in frequency range 1, or for
operation in frequency range 2-2 if *ChannelAccessMode2-r17* is
provided; otherwise 0 bit. One or more entries from Table 7.3.1.2.2-6 or
Table 7.3.1.2.2-6A are configured by the higher layer parameter
*ul-AccessConfigListDCI-1-1.*

\- Minimum applicable scheduling offset indicator - 0 or 1 bit

\- 0 bit if higher layer parameter *minimumSchedulingOffsetK0* is not
configured;

\- 1 bit if higher layer parameter *minimumSchedulingOffsetK0* is
configured. The 1 bit indication is used to determine the minimum
applicable K0 for the active DL BWP and the minimum applicable K2 value
for the active UL BWP, if configured respectively, according to Table
7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum
applicable value of the aperiodic CSI-RS triggering offset for an active
DL BWP shall be the same as the minimum applicable K0 value.

\- SCell dormancy indication - 0 bit if higher layer parameter
*dormancyGroupWithinActiveTime* is not configured; otherwise 1, 2, 3, 4
or 5 bits bitmap determined according to the number of different
*DormancyGroupID(s)* provided by higher layer parameter
*dormancyGroupWithinActiveTime,* where each bit corresponds to one of
the SCell group(s) configured by higher layers parameter
*dormancyGroupWithinActiveTime,* with MSB to LSB of the bitmap
corresponding to the first to last configured SCell group in ascending
order of *DormancyGroupID*. The field is only present when this format
is carried by PDCCH on the primary cell within DRX Active Time and the
UE is configured with at least two DL BWPs for an SCell.

> If one-shot HARQ-ACK request is not present or set to \'0\', and all
> bits of frequency domain resource assignment are set to 0 for resource
> allocation type 0 or set to 1 for resource allocation type 1 or set to
> 0 or 1 for dynamic switch resource allocation type, this field is
> reserved and the following fields among the fields above are used for
> SCell dormancy indication, where each bit corresponds to one of the
> configured SCell(s), with MSB to LSB of the following fields
> concatenated in the order below corresponding to the SCell with lowest
> to highest SCell index

\- Modulation and coding scheme of transport block 1

\- New data indicator of transport block 1

\- Redundancy version of transport block 1

\- HARQ process number

\- Antenna port(s)

\- DMRS sequence initialization

\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits

\- 1 or 2 bits, if *searchSpaceGroupIdList-r17* is not configured and if
*pdcch-SkippingDurationList* is configured

\- 1 bit if the UE is configured with only one duration by
*pdcch-SkippingDurationList;*

\- 2 bits if the UE is configured with more than one duration by
*pdcch-SkippingDurationList*.

\- 1 or 2 bits, if *pdcch-SkippingDurationList* is not configured and if
*searchSpaceGroupIdList-r17* is configured

\- 1 bit if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0 and search space set(s) with
group index 1, and if the UE is not configured by
*searchSpaceGroupIdList-r17* with any search space set with group index
2;

\- 2 bits if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0, search space set(s) with group
index 1 and search space set(s) with group index 2;

\- 2 bits, if *pdcch-SkippingDurationList* is configured and if
*searchSpaceGroupIdList-r17* is configured

\- 0 bit, otherwise

\- PUCCH Cell indicator - 0 or 1 bit.

\- 1 bit if higher layer parameter *pucch-sSCellDyn* is configured.

\- 0 bit otherwise.

If the UE is configured with a PUCCH-SCell, *pucch-sSCellDyn* is
replaced by *pucch-sSCellDynSecondaryPUCCHgroup* for the secondary PUCCH
group*.*

\- Co-scheduled UE information -- 0 or 3 bits

\- 3 bits as defined in Table 7.3.1.2.2-12 if higher layer parameter
*XYZ* is configured. This field is reserved if two codewords are
scheduled by this DCI format 1_1.

\- 0 bit otherwise.

If DCI formats 1_1 are monitored in multiple search spaces associated
with multiple CORESETs in a BWP for scheduling the same serving cell,
zeros shall be appended until the payload size of the DCI formats 1_1
monitored in the multiple search spaces equal to the maximum payload
size of the DCI format 1_1 monitored in the multiple search spaces.

If the number of information bits in DCI format 1_1 scheduling a single
PDSCH prior to padding is not equal to the number of information bits in
DCI format 1_1 scheduling multiple PDSCHs for the same serving cell,
zeros shall be appended to the DCI format 1_1 with smaller size until
the payload size is the same for scheduling a single PDSCH and multiple
PDSCHs.

For a UE configured with scheduling on the primary cell from an SCell,
if prior to padding the number of information bits in DCI format 1_1
carried by PDCCH on the primary cell is not equal to the number of
information bits in DCI format 1_1 carried by PDCCH on the SCell for
scheduling on the primary cell, zeros shall be appended to the DCI
format 1_1 with smaller size until the payload size is the same:

\- If application of step 4C in clause 7.3.1.0 results in additional
zero padding for DCI format 1_1 for scheduling on the primary cell,
corresponding zeros shall be appended to both DCI format 1_1 monitored
on the primary cell and DCI format 1_1 monitored on the SCell for
scheduling on the primary cell.

\- If the SCell is deactivated and *firstActiveDownlinkBWP-Id* is not
set to dormant BWP, the UE determines the number of information bits in
DCI format 1_1 carried by PDCCH on the primary cell based on a DL BWP
provided by *firstActiveDownlinkBWP-Id* for the SCell. If the active DL
BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and
*firstActiveDownlinkBWP-Id* is set to dormant BWP, the UE determines the
number of information bits in DCI format 1_1 carried by PDCCH on the
primary cell based on a DL BWP provided by *firstWithinActiveTimeBWP-Id*
for the SCell if provided; otherwise, based on a DL BWP provided by
*firstOutsideActiveTimeBWP-Id* for the SCell.

Table 7.3.1.2.2-1: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,
*maxLength*=1

+-----------+--------------------------------------+------------------+
| **One     |                                      |                  |
| Co        |                                      |                  |
| deword:** |                                      |                  |
|           |                                      |                  |
| *         |                                      |                  |
| *Codeword |                                      |                  |
| 0         |                                      |                  |
| e         |                                      |                  |
| nabled,** |                                      |                  |
|           |                                      |                  |
| *         |                                      |                  |
| *Codeword |                                      |                  |
| 1         |                                      |                  |
| d         |                                      |                  |
| isabled** |                                      |                  |
+===========+======================================+==================+
| **Value** | **Number of DMRS CDM group(s)        | **DMRS port(s)** |
|           | without data**                       |                  |
+-----------+--------------------------------------+------------------+
| 0         | 1                                    | 0                |
+-----------+--------------------------------------+------------------+
| 1         | 1                                    | 1                |
+-----------+--------------------------------------+------------------+
| 2         | 1                                    | 0,1              |
+-----------+--------------------------------------+------------------+
| 3         | 2                                    | 0                |
+-----------+--------------------------------------+------------------+
| 4         | 2                                    | 1                |
+-----------+--------------------------------------+------------------+
| 5         | 2                                    | 2                |
+-----------+--------------------------------------+------------------+
| 6         | 2                                    | 3                |
+-----------+--------------------------------------+------------------+
| 7         | 2                                    | 0,1              |
+-----------+--------------------------------------+------------------+
| 8         | 2                                    | 2,3              |
+-----------+--------------------------------------+------------------+
| 9         | 2                                    | 0-2              |
+-----------+--------------------------------------+------------------+
| 10        | 2                                    | 0-3              |
+-----------+--------------------------------------+------------------+
| 11        | 2                                    | 0,2              |
+-----------+--------------------------------------+------------------+
| 12-15     | Reserved                             | Reserved         |
+-----------+--------------------------------------+------------------+

Table 7.3.1.2.2-1A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,
*maxLength*=1

+------------+----------------------------------------+----------------+
| **One      |                                        |                |
| C          |                                        |                |
| odeword:** |                                        |                |
|            |                                        |                |
| **Codeword |                                        |                |
| 0          |                                        |                |
| enabled,** |                                        |                |
|            |                                        |                |
| **Codeword |                                        |                |
| 1          |                                        |                |
| disabled** |                                        |                |
+============+========================================+================+
| **Value**  | **Number of DMRS CDM group(s) without  | **DMRS         |
|            | data**                                 | port(s)**      |
+------------+----------------------------------------+----------------+
| 0          | 1                                      | 0              |
+------------+----------------------------------------+----------------+
| 1          | 1                                      | 1              |
+------------+----------------------------------------+----------------+
| 2          | 1                                      | 0,1            |
+------------+----------------------------------------+----------------+
| 3          | 2                                      | 0              |
+------------+----------------------------------------+----------------+
| 4          | 2                                      | 1              |
+------------+----------------------------------------+----------------+
| 5          | 2                                      | 2              |
+------------+----------------------------------------+----------------+
| 6          | 2                                      | 3              |
+------------+----------------------------------------+----------------+
| 7          | 2                                      | 0,1            |
+------------+----------------------------------------+----------------+
| 8          | 2                                      | 2,3            |
+------------+----------------------------------------+----------------+
| 9          | 2                                      | 0-2            |
+------------+----------------------------------------+----------------+
| 10         | 2                                      | 0-3            |
+------------+----------------------------------------+----------------+
| 11         | 2                                      | 0,2            |
+------------+----------------------------------------+----------------+
| 12         | 2                                      | 0,2,3          |
+------------+----------------------------------------+----------------+
| 13-15      | Reserved                               | Reserved       |
+------------+----------------------------------------+----------------+

Table 7.3.1.2.2-2: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,
*maxLength*=2

+---+---------+------+---------+----+--------+----------+----------+
| * |         |      |         | *  |        |          |          |
| * |         |      |         | *T |        |          |          |
| O |         |      |         | wo |        |          |          |
| n |         |      |         | Co |        |          |          |
| e |         |      |         | de |        |          |          |
| C |         |      |         | wo |        |          |          |
| o |         |      |         | rd |        |          |          |
| d |         |      |         | s: |        |          |          |
| e |         |      |         | ** |        |          |          |
| w |         |      |         |    |        |          |          |
| o |         |      |         | ** |        |          |          |
| r |         |      |         | Co |        |          |          |
| d |         |      |         | de |        |          |          |
| : |         |      |         | wo |        |          |          |
| * |         |      |         | rd |        |          |          |
| * |         |      |         | 0  |        |          |          |
|   |         |      |         | en |        |          |          |
| * |         |      |         | ab |        |          |          |
| * |         |      |         | le |        |          |          |
| C |         |      |         | d, |        |          |          |
| o |         |      |         | ** |        |          |          |
| d |         |      |         |    |        |          |          |
| e |         |      |         | ** |        |          |          |
| w |         |      |         | Co |        |          |          |
| o |         |      |         | de |        |          |          |
| r |         |      |         | wo |        |          |          |
| d |         |      |         | rd |        |          |          |
| 0 |         |      |         | 1  |        |          |          |
| e |         |      |         | e  |        |          |          |
| n |         |      |         | na |        |          |          |
| a |         |      |         | bl |        |          |          |
| b |         |      |         | ed |        |          |          |
| l |         |      |         | ** |        |          |          |
| e |         |      |         |    |        |          |          |
| d |         |      |         |    |        |          |          |
| , |         |      |         |    |        |          |          |
| * |         |      |         |    |        |          |          |
| * |         |      |         |    |        |          |          |
|   |         |      |         |    |        |          |          |
| * |         |      |         |    |        |          |          |
| * |         |      |         |    |        |          |          |
| C |         |      |         |    |        |          |          |
| o |         |      |         |    |        |          |          |
| d |         |      |         |    |        |          |          |
| e |         |      |         |    |        |          |          |
| w |         |      |         |    |        |          |          |
| o |         |      |         |    |        |          |          |
| r |         |      |         |    |        |          |          |
| d |         |      |         |    |        |          |          |
| 1 |         |      |         |    |        |          |          |
| d |         |      |         |    |        |          |          |
| i |         |      |         |    |        |          |          |
| s |         |      |         |    |        |          |          |
| a |         |      |         |    |        |          |          |
| b |         |      |         |    |        |          |          |
| l |         |      |         |    |        |          |          |
| e |         |      |         |    |        |          |          |
| d |         |      |         |    |        |          |          |
| * |         |      |         |    |        |          |          |
| * |         |      |         |    |        |          |          |
+===+=========+======+=========+====+========+==========+==========+
| * | *       | **   | *       | *  | **     | **DMRS   | **Number |
| * | *Number | DMRS | *Number | *V | Number | p        | of       |
| V | of DMRS | p    | of      | al | of     | ort(s)** | fr       |
| a | CDM     | ort( | fro     | ue | DMRS   |          | ont-load |
| l | g       | s)** | nt-load | ** | CDM    |          | s        |
| u | roup(s) |      | sy      |    | gr     |          | ymbols** |
| e | without |      | mbols** |    | oup(s) |          |          |
| * | data**  |      |         |    | w      |          |          |
| * |         |      |         |    | ithout |          |          |
|   |         |      |         |    | data** |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 0 | 1       | 0    | 1       | 0  | 2      | 0-4      | 2        |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 1       | 1    | 1       | 1  | 2      | 0,1      | 2        |
|   |         |      |         |    |        | ,2,3,4,6 |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 1       | 0,1  | 1       | 2  | 2      | 0,1,2    | 2        |
|   |         |      |         |    |        | ,3,4,5,6 |          |
+---+---------+------+---------+----+--------+----------+----------+
| 3 | 2       | 0    | 1       | 3  | 2      | 0,1,2,3  | 2        |
|   |         |      |         |    |        | ,4,5,6,7 |          |
+---+---------+------+---------+----+--------+----------+----------+
| 4 | 2       | 1    | 1       | 4- | re     | reserved | reserved |
|   |         |      |         | 31 | served |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 5 | 2       | 2    | 1       |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 6 | 2       | 3    | 1       |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 7 | 2       | 0,1  | 1       |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 8 | 2       | 2,3  | 1       |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 9 | 2       | 0-2  | 1       |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 0-3  | 1       |    |        |          |          |
| 0 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 0,2  | 1       |    |        |          |          |
| 1 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 0    | 2       |    |        |          |          |
| 2 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 1    | 2       |    |        |          |          |
| 3 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 2    | 2       |    |        |          |          |
| 4 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 3    | 2       |    |        |          |          |
| 5 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 4    | 2       |    |        |          |          |
| 6 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 5    | 2       |    |        |          |          |
| 7 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 6    | 2       |    |        |          |          |
| 8 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 1 | 2       | 7    | 2       |    |        |          |          |
| 9 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 0,1  | 2       |    |        |          |          |
| 0 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 2,3  | 2       |    |        |          |          |
| 1 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 4,5  | 2       |    |        |          |          |
| 2 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 6,7  | 2       |    |        |          |          |
| 3 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 0,4  | 2       |    |        |          |          |
| 4 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 2,6  | 2       |    |        |          |          |
| 5 |         |      |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 0    | 2       |    |        |          |          |
| 6 |         | ,1,4 |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 2    | 2       |    |        |          |          |
| 7 |         | ,3,6 |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 0,1  | 2       |    |        |          |          |
| 8 |         | ,4,5 |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 2 | 2       | 2,3  | 2       |    |        |          |          |
| 9 |         | ,6,7 |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 3 | 2       | 0,2  | 2       |    |        |          |          |
| 0 |         | ,4,6 |         |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+
| 3 | R       | Rese | R       |    |        |          |          |
| 1 | eserved | rved | eserved |    |        |          |          |
+---+---------+------+---------+----+--------+----------+----------+

Table 7.3.1.2.2-2A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,
*maxLength*=2

+---+---------+------+---------+----+---------+----------+----------+
| * |         |      |         | *  |         |          |          |
| * |         |      |         | *T |         |          |          |
| O |         |      |         | wo |         |          |          |
| n |         |      |         | Co |         |          |          |
| e |         |      |         | de |         |          |          |
| C |         |      |         | wo |         |          |          |
| o |         |      |         | rd |         |          |          |
| d |         |      |         | s: |         |          |          |
| e |         |      |         | ** |         |          |          |
| w |         |      |         |    |         |          |          |
| o |         |      |         | ** |         |          |          |
| r |         |      |         | Co |         |          |          |
| d |         |      |         | de |         |          |          |
| : |         |      |         | wo |         |          |          |
| * |         |      |         | rd |         |          |          |
| * |         |      |         | 0  |         |          |          |
|   |         |      |         | en |         |          |          |
| * |         |      |         | ab |         |          |          |
| * |         |      |         | le |         |          |          |
| C |         |      |         | d, |         |          |          |
| o |         |      |         | ** |         |          |          |
| d |         |      |         |    |         |          |          |
| e |         |      |         | ** |         |          |          |
| w |         |      |         | Co |         |          |          |
| o |         |      |         | de |         |          |          |
| r |         |      |         | wo |         |          |          |
| d |         |      |         | rd |         |          |          |
| 0 |         |      |         | 1  |         |          |          |
| e |         |      |         | e  |         |          |          |
| n |         |      |         | na |         |          |          |
| a |         |      |         | bl |         |          |          |
| b |         |      |         | ed |         |          |          |
| l |         |      |         | ** |         |          |          |
| e |         |      |         |    |         |          |          |
| d |         |      |         |    |         |          |          |
| , |         |      |         |    |         |          |          |
| * |         |      |         |    |         |          |          |
| * |         |      |         |    |         |          |          |
|   |         |      |         |    |         |          |          |
| * |         |      |         |    |         |          |          |
| * |         |      |         |    |         |          |          |
| C |         |      |         |    |         |          |          |
| o |         |      |         |    |         |          |          |
| d |         |      |         |    |         |          |          |
| e |         |      |         |    |         |          |          |
| w |         |      |         |    |         |          |          |
| o |         |      |         |    |         |          |          |
| r |         |      |         |    |         |          |          |
| d |         |      |         |    |         |          |          |
| 1 |         |      |         |    |         |          |          |
| d |         |      |         |    |         |          |          |
| i |         |      |         |    |         |          |          |
| s |         |      |         |    |         |          |          |
| a |         |      |         |    |         |          |          |
| b |         |      |         |    |         |          |          |
| l |         |      |         |    |         |          |          |
| e |         |      |         |    |         |          |          |
| d |         |      |         |    |         |          |          |
| * |         |      |         |    |         |          |          |
| * |         |      |         |    |         |          |          |
+===+=========+======+=========+====+=========+==========+==========+
| * | *       | **   | *       | *  | *       | **DMRS   | **Number |
| * | *Number | DMRS | *Number | *V | *Number | p        | of       |
| V | of DMRS | p    | of      | al | of DMRS | ort(s)** | fr       |
| a | CDM     | ort( | fro     | ue | CDM     |          | ont-load |
| l | g       | s)** | nt-load | ** | g       |          | s        |
| u | roup(s) |      | sy      |    | roup(s) |          | ymbols** |
| e | without |      | mbols** |    | without |          |          |
| * | data**  |      |         |    | data**  |          |          |
| * |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 0 | 1       | 0    | 1       | 0  | 2       | 0-4      | 2        |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 1       | 1    | 1       | 1  | 2       | 0,1      | 2        |
|   |         |      |         |    |         | ,2,3,4,6 |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 1       | 0,1  | 1       | 2  | 2       | 0,1,2    | 2        |
|   |         |      |         |    |         | ,3,4,5,6 |          |
+---+---------+------+---------+----+---------+----------+----------+
| 3 | 2       | 0    | 1       | 3  | 2       | 0,1,2,3  | 2        |
|   |         |      |         |    |         | ,4,5,6,7 |          |
+---+---------+------+---------+----+---------+----------+----------+
| 4 | 2       | 1    | 1       | 4- | r       | reserved | reserved |
|   |         |      |         | 31 | eserved |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 5 | 2       | 2    | 1       |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 6 | 2       | 3    | 1       |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 7 | 2       | 0,1  | 1       |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 8 | 2       | 2,3  | 1       |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 9 | 2       | 0-2  | 1       |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 0-3  | 1       |    |         |          |          |
| 0 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 0,2  | 1       |    |         |          |          |
| 1 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 0    | 2       |    |         |          |          |
| 2 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 1    | 2       |    |         |          |          |
| 3 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 2    | 2       |    |         |          |          |
| 4 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 3    | 2       |    |         |          |          |
| 5 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 4    | 2       |    |         |          |          |
| 6 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 5    | 2       |    |         |          |          |
| 7 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 6    | 2       |    |         |          |          |
| 8 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 1 | 2       | 7    | 2       |    |         |          |          |
| 9 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 0,1  | 2       |    |         |          |          |
| 0 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 2,3  | 2       |    |         |          |          |
| 1 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 4,5  | 2       |    |         |          |          |
| 2 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 6,7  | 2       |    |         |          |          |
| 3 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 0,4  | 2       |    |         |          |          |
| 4 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 2,6  | 2       |    |         |          |          |
| 5 |         |      |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 0    | 2       |    |         |          |          |
| 6 |         | ,1,4 |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 2    | 2       |    |         |          |          |
| 7 |         | ,3,6 |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 0,1  | 2       |    |         |          |          |
| 8 |         | ,4,5 |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 2 | 2       | 2,3  | 2       |    |         |          |          |
| 9 |         | ,6,7 |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 3 | 2       | 0,2  | 2       |    |         |          |          |
| 0 |         | ,4,6 |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+
| 3 | 2       | 0    | 1       |    |         |          |          |
| 1 |         | ,2,3 |         |    |         |          |          |
+---+---------+------+---------+----+---------+----------+----------+

Table 7.3.1.2.2-3: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,
*maxLength*=1

+----------+----------+----------+----------+----------+-----------+
| **One    |          |          | **Two    |          |           |
| cod      |          |          | code     |          |           |
| eword:** |          |          | words:** |          |           |
|          |          |          |          |          |           |
| **       |          |          | **       |          |           |
| Codeword |          |          | Codeword |          |           |
| 0        |          |          | 0        |          |           |
| en       |          |          | en       |          |           |
| abled,** |          |          | abled,** |          |           |
|          |          |          |          |          |           |
| **       |          |          | **       |          |           |
| Codeword |          |          | Codeword |          |           |
| 1        |          |          | 1        |          |           |
| di       |          |          | e        |          |           |
| sabled** |          |          | nabled** |          |           |
+==========+==========+==========+==========+==========+===========+
| *        | **Number | **DMRS   | *        | **Number | **DMRS    |
| *Value** | of DMRS  | p        | *Value** | of DMRS  | port(s)** |
|          | CDM      | ort(s)** |          | CDM      |           |
|          | group(s) |          |          | group(s) |           |
|          | without  |          |          | without  |           |
|          | data**   |          |          | data**   |           |
+----------+----------+----------+----------+----------+-----------+
| 0        | 1        | 0        | 0        | 3        | 0-4       |
+----------+----------+----------+----------+----------+-----------+
| 1        | 1        | 1        | 1        | 3        | 0-5       |
+----------+----------+----------+----------+----------+-----------+
| 2        | 1        | 0,1      | 2-31     | reserved | reserved  |
+----------+----------+----------+----------+----------+-----------+
| 3        | 2        | 0        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 4        | 2        | 1        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 5        | 2        | 2        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 6        | 2        | 3        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 7        | 2        | 0,1      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 8        | 2        | 2,3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 9        | 2        | 0-2      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 10       | 2        | 0-3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 11       | 3        | 0        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 12       | 3        | 1        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 13       | 3        | 2        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 14       | 3        | 3        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 15       | 3        | 4        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 16       | 3        | 5        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 17       | 3        | 0,1      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 18       | 3        | 2,3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 19       | 3        | 4,5      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 20       | 3        | 0-2      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 21       | 3        | 3-5      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 22       | 3        | 0-3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 23       | 2        | 0,2      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 24-31    | Reserved | Reserved |          |          |           |
+----------+----------+----------+----------+----------+-----------+

Table 7.3.1.2.2-3A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,
*maxLength*=1

+----------+----------+----------+----------+----------+-----------+
| **One    |          |          | **Two    |          |           |
| cod      |          |          | code     |          |           |
| eword:** |          |          | words:** |          |           |
|          |          |          |          |          |           |
| **       |          |          | **       |          |           |
| Codeword |          |          | Codeword |          |           |
| 0        |          |          | 0        |          |           |
| en       |          |          | en       |          |           |
| abled,** |          |          | abled,** |          |           |
|          |          |          |          |          |           |
| **       |          |          | **       |          |           |
| Codeword |          |          | Codeword |          |           |
| 1        |          |          | 1        |          |           |
| di       |          |          | e        |          |           |
| sabled** |          |          | nabled** |          |           |
+==========+==========+==========+==========+==========+===========+
| *        | **Number | **DMRS   | *        | **Number | **DMRS    |
| *Value** | of DMRS  | p        | *Value** | of DMRS  | port(s)** |
|          | CDM      | ort(s)** |          | CDM      |           |
|          | group(s) |          |          | group(s) |           |
|          | without  |          |          | without  |           |
|          | data**   |          |          | data**   |           |
+----------+----------+----------+----------+----------+-----------+
| 0        | 1        | 0        | 0        | 3        | 0-4       |
+----------+----------+----------+----------+----------+-----------+
| 1        | 1        | 1        | 1        | 3        | 0-5       |
+----------+----------+----------+----------+----------+-----------+
| 2        | 1        | 0,1      | 2-31     | reserved | reserved  |
+----------+----------+----------+----------+----------+-----------+
| 3        | 2        | 0        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 4        | 2        | 1        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 5        | 2        | 2        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 6        | 2        | 3        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 7        | 2        | 0,1      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 8        | 2        | 2,3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 9        | 2        | 0-2      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 10       | 2        | 0-3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 11       | 3        | 0        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 12       | 3        | 1        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 13       | 3        | 2        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 14       | 3        | 3        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 15       | 3        | 4        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 16       | 3        | 5        |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 17       | 3        | 0,1      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 18       | 3        | 2,3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 19       | 3        | 4,5      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 20       | 3        | 0-2      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 21       | 3        | 3-5      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 22       | 3        | 0-3      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 23       | 2        | 0,2      |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 24       | 2        | 0,2,3    |          |          |           |
+----------+----------+----------+----------+----------+-----------+
| 25-31    | Reserved | Reserved |          |          |           |
+----------+----------+----------+----------+----------+-----------+

Table 7.3.1.2.2-4: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,
*maxLength*=2

+----+---------+-------+--------+----+--------+----------+---------+
| *  |         |       |        | *  |        |          |         |
| *O |         |       |        | *T |        |          |         |
| ne |         |       |        | wo |        |          |         |
| c  |         |       |        | Co |        |          |         |
| od |         |       |        | de |        |          |         |
| ew |         |       |        | wo |        |          |         |
| or |         |       |        | rd |        |          |         |
| d: |         |       |        | s: |        |          |         |
| ** |         |       |        | ** |        |          |         |
|    |         |       |        |    |        |          |         |
| ** |         |       |        | ** |        |          |         |
| Co |         |       |        | Co |        |          |         |
| de |         |       |        | de |        |          |         |
| wo |         |       |        | wo |        |          |         |
| rd |         |       |        | rd |        |          |         |
| 0  |         |       |        | 0  |        |          |         |
| en |         |       |        | en |        |          |         |
| ab |         |       |        | ab |        |          |         |
| le |         |       |        | le |        |          |         |
| d, |         |       |        | d, |        |          |         |
| ** |         |       |        | ** |        |          |         |
|    |         |       |        |    |        |          |         |
| ** |         |       |        | ** |        |          |         |
| Co |         |       |        | Co |        |          |         |
| de |         |       |        | de |        |          |         |
| wo |         |       |        | wo |        |          |         |
| rd |         |       |        | rd |        |          |         |
| 1  |         |       |        | 1  |        |          |         |
| di |         |       |        | e  |        |          |         |
| sa |         |       |        | na |        |          |         |
| bl |         |       |        | bl |        |          |         |
| ed |         |       |        | ed |        |          |         |
| ** |         |       |        | ** |        |          |         |
+====+=========+=======+========+====+========+==========+=========+
| *  | *       | *     | **     | *  | **     | **DMRS   | *       |
| *V | *Number | *DMRS | Number | *V | Number | p        | *Number |
| al | of DMRS | port  | of     | al | of     | ort(s)** | of      |
| ue | CDM     | (s)** | fron   | ue | DMRS   |          | fro     |
| ** | g       |       | t-load | ** | CDM    |          | nt-load |
|    | roup(s) |       | sym    |    | gr     |          | sy      |
|    | without |       | bols** |    | oup(s) |          | mbols** |
|    | data**  |       |        |    | w      |          |         |
|    |         |       |        |    | ithout |          |         |
|    |         |       |        |    | data** |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 0  | 1       | 0     | 1      | 0  | 3      | 0-4      | 1       |
+----+---------+-------+--------+----+--------+----------+---------+
| 1  | 1       | 1     | 1      | 1  | 3      | 0-5      | 1       |
+----+---------+-------+--------+----+--------+----------+---------+
| 2  | 1       | 0,1   | 1      | 2  | 2      | 0        | 2       |
|    |         |       |        |    |        | ,1,2,3,6 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 3  | 2       | 0     | 1      | 3  | 2      | 0,1      | 2       |
|    |         |       |        |    |        | ,2,3,6,8 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 4  | 2       | 1     | 1      | 4  | 2      | 0,1,2    | 2       |
|    |         |       |        |    |        | ,3,6,7,8 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 5  | 2       | 2     | 1      | 5  | 2      | 0,1,2,3  | 2       |
|    |         |       |        |    |        | ,6,7,8,9 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 6  | 2       | 3     | 1      | 6- | Re     | Reserved | R       |
|    |         |       |        | 63 | served |          | eserved |
+----+---------+-------+--------+----+--------+----------+---------+
| 7  | 2       | 0,1   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 8  | 2       | 2,3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 9  | 2       | 0-2   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 10 | 2       | 0-3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 11 | 3       | 0     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 12 | 3       | 1     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 13 | 3       | 2     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 14 | 3       | 3     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 15 | 3       | 4     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 16 | 3       | 5     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 17 | 3       | 0,1   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 18 | 3       | 2,3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 19 | 3       | 4,5   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 20 | 3       | 0-2   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 21 | 3       | 3-5   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 22 | 3       | 0-3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 23 | 2       | 0,2   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 24 | 3       | 0     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 25 | 3       | 1     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 26 | 3       | 2     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 27 | 3       | 3     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 28 | 3       | 4     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 29 | 3       | 5     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 30 | 3       | 6     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 31 | 3       | 7     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 32 | 3       | 8     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 33 | 3       | 9     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 34 | 3       | 10    | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 35 | 3       | 11    | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 36 | 3       | 0,1   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 37 | 3       | 2,3   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 38 | 3       | 4,5   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 39 | 3       | 6,7   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 40 | 3       | 8,9   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 41 | 3       | 10,11 | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 42 | 3       | 0,1,6 | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 43 | 3       | 2,3,8 | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 44 | 3       | 4     | 2      |    |        |          |         |
|    |         | ,5,10 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 45 | 3       | 0,    | 2      |    |        |          |         |
|    |         | 1,6,7 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 46 | 3       | 2,    | 2      |    |        |          |         |
|    |         | 3,8,9 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 47 | 3       | 4,5,  | 2      |    |        |          |         |
|    |         | 10,11 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 48 | 1       | 0     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 49 | 1       | 1     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 50 | 1       | 6     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 51 | 1       | 7     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 52 | 1       | 0,1   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 53 | 1       | 6,7   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 54 | 2       | 0,1   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 55 | 2       | 2,3   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 56 | 2       | 6,7   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 57 | 2       | 8,9   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 5  | R       | Res   | Re     |    |        |          |         |
| 8- | eserved | erved | served |    |        |          |         |
| 63 |         |       |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+

Table 7.3.1.2.2-4A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,
*maxLength*=2

+----+---------+-------+--------+----+--------+----------+---------+
| *  |         |       |        | *  |        |          |         |
| *O |         |       |        | *T |        |          |         |
| ne |         |       |        | wo |        |          |         |
| c  |         |       |        | Co |        |          |         |
| od |         |       |        | de |        |          |         |
| ew |         |       |        | wo |        |          |         |
| or |         |       |        | rd |        |          |         |
| d: |         |       |        | s: |        |          |         |
| ** |         |       |        | ** |        |          |         |
|    |         |       |        |    |        |          |         |
| ** |         |       |        | ** |        |          |         |
| Co |         |       |        | Co |        |          |         |
| de |         |       |        | de |        |          |         |
| wo |         |       |        | wo |        |          |         |
| rd |         |       |        | rd |        |          |         |
| 0  |         |       |        | 0  |        |          |         |
| en |         |       |        | en |        |          |         |
| ab |         |       |        | ab |        |          |         |
| le |         |       |        | le |        |          |         |
| d, |         |       |        | d, |        |          |         |
| ** |         |       |        | ** |        |          |         |
|    |         |       |        |    |        |          |         |
| ** |         |       |        | ** |        |          |         |
| Co |         |       |        | Co |        |          |         |
| de |         |       |        | de |        |          |         |
| wo |         |       |        | wo |        |          |         |
| rd |         |       |        | rd |        |          |         |
| 1  |         |       |        | 1  |        |          |         |
| di |         |       |        | e  |        |          |         |
| sa |         |       |        | na |        |          |         |
| bl |         |       |        | bl |        |          |         |
| ed |         |       |        | ed |        |          |         |
| ** |         |       |        | ** |        |          |         |
+====+=========+=======+========+====+========+==========+=========+
| *  | *       | *     | **     | *  | **     | **DMRS   | *       |
| *V | *Number | *DMRS | Number | *V | Number | p        | *Number |
| al | of DMRS | port  | of     | al | of     | ort(s)** | of      |
| ue | CDM     | (s)** | fron   | ue | DMRS   |          | fro     |
| ** | g       |       | t-load | ** | CDM    |          | nt-load |
|    | roup(s) |       | sym    |    | gr     |          | sy      |
|    | without |       | bols** |    | oup(s) |          | mbols** |
|    | data**  |       |        |    | w      |          |         |
|    |         |       |        |    | ithout |          |         |
|    |         |       |        |    | data** |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 0  | 1       | 0     | 1      | 0  | 3      | 0-4      | 1       |
+----+---------+-------+--------+----+--------+----------+---------+
| 1  | 1       | 1     | 1      | 1  | 3      | 0-5      | 1       |
+----+---------+-------+--------+----+--------+----------+---------+
| 2  | 1       | 0,1   | 1      | 2  | 2      | 0        | 2       |
|    |         |       |        |    |        | ,1,2,3,6 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 3  | 2       | 0     | 1      | 3  | 2      | 0,1      | 2       |
|    |         |       |        |    |        | ,2,3,6,8 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 4  | 2       | 1     | 1      | 4  | 2      | 0,1,2    | 2       |
|    |         |       |        |    |        | ,3,6,7,8 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 5  | 2       | 2     | 1      | 5  | 2      | 0,1,2,3  | 2       |
|    |         |       |        |    |        | ,6,7,8,9 |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 6  | 2       | 3     | 1      | 6- | Re     | Reserved | R       |
|    |         |       |        | 63 | served |          | eserved |
+----+---------+-------+--------+----+--------+----------+---------+
| 7  | 2       | 0,1   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 8  | 2       | 2,3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 9  | 2       | 0-2   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 10 | 2       | 0-3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 11 | 3       | 0     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 12 | 3       | 1     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 13 | 3       | 2     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 14 | 3       | 3     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 15 | 3       | 4     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 16 | 3       | 5     | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 17 | 3       | 0,1   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 18 | 3       | 2,3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 19 | 3       | 4,5   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 20 | 3       | 0-2   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 21 | 3       | 3-5   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 22 | 3       | 0-3   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 23 | 2       | 0,2   | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 24 | 3       | 0     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 25 | 3       | 1     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 26 | 3       | 2     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 27 | 3       | 3     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 28 | 3       | 4     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 29 | 3       | 5     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 30 | 3       | 6     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 31 | 3       | 7     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 32 | 3       | 8     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 33 | 3       | 9     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 34 | 3       | 10    | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 35 | 3       | 11    | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 36 | 3       | 0,1   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 37 | 3       | 2,3   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 38 | 3       | 4,5   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 39 | 3       | 6,7   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 40 | 3       | 8,9   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 41 | 3       | 10,11 | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 42 | 3       | 0,1,6 | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 43 | 3       | 2,3,8 | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 44 | 3       | 4     | 2      |    |        |          |         |
|    |         | ,5,10 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 45 | 3       | 0,    | 2      |    |        |          |         |
|    |         | 1,6,7 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 46 | 3       | 2,    | 2      |    |        |          |         |
|    |         | 3,8,9 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 47 | 3       | 4,5,  | 2      |    |        |          |         |
|    |         | 10,11 |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 48 | 1       | 0     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 49 | 1       | 1     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 50 | 1       | 6     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 51 | 1       | 7     | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 52 | 1       | 0,1   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 53 | 1       | 6,7   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 54 | 2       | 0,1   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 55 | 2       | 2,3   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 56 | 2       | 6,7   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 57 | 2       | 8,9   | 2      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 58 | 2       | 0,2,3 | 1      |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+
| 5  | R       | Res   | Re     |    |        |          |         |
| 9- | eserved | erved | served |    |        |          |         |
| 63 |         |       |        |    |        |          |         |
+----+---------+-------+--------+----+--------+----------+---------+

Table 7.3.1.2.2-5: VRB-to-PRB mapping

  -----------------------------------------------------------------------
  **Bit field mapped to index**  **VRB-to-PRB mapping**
  ------------------------------ ----------------------------------------
  0                              Non-interleaved

  1                              Interleaved
  -----------------------------------------------------------------------

Table 7.3.1.2.2-6: Allowed entries for DCI format 1_1 and DCI format
1_2, configured by higher layer parameter *ul-AccessConfigListDCI-1-1*
and *ul-AccessConfigListDCI-1-2*, respectively, in frequency range 1

  -------------------------------------------------------------------------
  **Entry   **Channel Access Type**                     **The CP extension
  index**                                               Text index defined
                                                        in Clause 5.3.1 of
                                                        \[4,TS 38.211\]**
  --------- ------------------------------------------- -------------------
  0         Type2C-ULChannelAccess defined in clause    0
            4.2.1.2.3 in TS 37.213 \[14\]               

  1         Type2C-ULChannelAccess defined in clause    2
            4.2.1.2.3 in TS 37.213 \[14\]               

  2         Type2B-ULChannelAccess defined in clause    0
            4.2.1.2.2 in TS 37.213 \[14\]               

  3         Type2B-ULChannelAccess defined in clause    2
            4.2.1.2.2 in TS 37.213 \[14\]               

  4         Type2A-ULChannelAccess defined in clause    0
            4.2.1.2.1 in TS 37.213 \[14\]               

  5         Type2A-ULChannelAccess defined in clause    1
            4.2.1.2.1 in TS 37.213 \[14\]               

  6         Type2A-ULChannelAccess defined in clause    3
            4.2.1.2.1 in TS 37.213 \[14\]               

  7         Type1-ULChannelAccess defined in clause     0
            4.2.1.1 in TS 37.213 \[14\]                 

  8         Type1-ULChannelAccess defined in clause     1
            4.2.1.1 in TS 37.213 \[14\]                 

  9         Type1-ULChannelAccess defined in clause     2
            4.2.1.1 in TS 37.213 \[14\]                 

  10        Type1-ULChannelAccess defined in clause     3
            4.2.1.1 in TS 37.213 \[14\]                 
  -------------------------------------------------------------------------

Table 7.3.1.2.2-6A: Allowed entries for DCI format 1_1 and DCI format
1_2, configured by higher layer parameter *ul-AccessConfigListDCI-1-1*
in frequency range 2-2

  -----------------------------------------------------------------------
  **Entry    **Channel Access Type**
  index**    
  ---------- ------------------------------------------------------------
  0          Type 1 channel access defined in clause 4.4.1 of TS 37.213
             \[14\]

  1          Type 2 channel access defined in clause 4.4.2 of TS 37.213
             \[14\]

  2          Type 3 channel access defined in clause 4.4.3 of TS 37.213
             \[14\]
  -----------------------------------------------------------------------

Table 7.3.1.2.2-7: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=1

+----+----------------+--------+------+------------------+----------+
| O  |                |        | Two  |                  |          |
| ne |                |        | Co   |                  |          |
| C  |                |        | dewo |                  |          |
| od |                |        | rds: |                  |          |
| ew |                |        |      |                  |          |
| or |                |        | Code |                  |          |
| d: |                |        | word |                  |          |
|    |                |        | 0    |                  |          |
| Co |                |        | enab |                  |          |
| de |                |        | led, |                  |          |
| wo |                |        |      |                  |          |
| rd |                |        | Code |                  |          |
| 0  |                |        | word |                  |          |
| en |                |        | 1    |                  |          |
| ab |                |        | ena  |                  |          |
| le |                |        | bled |                  |          |
| d, |                |        |      |                  |          |
|    |                |        |      |                  |          |
| Co |                |        |      |                  |          |
| de |                |        |      |                  |          |
| wo |                |        |      |                  |          |
| rd |                |        |      |                  |          |
| 1  |                |        |      |                  |          |
| di |                |        |      |                  |          |
| sa |                |        |      |                  |          |
| bl |                |        |      |                  |          |
| ed |                |        |      |                  |          |
+====+================+========+======+==================+==========+
| V  | Number of DMRS | DMRS   | V    | Number of DMRS   | DMRS     |
| al | CDM group(s)   | p      | alue | CDM group(s)     | port(s)  |
| ue | without data   | ort(s) |      | without data     |          |
+----+----------------+--------+------+------------------+----------+
| 0  | 1              | 0      | 0    | 2                | 0        |
|    |                |        |      |                  | ,1,2,3,8 |
+----+----------------+--------+------+------------------+----------+
| 1  | 1              | 1      | 1    | 2                | 0,1,     |
|    |                |        |      |                  | 2,3,8,10 |
+----+----------------+--------+------+------------------+----------+
| 2  | 1              | 0,1    | 2    | 2                | 0,1,2,   |
|    |                |        |      |                  | 3,8,9,10 |
+----+----------------+--------+------+------------------+----------+
| 3  | 2              | 0      | 3    | 2                | 0        |
|    |                |        |      |                  | ,1,2,3,8 |
|    |                |        |      |                  | ,9,10,11 |
+----+----------------+--------+------+------------------+----------+
| 4  | 2              | 1      | 4-31 | Reserved         | Reserved |
+----+----------------+--------+------+------------------+----------+
| 5  | 2              | 2      |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 6  | 2              | 3      |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 7  | 2              | 0,1    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 8  | 2              | 2,3    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 9  | 2              | 0-2    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 10 | 2              | 0-3    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 11 | 2              | 0,2    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 12 | 1              | 8      |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 13 | 1              | 9      |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 14 | 1              | 8,9    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 15 | 2              | 8      |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 16 | 2              | 9      |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 17 | 2              | 10     |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 18 | 2              | 11     |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 19 | 2              | 8,9    |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 20 | 2              | 10,11  |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 21 | 1              | 0,1,8  |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 22 | 1              | 0      |      |                  |          |
|    |                | ,1,8,9 |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 23 | 2              | 0,1,8  |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 24 | 2              | 0      |      |                  |          |
|    |                | ,1,8,9 |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 25 | 2              | 2,3,10 |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 26 | 2              | 2,3    |      |                  |          |
|    |                | ,10,11 |      |                  |          |
+----+----------------+--------+------+------------------+----------+
| 2  | Reserved       | Re     |      |                  |          |
| 7- |                | served |      |                  |          |
| 31 |                |        |      |                  |          |
+----+----------------+--------+------+------------------+----------+

Table 7.3.1.2.2-7A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=1

+----+------------------+---------+----+-----------------+-----------+
| O  |                  |         | T  |                 |           |
| ne |                  |         | wo |                 |           |
| C  |                  |         | Co |                 |           |
| od |                  |         | de |                 |           |
| ew |                  |         | wo |                 |           |
| or |                  |         | rd |                 |           |
| d: |                  |         | s: |                 |           |
|    |                  |         |    |                 |           |
| Co |                  |         | Co |                 |           |
| de |                  |         | de |                 |           |
| wo |                  |         | wo |                 |           |
| rd |                  |         | rd |                 |           |
| 0  |                  |         | 0  |                 |           |
| en |                  |         | en |                 |           |
| ab |                  |         | ab |                 |           |
| le |                  |         | le |                 |           |
| d, |                  |         | d, |                 |           |
|    |                  |         |    |                 |           |
| Co |                  |         | Co |                 |           |
| de |                  |         | de |                 |           |
| wo |                  |         | wo |                 |           |
| rd |                  |         | rd |                 |           |
| 1  |                  |         | 1  |                 |           |
| di |                  |         | e  |                 |           |
| sa |                  |         | na |                 |           |
| bl |                  |         | bl |                 |           |
| ed |                  |         | ed |                 |           |
+====+==================+=========+====+=================+===========+
| V  | Number of DMRS   | DMRS    | V  | Number of DMRS  | DMRS      |
| al | CDM group(s)     | port(s) | al | CDM group(s)    | port(s)   |
| ue | without data     |         | ue | without data    |           |
+----+------------------+---------+----+-----------------+-----------+
| 0  | 1                | 0       | 0  | 2               | 0,1,2,3,8 |
+----+------------------+---------+----+-----------------+-----------+
| 1  | 1                | 1       | 1  | 2               | 0,1       |
|    |                  |         |    |                 | ,2,3,8,10 |
+----+------------------+---------+----+-----------------+-----------+
| 2  | 1                | 0,1     | 2  | 2               | 0,1,2     |
|    |                  |         |    |                 | ,3,8,9,10 |
+----+------------------+---------+----+-----------------+-----------+
| 3  | 2                | 0       | 3  | 2               | 0,1,2,3,  |
|    |                  |         |    |                 | 8,9,10,11 |
+----+------------------+---------+----+-----------------+-----------+
| 4  | 2                | 1       | 4- | Reserved        | Reserved  |
|    |                  |         | 31 |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 5  | 2                | 2       |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 6  | 2                | 3       |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 7  | 2                | 0,1     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 8  | 2                | 2,3     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 9  | 2                | 0-2     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 10 | 2                | 0-3     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 11 | 2                | 0,2     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 12 | 1                | 8       |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 13 | 1                | 9       |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 14 | 1                | 8,9     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 15 | 2                | 8       |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 16 | 2                | 9       |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 17 | 2                | 10      |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 18 | 2                | 11      |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 19 | 2                | 8,9     |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 20 | 2                | 10,11   |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 21 | 1                | 0,1,8   |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 22 | 1                | 0,1,8,9 |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 23 | 2                | 0,1,8   |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 24 | 2                | 0,1,8,9 |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 25 | 2                | 2,3,10  |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 26 | 2                | 2,      |    |                 |           |
|    |                  | 3,10,11 |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 27 | 2                | 0,2,3   |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+
| 2  | Reserved         | R       |    |                 |           |
| 8- |                  | eserved |    |                 |           |
| 31 |                  |         |    |                 |           |
+----+------------------+---------+----+-----------------+-----------+

Table 7.3.1.2.2-8: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2

+-----+--------+-------+--------+-----+--------+------------+-------+
| **  |        |       |        | **  |        |            |       |
| One |        |       |        | Two |        |            |       |
| Co  |        |       |        | Cod |        |            |       |
| dew |        |       |        | ewo |        |            |       |
| ord |        |       |        | rds |        |            |       |
| :** |        |       |        | :** |        |            |       |
|     |        |       |        |     |        |            |       |
| *   |        |       |        | *   |        |            |       |
| *Co |        |       |        | *Co |        |            |       |
| dew |        |       |        | dew |        |            |       |
| ord |        |       |        | ord |        |            |       |
| 0   |        |       |        | 0   |        |            |       |
| e   |        |       |        | e   |        |            |       |
| nab |        |       |        | nab |        |            |       |
| led |        |       |        | led |        |            |       |
| ,** |        |       |        | ,** |        |            |       |
|     |        |       |        |     |        |            |       |
| *   |        |       |        | *   |        |            |       |
| *Co |        |       |        | *Co |        |            |       |
| dew |        |       |        | dew |        |            |       |
| ord |        |       |        | ord |        |            |       |
| 1   |        |       |        | 1   |        |            |       |
| d   |        |       |        | ena |        |            |       |
| isa |        |       |        | ble |        |            |       |
| ble |        |       |        | d** |        |            |       |
| d** |        |       |        |     |        |            |       |
+=====+========+=======+========+=====+========+============+=======+
| **V | **     | *     | **     | **V | **     | **DMRS     | **N   |
| alu | Number | *DMRS | Number | alu | Number | port(s)**  | umber |
| e** | of     | port  | of     | e** | of     |            | of    |
|     | DMRS   | (s)** | fron   |     | DMRS   |            | front |
|     | CDM    |       | t-load |     | CDM    |            | -load |
|     | gr     |       | sym    |     | gr     |            | symb  |
|     | oup(s) |       | bols** |     | oup(s) |            | ols** |
|     | w      |       |        |     | w      |            |       |
|     | ithout |       |        |     | ithout |            |       |
|     | data** |       |        |     | data** |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 0   | 1      | 0     | 1      | 0   | 2      | 0,1,2,3,8  | 1     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 1   | 1      | 1     | 1      | 1   | 2      | 0,         | 1     |
|     |        |       |        |     |        | 1,2,3,8,10 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 2   | 1      | 0,1   | 1      | 2   | 2      | 0,1,       | 1     |
|     |        |       |        |     |        | 2,3,8,9,10 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 3   | 2      | 0     | 1      | 3   | 2      | 0,1,2,3    | 1     |
|     |        |       |        |     |        | ,8,9,10,11 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 4   | 2      | 1     | 1      | 4   | 2      | 0-4        | 2     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 5   | 2      | 2     | 1      | 5   | 2      | 0          | 2     |
|     |        |       |        |     |        | ,1,2,3,4,6 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 6   | 2      | 3     | 1      | 6   | 2      | 0,1        | 2     |
|     |        |       |        |     |        | ,2,3,4,5,6 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 7   | 2      | 0,1   | 1      | 7   | 2      | 0,1,2      | 2     |
|     |        |       |        |     |        | ,3,4,5,6,7 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 8   | 2      | 2,3   | 1      | 8   | 1      | 0,1,4,5,8  | 2     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 9   | 2      | 0-2   | 1      | 9   | 1      | 0,         | 2     |
|     |        |       |        |     |        | 1,4,5,8,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 10  | 2      | 0-3   | 1      | 10  | 1      | 0,1,       | 2     |
|     |        |       |        |     |        | 4,5,8,9,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 11  | 2      | 0,2   | 1      | 11  | 1      | 0,1,4,5    | 2     |
|     |        |       |        |     |        | ,8,9,12,13 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 12  | 1      | 8     | 1      | 12  | 2      | 0,1,4,5,8  | 2     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 13  | 1      | 9     | 1      | 13  | 2      | 0,         | 2     |
|     |        |       |        |     |        | 1,4,5,8,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 14  | 1      | 8,9   | 1      | 14  | 2      | 0,1,       | 2     |
|     |        |       |        |     |        | 4,5,8,9,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 15  | 2      | 8     | 1      | 15  | 2      | 0,1,4,5    | 2     |
|     |        |       |        |     |        | ,8,9,12,13 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 16  | 2      | 9     | 1      | 1   | Re     | Reserved   | Res   |
|     |        |       |        | 6\~ | served |            | erved |
|     |        |       |        | 127 |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 17  | 2      | 10    | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 18  | 2      | 11    | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 19  | 2      | 8,9   | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 20  | 2      | 10,11 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 21  | 1      | 0,1,8 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 22  | 1      | 0,    | 1      |     |        |            |       |
|     |        | 1,8,9 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 23  | 2      | 0,1,8 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 24  | 2      | 0,    | 1      |     |        |            |       |
|     |        | 1,8,9 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 25  | 2      | 2     | 1      |     |        |            |       |
|     |        | ,3,10 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 26  | 2      | 2,3,  | 1      |     |        |            |       |
|     |        | 10,11 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 27  | 2      | 0     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 28  | 2      | 1     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 29  | 2      | 2     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 30  | 2      | 3     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 31  | 2      | 4     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 32  | 2      | 5     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 33  | 2      | 6     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 34  | 2      | 7     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 35  | 2      | 0,1   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 36  | 2      | 2,3   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 37  | 2      | 4,5   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 38  | 2      | 6,7   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 39  | 2      | 0,4   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 40  | 2      | 2,6   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 41  | 2      | 0,1,4 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 42  | 2      | 2,3,6 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 43  | 2      | 0,    | 2      |     |        |            |       |
|     |        | 1,4,5 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 44  | 2      | 2,    | 2      |     |        |            |       |
|     |        | 3,6,7 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 45  | 2      | 0,    | 2      |     |        |            |       |
|     |        | 2,4,6 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 46  | 2      | 8     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 47  | 2      | 9     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 48  | 2      | 10    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 49  | 2      | 11    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 50  | 2      | 12    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 51  | 2      | 13    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 52  | 2      | 14    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 53  | 2      | 15    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 54  | 2      | 8,9   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 55  | 2      | 10,11 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 56  | 2      | 12,13 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 57  | 2      | 14,15 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 58  | 2      | 0,1,8 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 59  | 2      | 0,    | 2      |     |        |            |       |
|     |        | 1,8,9 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 60  | 2      | 4     | 2      |     |        |            |       |
|     |        | ,5,12 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 61  | 2      | 4,5,  | 2      |     |        |            |       |
|     |        | 12,13 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 62  | 2      | 2     | 2      |     |        |            |       |
|     |        | ,3,10 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 63  | 2      | 2,3,  | 2      |     |        |            |       |
|     |        | 10,11 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 64  | 2      | 6     | 2      |     |        |            |       |
|     |        | ,7,14 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 65  | 2      | 6,7,  | 2      |     |        |            |       |
|     |        | 14,15 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 66- | Re     | Res   | Re     |     |        |            |       |
| 127 | served | erved | served |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+

Table 7.3.1.2.2-8A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=1,\
*dmrs-TypeEnh* is configured, *maxLength*=2

+-----+--------+-------+--------+-----+--------+------------+-------+
| **  |        |       |        | **  |        |            |       |
| One |        |       |        | Two |        |            |       |
| Co  |        |       |        | Cod |        |            |       |
| dew |        |       |        | ewo |        |            |       |
| ord |        |       |        | rds |        |            |       |
| :** |        |       |        | :** |        |            |       |
|     |        |       |        |     |        |            |       |
| *   |        |       |        | *   |        |            |       |
| *Co |        |       |        | *Co |        |            |       |
| dew |        |       |        | dew |        |            |       |
| ord |        |       |        | ord |        |            |       |
| 0   |        |       |        | 0   |        |            |       |
| e   |        |       |        | e   |        |            |       |
| nab |        |       |        | nab |        |            |       |
| led |        |       |        | led |        |            |       |
| ,** |        |       |        | ,** |        |            |       |
|     |        |       |        |     |        |            |       |
| *   |        |       |        | *   |        |            |       |
| *Co |        |       |        | *Co |        |            |       |
| dew |        |       |        | dew |        |            |       |
| ord |        |       |        | ord |        |            |       |
| 1   |        |       |        | 1   |        |            |       |
| d   |        |       |        | ena |        |            |       |
| isa |        |       |        | ble |        |            |       |
| ble |        |       |        | d** |        |            |       |
| d** |        |       |        |     |        |            |       |
+=====+========+=======+========+=====+========+============+=======+
| **V | **     | *     | **     | **V | **     | **DMRS     | **N   |
| alu | Number | *DMRS | Number | alu | Number | port(s)**  | umber |
| e** | of     | port  | of     | e** | of     |            | of    |
|     | DMRS   | (s)** | fron   |     | DMRS   |            | front |
|     | CDM    |       | t-load |     | CDM    |            | -load |
|     | gr     |       | sym    |     | gr     |            | symb  |
|     | oup(s) |       | bols** |     | oup(s) |            | ols** |
|     | w      |       |        |     | w      |            |       |
|     | ithout |       |        |     | ithout |            |       |
|     | data** |       |        |     | data** |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 0   | 1      | 0     | 1      | 0   | 2      | 0,1,2,3,8  | 1     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 1   | 1      | 1     | 1      | 1   | 2      | 0,         | 1     |
|     |        |       |        |     |        | 1,2,3,8,10 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 2   | 1      | 0,1   | 1      | 2   | 2      | 0,1,       | 1     |
|     |        |       |        |     |        | 2,3,8,9,10 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 3   | 2      | 0     | 1      | 3   | 2      | 0,1,2,3    | 1     |
|     |        |       |        |     |        | ,8,9,10,11 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 4   | 2      | 1     | 1      | 4   | 2      | 0-4        | 2     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 5   | 2      | 2     | 1      | 5   | 2      | 0          | 2     |
|     |        |       |        |     |        | ,1,2,3,4,6 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 6   | 2      | 3     | 1      | 6   | 2      | 0,1        | 2     |
|     |        |       |        |     |        | ,2,3,4,5,6 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 7   | 2      | 0,1   | 1      | 7   | 2      | 0,1,2      | 2     |
|     |        |       |        |     |        | ,3,4,5,6,7 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 8   | 2      | 2,3   | 1      | 8   | 1      | 0,1,4,5,8  | 2     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 9   | 2      | 0-2   | 1      | 9   | 1      | 0,         | 2     |
|     |        |       |        |     |        | 1,4,5,8,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 10  | 2      | 0-3   | 1      | 10  | 1      | 0,1,       | 2     |
|     |        |       |        |     |        | 4,5,8,9,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 11  | 2      | 0,2   | 1      | 11  | 1      | 0,1,4,5    | 2     |
|     |        |       |        |     |        | ,8,9,12,13 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 12  | 1      | 8     | 1      | 12  | 2      | 0,1,4,5,8  | 2     |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 13  | 1      | 9     | 1      | 13  | 2      | 0,         | 2     |
|     |        |       |        |     |        | 1,4,5,8,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 14  | 1      | 8,9   | 1      | 14  | 2      | 0,1,       | 2     |
|     |        |       |        |     |        | 4,5,8,9,12 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 15  | 2      | 8     | 1      | 15  | 2      | 0,1,4,5    | 2     |
|     |        |       |        |     |        | ,8,9,12,13 |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 16  | 2      | 9     | 1      | 1   | Re     | Reserved   | Res   |
|     |        |       |        | 6\~ | served |            | erved |
|     |        |       |        | 127 |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 17  | 2      | 10    | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 18  | 2      | 11    | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 19  | 2      | 8,9   | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 20  | 2      | 10,11 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 21  | 1      | 0,1,8 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 22  | 1      | 0,    | 1      |     |        |            |       |
|     |        | 1,8,9 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 23  | 2      | 0,1,8 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 24  | 2      | 0,    | 1      |     |        |            |       |
|     |        | 1,8,9 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 25  | 2      | 2     | 1      |     |        |            |       |
|     |        | ,3,10 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 26  | 2      | 2,3,  | 1      |     |        |            |       |
|     |        | 10,11 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 27  | 2      | 0     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 28  | 2      | 1     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 29  | 2      | 2     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 30  | 2      | 3     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 31  | 2      | 4     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 32  | 2      | 5     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 33  | 2      | 6     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 34  | 2      | 7     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 35  | 2      | 0,1   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 36  | 2      | 2,3   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 37  | 2      | 4,5   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 38  | 2      | 6,7   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 39  | 2      | 0,4   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 40  | 2      | 2,6   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 41  | 2      | 0,1,4 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 42  | 2      | 2,3,6 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 43  | 2      | 0,    | 2      |     |        |            |       |
|     |        | 1,4,5 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 44  | 2      | 2,    | 2      |     |        |            |       |
|     |        | 3,6,7 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 45  | 2      | 0,    | 2      |     |        |            |       |
|     |        | 2,4,6 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 46  | 2      | 8     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 47  | 2      | 9     | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 48  | 2      | 10    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 49  | 2      | 11    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 50  | 2      | 12    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 51  | 2      | 13    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 52  | 2      | 14    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 53  | 2      | 15    | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 54  | 2      | 8,9   | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 55  | 2      | 10,11 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 56  | 2      | 12,13 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 57  | 2      | 14,15 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 58  | 2      | 0,1,8 | 2      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 59  | 2      | 0,    | 2      |     |        |            |       |
|     |        | 1,8,9 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 60  | 2      | 4     | 2      |     |        |            |       |
|     |        | ,5,12 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 61  | 2      | 4,5,  | 2      |     |        |            |       |
|     |        | 12,13 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 62  | 2      | 2     | 2      |     |        |            |       |
|     |        | ,3,10 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 63  | 2      | 2,3,  | 2      |     |        |            |       |
|     |        | 10,11 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 64  | 2      | 6     | 2      |     |        |            |       |
|     |        | ,7,14 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 65  | 2      | 6,7,  | 2      |     |        |            |       |
|     |        | 14,15 |        |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 66  | 2      | 0,2,3 | 1      |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+
| 67- | Re     | Res   | Re     |     |        |            |       |
| 127 | served | erved | served |     |        |            |       |
+-----+--------+-------+--------+-----+--------+------------+-------+

Table 7.3.1.2.2-9: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1

+-----+------------------+--------+-------+--------------+-----------+
| One |                  |        | Two   |              |           |
| cod |                  |        | codew |              |           |
| ewo |                  |        | ords: |              |           |
| rd: |                  |        |       |              |           |
|     |                  |        | Cod   |              |           |
| Co  |                  |        | eword |              |           |
| dew |                  |        | 0     |              |           |
| ord |                  |        | ena   |              |           |
| 0   |                  |        | bled, |              |           |
| en  |                  |        |       |              |           |
| abl |                  |        | Cod   |              |           |
| ed, |                  |        | eword |              |           |
|     |                  |        | 1     |              |           |
| Co  |                  |        | en    |              |           |
| dew |                  |        | abled |              |           |
| ord |                  |        |       |              |           |
| 1   |                  |        |       |              |           |
| di  |                  |        |       |              |           |
| sab |                  |        |       |              |           |
| led |                  |        |       |              |           |
+=====+==================+========+=======+==============+===========+
| Va  | Number of DMRS   | DMRS   | Value | Number of    | DMRS      |
| lue | CDM group(s)     | p      |       | DMRS CDM     | port(s)   |
|     | without data     | ort(s) |       | group(s)     |           |
|     |                  |        |       | without data |           |
+-----+------------------+--------+-------+--------------+-----------+
| 0   | 1                | 0      | 0     | 3            | 0-4       |
+-----+------------------+--------+-------+--------------+-----------+
| 1   | 1                | 1      | 1     | 3            | 0-5       |
+-----+------------------+--------+-------+--------------+-----------+
| 2   | 1                | 0,1    | 2     | 2            | 0         |
|     |                  |        |       |              | ,1,2,3,12 |
+-----+------------------+--------+-------+--------------+-----------+
| 3   | 2                | 0      | 3     | 2            | 0,1,      |
|     |                  |        |       |              | 2,3,12,14 |
+-----+------------------+--------+-------+--------------+-----------+
| 4   | 2                | 1      | 4     | 2            | 0-3,12-14 |
+-----+------------------+--------+-------+--------------+-----------+
| 5   | 2                | 2      | 5     | 2            | 0-3,12-15 |
+-----+------------------+--------+-------+--------------+-----------+
| 6   | 2                | 3      | 6     | 3            | 0         |
|     |                  |        |       |              | ,1,2,3,12 |
+-----+------------------+--------+-------+--------------+-----------+
| 7   | 2                | 0,1    | 7     | 3            | 0,1,      |
|     |                  |        |       |              | 2,3,12,14 |
+-----+------------------+--------+-------+--------------+-----------+
| 8   | 2                | 2,3    | 8     | 3            | 0-3,12-14 |
+-----+------------------+--------+-------+--------------+-----------+
| 9   | 2                | 0-2    | 9     | 3            | 0-3,12-15 |
+-----+------------------+--------+-------+--------------+-----------+
| 10  | 2                | 0-3    | 1     | Reserved     | Reserved  |
|     |                  |        | 0\~63 |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 11  | 3                | 0      |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 12  | 3                | 1      |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 13  | 3                | 2      |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 14  | 3                | 3      |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 15  | 3                | 4      |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 16  | 3                | 5      |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 17  | 3                | 0,1    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 18  | 3                | 2,3    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 19  | 3                | 4,5    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 20  | 3                | 0-2    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 21  | 3                | 3-5    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 22  | 3                | 0-3    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 23  | 2                | 0,2    |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 24  | 1                | 12     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 25  | 1                | 13     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 26  | 1                | 12,13  |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 27  | 2                | 12     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 28  | 2                | 13     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 29  | 2                | 14     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 30  | 2                | 15     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 31  | 2                | 12,13  |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 32  | 2                | 14,15  |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 33  | 3                | 12     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 34  | 3                | 13     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 35  | 3                | 14     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 36  | 3                | 15     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 37  | 3                | 16     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 38  | 3                | 17     |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 39  | 3                | 12,13  |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 40  | 3                | 14,15  |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 41  | 3                | 16,17  |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 42  | 1                | 0,1,12 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 43  | 1                | 0,1    |       |              |           |
|     |                  | ,12,13 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 44  | 2                | 0,1,12 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 45  | 2                | 0,1    |       |              |           |
|     |                  | ,12,13 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 46  | 2                | 2,3,14 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 47  | 2                | 2,3    |       |              |           |
|     |                  | ,14,15 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 48  | 3                | 0,1,12 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 49  | 3                | 0,1    |       |              |           |
|     |                  | ,12,13 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 50  | 3                | 2,3,14 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 51  | 3                | 2,3    |       |              |           |
|     |                  | ,14,15 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 52  | 3                | 4,5,16 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 53  | 3                | 4,5    |       |              |           |
|     |                  | ,16,17 |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+
| 54  | Reserved         | Re     |       |              |           |
| -63 |                  | served |       |              |           |
+-----+------------------+--------+-------+--------------+-----------+

Table 7.3.1.2.2-9A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=1

+------+----------------+--------+-------+---------------+----------+
| One  |                |        | Two   |               |          |
| c    |                |        | codew |               |          |
| odew |                |        | ords: |               |          |
| ord: |                |        |       |               |          |
|      |                |        | Cod   |               |          |
| Code |                |        | eword |               |          |
| word |                |        | 0     |               |          |
| 0    |                |        | ena   |               |          |
| enab |                |        | bled, |               |          |
| led, |                |        |       |               |          |
|      |                |        | Cod   |               |          |
| Code |                |        | eword |               |          |
| word |                |        | 1     |               |          |
| 1    |                |        | en    |               |          |
| disa |                |        | abled |               |          |
| bled |                |        |       |               |          |
+======+================+========+=======+===============+==========+
| V    | Number of DMRS | DMRS   | Value | Number of     | DMRS     |
| alue | CDM group(s)   | p      |       | DMRS CDM      | port(s)  |
|      | without data   | ort(s) |       | group(s)      |          |
|      |                |        |       | without data  |          |
+------+----------------+--------+-------+---------------+----------+
| 0    | 1              | 0      | 0     | 3             | 0-4      |
+------+----------------+--------+-------+---------------+----------+
| 1    | 1              | 1      | 1     | 3             | 0-5      |
+------+----------------+--------+-------+---------------+----------+
| 2    | 1              | 0,1    | 2     | 2             | 0,       |
|      |                |        |       |               | 1,2,3,12 |
+------+----------------+--------+-------+---------------+----------+
| 3    | 2              | 0      | 3     | 2             | 0,1,2    |
|      |                |        |       |               | ,3,12,14 |
+------+----------------+--------+-------+---------------+----------+
| 4    | 2              | 1      | 4     | 2             | 0        |
|      |                |        |       |               | -3,12-14 |
+------+----------------+--------+-------+---------------+----------+
| 5    | 2              | 2      | 5     | 2             | 0        |
|      |                |        |       |               | -3,12-15 |
+------+----------------+--------+-------+---------------+----------+
| 6    | 2              | 3      | 6     | 3             | 0,       |
|      |                |        |       |               | 1,2,3,12 |
+------+----------------+--------+-------+---------------+----------+
| 7    | 2              | 0,1    | 7     | 3             | 0,1,2    |
|      |                |        |       |               | ,3,12,14 |
+------+----------------+--------+-------+---------------+----------+
| 8    | 2              | 2,3    | 8     | 3             | 0        |
|      |                |        |       |               | -3,12-14 |
+------+----------------+--------+-------+---------------+----------+
| 9    | 2              | 0-2    | 9     | 3             | 0        |
|      |                |        |       |               | -3,12-15 |
+------+----------------+--------+-------+---------------+----------+
| 10   | 2              | 0-3    | 1     | Reserved      | Reserved |
|      |                |        | 0\~63 |               |          |
+------+----------------+--------+-------+---------------+----------+
| 11   | 3              | 0      |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 12   | 3              | 1      |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 13   | 3              | 2      |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 14   | 3              | 3      |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 15   | 3              | 4      |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 16   | 3              | 5      |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 17   | 3              | 0,1    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 18   | 3              | 2,3    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 19   | 3              | 4,5    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 20   | 3              | 0-2    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 21   | 3              | 3-5    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 22   | 3              | 0-3    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 23   | 2              | 0,2    |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 24   | 1              | 12     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 25   | 1              | 13     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 26   | 1              | 12,13  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 27   | 2              | 12     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 28   | 2              | 13     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 29   | 2              | 14     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 30   | 2              | 15     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 31   | 2              | 12,13  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 32   | 2              | 14,15  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 33   | 3              | 12     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 34   | 3              | 13     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 35   | 3              | 14     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 36   | 3              | 15     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 37   | 3              | 16     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 38   | 3              | 17     |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 39   | 3              | 12,13  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 40   | 3              | 14,15  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 41   | 3              | 16,17  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 42   | 1              | 0,1,12 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 43   | 1              | 0,1    |       |               |          |
|      |                | ,12,13 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 44   | 2              | 0,1,12 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 45   | 2              | 0,1    |       |               |          |
|      |                | ,12,13 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 46   | 2              | 2,3,14 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 47   | 2              | 2,3    |       |               |          |
|      |                | ,14,15 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 48   | 3              | 0,1,12 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 49   | 3              | 0,1    |       |               |          |
|      |                | ,12,13 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 50   | 3              | 2,3,14 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 51   | 3              | 2,3    |       |               |          |
|      |                | ,14,15 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 52   | 3              | 4,5,16 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 53   | 3              | 4,5    |       |               |          |
|      |                | ,16,17 |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 54   | 2              | 0,2,3  |       |               |          |
+------+----------------+--------+-------+---------------+----------+
| 5    | Reserved       | Re     |       |               |          |
| 5-63 |                | served |       |               |          |
+------+----------------+--------+-------+---------------+----------+

Table 7.3.1.2.2-10: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2

+------+---------+-------+-------+-----+----------+-----------+------+
| *    |         |       |       | **  |          |           |      |
| *One |         |       |       | Two |          |           |      |
| cod  |         |       |       | Cod |          |           |      |
| ewor |         |       |       | ewo |          |           |      |
| d:** |         |       |       | rds |          |           |      |
|      |         |       |       | :** |          |           |      |
| **   |         |       |       |     |          |           |      |
| Code |         |       |       | *   |          |           |      |
| word |         |       |       | *Co |          |           |      |
| 0    |         |       |       | dew |          |           |      |
| en   |         |       |       | ord |          |           |      |
| able |         |       |       | 0   |          |           |      |
| d,** |         |       |       | e   |          |           |      |
|      |         |       |       | nab |          |           |      |
| **   |         |       |       | led |          |           |      |
| Code |         |       |       | ,** |          |           |      |
| word |         |       |       |     |          |           |      |
| 1    |         |       |       | *   |          |           |      |
| di   |         |       |       | *Co |          |           |      |
| sabl |         |       |       | dew |          |           |      |
| ed** |         |       |       | ord |          |           |      |
|      |         |       |       | 1   |          |           |      |
|      |         |       |       | ena |          |           |      |
|      |         |       |       | ble |          |           |      |
|      |         |       |       | d** |          |           |      |
+======+=========+=======+=======+=====+==========+===========+======+
| *    | *       | *     | **N   | **V | **Number | **DMRS    | **Nu |
| *Val | *Number | *DMRS | umber | alu | of DMRS  | port(s)** | mber |
| ue** | of DMRS | port  | of    | e** | CDM      |           | of   |
|      | CDM     | (s)** | front |     | group(s) |           | fr   |
|      | g       |       | -load |     | without  |           | ont- |
|      | roup(s) |       | symb  |     | data**   |           | load |
|      | without |       | ols** |     |          |           | s    |
|      | data**  |       |       |     |          |           | ymbo |
|      |         |       |       |     |          |           | ls** |
+------+---------+-------+-------+-----+----------+-----------+------+
| 0    | 1       | 0     | 1     | 0   | 3        | 0-4       | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 1    | 1       | 1     | 1     | 1   | 3        | 0-5       | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 2    | 1       | 0,1   | 1     | 2   | 2        | 0         | 1    |
|      |         |       |       |     |          | ,1,2,3,12 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 3    | 2       | 0     | 1     | 3   | 2        | 0-3,12,14 | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 4    | 2       | 1     | 1     | 4   | 2        | 0-3,12-14 | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 5    | 2       | 2     | 1     | 5   | 2        | 0-3,12-15 | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 6    | 2       | 3     | 1     | 6   | 3        | 0         | 1    |
|      |         |       |       |     |          | ,1,2,3,12 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 7    | 2       | 0,1   | 1     | 7   | 3        | 0-3,12,14 | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 8    | 2       | 2,3   | 1     | 8   | 3        | 0-3,12-14 | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 9    | 2       | 0-2   | 1     | 9   | 3        | 0-3,12-15 | 1    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 10   | 2       | 0-3   | 1     | 10  | 2        | 0,1,2,3,6 | 2    |
+------+---------+-------+-------+-----+----------+-----------+------+
| 11   | 3       | 0     | 1     | 11  | 2        | 0,        | 2    |
|      |         |       |       |     |          | 1,2,3,6,8 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 12   | 3       | 1     | 1     | 12  | 2        | 0,1,      | 2    |
|      |         |       |       |     |          | 2,3,6,7,8 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 13   | 3       | 2     | 1     | 13  | 2        | 0,1,2,    | 2    |
|      |         |       |       |     |          | 3,6,7,8,9 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 14   | 3       | 3     | 1     | 14  | 1        | 0         | 2    |
|      |         |       |       |     |          | ,1,6,7,12 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 15   | 3       | 4     | 1     | 15  | 1        | 0,1,      | 2    |
|      |         |       |       |     |          | 6,7,12,18 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 16   | 3       | 5     | 1     | 16  | 1        | 0,1,6,7   | 2    |
|      |         |       |       |     |          | ,12,13,18 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 17   | 3       | 0,1   | 1     | 17  | 1        | 0         | 2    |
|      |         |       |       |     |          | ,1,6,7,12 |      |
|      |         |       |       |     |          | ,13,18,19 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 18   | 3       | 2,3   | 1     | 18  | 2        | 0         | 2    |
|      |         |       |       |     |          | ,1,6,7,12 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 19   | 3       | 4,5   | 1     | 19  | 2        | 0,1,      | 2    |
|      |         |       |       |     |          | 6,7,12,18 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 20   | 3       | 0-2   | 1     | 20  | 2        | 0,1,6,7   | 2    |
|      |         |       |       |     |          | ,12,13,18 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 21   | 3       | 3-5   | 1     | 21  | 2        | 0         | 2    |
|      |         |       |       |     |          | ,1,6,7,12 |      |
|      |         |       |       |     |          | ,13,18,19 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 22   | 3       | 0-3   | 1     | 22  | 3        | 0         | 2    |
|      |         |       |       |     |          | ,1,6,7,12 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 23   | 2       | 0,2   | 1     | 23  | 3        | 0,1,      | 2    |
|      |         |       |       |     |          | 6,7,12,18 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 24   | 1       | 12    | 1     | 24  | 3        | 0,1,6,7   | 2    |
|      |         |       |       |     |          | ,12,13,18 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 25   | 1       | 13    | 1     | 25  | 3        | 0         | 2    |
|      |         |       |       |     |          | ,1,6,7,12 |      |
|      |         |       |       |     |          | ,13,18,19 |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 26   | 1       | 12,13 | 1     | 2   | Reserved | Reserved  | Rese |
|      |         |       |       | 6\~ |          |           | rved |
|      |         |       |       | 255 |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 27   | 2       | 12    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 28   | 2       | 13    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 29   | 2       | 14    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 30   | 2       | 15    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 31   | 2       | 12,13 | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 32   | 2       | 14,15 | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 33   | 3       | 12    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 34   | 3       | 13    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 35   | 3       | 14    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 36   | 3       | 15    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 37   | 3       | 16    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 38   | 3       | 17    | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 39   | 3       | 12,13 | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 40   | 3       | 14,15 | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 41   | 3       | 16,17 | 1     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 42   | 1       | 0     | 1     |     |          |           |      |
|      |         | ,1,12 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 43   | 1       | 0,1,  | 1     |     |          |           |      |
|      |         | 12,13 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 44   | 2       | 0     | 1     |     |          |           |      |
|      |         | ,1,12 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 45   | 2       | 0,1,  | 1     |     |          |           |      |
|      |         | 12,13 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 46   | 2       | 2     | 1     |     |          |           |      |
|      |         | ,3,14 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 47   | 2       | 2,3,  | 1     |     |          |           |      |
|      |         | 14,15 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 48   | 3       | 0     | 1     |     |          |           |      |
|      |         | ,1,12 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 49   | 3       | 0,1,  | 1     |     |          |           |      |
|      |         | 12,13 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 50   | 3       | 2     | 1     |     |          |           |      |
|      |         | ,3,14 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 51   | 3       | 2,3,  | 1     |     |          |           |      |
|      |         | 14,15 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 52   | 3       | 4     | 1     |     |          |           |      |
|      |         | ,5,16 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 53   | 3       | 4,5,  | 1     |     |          |           |      |
|      |         | 16,17 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 54   | 3       | 0     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 55   | 3       | 1     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 56   | 3       | 2     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 57   | 3       | 3     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 58   | 3       | 4     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 59   | 3       | 5     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 60   | 3       | 6     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 61   | 3       | 7     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 62   | 3       | 8     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 63   | 3       | 9     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 64   | 3       | 10    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 65   | 3       | 11    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 66   | 3       | 0,1   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 67   | 3       | 2,3   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 68   | 3       | 4,5   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 69   | 3       | 6,7   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 70   | 3       | 8,9   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 71   | 3       | 10,11 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 72   | 3       | 0,1,6 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 73   | 3       | 2,3,8 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 74   | 3       | 4     | 2     |     |          |           |      |
|      |         | ,5,10 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 75   | 3       | 0,    | 2     |     |          |           |      |
|      |         | 1,6,7 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 76   | 3       | 2,    | 2     |     |          |           |      |
|      |         | 3,8,9 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 77   | 3       | 4,5,  | 2     |     |          |           |      |
|      |         | 10,11 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 78   | 1       | 0     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 79   | 1       | 1     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 80   | 1       | 6     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 81   | 1       | 7     | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 82   | 1       | 0,1   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 83   | 1       | 6,7   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 84   | 2       | 0,1   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 85   | 2       | 2,3   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 86   | 2       | 6,7   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 87   | 2       | 8,9   | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 88   | 3       | 12    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 89   | 3       | 13    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 90   | 3       | 14    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 91   | 3       | 15    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 92   | 3       | 16    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 93   | 3       | 17    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 94   | 3       | 18    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 95   | 3       | 19    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 96   | 3       | 20    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 97   | 3       | 21    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 98   | 3       | 22    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 99   | 3       | 23    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 100  | 3       | 12,13 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 101  | 3       | 14,15 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 102  | 3       | 16,17 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 103  | 3       | 18,19 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 104  | 3       | 20,21 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 105  | 3       | 22,23 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 106  | 1       | 12    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 107  | 1       | 13    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 108  | 1       | 18    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 109  | 1       | 19    | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 110  | 1       | 12,13 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 111  | 1       | 18,19 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 112  | 2       | 12,13 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 113  | 2       | 14,15 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 114  | 2       | 18,19 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 115  | 2       | 20,21 | 2     |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 116  | 2       | 0     | 2     |     |          |           |      |
|      |         | ,1,12 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 117  | 2       | 0,1,  | 2     |     |          |           |      |
|      |         | 12,13 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 118  | 2       | 6     | 2     |     |          |           |      |
|      |         | ,7,18 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 119  | 2       | 6,7,  | 2     |     |          |           |      |
|      |         | 18,19 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 120  | 2       | 2     | 2     |     |          |           |      |
|      |         | ,3,14 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 121  | 2       | 2,3,  | 2     |     |          |           |      |
|      |         | 14,15 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 122  | 2       | 8     | 2     |     |          |           |      |
|      |         | ,9,20 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 123  | 2       | 8,9,  | 2     |     |          |           |      |
|      |         | 20,21 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 124  | 3       | 0     | 2     |     |          |           |      |
|      |         | ,1,12 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 125  | 3       | 0,1,  | 2     |     |          |           |      |
|      |         | 12,13 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 126  | 3       | 6     | 2     |     |          |           |      |
|      |         | ,7,18 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 127  | 3       | 6,7,  | 2     |     |          |           |      |
|      |         | 18,19 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 128  | 3       | 2     | 2     |     |          |           |      |
|      |         | ,3,14 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 129  | 3       | 2,3,  | 2     |     |          |           |      |
|      |         | 14,15 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 130  | 3       | 8     | 2     |     |          |           |      |
|      |         | ,9,20 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 131  | 3       | 8,9,  | 2     |     |          |           |      |
|      |         | 20,21 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 132  | 3       | 4     | 2     |     |          |           |      |
|      |         | ,5,16 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 133  | 3       | 4,5,  | 2     |     |          |           |      |
|      |         | 16,17 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 134  | 3       | 10,   | 2     |     |          |           |      |
|      |         | 11,22 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 135  | 3       | 1     | 2     |     |          |           |      |
|      |         | 0,11, |       |     |          |           |      |
|      |         | 22,23 |       |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+
| 136  | R       | Res   | Res   |     |          |           |      |
| -255 | eserved | erved | erved |     |          |           |      |
+------+---------+-------+-------+-----+----------+-----------+------+

Table 7.3.1.2.2-10A: Antenna port(s) (1000 + DMRS port), *dmrs-Type*=2,\
*dmrs-TypeEnh* is configured, *maxLength*=2

+-----+---------+-------+-------+-----+----------+-----------+------+
| **  |         |       |       | **  |          |           |      |
| One |         |       |       | Two |          |           |      |
| co  |         |       |       | Cod |          |           |      |
| dew |         |       |       | ewo |          |           |      |
| ord |         |       |       | rds |          |           |      |
| :** |         |       |       | :** |          |           |      |
|     |         |       |       |     |          |           |      |
| *   |         |       |       | *   |          |           |      |
| *Co |         |       |       | *Co |          |           |      |
| dew |         |       |       | dew |          |           |      |
| ord |         |       |       | ord |          |           |      |
| 0   |         |       |       | 0   |          |           |      |
| e   |         |       |       | e   |          |           |      |
| nab |         |       |       | nab |          |           |      |
| led |         |       |       | led |          |           |      |
| ,** |         |       |       | ,** |          |           |      |
|     |         |       |       |     |          |           |      |
| *   |         |       |       | *   |          |           |      |
| *Co |         |       |       | *Co |          |           |      |
| dew |         |       |       | dew |          |           |      |
| ord |         |       |       | ord |          |           |      |
| 1   |         |       |       | 1   |          |           |      |
| d   |         |       |       | ena |          |           |      |
| isa |         |       |       | ble |          |           |      |
| ble |         |       |       | d** |          |           |      |
| d** |         |       |       |     |          |           |      |
+=====+=========+=======+=======+=====+==========+===========+======+
| **V | *       | *     | **N   | **V | **Number | **DMRS    | **Nu |
| alu | *Number | *DMRS | umber | alu | of DMRS  | port(s)** | mber |
| e** | of DMRS | port  | of    | e** | CDM      |           | of   |
|     | CDM     | (s)** | front |     | group(s) |           | fr   |
|     | g       |       | -load |     | without  |           | ont- |
|     | roup(s) |       | symb  |     | data**   |           | load |
|     | without |       | ols** |     |          |           | s    |
|     | data**  |       |       |     |          |           | ymbo |
|     |         |       |       |     |          |           | ls** |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 0   | 1       | 0     | 1     | 0   | 3        | 0-4       | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 1   | 1       | 1     | 1     | 1   | 3        | 0-5       | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 2   | 1       | 0,1   | 1     | 2   | 2        | 0         | 1    |
|     |         |       |       |     |          | ,1,2,3,12 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 3   | 2       | 0     | 1     | 3   | 2        | 0-3,12,14 | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 4   | 2       | 1     | 1     | 4   | 2        | 0-3,12-14 | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 5   | 2       | 2     | 1     | 5   | 2        | 0-3,12-15 | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 6   | 2       | 3     | 1     | 6   | 3        | 0         | 1    |
|     |         |       |       |     |          | ,1,2,3,12 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 7   | 2       | 0,1   | 1     | 7   | 3        | 0-3,12,14 | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 8   | 2       | 2,3   | 1     | 8   | 3        | 0-3,12-14 | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 9   | 2       | 0-2   | 1     | 9   | 3        | 0-3,12-15 | 1    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 10  | 2       | 0-3   | 1     | 10  | 2        | 0,1,2,3,6 | 2    |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 11  | 3       | 0     | 1     | 11  | 2        | 0,        | 2    |
|     |         |       |       |     |          | 1,2,3,6,8 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 12  | 3       | 1     | 1     | 12  | 2        | 0,1,      | 2    |
|     |         |       |       |     |          | 2,3,6,7,8 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 13  | 3       | 2     | 1     | 13  | 2        | 0,1,2,    | 2    |
|     |         |       |       |     |          | 3,6,7,8,9 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 14  | 3       | 3     | 1     | 14  | 1        | 0         | 2    |
|     |         |       |       |     |          | ,1,6,7,12 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 15  | 3       | 4     | 1     | 15  | 1        | 0,1,      | 2    |
|     |         |       |       |     |          | 6,7,12,18 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 16  | 3       | 5     | 1     | 16  | 1        | 0,1,6,7   | 2    |
|     |         |       |       |     |          | ,12,13,18 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 17  | 3       | 0,1   | 1     | 17  | 1        | 0         | 2    |
|     |         |       |       |     |          | ,1,6,7,12 |      |
|     |         |       |       |     |          | ,13,18,19 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 18  | 3       | 2,3   | 1     | 18  | 2        | 0         | 2    |
|     |         |       |       |     |          | ,1,6,7,12 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 19  | 3       | 4,5   | 1     | 19  | 2        | 0,1,      | 2    |
|     |         |       |       |     |          | 6,7,12,18 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 20  | 3       | 0-2   | 1     | 20  | 2        | 0,1,6,7   | 2    |
|     |         |       |       |     |          | ,12,13,18 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 21  | 3       | 3-5   | 1     | 21  | 2        | 0         | 2    |
|     |         |       |       |     |          | ,1,6,7,12 |      |
|     |         |       |       |     |          | ,13,18,19 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 22  | 3       | 0-3   | 1     | 22  | 3        | 0         | 2    |
|     |         |       |       |     |          | ,1,6,7,12 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 23  | 2       | 0,2   | 1     | 23  | 3        | 0,1,      | 2    |
|     |         |       |       |     |          | 6,7,12,18 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 24  | 1       | 12    | 1     | 24  | 3        | 0,1,6,7   | 2    |
|     |         |       |       |     |          | ,12,13,18 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 25  | 1       | 13    | 1     | 25  | 3        | 0         | 2    |
|     |         |       |       |     |          | ,1,6,7,12 |      |
|     |         |       |       |     |          | ,13,18,19 |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 26  | 1       | 12,13 | 1     | 2   | Reserved | Reserved  | Rese |
|     |         |       |       | 6\~ |          |           | rved |
|     |         |       |       | 255 |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 27  | 2       | 12    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 28  | 2       | 13    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 29  | 2       | 14    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 30  | 2       | 15    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 31  | 2       | 12,13 | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 32  | 2       | 14,15 | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 33  | 3       | 12    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 34  | 3       | 13    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 35  | 3       | 14    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 36  | 3       | 15    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 37  | 3       | 16    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 38  | 3       | 17    | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 39  | 3       | 12,13 | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 40  | 3       | 14,15 | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 41  | 3       | 16,17 | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 42  | 1       | 0     | 1     |     |          |           |      |
|     |         | ,1,12 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 43  | 1       | 0,1,  | 1     |     |          |           |      |
|     |         | 12,13 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 44  | 2       | 0     | 1     |     |          |           |      |
|     |         | ,1,12 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 45  | 2       | 0,1,  | 1     |     |          |           |      |
|     |         | 12,13 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 46  | 2       | 2     | 1     |     |          |           |      |
|     |         | ,3,14 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 47  | 2       | 2,3,  | 1     |     |          |           |      |
|     |         | 14,15 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 48  | 3       | 0     | 1     |     |          |           |      |
|     |         | ,1,12 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 49  | 3       | 0,1,  | 1     |     |          |           |      |
|     |         | 12,13 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 50  | 3       | 2     | 1     |     |          |           |      |
|     |         | ,3,14 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 51  | 3       | 2,3,  | 1     |     |          |           |      |
|     |         | 14,15 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 52  | 3       | 4     | 1     |     |          |           |      |
|     |         | ,5,16 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 53  | 3       | 4,5,  | 1     |     |          |           |      |
|     |         | 16,17 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 54  | 3       | 0     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 55  | 3       | 1     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 56  | 3       | 2     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 57  | 3       | 3     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 58  | 3       | 4     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 59  | 3       | 5     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 60  | 3       | 6     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 61  | 3       | 7     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 62  | 3       | 8     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 63  | 3       | 9     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 64  | 3       | 10    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 65  | 3       | 11    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 66  | 3       | 0,1   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 67  | 3       | 2,3   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 68  | 3       | 4,5   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 69  | 3       | 6,7   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 70  | 3       | 8,9   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 71  | 3       | 10,11 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 72  | 3       | 0,1,6 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 73  | 3       | 2,3,8 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 74  | 3       | 4     | 2     |     |          |           |      |
|     |         | ,5,10 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 75  | 3       | 0,    | 2     |     |          |           |      |
|     |         | 1,6,7 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 76  | 3       | 2,    | 2     |     |          |           |      |
|     |         | 3,8,9 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 77  | 3       | 4,5,  | 2     |     |          |           |      |
|     |         | 10,11 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 78  | 1       | 0     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 79  | 1       | 1     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 80  | 1       | 6     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 81  | 1       | 7     | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 82  | 1       | 0,1   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 83  | 1       | 6,7   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 84  | 2       | 0,1   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 85  | 2       | 2,3   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 86  | 2       | 6,7   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 87  | 2       | 8,9   | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 88  | 3       | 12    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 89  | 3       | 13    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 90  | 3       | 14    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 91  | 3       | 15    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 92  | 3       | 16    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 93  | 3       | 17    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 94  | 3       | 18    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 95  | 3       | 19    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 96  | 3       | 20    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 97  | 3       | 21    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 98  | 3       | 22    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 99  | 3       | 23    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 100 | 3       | 12,13 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 101 | 3       | 14,15 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 102 | 3       | 16,17 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 103 | 3       | 18,19 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 104 | 3       | 20,21 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 105 | 3       | 22,23 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 106 | 1       | 12    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 107 | 1       | 13    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 108 | 1       | 18    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 109 | 1       | 19    | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 110 | 1       | 12,13 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 111 | 1       | 18,19 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 112 | 2       | 12,13 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 113 | 2       | 14,15 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 114 | 2       | 18,19 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 115 | 2       | 20,21 | 2     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 116 | 2       | 0     | 2     |     |          |           |      |
|     |         | ,1,12 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 117 | 2       | 0,1,  | 2     |     |          |           |      |
|     |         | 12,13 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 118 | 2       | 6     | 2     |     |          |           |      |
|     |         | ,7,18 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 119 | 2       | 6,7,  | 2     |     |          |           |      |
|     |         | 18,19 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 120 | 2       | 2     | 2     |     |          |           |      |
|     |         | ,3,14 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 121 | 2       | 2,3,  | 2     |     |          |           |      |
|     |         | 14,15 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 122 | 2       | 8     | 2     |     |          |           |      |
|     |         | ,9,20 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 123 | 2       | 8,9,  | 2     |     |          |           |      |
|     |         | 20,21 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 124 | 3       | 0     | 2     |     |          |           |      |
|     |         | ,1,12 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 125 | 3       | 0,1,  | 2     |     |          |           |      |
|     |         | 12,13 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 126 | 3       | 6     | 2     |     |          |           |      |
|     |         | ,7,18 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 127 | 3       | 6,7,  | 2     |     |          |           |      |
|     |         | 18,19 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 128 | 3       | 2     | 2     |     |          |           |      |
|     |         | ,3,14 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 129 | 3       | 2,3,  | 2     |     |          |           |      |
|     |         | 14,15 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 130 | 3       | 8     | 2     |     |          |           |      |
|     |         | ,9,20 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 131 | 3       | 8,9,  | 2     |     |          |           |      |
|     |         | 20,21 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 132 | 3       | 4     | 2     |     |          |           |      |
|     |         | ,5,16 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 133 | 3       | 4,5,  | 2     |     |          |           |      |
|     |         | 16,17 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 134 | 3       | 10,   | 2     |     |          |           |      |
|     |         | 11,22 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 135 | 3       | 1     | 2     |     |          |           |      |
|     |         | 0,11, |       |     |          |           |      |
|     |         | 22,23 |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 136 | 2       | 0,2,3 | 1     |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+
| 1   | R       | Res   | Res   |     |          |           |      |
| 37- | eserved | erved | erved |     |          |           |      |
| 255 |         |       |       |     |          |           |      |
+-----+---------+-------+-------+-----+----------+-----------+------+

Table 7.3.1.2.2-11: TCI selection

  -----------------------------------------------------------------------
  **Bit field      **TCI selection**
  mapped to        
  index**          
  ---------------- ------------------------------------------------------
  0                The first indicated joint/DL TCI state is applied to
                   the scheduled PDSCH

  1                The second indicated joint/DL TCI state is applied to
                   the scheduled PDSCH

  2                Both indicated joint/DL TCI states are applied to the
                   scheduled PDSCH

  3                Reserved
  -----------------------------------------------------------------------

Table 7.3.1.2.2-12: Co-scheduled UE information

  -----------------------------------------------------------------------
  **Bit field  **Co-scheduled UE information**
  mapped to    
  index**      
  ------------ ----------------------------------------------------------
  0            In all the PRBs allocated to the UE, there is no
               co-scheduled UE or there is co-scheduled UE but with a
               different root DMRS sequence

  1            In all the PRBs allocated to the UE, all the co-scheduled
               UE(s), if any, which have the same root DMRS sequence as
               the UE, are scheduled with modulation scheme QPSK

  2            In all the PRBs allocated to the UE, all the co-scheduled
               UE(s), if any, which have the same root DMRS sequence as
               the UE, are scheduled with modulation scheme 16QAM

  3            In all the PRBs allocated to the UE, all the co-scheduled
               UE(s), if any, which have the same root DMRS sequence as
               the UE, are scheduled with modulation scheme 64QAM

  4            In all the PRBs allocated to the UE, all the co-scheduled
               UE(s), if any, which have the same root DMRS sequence as
               the UE, are scheduled with modulation scheme 256QAM

  5            In all the PRBs allocated to the UE, all the co-scheduled
               UE(s), if any, which have the same root DMRS sequence as
               the UE, are scheduled with modulation scheme 1024QAM

  6            In each individual PRB allocated to the UE, all the
               co-scheduled UE(s), which have the same root DMRS sequence
               as the UE, are scheduled with the same modulation scheme,
               except the cases corresponding to index 0\~5

  7            All cases not covered above

  Note: Root   
  DMRS         
  sequence is  
  $r(n)\ $as   
  defined in   
  clause       
  7.4.1.1.1 of 
  \[4, TS      
  38.211\]     
  -----------------------------------------------------------------------

##### 7.3.1.2.3 Format 1_2

DCI format 1_2 is used for the scheduling of PDSCH in one cell.

The following information is transmitted by means of the DCI format 1_2
with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bits

\- The value of this bit field is always set to 1, indicating a DL DCI
format.

\- Carrier indicator - 0, 1, 2 or 3 bits determined by higher layer
parameter *carrierIndicatorSizeDCI-1-2*, as defined in Clause 10.1 of
\[5, TS38.213\]. This field is reserved when this format is carried by
PDCCH on the primary cell and the UE is configured for scheduling on the
primary cell from an SCell, with the same number of bits as that in this
format carried by PDCCH on the SCell for scheduling on the primary cell.

\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number
of DL BWPs $n_{BWP,\ RRC}$ configured by higher layers, excluding the
initial DL bandwidth part. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(n_{BWP})} \right\rceil$ bits, where

\- $n_{BWP} = n_{BWP,\ RRC} + 1\ $if $n_{BWP,\ RRC} \leq 3$, in which
case the bandwidth part indicator is equivalent to the ascending order
of the higher layer parameter *BWP-Id*;

\- otherwise $n_{BWP} = n_{BWP,\ RRC}$, in which case the bandwidth part
indicator is defined in Table 7.3.1.1.2-1;

If a UE does not support active BWP change via DCI, the UE ignores this
bit field.

\- Frequency domain resource assignment - number of bits determined by
the following:

\- $N_{RBG}$ bits if only resource allocation type 0 is configured,
where $N_{RBG}$ is defined in Clause 5.1.2.2.1 of \[6, TS 38.214\];

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil$
bits if only resource allocation type 1 is configured, or
$\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil,\ N_{RBG} \right) + 1$
bits if resourceAllocationDCI-1-2-r16 is configured as
\'dynamicSwitch\', where
$N_{RBG,\ K2} = \left\lceil \left( N_{RB}^{DL,\ BWP} + \left( N_{DL,\ BWP}^{start}{mod}{K2} \right) \right)/K2 \right\rceil$,
$N_{RB}^{DL,\ BWP}\ $is the size of the active DL bandwidth part,
$N_{DL,\ BWP}^{start}\ $is defined as in clause 4.4.4.4 of \[4, TS
38.211\] and $K2$ is determined by higher layer parameter
resourceAllocationType1GranularityDCI-1-2. If the higher layer parameter
resourceAllocationType1GranularityDCI-1-2 is not configured, $K2$ is
equal to 1.

\- If *resourceAllocationDCI-1-2-r16* is configured as
\'*dynamicSwitch\'*, the MSB bit is used to indicate resource allocation
type 0 or resource allocation type 1, where the bit value of 0 indicates
resource allocation type 0 and the bit value of 1 indicates resource
allocation type 1.

\- For resource allocation type 0, the $N_{RBG}$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.1 of \[6, TS 38.214\].

\- For resource allocation type 1, the
$\left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil$
LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of
\[6, TS 38.214\]

If \"Bandwidth part indicator\" field indicates a bandwidth part other
than the active bandwidth part and if *resourceAllocationDCI-1-2-r16* is
configured as \'*dynamicSwitch\'* for the indicated bandwidth part, the
UE assumes resource allocation type 0 for the indicated bandwidth part
if the bitwidth of the \"Frequency domain resource assignment\" field of
the active bandwidth part is smaller than the bitwidth of the
\"Frequency domain resource assignment\" field of the indicated
bandwidth part.

\- Time domain resource assignment - 0, 1, 2, 3, or 4 bits as defined in
Clause 5.1.2.1 of \[6, TS 38.214\]. The bitwidth for this field is
determined as $\left\lceil \log_{2}{(I)} \right\rceil\ $bits, where *I*
is the number of entries in the higher layer parameter
*pdsch-TimeDomainAllocationListDCI-1-2* if the higher layer parameter is
configured, or *I* is the number of entries in the higher layer
parameter *pdsch-TimeDomainAllocationList* if the higher layer parameter
*pdsch-TimeDomainAllocationList* is configured when the higher layer
parameter *pdsch-TimeDomainAllocationListDCI-1-2* is not configured;
otherwise *I* is the number of entries in the default table.

\- VRB-to-PRB mapping - 0 or 1 bit:

\- 0 bit if the higher layer parameter *vrb-ToPRB-InterleaverDCI-1-2* is
not configured;

\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to
resource allocation type 1, as defined in Clause 7.3.1.6 of \[4, TS
38.211\].

\- PRB bundling size indicator - 0 bit if the higher layer parameter
*prb-BundlingTypeDCI-1-2* is not configured or is set to \'static\', or
1 bit if the higher layer parameter *prb-BundlingTypeDCI-1-2* is set to
\'dynamic\' according to Clause 5.1.2.3 of \[6, TS 38.214\].

\- Rate matching indicator - 0, 1, or 2 bits according to higher layer
parameters *rateMatchPatternGroup1DCI-1-2* and
*rateMatchPatternGroup2DCI-1-2*, where the MSB is used to indicate
*rateMatchPatternGroup1DCI-1-2* and the LSB is used to indicate
*rateMatchPatternGroup2DCI-1-2* when there are two groups.

\- ZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of
\[6, TS 38.214\]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(n_{ZP} + 1)} \right\rceil$ bits, where $n_{ZP}$
is the number of aperiodic ZP CSI-RS resource sets configured by higher
layer parameter *aperiodicZP-CSI-RS-ResourceSetsToAddModListDCI-1-2*.

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 0, 1 or 2 bits determined by higher layer
parameter *numberOfBitsForRV-DCI-1-2*

\- If 0 bit is configured, *rv~id~* to be applied is 0;

\- 1 bit according to Table 7.3.1.2.3-1;

\- 2 bits according to Table 7.3.1.1.1-2.

\- HARQ process number - number of bits determined by the following:

\- 0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter
*harq-ProcessNumberSizeDCI-1-2-v1700* if configured;

\- otherwise 0, 1, 2, 3 or 4 bits determined by higher layer parameter
*harq-ProcessNumberSizeDCI-1-2*

\- Downlink assignment index - 0, 1, 2 or 4 bits

\- 0 bit if the higher layer parameter *downlinkAssignmentIndexDCI-1-2*
is not configured;

\- 1, 2 or 4 bits determined by higher layer parameter
*downlinkAssignmentIndexDCI-1-2* otherwise,

\- 4 bits if more than one serving cell are configured in the DL and the
higher layer parameter *pdsch-HARQ-ACK-Codebook=dynamic*, where the 2
MSB bits are the counter DAI and the 2 LSB bits are the total DAI

\- 4 bits if only one serving cell is configured in the DL and the
higher layer parameter *pdsch-HARQ-ACK-Codebook=dynamic*, and the UE is
not provided *coresetPoolIndex* or is provided *coresetPoolIndex* with
value 0 for one or more first CORESETs and is provided
*coresetPoolIndex* with value 1 for one or more second CORESETs, and is
provided *ackNackFeedbackMode = joint*, where the 2 MSB bits are the
counter DAI and the 2 LSB bits are the total DAI.

\- 1 or 2 bits if only one serving cell is configured in the DL and the
higher layer parameter *pdsch-HARQ-ACK-Codebook=dynamic*, when the UE is
not configured with *coresetPoolIndex* or the value of
*coresetPoolIndex* is the same for all CORESETs if *coresetPoolIndex* is
provided or the UE is not configured with *ackNackFeedbackMode = joint,*
where the 1 bit or 2 bits are the counter DAI.

> If the UE is configured with a PUCCH-SCell, the number of serving
> cells is determined within a PUCCH group.
>
> If the UE is configured with a PUCCH-SCell, *pdsch-HARQ-ACK-Codebook*
> is replaced by *pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16* if
> present for the secondary PUCCH group.
>
> If higher layer parameter *priorityIndicatorDCI-1-2* is configured, if
> the bit width of the Downlink assignment index in DCI format 1_2 for
> one HARQ-ACK codebook is not equal to that of the Downlink assignment
> index in DCI format 1_2 for the other HARQ-ACK codebook, a number of
> most significant bits with value set to \'0\' are inserted to smaller
> Downlink assignment index until the bit width of the Downlink
> assignment index in DCI format 1_2 for the two HARQ-ACK codebooks are
> the same.

\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of \[5, TS 38.213\]

\- Second TPC command for scheduled PUCCH - 2 bits as defined in Clause
7.2.1 of \[5, TS 38.213\] if higher layer parameter
*SecondTPCFieldDCI-1-2* is configured; 0 bit otherwise.

\- PUCCH resource indicator - 0 or 1 or 2 or 3 bits determined by higher
layer parameter *numberOfBitsForPUCCH-ResourceIndicatorDCI-1-2*

If higher layer parameter *pucch-sSCellPattern* or
*pucch-sSCellDynDCI-1-2* is configured, if the bit width of the PUCCH
resource indicator in DCI format 1_2 associated with one cell for PUCCH
transmission is not equal to that of the PUCCH resource indicator in DCI
format 1_2 associated with the other cell for PUCCH transmission, a
number of most significant bits with value set to \'0\' are inserted to
smaller PUCCH resource indicator until the bit width of the PUCCH
resource indicator in DCI format 1_2 associated with the two cells for
PUCCH transmissions are the same.

If the UE is configured with a PUCCH-SCell, *pucch-sSCellPattern* is
replaced by *pucch-sSCellPatternSecondaryPUCCHgroup* for the secondary
PUCCH group.

\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as
defined in Clause 9.2.3 of \[5, TS 38.213\]. The bitwidth for this field
is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where
*I* is the number of entries in the higher layer parameter
*DL-DataToUL-ACK-DCI-1-2.*

If higher layer parameter *priorityIndicatorDCI-1-2* is configured, if
the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI
format 1_2 for one HARQ-ACK codebook is not equal to that of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 for the other
HARQ-ACK codebook on the same cell for PUCCH transmission, a number of
most significant bits with value set to \'0\' are inserted to smaller
PDSCH-to-HARQ_feedback timing indicator until the bit width of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 for the two
HARQ-ACK codebooks are the same.

If higher layer parameter *pucch-sSCellDynDCI-1-2* is configured, if the
bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format
1_2 associated with one cell for PUCCH transmission is not equal to that
of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2
associated with the other cell for PUCCH transmission, a number of most
significant bits with value set to \'0\' are inserted to smaller
PDSCH-to-HARQ_feedback timing indicator until the bit width of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 associated
with the two cells are the same.

\- One-shot HARQ-ACK request -0 or 1 bit.

\- 1 bit if higher layer parameter
*pdsch-HARQ-ACK-OneShotFeedbackDCI-1-2* or
*pdsch-HARQ-ACK-EnhType3DCI-1-2* is configured;

\- 0 bit otherwise.

\- Enhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.

\- 0 bit if *pdsch-HARQ-ACK-EnhType3DCI-Field-1-2* is not configured;

\- $\left\lceil \log_{2}{(n_{CB})} \right\rceil$ bits otherwise, where
$n_{CB}$ is the number of entries in the higher layer parameter
*pdsch-HARQ-ACK-EnhType3ToAddModList.*

If the UE is configured with a PUCCH-SCell,
*pdsch-HARQ-ACK-EnhType3ToAddModList* is replaced by
*pdsch-HARQ-ACK-EnhType3SecondaryToAddModList* for the secondary PUCCH
group.

\- HARQ-ACK retransmission indicator - 0 or 1 bit.

\- 1 bit if higher layer parameter *pdsch-HARQ-ACK-retxDCI-1-2* is
configured.

\- 0 bit otherwise.

\- Antenna port(s) - 0, 4, 5, 6, 7 or 8 bits

\- 0 bit if higher layer parameter *antennaPortsFieldPresenceDCI-1-2* is
not configured;

\- Otherwise 4, 5, 6, 7 or 8 bits as defined by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 and Tables
7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A, where the number of CDM groups
without data of values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and
{0, 1,2} respectively. The antenna ports
$\left\{ p_{0},\ldots,p_{v - 1} \right\}\ $shall be determined according
to the ordering of DMRS port(s) given by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 or Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A.
When a UE not configured with *dl-OrJointTCI-StateList* receives an
activation command that maps at least one codepoint of DCI field
\'*Transmission Configuration Indication*\' to two TCI states, or when a
UE configured with *dl-OrJointTCI-StateList* is having two indicated TCI
states, the UE shall use Table 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A;
otherwise, it shall use Tables 7.3.1.2.2-1/2/3/4/7/8/9/10.

\- If a UE is configured with both
*dmrs-DownlinkForPDSCH-MappingTypeA-DCI-1-2* and
*dmrs-DownlinkForPDSCH-MappingTypeB-DCI-1-2* and is configured with
higher layer parameter *antennaPortsFieldPresenceDCI-1-2*, the bitwidth
of this field equals$\ max\left\{ x_{A},x_{B} \right\}$, where $x_{A}$
is the \"Antenna ports\" bitwidth derived according to
*dmrs-DownlinkForPDSCH-MappingTypeA-DCI-1-2* and $x_{B}$ is the
\"Antenna ports\" bitwidth derived according to
*dmrs-DownlinkForPDSCH-MappingTypeB-DCI-1-2*. A number of
$\left| x_{A} - x_{B} \right|$ zeros are padded in the MSB of this
field, if the mapping type of the PDSCH corresponds to the smaller value
of $x_{A}$ and $x_{B}$.

> If a UE is not configured with higher layer parameter
> *antennaPortsFieldPresenceDCI-1-2*, antenna port(s) are defined
> assuming bit field index value 0 in Tables 7.3.1.2.2-1/2/3/4/7/8/9/10.

\- Transmission configuration indication - 0 bit if higher layer
parameter *tci-PresentDCI-1-2* is not configured; otherwise 1 or 2 or 3
bits determined by higher layer parameter *tci-PresentDCI-1-2* as
defined in Clause 5.1.5 of \[6, TS38.214\].

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part,

\- if the higher layer parameter *tci-PresentDCI-1-2* is not configured
for the CORESET used for the PDCCH carrying the DCI format 1_2,

\- the UE assumes *tci-PresentDCI-1-2* is not configured for all
CORESETs in the indicated bandwidth part;

\- otherwise,

\- the UE assumes *tci-PresentDCI-1-2* is configured for all CORESETs in
the indicated bandwidth part with the same value configured for the
CORESET used for the PDCCH carrying the DCI format 1_2.

\- TCI selection - 0 bit if higher layer parameter
*tciSelection-PresentInDCI* is not configured; otherwise 2 bits
according to Table 7.3.1.2.2-11.

\- SRS request - 0, 1, 2 or 3 bits

\- 0 bit if the higher layer parameter *srs-RequestDCI-1-2* is not
configured;

\- 1 bit as defined by Table 7.3.1.1.3-1 if the higher layer parameter
*srs-RequestDCI-1-2 = 1* and for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell;

\- 2 bits if the higher layer parameter *srs-RequestDCI-1-2 = 1* and for
UEs configured with *supplementaryUplink* in *ServingCellConfig* in the
cell, where the first bit is the non-SUL/SUL indicator as defined in
Table 7.3.1.1.1-1 and the second bit is defined by Table 7.3.1.1.3-1;

\- 2 bits as defined by Table 7.3.1.1.2-24 if the higher layer parameter
*srs-RequestDCI-1-2 = 2* and for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell;

\- 3 bits if the higher layer parameter *srs-RequestDCI-1-2 = 2* and for
UEs configured with *supplementaryUplink* in *ServingCellConfig* in the
cell, where the first bit is the non-SUL/SUL indicator as defined in
Table 7.3.1.1.1-1 and the second and third bits are defined by Table
7.3.1.1.2-24;

\- SRS offset indicator - 0, 1 or 2 bits.

\- 0 bit if higher layer parameter *AvailableSlotOffset* is not
configured for any aperiodic SRS resource set in the scheduled cell, or
if higher layer parameter *AvailableSlotOffset* is configured for at
least one aperiodic SRS resource set in the scheduled cell and the
maximum number of entries of *availableSlotOffsetList* configured for
all aperiodic SRS resource set(s) is 1;

\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and
Clause 6.2.1 of \[6, TS 38.214\], where K is the maximum number of
entries of *availableSlotOffsetList* configured for all aperiodic SRS
resource set(s) in the scheduled cell;

\- DMRS sequence initialization - 0 or 1 bit

\- 0 bit if the higher layer parameter
*dmrs-SequenceInitializationDCI-1-2* is not configured;

\- 1 bit otherwise.

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-1-2* is not configured; otherwise 1 bit as defined
in Clause 9 in \[5, TS 38.213\].

\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits

\- 1 or 2 bits, if *searchSpaceGroupIdList-r17* is not configured and if
*pdcch-SkippingDurationList* is configured

\- 1 bit if the UE is configured with only one duration by
*pdcch-SkippingDurationList;*

\- 2 bits if the UE is configured with more than one duration by
*pdcch-SkippingDurationList*.

\- 1 or 2 bits, if *pdcch-SkippingDurationList* is not configured and if
*searchSpaceGroupIdList-r17* is configured

\- 1 bit if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0 and search space set(s) with
group index 1, and if the UE is not configured by
*searchSpaceGroupIdList-r17* with any search space set with group index
2;

\- 2 bits if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0, search space set(s) with group
index 1 and search space set(s) with group index 2;

\- 2 bits, if *pdcch-SkippingDurationList* is configured and if
*searchSpaceGroupIdList-r17* is configured

\- 0 bit, otherwise

\- ChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this
field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits,
where *I* is the number of entries in the higher layer parameter
*ul-AccessConfigListDCI-1-2* or in Table 7.3.1.1.1-4A if
*channelAccessMode-r16* = \"*semiStatic*\" is provided, for operation in
a cell with shared spectrum channel access in frequency range 1, or the
number of entries in the high layer parameter
*ul-AccessConfigListDCI-1-1* for operation in frequency range 2-2 if
*ChannelAccessMode2-r17* is provided; otherwise 0 bit. One or more
entries from Table 7.3.1.2.2-6 are configured by the higher layer
parameter *ul-AccessConfigListDCI-1-2* in frequency range 1*.* One or
more entries from Table 7.3.1.1.2-6A are configured by the higher layer
parameter *ul-AccessConfigListDCI-1-1* in frequency range 2-2*.*

\- PUCCH Cell indicator - 0 or 1 bit.

\- 1 bit if higher layer parameter *pucch-sSCellDynDCI-1-2* is
configured.

\- 0 bit otherwise.

If DCI formats 1_2 are monitored in multiple search spaces associated
with multiple CORESETs in a BWP for scheduling the same serving cell,
zeros shall be appended until the payload size of the DCI formats 1_2
monitored in the multiple search spaces equal to the maximum payload
size of the DCI format 1_2 monitored in the multiple search spaces.

For a UE configured with scheduling on the primary cell from an SCell,
if prior to padding the number of information bits in DCI format 1_2
carried by PDCCH on the primary cell is not equal to the number of
information bits in DCI format 1_2 carried by PDCCH on the SCell for
scheduling on the primary cell, zeros shall be appended to the DCI
format 1_2 with smaller size until the payload size is the same.

\- If application of step 4B in clause 7.3.1.0 results in additional
zero padding for DCI format 1_2 for scheduling on the primary cell,
corresponding zeros shall be appended to both DCI format 1_2 monitored
on the primary cell and DCI format 1_2 monitored on the SCell for
scheduling on the primary cell.

\- If the SCell is deactivated and *firstActiveDownlinkBWP-Id* is not
set to dormant BWP, the UE determines the number of information bits in
DCI format 1_2 carried by PDCCH on the primary cell based on a DL BWP
provided by *firstActiveDownlinkBWP-Id* for the SCell. If the active DL
BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and
*firstActiveDownlinkBWP-Id* is set to dormant BWP, the UE determines the
number of information bits in DCI format 1_2 carried by PDCCH on the
primary cell based on a DL BWP provided by *firstWithinActiveTimeBWP-Id*
for the SCell if provided; otherwise, based on a DL BWP provided by
*firstOutsideActiveTimeBWP-Id* for the SCell.

Table 7.3.1.2.3-1: Redundancy version

  -----------------------------------------------------------------------
  Value of the Redundancy version field     Value of
                                            ![](media/image346.wmf) to be
                                            applied
  ----------------------------------------- -----------------------------
  0                                         0

  1                                         3
  -----------------------------------------------------------------------

##### 7.3.1.2.4 Format 1_3

DCI format 1_3 is used for the scheduling of one PDSCH in one cell, or
multiple PDSCHs in multiple cells with one PDSCH per cell.

The following information is transmitted by means of the DCI format 1_3
with CRC scrambled by C-RNTI or MCS-C-RNTI:

\- Identifier for DCI formats - 1 bits

\- The value of this bit field is always set to 1, indicating a DL DCI
format

\- Scheduled cell set indicator -
$\left\lceil \log_{2}N_{set} \right\rceil\ $bits, where $N_{set}$ is the
number of cell sets which are configured by higher layer parameter
*MC-DCI-SetofCellsToAddModList* to be respectively scheduled by DCI
format 0_3/1_3 from the cell on which this format is carried by PDCCH.
If present, this field is used to indicate the scheduled cell set
according to Table 7.3.1.1.4-1; otherwise, the scheduled cell set is the
cell set configured to be scheduled by DCI format 0_3/1_3 from the cell
by higher layer parameter *MC-DCI-SetofCellsToAddModList*.

\- Scheduled cells indicator - number of bits determined by the
following:

\- 0 bit if the higher layer parameter *scheduledCellComboListDCI-1-3*
for the scheduled cell set is not configured;

\- otherwise $\left\lceil \log_{2}I_{DL} \right\rceil$ bits indicating
the scheduled cells in the scheduled cell set according to Table
7.3.1.2.4-1, where $I_{DL}$ is the number of entries in the higher layer
parameter *scheduledCellComboListDCI-1-3.* If only one entry is
configured in the higher layer parameter
*scheduledCellComboListDCI-1-3*, the scheduled cells are the cells
configured by higher layer parameter *scheduledCellComboListDCI-1-3*.

\- Bandwidth part indicator - 0, 1 or 2 bits determined as
$\left\lceil \log_{2}n_{BWP,\ max} \right\rceil$, where

\- $n_{BWP,\ max} = n_{BWP,RRC}^{\max} + 1$ if
$n_{BWP,RRC}^{\max} \leq 3$, $n_{BWP,RRC}^{\max}\ $is the maximum number
of DL BWPs configured by higher layers, excluding the initial DL
bandwidth part, across all the cells configured by higher layer
parameter *scheduledCellListDCI-1-3* in the scheduled cell set, in which
case the bandwidth part indicator is equivalent to the ascending order
of the higher layer parameter *BWP-Id*;

\- otherwise $n_{BWP,\ max} = n_{BWP,RRC}^{\max}$, in which case the
bandwidth part indicator is defined in Table 7.3.1.1.2-1;

> The field is only applicable to a scheduled cell with the number of
> configured DL BWPs larger than 1, including the initial DL bandwidth
> part, and is applied to the applicable scheduled cells in the
> scheduled cell set independently. If a UE does not support active BWP
> change via DCI, the UE ignores this bit field. If this field indicates
> a code point that does not correspond to a configured BWP of a
> scheduled cell, the UE ignores this bit field for the scheduled cell,
> and operates on the active BWP of the scheduled cell.

\- Frequency domain resource assignment - number of bits determined by
the following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL}$

> If *scheduledCellComboListDCI-1-3* for the scheduled cell set is
> configured with more than one entry, $N_{cell}^{DL}$ is the number of
> scheduled cells indicated by Scheduled cells indicator field; if
> *scheduledCellComboListDCI-1-3* for the scheduled cell set is
> configured with only one entry,$\ N_{cell}^{DL}$ is the number of
> cells configured by higher layer parameter
> *scheduledCellComboListDCI-1-3*; otherwise, $N_{cell}^{DL}$ is the
> number of cells in the scheduled cell set configured by higher layer
> parameter *scheduledCellListDCI-1-3*. Each block corresponds to the
> frequency domain resource assignment for a cell, and the blocks are
> placed according to an ascending order of a serving cell index, with
> block number 1 corresponding to the frequency domain resource
> assignment for the cell with the smallest serving cell index. Each
> block is defined by the following fields:

\- $N_{RBG}$ bits if only resource allocation type 0 is configured,
where $N_{RBG}$ is defined in Clause 5.1.2.2.1 of \[6, TS 38.214\]

\-
$\left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil$
bits if only resource allocation type 1 is configured, or
$\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil,\ N_{RBG} \right) + 1$
bits if *resourceAllocationDCI-1-3* is configured as
\'*dynamicSwitch\'*, where
$N_{RBG,\ K2} = \left\lceil \left( N_{RB}^{DL,\ BWP} + \left( N_{DL,\ BWP}^{start}{mod}{K2} \right) \right)/K2 \right\rceil,$
$N_{RB}^{DL,\ BWP}$ is the size of the active DL bandwidth part,
$N_{DL,\ BWP}^{start}$ is defined as in clause 4.4.4.4 of \[4, TS
38.211\] and $K2$ is given by higher layer parameter
*resourceAllocationType1GranularityDCI-1-3.* If the higher layer
parameter *resourceAllocationType1GranularityDCI-1-3* is not configured,
$K2$ is equal to 1.

\- If *resourceAllocationDCI-1-3* is configured as \'*dynamicSwitch\'*,
the MSB bit is used to indicate resource allocation type 0 or resource
allocation type 1, where the bit value of 0 indicates resource
allocation type 0 and the bit value of 1 indicates resource allocation
type 1.

\- For resource allocation type 0, the $N_{RBG}$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.1 of \[6, TS 38.214\].

\- For resource allocation type 1, the
$\left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil$
LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of
\[6, TS 38.214\].

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part and if *resourceAllocationDCI-1-3* is
> configured as \'*dynamicSwitch\'* for the indicated bandwidth part,
> the UE assumes resource allocation type 0 for the indicated bandwidth
> part if the bitwidth of the \"Frequency domain resource assignment\"
> field of the active bandwidth part is smaller than the bitwidth of the
> \"Frequency domain resource assignment\" field of the indicated
> bandwidth part.
>
> If the higher layer parameter *scheduledCellComboListDCI-1-3* for the
> scheduled cell set is not configured, each block is also used to
> indicate whether the corresponding cell is scheduled or not as
> follows:

\- if all bits of a block are set to 0 for resource allocation type 0 or
set to 1 for resource allocation type 1 or set to 0 or 1 for dynamic
switch resource allocation type, the cell corresponding to the block is
not scheduled;

\- otherwise, the cell corresponding to the block is scheduled.

\- Time domain resource assignment -
$\left\lceil \log_{2}{(I_{TDRA})} \right\rceil\ \ $bits, where
$I_{TDRA}$ is the number of entries in the higher layer parameter
*tdra-FieldIndexListDCI-1-3*. This field is used to indicate an entry in
the higher layer parameter *tdra-FieldIndexListDCI-1-3* according to
Table 7.3.1.2.4-2. Each entry in the higher layer parameter
*tdra-FieldIndexListDCI-1-3* contains the 'Time domain resource
assignment' index for each BWP of each cell in the scheduled cell set,
where the 'Time domain resource assignment' indexes for all the cells
are placed according to an ascending order of a serving cell index, and
the \'Time domain resource assignment\' indexes for all the BWPs of a
cell are placed according to an ascending order of the higher layer
parameter *BWP-Id*.

\- VRB-to-PRB mapping - 0 or 1 bit

\- 0 bit if the higher layer parameter *vrb-ToPRB-Interleaver* is not
configured for any cell configured by higher layer parameter
*scheduledCellListDCI-1-3* in the scheduled cell set;

\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to
resource allocation type 1, as defined in Clause 7.3.1.6 of \[4, TS
38.211\].

> The field is only applicable to a scheduled cell configured with
> *vrb-ToPRB-Interleaver*, and is applied to the applicable scheduled
> cells independently.

\- PRB bundling size indicator - 0 or 1 bit

\- 0 bit if the higher layer parameter *prb-BundlingType* is not
configured or is set to \'staticBundling\' for any cell configured by
higher layer parameter *scheduledCellListDCI-1-3* in the scheduled cell
set;

\- 1 bit according to Clause 5.1.2.3 of \[6, TS 38.214\] otherwise.

> The field is only applicable to a scheduled cell configured with
> *prb-BundlingType* set to \'dynamicBundling\', and is applied to the
> applicable scheduled cells independently.

\- Rate matching indicator
-$\ \left\lceil \log_{2}{(I_{RM})} \right\rceil\ $bits, where $I_{RM}$
is the number of entries in the higher layer parameter
*rateMatchListDCI-1-3*. This field is used to indicate an entry in the
higher layer parameter *rateMatchListDCI-1-3* according to Table
7.3.1.2.4-3. Each entry in the higher layer parameter
*rateMatchListDCI-1-3* contains the 'Rate matching indicator' index for
each cell configured with *rateMatchPatternGroup1* or
*rateMatchPatternGroup2* on at least one DL BWP in the scheduled cell
set, where the 'Rate matching indicator' indexes for all the cells are
placed according to an ascending order of a serving cell index. Each
'Rate matching indicator' index is defined by the following:

\- 0, 1, or 2 bits according to higher layer parameters
*rateMatchPatternGroup1* and *rateMatchPatternGroup2*, where the MSB is
used to indicate *rateMatchPatternGroup1* and the LSB is used to
indicate *rateMatchPatternGroup2* when there are two groups.

\- ZP CSI-RS trigger
-$\ \left\lceil \log_{2}{(I_{CSIRS})} \right\rceil\ $bits, where
$I_{CSIRS}$ is the number of entries in the higher layer parameter
*zp-CSI-RSListDCI-1-3*. This field is used to indicate an entry in the
higher layer parameter *zp-CSI-RSListDCI-1-3* according to Table
7.3.1.2.4-4. Each entry in the higher layer parameter
*zp-CSI-RSListDCI-1-3* contains the 'ZP CSI-RS trigger' index for each
cell configured with *aperiodicZP-CSI-RS-ResourceSetsToAddModList* on at
least one DL BWP in the scheduled cell set, where the 'ZP CSI-RS
trigger' indexes for all the cells are placed according to an ascending
order of a serving cell index. Each 'ZP CSI-RS trigger' index is defined
by the following:

\- 0, 1, or 2 bits as defined in Clause 5.1.4.2 of \[6, TS 38.214\]. The
bitwidth for this field is determined as
$\left\lceil \log_{2}{(n_{ZP} + 1)} \right\rceil$ bits, where $n_{ZP}$
is the number of aperiodic ZP CSI-RS resource sets configured by higher
layer parameter *aperiodicZP-CSI-RS-ResourceSetsToAddModList*.

> For transport block 1:

\- Modulation and coding scheme - number of bits determined by the
following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL}$

> Each block corresponds to the modulation and coding scheme for a
> scheduled cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to
> the modulation and coding scheme for the cell with the smallest
> serving cell index. Each block is 5 bits as defined in Clause 6.1.4.1
> of \[6, TS 38.214\].

\- New data indicator - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL}$

> Each block corresponds to the new data indicator for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the new data
> indicator for the cell with the smallest serving cell index. Each
> block is 1 bit.

\- Redundancy version - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL}$

> Each block corresponds to the redundancy version for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the redundancy
> version for the cell with the smallest serving cell index. Each block
> is 0, 1 or 2 bits determined by higher layer parameter
> *numberOfBitsForRV-DCI-1-3* configured for the cell corresponding to
> the block,

\- If 0 bit is configured, *rv~id~* to be applied is 0;

\- 1 bit according to Table 7.3.1.2.3-1;

\- 2 bits according to Table 7.3.1.1.1-2.

For transport block 2:

\- Modulation and coding scheme - number of bits determined by the
following:

\- block number 1, block number 2,..., block number$\ N_{cell}^{DL,3}$

If *scheduledCellComboListDCI-1-3* for the scheduled cell set is
configured, $N_{cell}^{DL,3}$ is the number of scheduled cells indicated
by Scheduled cells indicator field and configured with
*maxNrofCodeWordsScheduledByDCI = 2*; otherwise, $N_{cell}^{DL,3}\ $is
the number of cells configured by higher layer parameter
*scheduledCellListDCI-1-3* in the scheduled cell set and configured with
*maxNrofCodeWordsScheduledByDCI = 2*. Each block corresponds to the
modulation and coding scheme for a scheduled cell, and the blocks are
placed according to an ascending order of a serving cell index, with
block number 1 corresponding to the modulation and coding scheme for the
cell with the smallest serving cell index. Each block is 5 bits as
defined in Clause 6.1.4.1 of \[6, TS 38.214\].

\- New data indicator - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL,3}$

> Each block corresponds to the new data indicator for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the new data
> indicator for the cell with the smallest serving cell index. Each
> block is 1 bit.

\- Redundancy version - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL,3}$

> Each block corresponds to the redundancy version for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the redundancy
> version for the cell with the smallest serving cell index. Each block
> is 0, 1 or 2 bits determined by higher layer parameter
> *numberOfBitsForRV-DCI-1-3* configured for the cell corresponding to
> the block,

\- If 0 bit is configured, *rv~id~* to be applied is 0;

\- 1 bit according to Table 7.3.1.2.3-1;

\- 2 bits according to Table 7.3.1.1.1-2.

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part and the value of
> *maxNrofCodeWordsScheduledByDCI* for the indicated bandwidth part
> equals 2 and the value of *maxNrofCodeWordsScheduledByDCI* for the
> active bandwidth part equals 1, the UE assumes zeros are padded when
> interpreting the \"Modulation and coding scheme\", \"New data
> indicator\", and \"Redundancy version\" fields of transport block 2
> according to Clause 12 of \[5, TS38.213\], and the UE ignores the
> \"Modulation and coding scheme\", \"New data indicator\", and
> \"Redundancy version\" fields of transport block 2 for the indicated
> bandwidth part.

\- HARQ process number - number of bits determined by the following:

\- block number 1, block number 2,..., block number $N_{cell}^{DL}$

> Each block corresponds to the HARQ process number for a scheduled
> cell, and the blocks are placed according to an ascending order of a
> serving cell index, with block number 1 corresponding to the HARQ
> process number for the cell with the smallest serving cell index. Each
> block is 0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter
> *harq-ProcessNumberSizeDCI-1-3* configured for the cell corresponding
> to the block.

\- Downlink assignment index - number of bits as defined in the
following

\- 4 bits if the higher layer parameter
*pdsch-HARQ-ACK-Codebook=dynamic*, where the 2 MSB bits are the counter
DAI and the 2 LSB bits are the total DAI;

\- 0 bits otherwise.

> If the UE is configured with a PUCCH-SCell, *pdsch-HARQ-ACK-Codebook*
> is replaced by *pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16* if
> present for the secondary PUCCH group.
>
> If higher layer parameter *priorityIndicatorDCI-1-3* is configured, if
> the bit width of the Downlink assignment index in DCI format 1_3 for
> one HARQ-ACK codebook is not equal to that of the Downlink assignment
> index in DCI format 1_3 for the other HARQ-ACK codebook, a number of
> most significant bits with value set to \'0\' are inserted to smaller
> Downlink assignment index until the bit width of the Downlink
> assignment index in DCI format 1_3 for the two HARQ-ACK codebooks are
> the same.

\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of \[5, TS 38.213\]

\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of \[5,
TS 38.213\]

\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as
defined in Clause 9.2.3 of \[5, TS 38.213\]. The bitwidth for this field
is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where
*I* is the number of entries in the higher layer parameter
*dL-DataToUL-ACK.*

> If higher layer parameter *priorityIndicatorDCI-1-3* is configured, if
> the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI
> format 1_3 for one HARQ-ACK codebook is not equal to that of the
> PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 for the
> other HARQ-ACK codebook on the same cell for PUCCH transmission, a
> number of most significant bits with value set to \'0\' are inserted
> to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width
> of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 for
> the two HARQ-ACK codebooks are the same.
>
> If higher layer parameter *pucch-sSCellDynDCI-1-3* is configured, if
> the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI
> format 1_3 associated with one cell for PUCCH transmission is not
> equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI
> format 1_3 associated with the other cell for PUCCH transmission, a
> number of most significant bits with value set to \'0\' are inserted
> to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width
> of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3
> associated with the two cells are the same.

\- One-shot HARQ-ACK request - 0 or 1 bit.

\- 1 bit if higher layer parameter pdsch-HARQ-ACK-OneShotFeedbackDCI-1-3
or pdsch-HARQ-ACK-enhType3DCI-1-3 is configured;

\- 0 bit otherwise.

\- Enhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.

\- 0 bit if pdsch-HARQ-ACK-enhType3DCIfieldDCI-1-3 is not configured;

\- $\left\lceil \log_{2}{(n_{CB})} \right\rceil$ bits otherwise, where
$n_{CB}$ is the number of entries in the higher layer parameter
pdsch-HARQ-ACK-EnhType3ToAddModList.

> If the UE is configured with a PUCCH-SCell,
> *pdsch-HARQ-ACK-EnhType3ToAddModList* is replaced by
> *pdsch-HARQ-ACK-EnhType3SecondaryList* for the secondary PUCCH
> group*.*

\- HARQ-ACK retransmission indicator - 0 or 1 bit.

\- 1 bit if higher layer parameter *pdsch-HARQ-ACK-retxDCI-1-3* is
configured.

\- 0 bit otherwise.

\- Antenna ports - number of bits determined by the following:

\- If *antennaPortsDCI-1-3= type1a* is configured by higher layer,

\- $\max_{r \in \{ 1,2,\ldots,N_{cell}^{DL,2}\}}{M_{A}(r)}\ $bits
applying to the scheduled cells independently, where $N_{cell}^{DL,2}$
is the number of cells configured by higher layer parameter
*scheduledCellListDCI-1-3* in the scheduled cell set, $r$ is mapped to
the cells according to an ascending order of a serving cell index with
$r = 1$ corresponding to the cell with the smallest serving cell index,
and $M_{A}(r)$ is defined below.

\- If *antennaPortsDCI-1-3= type2* is configured by higher layer,$\ $

\- block number 1, block number 2,..., block number $N_{cell}^{DL}$

> Each block corresponds to the Antenna ports information for a
> scheduled cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to
> the Antenna ports information for the cell with the smallest serving
> cell index. Each block is defined below.
>
> $M_{A}(r)$ above for the case of *antennaPortsDCI-1-3= type1A* or each
> block above for the case of *antennaPortsDCI-1-3= type2* is defined by
> the following:

\- 4, 5, or 6 bits as defined by Tables 7.3.1.2.2-1/2/3/4 and Tables
7.3.1.2.2-1A/2A/3A/4A, where the number of CDM groups without data of
values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2}
respectively. The antenna ports
$\left\{ p_{0},\ldots,p_{v - 1} \right\}$ shall be determined according
to the ordering of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4 or
Tables 7.3.1.2.2-1A/2A/3A/4A.

> If a UE is configured with both *dmrs-DownlinkForPDSCH-MappingTypeA*
> and *dmrs-DownlinkForPDSCH-MappingTypeB*, the bitwidth of this field
> equals $\max\left\{ x_{A},x_{B} \right\}$, where $x_{A}$ is the
> \"Antenna ports\" bitwidth derived according to
> *dmrs-DownlinkForPDSCH-MappingTypeA* and $x_{B}$ is the \"Antenna
> ports\" bitwidth derived according to
> *dmrs-DownlinkForPDSCH-MappingTypeB*. A number of
> $\left| x_{A} - x_{B} \right|$ zeros are padded in the MSB of this
> field, if the mapping type of the PDSCH corresponds to the smaller
> value of $x_{A}$ and $x_{B}$.

\- Transmission configuration indication - number of bits determined by
the following:

\- 0 bit if higher layer parameter *tci-PresentInDCI* is not enabled;

\- otherwise $\left\lceil \log_{2}{(I_{TCI})} \right\rceil\ $bits, where
$I_{TCI}$ is the number of entries in the higher layer parameter
*tci-ListDCI-1-3*. This field is used to indicate an entry in the higher
layer parameter *tci-ListDCI-1-3* according to Table 7.3.1.2.4-5. Each
entry in the higher layer parameter *tci-ListDCI-1-3* contains the
'Transmission configuration indication' index for each cell in the
scheduled cell set, where the 'Transmission configuration indication'
indexes for all the cells are placed according to an ascending order of
a serving cell index. Each 'Transmission configuration indication' index
is 3 bits as defined in Clause 5.1.5 of \[6, TS38.214\].

> If \"Bandwidth part indicator\" field indicates a bandwidth part other
> than the active bandwidth part,

\- if the higher layer parameter *tci-PresentInDCI* is not enabled for
the CORESET used for the PDCCH carrying the DCI format 1_3,

\- the UE assumes *tci-PresentInDCI* is not enabled for all CORESETs in
the indicated bandwidth part;

\- otherwise,

\- the UE assumes *tci-PresentInDCI* is enabled for all CORESETs in the
indicated bandwidth part.

\- SRS request -$\ \left\lceil \log_{2}{(I_{SRS})} \right\rceil\ $bits,
where $I_{SRS}$ is the number of entries in the higher layer parameter
*srs-RequestListDCI-1-3*. This field is used to indicate an entry in the
higher layer parameter *srs-RequestListDCI-1-3* according to Table
7.3.1.2.4-6. Each entry in the higher layer parameter
*srs-RequestListDCI-1-3* contains the 'SRS request' index for each cell
in the scheduled cell set, where the 'SRS request' indexes for all the
cells are placed according to an ascending order of a serving cell
index. Each 'SRS request' index is defined by the following:

\- 2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with
*supplementaryUplink* in *ServingCellConfig* in the cell; 3 bits for UEs
configured with *supplementaryUplink* in *ServingCellConfig* in the cell
where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table
7.3.1.1.2-24. This bit field may also indicate the associated CSI-RS
according to Clause 6.1.1.2 of \[6, TS 38.214\].

\- SRS offset indicator
-$\ \left\lceil \log_{2}{(I_{offset})} \right\rceil\ $bits,
where$I_{offset}$ is the number of entries in the higher layer parameter
*srs-OffsetListDCI-1-3*. This field is used to indicate an entry in the
higher layer parameter *srs-OffsetListDCI-1-3* according to Table
7.3.1.2.4-7. Each entry in the higher layer parameter
*srs-OffsetListDCI-1-3* contains the 'SRS offset indicator' index for
each cell in the scheduled cell set, where the 'SRS offset indicator'
indexes for all the cells are placed according to an ascending order of
a serving cell index. Each 'SRS offset indicator' index is defined by
the following:

\- 0 bit if higher layer parameter *AvailableSlotOffset* is not
configured for any aperiodic SRS resource set in the scheduled cell, or
if higher layer parameter *AvailableSlotOffset* is configured for at
least one aperiodic SRS resource set in the scheduled cell and the
maximum number of entries of *availableSlotOffsetList* configured for
all aperiodic SRS resource set(s) is 1;

\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and
Clause 6.2.1 of \[6, TS 38.214\], where K is the maximum number of
entries of *availableSlotOffsetList* configured for all aperiodic SRS
resource set(s) in the scheduled cell;

\- DMRS sequence initialization - 1 bit. This field is applied to all
the scheduled cells indicated by Scheduled cells indicator field or
Frequency domain resource assignment field independently.

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-1-3* is not configured; otherwise 1 bit as defined
in Clause 9 in \[5, TS 38.213\].

\- ChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this
field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits,
where *I* is the number of entries in the higher layer parameter
*ul-AccessConfigListDCI-1-1* or in Table 7.3.1.1.1-4A if
*channelAccessMode-r16* = \"*semiStatic*\" is provided, for operation in
a cell with shared spectrum channel access in frequency range 1, or for
operation in frequency range 2-2 if *ChannelAccessMode2-r17* is
provided; otherwise 0 bit. One or more entries from Table 7.3.1.2.2-6 or
Table 7.3.1.2.2-6A are configured by the higher layer parameter
*ul-AccessConfigListDCI-1-1.*

\- Minimum applicable scheduling offset indicator - 0 or 1 bit

\- 0 bit if higher layer parameter *minimumSchedulingOffsetK0DCI-1-3* is
not configured;

\- 1 bit otherwise. The 1 bit indication is used to determine the
minimum applicable K0 for the active DL BWP and the minimum applicable
K2 for the active UL BWP, if configured respectively, according to Table
7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum
applicable value of the aperiodic CSI-RS triggering offset for an active
DL BWP for each scheduled cell shall be the same as the minimum
applicable K0.

\- SCell dormancy indication - 0 bit if higher layer parameter
*dormancyDCI-1-3* or *dormancyGroupWithinActiveTime* is not configured;
otherwise 1, 2, 3, 4, or 5 bits bitmap determined according to the
number of different *DormancyGroupID(s)* provided by higher layer
parameter *dormancyGroupWithinActiveTime,* where each bit corresponds to
one of the SCell group(s) configured by higher layers parameter
*dormancyGroupWithinActiveTime,* with MSB to LSB of the bitmap
corresponding to the first to the last configured SCell group in
ascending order of *DormancyGroupID*. The field is only present when
this format is carried by PDCCH on the primary cell within DRX Active
Time and the UE is configured with at least two DL BWPs for an SCell.

> If the "One-shot HARQ-ACK request" field is not present or set to
> \'0\', and if the "HARQ-ACK retransmission indicator" field is not
> present or set to '0', and if all bits of the corresponding block(s)
> of the frequency domain resource assignment field are set to 0 for
> resource allocation type 0 or set to 1 for resource allocation type 1
> or set to 0 or 1 for dynamic switch resource allocation type for one
> or more cells in the scheduled cell set, this field is reserved and
> the following fields, corresponding to the cell with smallest serving
> cell index among the one or more cell(s), among the fields above are
> used for SCell dormancy indication, where each bit corresponds to one
> of the configured SCell(s), with MSB to LSB of the following fields
> concatenated in the order below corresponding to the SCell with lowest
> to highest SCell index

\- Modulation and coding scheme of transport block 1

\- New data indicator of transport block 1

\- Redundancy version of transport block 1

\- HARQ process number

\- Antenna port(s) if *antennaPortsDCI1-3= type2* is configured by
higher layer.

\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits

\- 0 bit if higher layer parameter *pdcchMonAdaptDCI-1-3* is not
enabled;

\- otherwise,

\- 1 or 2 bits, if *searchSpaceGroupIdList-r17* is not configured and if
*pdcch-SkippingDurationList* is configured

\- 1 bit if the UE is configured with only one duration by
*pdcch-SkippingDurationList;*

\- 2 bits if the UE is configured with more than one duration by
*pdcch-SkippingDurationList*.

\- 1 or 2 bits, if *pdcch-SkippingDurationList* is not configured and if
*searchSpaceGroupIdList-r17* is configured

\- 1 bit if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0 and search space set(s) with
group index 1, and if the UE is not configured by
*searchSpaceGroupIdList-r17* with any search space set with group index
2;

\- 2 bits if the UE is configured by *searchSpaceGroupIdList-r17* with
search space set(s) with group index 0, search space set(s) with group
index 1 and search space set(s) with group index 2;

\- 2 bits, if pdcch-SkippingDurationList is configured and if
searchSpaceGroupIdList-r17 is configured

\- PUCCH Cell indicator - 0 or 1 bit.

\- 1 bit if higher layer parameter *pucch-sSCellDynDCI-1-3* is
configured.

\- 0 bit otherwise.

If *scheduledCellComboListDCI-1-3* for the cell set is configured, zeros
shall be appended to DCI format 1_3 if needed until the payload size
equals the size of DCI format 1_3 that is determined by the
configuration of the corresponding active bandwidth part(s) of the
scheduled cells in the entry which results in the largest size among the
entries in the higher layer parameter *scheduledCellComboListDCI-1-3*.

If an SCell within the scheduled cell set is deactivated and the
*firstActiveDownlinkBWP-Id* corresponding to the SCell is not set to
dormant BWP, the UE determines the bitwidth of the fields in DCI format
1_3 based on a DL BWP provided by *firstActiveDownlinkBWP-Id* for the
SCell. If the active DL BWP of an SCell within the scheduled cell set is
a dormant DL BWP, or if an SCell within the scheduled cell set is
deactivated and the *firstActiveDownlinkBWP-Id* corresponding to the
SCell is set to dormant BWP, the UE determines the bitwidth of the
fields in DCI format 1_3 based on a DL BWP provided by
*firstWithinActiveTimeBWP-Id* for the SCell if provided; otherwise,
based on a DL BWP provided by *firstOutsideActiveTimeBWP-Id* for the
SCell.

Table 7.3.1.2.4-1: Scheduled cells indicator in DCI format 1_3

  -----------------------------------------------------------------------
  **Bit field mapped **Scheduled cells**
  to index**         
  ------------------ ----------------------------------------------------
  0                  The cells configured by the 1^st^ entry in
                     *scheduledCellComboListDCI-1-3*

  1                  The cells configured by the 2^nd^ entry in
                     *scheduledCellComboListDCI-1-3*

  2                  The cells configured by the 3^rd^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  3                  The cells configured by the 4^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  4                  The cells configured by the 5^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  5                  The cells configured by the 6^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  6                  The cells configured by the 7^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  7                  The cells configured by the 8^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  8                  The cells configured by the 9^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  9                  The cells configured by the 10^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  10                 The cells configured by the 11^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  11                 The cells configured by the 12^th^ entry in
                     *scheduledCellComboListDCI-1-3* if any

  12                 The cells configured by the 13^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  13                 The cells configured by the 14^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  14                 The cells configured by the 15^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any

  15                 The cells configured by the 16^th^ entry in
                     *scheduledCellComboListDCI-1-3*, if any
  -----------------------------------------------------------------------

Table 7.3.1.2.4-2: Time domain resource assignment in DCI format 1_3

  -----------------------------------------------------------------------
  **Bit field mapped to   **Indicated time domain resource allocation**
  index**                 
  ----------------------- -----------------------------------------------
  0                       The 1^st^ entry in *tdra-FieldIndexListDCI-1-3*

  1                       The 2^nd^ entry in *tdra-FieldIndexListDCI-1-3*

  2                       The 3^rd^ entry in
                          *tdra-FieldIndexListDCI-1-3*, if any

  ...                     ...

  $$i$$                   The ${(i + 1)}^{th}$ entry in
                          *tdra-FieldIndexListDCI-1-3*, if any

  ...                     ...
  -----------------------------------------------------------------------

Table 7.3.1.2.4-3: Rate matching indicator

  -----------------------------------------------------------------------
  Bit field mapped to     Indicated rate matching pattern
  index                   
  ----------------------- -----------------------------------------------
  0                       The 1^st^ entry in *rateMatchListDCI-1-3*

  1                       The 2^nd^ entry in *rateMatchListDCI-1-3*

  2                       The 3^rd^ entry in *rateMatchListDCI-1-3*, if
                          any

  ...                     ...

  15                      The 16^th^ entry in *rateMatchListDCI-1-3*, if
                          any
  -----------------------------------------------------------------------

Table 7.3.1.2.4-4: ZP CSI-RS trigger

  -----------------------------------------------------------------------
  Bit field mapped to index  Triggered aperiodic ZP CSI-RS
  -------------------------- --------------------------------------------
  0                          The 1^st^ entry in *zp-CSI-RSListDCI-1-3*

  1                          The 2^nd^ entry in *zp-CSI-RSListDCI-1-3*

  2                          The 3^rd^ entry in *zp-CSI-RSListDCI-1-3*,
                             if any

  ...                        ...

  7                          The 8^th^ entry in *zp-CSI-RSListDCI-1-3*,
                             if any
  -----------------------------------------------------------------------

Table 7.3.1.2.4-5: Transmission configuration indication

  -----------------------------------------------------------------------
  Bit field mapped to index Indicated transmission configuration
                            indication
  ------------------------- ---------------------------------------------
  0                         The 1^st^ entry in *tci-ListDCI-1-3*

  1                         The 2^nd^ entry in *tci-ListDCI-1-3*

  2                         The 3^rd^ entry in *tci-ListDCI-1-3*, if any

  ...                       ...

  15                        The 16^th^ entry in *tci-ListDCI-1-3*, if any
  -----------------------------------------------------------------------

Table 7.3.1.1.4-6: SRS request in DCI format 1_3

  -----------------------------------------------------------------------
  Bit field mapped to index Triggered aperiodic SRS resource set(s)
  ------------------------- ---------------------------------------------
  0                         The 1^st^ entry in *srs-RequestListDCI-1-3*

  1                         The 2^nd^ entry in *srs-RequestListDCI-1-3*

  2                         The 3^rd^ entry in *srs-RequestListDCI-1-3*,
                            if any

  ...                       ...

  15                        The 16^th^ entry in *srs-RequestListDCI-1-3*,
                            if any
  -----------------------------------------------------------------------

Table 7.3.1.1.4-7: SRS offset indicator in DCI format 1_3

  -----------------------------------------------------------------------
  Bit field mapped to index   Available slot offset
  --------------------------- -------------------------------------------
  0                           The 1^st^ entry in *srs-OffsetListDCI-1-3*

  1                           The 2^nd^ entry in *srs-OffsetListDCI-1-3*

  2                           The 3^rd^ entry in *srs-OffsetListDCI-1-3*,
                              if any

  ...                         ...

  7                           The 8^th^ entry in *srs-OffsetListDCI-1-3*,
                              if any
  -----------------------------------------------------------------------

#### 7.3.1.3 DCI formats for other purposes

##### 7.3.1.3.1 Format 2_0

DCI format 2_0 is used for notifying the slot format, COT duration,
available RB set, and search space set group switching.

The following information is transmitted by means of the DCI format 2_0
with CRC scrambled by SFI-RNTI:

\- If the higher layer parameter *slotFormatCombToAddModList* is
configured,

\- Slot format indicator 1, Slot format indicator 2, ..., Slot format
indicator *N*,

\- If the higher layer parameter *availableRB-SetsToAddModList* is
configured,

\- Available RB set Indicator 1, Available RB set Indicator 2, ...,
Available RB set Indicator *N1*,

\- If the higher layer parameter *co-DurationsPerCellToAddModList* is
configured

\- COT duration indicator 1, COT duration indicator 2, ..., COT duration
indicator *N2.*

\- If the higher layer parameter *switchTriggerToAddModList* is
configured

\- Search space set group switching flag 1, Search space set group
switching flag 2, ..., Search space set group switching flag *M.*

The size of DCI format 2_0 is configurable by higher layers up to 128
bits, according to Clause 11.1.1 of \[5, TS 38.213\].

##### 7.3.1.3.2 Format 2_1

DCI format 2_1 is used for notifying the PRB(s) and OFDM symbol(s) where
UE may assume no transmission is intended for the UE.

The following information is transmitted by means of the DCI format 2_1
with CRC scrambled by INT-RNTI:

\- Pre-emption indication 1, Pre-emption indication 2, ..., Pre-emption
indication *N*.

The size of DCI format 2_1 is configurable by higher layers up to 126
bits, according to Clause 11.2 of \[5, TS 38.213\]. Each pre-emption
indication is 14 bits.

##### 7.3.1.3.3 Format 2_2

DCI format 2_2 is used for the transmission of TPC commands for PUCCH
and PUSCH.

The following information is transmitted by means of the DCI format 2_2
with CRC scrambled by TPC-PUSCH-RNTI or TPC-PUCCH-RNTI:

\- block number 1, block number 2,..., block number *N*

The parameter *tpc-PUSCH* or *tpc-PUCCH* provided by higher layers
determines the index to the block number for an UL of a cell, with the
following fields defined for each block:

\- Closed loop indicator - 0 or 1 bit.

\- For DCI format 2_2 with TPC-PUSCH-RNTI, 0 bit if the UE is not
configured with high layer parameter *twoPUSCH-PC-AdjustmentStates*, in
which case UE assumes each block in the DCI format 2_2 is of 2 bits; 1
bit otherwise, in which case UE assumes each block in the DCI format 2_2
is of 3 bits;

\- For DCI format 2_2 with TPC-PUCCH-RNTI, 0 bit if the UE is not
configured with high layer parameter *twoPUCCH-PC-AdjustmentStates*, in
which case UE assumes each block in the DCI format 2_2 is of 2 bits; 1
bit otherwise, in which case UE assumes each block in the DCI format 2_2
is of 3 bits;

\- TPC command -2 bits

The number of information bits in format 2_2 shall be equal to or less
than the payload size of format 1_0 monitored in common search space in
the same serving cell. If the number of information bits in format 2_2
is less than the payload size of format 1_0 monitored in common search
space in the same serving cell, zeros shall be appended to format 2_2
until the payload size equals that of format 1_0 monitored in common
search space in the same serving cell.

##### 7.3.1.3.4 Format 2_3

DCI format 2_3 is used for the transmission of a group of TPC commands
for SRS transmissions by one or more UEs. Along with a TPC command, a
SRS request may also be transmitted.

The following information is transmitted by means of the DCI format 2_3
with CRC scrambled by TPC-SRS-RNTI:

\- block number 1, block number 2, ..., block number
![](media/image1040.wmf)

where the starting position of a block is determined by the parameter
*startingBitOfFormat2-3* or *startingBitOfFormat2-3SUL-v1530* provided
by higher layers for the UE configured with the block.

If the UE is configured with higher layer parameter
*srs-TPC-PDCCH-Group* = *typeA* for an UL without PUCCH and PUSCH or an
UL on which the SRS power control is not tied with PUSCH power control,
one or two blocks are configured for the UE by higher layers where one
block applies to non-SUL carriers and another block applies to SUL
carriers, with the following fields defined for each block:

\- SRS request - 0 or 2 bits. The presence of this field is according to
the definition in Clause 11.4 of \[5, TS38.213\]. If present, this field
is interpreted as defined by Table 7.3.1.1.2-24.

\- TPC command number 1, TPC command number 2, \..., TPC command number
*N*, where each TPC command applies to a respective UL carrier provided
by higher layer parameter *cc-IndexInOneCC-Set*

If the UE is configured with higher layer parameter
*srs-TPC-PDCCH-Group* = *typeB* for an UL without PUCCH and PUSCH or an
UL on which the SRS power control is not tied with PUSCH power control,
one block or more blocks is configured for the UE by higher layers where
each block applies to an UL carrier, with the following fields defined
for each block:

\- SRS request - 0 or 2 bits. The presence of this field is according to
the definition in Clause 11.4 of \[5, TS38.213\]. If present, this field
is interpreted as defined by Table 7.3.1.1.2-24.

\- TPC command -2 bits

The number of information bits in format 2_3 shall be equal to or less
than the payload size of format 1_0 monitored in common search space in
the same serving cell. If the number of information bits in format 2_3
is less than the payload size of format 1_0 monitored in common search
space in the same serving cell, zeros shall be appended to format 2_3
until the payload size equals that of format 1_0 monitored in common
search space in the same serving cell.

##### 7.3.1.3.5 Format 2_4

DCI format 2_4 is used for notifying the PRB(s) and OFDM symbol(s) where
UE cancels the corresponding UL transmission from the UE according to
Clause 11.2A of \[5, TS 38.213\].

The following information is transmitted by means of the DCI format 2_4
with CRC scrambled by CI-RNTI:

\- Cancellation indication 1, Cancellation indication 2, ...,
Cancellation indication indication *N*.

The size of DCI format 2_4 is configurable by higher layers parameter
*dci-PayloadSizeForCI* up to 126 bits, according to Clause 11.2A of \[5,
TS 38.213\]. The number of bits for each cancellation indication is
configurable by higher layer parameter *ci-PayloadSize*. For a UE, there
is at most one cancellation indication for an UL carrier.

##### 7.3.1.3.6 Format 2_5

DCI format 2_5 is used for notifying the availability of soft resources
as defined in Clause 9.3.1 of \[10, TS 38.473\]

The following information is transmitted by means of the DCI format 2_5
with CRC scrambled by AI-RNTI:

\- Availability indicator 1, Availability indicator 2, ..., Availability
indicator *N*.

The size of DCI format 2_5 is configurable by higher layers up to 128
bits, according to Clause 14 of \[5, TS 38.213\].

##### 7.3.1.3.7 Format 2_6

DCI format 2_6 is used for notifying the power saving information
outside DRX Active Time for one or more UEs.

The following information is transmitted by means of the DCI format 2_6
with CRC scrambled by PS-RNTI:

\- block number 1, block number 2,..., block number *N*

where the starting position of a block is determined by the parameter
*ps-PositionDCI-2-6* provided by higher layers for the UE configured
with the block.

If the UE is configured with higher layer parameter *ps-RNTI* and
*dci-Format2-6*, one block is configured for the UE by higher layers,
with the following fields defined for the block:

\- Wake-up indication - 1 bit

\- SCell dormancy indication - 0 bit if higher layer parameter
*dormancyGroupOutsideActiveTime* is not configured; otherwise 1, 2, 3, 4
or 5 bits bitmap determined according to the number of different
*DormancyGroupID(s)* provided by higher layer parameter
*dormancyGroupOutsideActiveTime,* where each bit corresponds to one of
the SCell group(s) configured by higher layers parameter
*dormancyGroupOutsideActiveTime,* with MSB to LSB of the bitmap
corresponding to the first to last configured SCell group in ascending
order of *DormancyGroupID*.

The size of DCI format 2_6 is indicated by the higher layer parameter
*sizeDCI-2-6*, according to Clause 10.3 of \[5, TS 38.213\].

##### 7.3.1.3.8 Format 2_7

DCI format 2_7 is used for notifying the paging early indication and TRS
availability indication for one or more UEs.

The following information is transmitted by means of the DCI format 2_7
with CRC scrambled by PEI-RNTI:

\- Paging indication field - $N_{PO}^{PEI}N_{SG}^{PO}$ bit(s), where

\- $N_{PO}^{PEI}$ is the number of paging occasions configured by higher
layer parameter *po-NumPerPEI* as defined in Clause 10.4A in \[5, TS
38.213\];

\- $N_{SG}^{PO}$is the number of sub-groups of a paging occasion
configured by higher layer parameter *subgroupsNumPerPO*.

\- Each bit in the field indicates one UE subgroup of a paging occasion.

\- TRS availability indication - 1, 2, 3, 4, 5, or 6 bits, where the
number of bits is equal to one plus the highest value of all the
*indBitID*(s) provided by the *trs-ResourceSetConfig* if configured; 0
bits otherwise.

The size of DCI format 2_7 is indicated by the higher layer parameter
*payloadSizeDCI-2-7*, according to Clause 10.4A of \[5, TS 38.213\]. The
number of information bits in format 2_7 shall be equal to or less than
the payload size of format 2_7. If the number of information bits in
format 2_7 is less than the size of format 2_7, the remaining bits are
reserved.

##### 7.3.1.3.9 Format 2_8

DCI format 2_8 is used for notifying the aperiodic beam indication and
associated time resources

The following information is transmitted by means of the DCI format 2_8
with CRC scrambled by NCR-RNTI:

\- Beam index 1, Beam index 2, ..., Beam index N

The bitwidth of each beam index field is determined by the higher layer
parameter *aperiodicBeamFieldWidth*.

\- Time resource indication 1, Time resource indication 2, ..., Time
resource indication N

The bitwidth of each time resource indication field is determined by
max$\ \left\{ \left\lceil \log_{2}(I) \right\rceil,1 \right\}$, where
$I$ is the number of time domain resources configured by
*aperiodicFwdConfig*. The bit field indexes of a time resource
indication field are mapped to the time domain resources configured by
*aperiodicFwdConfig* according to an ascending order of a resource
identity configured by *aperiodicFwdTimeRsrcId*, with the bit field
index 0 mapped to the time resource with the smallest resource identity.

The N beam indexes are sequentially associated with the N time resource
indications with one to one mapping. N is configured by the higher layer
parameter *numberOfFields*. The size of DCI format 2_8 is up to 128
bits.

##### 7.3.1.3.10 Format 2_9

DCI format 2_9 is used for activating or de-activating the cell DTX
and/or DRX configuration of one or multiple serving cells for one or
more UEs, and/or for providing NES-mode indication of the primary cell
for one or more UEs.

The following information is transmitted by means of the DCI format 2_9
with CRC scrambled by cellDTRX-RNTI:

\- block number 1, block number 2,..., block number *N*

where the starting position of a block associated with a serving cell is
determined by the parameter *positionInDCI-cellDTRX* provided by higher
layers for the UE.

If the UE is configured to monitor DCI 2_9 with CRC scrambled by
cellDTRX-RNTI, one or more blocks are configured for the UE by higher
layers, with the following fields defined for each block:

\- Cell DTX/DRX indication - number of bits determined by the following:

\- If higher layer parameter *cellDTXDRX-L1activation* is configured

\- 2 bits as defined in Clause 11.5 of \[5, TS38.213\] if
*cellDTXDRXconfigType* is configured to *dtxdrx* for the associated
serving cell of the block, with the MSB corresponding to cell DTX
configuration and the LSB corresponding to cell DRX configuration;

\- 1 bit as defined in Clause 11.5 of \[5, TS38.213\] if
*cellDTXDRXconfigType* is configured to either *dtx* or *drx* for the
associated serving cell of the block;

\- 0 bit otherwise.

\- NES-mode indication -- 1 bit indicating NES-specific CHO execution
condition as defined in Clause 11.5 of \[5, TS38.213\], if the higher
layer parameter *nesEvent* is configured and the associated serving cell
of the block is primary cell; 0 bit otherwise.

The size of DCI format 2_9 is indicated by the higher layer parameter
*sizeDCI-2-9*.

#### 7.3.1.4 DCI formats for scheduling of sidelink

##### 7.3.1.4.1 Format 3_0

DCI format 3_0 is used for scheduling of NR PSCCH and NR PSSCH in one
cell, or scheduling of NR PSCCH, NR PSSCH and NR SL PRS for a shared SL
PRS resource pool in one cell.

The following information is transmitted by means of the DCI format 3_0
with CRC scrambled by SL-RNTI or SL-CS-RNTI:

\- Resource pool index -$\left\lceil \log_{2}I \right\rceil$ bits, where
*I* is the total number of resource pools for transmission configured by
the higher layer parameter *sl-TxPoolScheduling*, if configured, and
*sl-DiscTxPoolScheduling*, if configured.

\- Time gap - 3 bits determined by higher layer parameter
*sl-DCI-ToSL-Trans,* as defined in clause 8.1.2.1 of \[6, TS 38.214\]

\- HARQ process number - 4 bits.

\- New data indicator - 1 bit.

\- Lowest index of the subchannel allocation to the initial transmission
-$\left\lceil \text{log}_{\text{2}}\text{(}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{)} \right\rceil$
bits as defined in Clause 8.1.2.2 of \[6, TS 38.214\].

\- Lowest index of the RB set allocation to the initial transmission -
$\left\lceil \text{log}_{\text{2}}\text{(}N_{RBset}\text{)} \right\rceil$
bits as defined in Clause 8.1.2.2 of \[6, TS 38.214\] if the higher
layer parameter *transmissionStructureForPSCCHandPSSCH* in
*SL-BWP-Config* is configured to \'interlaceRB\'; 0 bit otherwise.

\- SCI format 1-A fields according to clause 8.3.1.1:

\- Frequency resource assignment.

\- Time resource assignment.

\- PSFCH-to-HARQ feedback timing indicator
-$\left\lceil \log_{2}N_{fb\_ timing} \right\rceil$ bits, where
$N_{fb\_ timing}$ is the number of entries in the higher layer parameter
*sl-PSFCH-ToPUCCH,* as defined in clause 16.5 of \[5, TS 38.213\]

\- PUCCH resource indicator - 3 bits as defined in clause 16.5 of \[5,
TS 38.213\].

\- Configuration index - 0 bit if the UE is not configured to monitor
DCI format 3_0 with CRC scrambled by SL-CS-RNTI; otherwise 3 bits as
defined in clause 8.1.2 of \[6, TS 38.214\]. If the UE is configured to
monitor DCI format 3_0 with CRC scrambled by SL-CS-RNTI, this field is
reserved for DCI format 3_0 with CRC scrambled by SL-RNTI.

\- Counter sidelink assignment index - 2 bits

\- 2 bits as defined in clause 16.5.2 of \[5, TS 38.213\] if the UE is
configured with *pdsch-HARQ-ACK-Codebook = dynamic*

\- 2 bits as defined in clause 16.5.1 of \[5, TS 38.213\] if the UE is
configured with *pdsch-HARQ-ACK-Codebook = semi-static*

\- Padding bits, if required

If the total number of transmit resource pools provided in
*sl-TxPoolScheduling*, if configured, and *sl-DiscTxPoolScheduling*, if
configured, is larger than one, zeros shall be appended to the DCI
format 3_0 until the payload size is equal to the size of a DCI format
3_0 given by a configuration of the transmit resource pool resulting in
the largest number of information bits for DCI format 3_0.

If the UE is configured to monitor DCI format 3_1 and/or DCI format 3_2
and the number of information bits in DCI format 3_0 is less than the
larger payload size of DCI format 3_1 if configured and DCI format 3_2
if configured, zeros shall be appended to DCI format 3_0 until the
payload size equals the larger payload size of DCI format 3_1 if
configured and DCI format 3_2 if configured.

##### 7.3.1.4.2 Format 3_1

DCI format 3_1 is used for scheduling of LTE PSCCH and LTE PSSCH in one
cell.

The following information is transmitted by means of the DCI format 3_1
with CRC scrambled by SL Semi-Persistent Scheduling V-RNTI:

\- Timing offset - 3 bits determined by higher layer parameter
*sl-TimeOffsetEUTRA-List,* as defined in clause 16.6 of \[5, TS 38.213\]

\- Carrier indicator -3 bits as defined in 5.3.3.1.9A of \[11, TS
36.212\].

\- Lowest index of the subchannel allocation to the initial
transmission - ![](media/image1041.wmf){width="1.09375in"
height="0.2708333333333333in"} bits as defined in 5.3.3.1.9A of \[11, TS
36.212\].

\- Frequency resource location of initial transmission and
retransmission, as defined in 5.3.3.1.9A of \[11, TS 36.212\]

\- Time gap between initial transmission and retransmission, as defined
in 5.3.3.1.9A of \[11, TS 36.212\]

\- SL index - 2 bits as defined in 5.3.3.1.9A of \[11, TS 36.212\]

\- SL SPS configuration index - 3 bits as defined in clause 5.3.3.1.9A
of \[11, TS 36.212\].

\- Activation/release indication - 1 bit as defined in clause 5.3.3.1.9A
of \[11, TS 36.212\].

If the UE is configured to monitor DCI format 3_0 and/or DCI format 3_2
and the number of information bits in DCI format 3_1 is less than the
larger payload size of DCI format 3_0 if configured and DCI format 3_2
if configured, zeros shall be appended to DCI format 3_1 until the
payload size equals the larger payload size of DCI format 3_0 if
configured and DCI format 3_2 if configured.

##### 7.3.1.4.3 Format 3_2

DCI format 3_2 is used for scheduling of NR SL PRS for a dedicated SL
PRS resource pool in one cell.

The following information is transmitted by means of the DCI format 3_2
with CRC scrambled by SL-PRS-RNTI or SL-PRS-CS-RNTI:

\- Resource pool index -$\left\lceil \log_{2}I \right\rceil$ bits, where
*I* is the total number of dedicated SL PRS resource pools for
transmission configured by the higher layer parameter
*sl-PRS-TxPoolScheduling*, if configured.

\- Time gap - 3 bits determined by higher layer parameter
*sl-DCI-ToSL-Trans,* as defined in clause 8.2.4.1.1 of \[6, TS 38.214\]

\- First SL PRS indicator -
$\left\lceil \log_{2}N_{SL - PRS} \right\rceil$ bits indicating the SL
PRS resource ID for the first SL PRS transmission, where the value
$N_{SL - PRS}$ is the total number of SL PRS resources within a slot in
a dedicated SL PRS resource pool and provided by the higher layer
parameter *sl-PrsResources-Dedicated-SL-PRS-RP*.

\- SCI format 1-B fields according to clause 8.3.1.2:

\- Time resource assignment

\- Resource ID indication

\- Configuration index -- 0 bit if the UE is not configured to monitor
DCI format 3_2 with CRC scrambled by SL-PRS-CS-RNTI; otherwise 3 bits as
defined in clause 8.2.4.1 of \[6, TS 38.214\]. If the UE is configured
to monitor DCI format 3_2 with CRC scrambled by SL-PRS-CS-RNTI, this
field is reserved for DCI format 3_2 with CRC scrambled by SL-PRS-RNTI.

\- Activation/release indication -- 0 bit if the UE is not configured to
monitor DCI format 3_2 with CRC scrambled with SL-PRS-CS-RNTI; otherwise
1 bit, where value 0 indicates release and value 1 indicates activation.
If the UE is configured to monitor DCI format 3_2 with CRC scrambled
with SL-PRS-CS-RNTI, this field is reserved for DCI format 3_2 with CRC
scrambled by SL-PRS-RNTI.

\- Padding bits, if required.

If the total number of transmit resource pools provided in
*sl-PRS-TxPoolScheduling*, if configured, is larger than one, zeros
shall be appended to the DCI format 3_2 until the payload size is equal
to the size of a DCI format 3_2 given by a configuration of the transmit
resource pool resulting in the largest number of information bits for
DCI format 3_2.

If the UE is configured to monitor DCI format 3_0 and/or DCI format 3_1
and the number of information bits in DCI format 3_2 is less than the
larger payload size of DCI format 3_0 if configured and DCI format 3_1
if configured, zeros shall be appended to DCI format 3_2 until the
payload size equals the larger payload size of DCI format 3_0 if
configured and DCI format 3_1 if configured.

#### 7.3.1.5 DCI formats for scheduling of MBS

##### 7.3.1.5.1 Format 4_0

DCI format 4_0 is used for the scheduling of PDSCH for broadcast or for
multicast in RRC_INACTIVE state in DL cell.

The following information is transmitted by means of the DCI format 4_0
with CRC scrambled by MCCH-RNTI or G-RNTI for broadcast configured by
*MBS-SessionInfo,* or by multicast-MCCH-RNTI for multicast configured by
*MBS-SessionInfoMulticast*:

\- Frequency domain resource assignment -
$\left\lceil {\log_{2}{(N}_{RB}^{DL,CFR}(}\frac{N_{RB}^{DL,CFR} + 1)}{2)} \right\rceil$
bits where $N_{RB}^{DL,CFR}$ equals to

\- the size of CORESET 0 if CORESET 0 is configured for the cell; and

\- the size of initial DL bandwidth part if CORESET 0 is not configured
for the cell.

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS38.214\]

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS38.214\]

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- MCCH change notification - 2 bits as defined in Clause 5.9.1.3 and
Clause 5.10.1.3 of \[9, TS38.331\] if the CRC of the DCI format 4_0 is
scrambled by MCCH-RNTI and multicast-MCCH-RNTI respectively. Otherwise,
this bit field is reserved.

\- Reserved bits - 14bits

##### 7.3.1.5.2 Format 4_1

DCI format 4_1 is used for the scheduling of PDSCH for multicast in DL
cell.

The following information is transmitted by means of the DCI format 4_1
with CRC scrambled by G-RNTI for multicast or G-CS-RNTI configured by
*MBS-RNTI-SpecificConfig*, or by G-RNTI for multicast configured by
*MBS-SessionInfoListMulticast*:

\- Frequency domain resource assignment
-$\ \left\lceil {\log_{2}{(N}_{RB}^{DL,CFR}(}\frac{N_{RB}^{DL,CFR} + 1)}{2)} \right\rceil$
bits where $N_{RB}^{DL,CFR}$ equals to

\- the size of CORESET 0 if CORESET 0 is configured for the cell; and

\- the size of initial DL bandwidth part if CORESET 0 is not configured
for the cell.

\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1
of \[6, TS38.214\]

\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of
\[6, TS38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- HARQ process number - 4 bits

\- Downlink assignment index - 2 bits as defined in Clause 9.1.3 of \[5,
TS 38.213\], as counter DAI

\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of \[5,
TS38.213\]

\- PDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause
9.2.3 of \[5, TS38.213\]

\- Reserved bits - 3 bits

##### 7.3.1.5.3 Format 4_2

DCI format 4_2 is used for the scheduling of PDSCH for multicast in DL
cell.

The following information is transmitted by means of the DCI format 4_2
with CRC scrambled by G-RNTI for multicast or G-CS-RNTI configured by
*MBS-RNTI-SpecificConfig*:

\- Frequency domain resource assignment - number of bits determined by
the following, where $N_{RB}^{DL,CFR}$ is the size of the common
frequency resource as defined in Clause 18 of \[5, TS38.213\].

\- $N_{RBG}$ bits if only resource allocation type 0 is configured,
where $N_{RBG}$ is defined in Clause 5.1.2.2.1 of \[6, TS38.214\],

\-
$\left\lceil {\log_{2}{(N}_{RB}^{DL,CFR}(}\frac{N_{RB}^{DL,CFR} + 1)}{2)} \right\rceil$
bits if only resource allocation type 1 is configured, or

\-
$\max{\left( \left\lceil {\log_{2}{(N}_{RB}^{DL,CFR}(}\frac{N_{RB}^{DL,CFR} + 1)}{2)} \right\rceil,N_{RBG} \right) + 1}$
bits if *resourceAllocation* in *pdsch-ConfigMulticast* is configured as
\'*dynamicSwitch\'*.

\- If *resourceAllocation* in *pdsch-ConfigMulticast* is configured as
\'*dynamicSwitch\'*, the MSB bit is used to indicate resource allocation
type 0 or resource allocation type 1, where the bit value of 0 indicates
resource allocation type 0 and the bit value of 1 indicates resource
allocation type 1.

\- For resource allocation type 0, the $N_{RBG}$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.1 of \[6, TS 38.214\].

\- For resource allocation type 1, the
$\left\lceil {\log_{2}{(N}_{RB}^{DL,CFR}(}\frac{N_{RB}^{DL,CFR} + 1)}{2}) \right\rceil$
LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of
\[6, TS 38.214\]

\- Time domain resource assignment - 0, 1, 2, 3, or 4 bits as defined in
Clause 5.1.2.1 of \[6, TS 38.214\]. The bitwidth for this field is
determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where *I*
is the number of entries in the higher layer parameter
*pdsch-TimeDomainAllocationList* if the higher layer parameter is
configured; otherwise *I* is the number of entries in the default table.

\- VRB-to-PRB mapping - 0 or 1 bit:

\- 0 bit if only resource allocation type 0 is configured or if
*vrb-ToPRB-Interleaver* in *pdsch-ConfigMulticast* is not configured;

\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to
resource allocation type 1, as defined in Clause 7.3.1.6 of \[4, TS
38.211\].

\- PRB bundling size indicator - 0 bit if the higher layer parameter
*prb-BundlingType* is not configured in *pdsch-ConfigMulticast* or is
set to \'staticBundling\', or 1 bit if the higher layer parameter
*prb-BundlingType* in *pdsch-ConfigMulticast* is set to
\'dynamicBundling\' according to Clause 5.1.2.3 of \[6, TS 38.214\].

\- Rate matching indicator - 0, 1, or 2 bits according to higher layer
parameters *rateMatchPatternGroup1* and *rateMatchPatternGroup2* in
*pdsch-ConfigMulticast*, where the MSB is used to indicate
*rateMatchPatternGroup1* and the LSB is used to indicate
*rateMatchPatternGroup2* when there are two groups.

\- ZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of
\[6, TS 38.214\]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(n_{ZP} + 1)} \right\rceil$ bits, where $n_{ZP}$
is the number of aperiodic ZP CSI-RS resource sets configured in
*pdsch-ConfigMulticast*.

For transport block 1:

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

For transport block 2 (only present if *maxNrofCodeWordsScheduledByDCI*
configured in *pdsch-ConfigMulticast* equals 2):

\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of
\[6, TS 38.214\]

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- HARQ process number - 4 bits

\- Downlink assignment index - number of bits as defined in the
following

\- 2 bits if the higher layer parameter *pdsch-HARQ-ACK-Codebook
=dynamic* is configured for multicast, where the 2 bits are the counter
DAI;

\- 0 bits otherwise.

If higher layer parameter *priorityIndicatorDCI-4-2* is configured in
*pdsch-ConfigMulticast*, if the bit width of the Downlink assignment
index in DCI format 4_2 for one HARQ-ACK codebook is not equal to that
of the Downlink assignment index in DCI format 4_2 for the other
HARQ-ACK codebook, a number of most significant bits with value set to
\'0\' are inserted to smaller Downlink assignment index until the bit
width of the Downlink assignment index in DCI format 4_2 for the two
HARQ-ACK codebooks are the same.

\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of \[5,
TS 38.213\]

\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as
defined in Clause 9.2.3 of \[5, TS 38.213\]. The bitwidth for this field
is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where
*I* is the number of entries in the higher layer parameter
*dl-DataToUL-ACK* in *pucch-ConfigMulticast1* if configured or
*pucch-ConfigMulticast2* if configured; otherwise, *I* is the number of
entries in the higher layer parameter *dl-DataToUL-ACK* in
*PUCCH-Config.*

If higher layer parameter *priorityIndicatorDCI-4-2* is configured in
*pdsch-ConfigMulticast*, if the bit width of the PDSCH-to-HARQ_feedback
timing indicator in DCI format 4_2 for one HARQ-ACK codebook is not
equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI
format 4_2 for the other HARQ-ACK codebook, a number of most significant
bits with value set to \'0\' are inserted to smaller
PDSCH-to-HARQ_feedback timing indicator until the bit width of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 4_2 for the two
HARQ-ACK codebooks are the same.

\- Antenna port(s) - 4, 5, or 6 bits as defined by Tables
7.3.1.2.2-1/2/3/4, where the number of CDM groups without data of values
1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively.
The antenna ports $\{ p_{0},\ldots,p_{v - 1}\}$ shall be determined
according to the ordering of DMRS port(s) given by Tables
7.3.1.2.2-1/2/3/4.

If a UE is configured with both *dmrs-DownlinkForPDSCH-MappingTypeA* and
*dmrs-DownlinkForPDSCH-MappingTypeB*, the bitwidth of this field equals
$max\{ x_{A},x_{B}\}$, where $x_{A}$ is the \"Antenna ports\" bitwidth
derived according to *dmrs-DownlinkForPDSCH-MappingTypeA* and $x_{B}$ is
the \"Antenna ports\" bitwidth derived according to
*dmrs-DownlinkForPDSCH-MappingTypeB*. A number of
$\left| x_{A} - x_{B} \right|$ zeros are padded in the MSB of this
field, if the mapping type of the PDSCH corresponds to the smaller value
of $x_{A}$ and $x_{B}$.

\- Transmission configuration indication - 0 bit if higher layer
parameter *tci-PresentInDCI* in *pdcch-ConfigMulticast* is not enabled;
otherwise 3 bits as defined in Clause 5.1.5 of \[6, TS38.214\].

\- DMRS sequence initialization - 1 bit.

\- Priority indicator - 0 bit if higher layer parameter
*priorityIndicatorDCI-4-2* is not configured in *pdsch-ConfigMulticast*;
otherwise 1 bit as defined in Clause 9 in \[5, TS 38.213\].

\- Enabling/disabling HARQ-ACK feedback indication -1 bit if higher
layer parameter *harq-FeedbackEnablerMulticast* indicates *dci-enabler*,
where value 1 indicates enabling HARQ-ACK feedback and value 0 indicates
disabling HARQ-ACK feedback; 0 bit, otherwise.

The size of DCI format 4_2 is configurable by higher layer parameter
*sizeDCI-4-2* from 20 bits and up to 140 bits.

### 7.3.2 CRC attachment

Error detection is provided on DCI transmissions through a Cyclic
Redundancy Check (CRC).

The entire payload is used to calculate the CRC parity bits. Denote the
bits of the payload by![](media/image3.wmf), and the parity bits
by![](media/image4.wmf), where ![](media/image5.wmf) is the payload size
and ![](media/image6.wmf) is the number of parity bits. Let
![](media/image1042.wmf) be a bit sequence such that
![](media/image1043.wmf) for ![](media/image1044.wmf) and
![](media/image1045.wmf) for ![](media/image1046.wmf). The parity bits
are computed with input bit sequence ![](media/image1042.wmf) and
attached according to Clause 5.1 by setting ![](media/image6.wmf) to 24
bits and using the generator polynomial ![](media/image1047.wmf). The
output bit ![](media/image1048.wmf) is

![](media/image22.wmf) for ![](media/image23.wmf)

![](media/image24.wmf) for ![](media/image25.wmf),

where ![](media/image1049.wmf).

After attachment, the CRC parity bits are scrambled with the
corresponding RNTI ![](media/image1050.wmf) , where
![](media/image1051.wmf) corresponds to the MSB of the RNTI, to form the
sequence of bits ![](media/image1052.wmf). The relation between *c~k~*
and *b~k~* is:

![](media/image1053.wmf) for *k* = 0, 1, 2, ...,
![](media/image1054.wmf)

![](media/image1055.wmf) for *k* = ![](media/image1056.wmf),
![](media/image1057.wmf),![](media/image1058.wmf),\...,
![](media/image1059.wmf).

### 7.3.3 Channel coding

Information bits are delivered to the channel coding block. They are
denoted by ![](media/image714.wmf) , where ![](media/image96.wmf) is the
number of bits, and they are encoded via Polar coding according to
Clause 5.3.1, by setting ![](media/image1060.wmf),
![](media/image1061.wmf), ![](media/image727.wmf), and
![](media/image723.wmf).

After encoding the bits are denoted by ![](media/image730.wmf), where
![](media/image731.wmf) is the number of coded bits.

### 7.3.4 Rate matching

The input bit sequence to rate matching is ![](media/image97.wmf).

Rate matching is performed according to Clause 5.4.1 by setting
![](media/image984.wmf).

The output bit sequence after rate matching is denoted as
![](media/image252.wmf).

# 8 Sidelink transport channels and control information

## 8.1 Sidelink broadcast channel

The processing for SL-BCH transport channel follows the BCH according to
clause 7.1, with the following changes:

\- In Clause 7.1, \'maximum of one transport block every 80ms\' is
replaced with \'maximum of one transport block\'.

\- Clause 7.1.1 for PBCH payload generation is not performed.

\- Clause 7.1.2 for scrambling is not performed.

\- In clause 7.1.5, the rate matching output sequence length E = 1386
when higher layer parameter *cyclicPrefix* is configured, otherwise, E =
1782.

### 8.1.1 Void

## 8.2 Sidelink shared channel

The processing for SL-SCH transport channel follows the UL-SCH according
to clause 6.2, with the following changes:

\- Rate matching of SL-SCH follows the rate matching according to clause
6.2.5 by setting $I_{LBRM} = 0$

\- Clause 6.2.7 is replaced by clause 8.2.1

### 8.2.1 Data and control multiplexing

Denote the coded bits for SL-SCH
as${\ g}_{0}^{SL - SCH},\ g_{1}^{SL - SCH},\ g_{2}^{SL - SCH},\ g_{3}^{SL - SCH},\cdots,\ g_{G^{SL - SCH} - 1}^{SL - SCH}$.

Denote the coded bits for the 2^nd^-stage SCI, as
$g_{0}^{SCI2},\ g_{1}^{SCI2},\ g_{2}^{SCI2},\ g_{3}^{SCI2},\cdots,\ g_{G^{SCI2} - 1}^{SCI2}$.

Denote the multiplexed data and control coded bit sequence as
$g_{0},g_{1},\cdots,g_{G - 1}$, where *G* is the total number of coded
bits for transmission.

Assuming that $N_{L}$ is the number of layers onto which the SL-SCH
transport block is mapped, the multiplexed data and control coded bit
sequence $g_{0},g_{1},\cdots,g_{G - 1}$ is obtained as follows:

Denote $Q_{m}^{SCI2}$ is modulation order of the 2^nd^-stage SCI.

if $N_{L} = 1$,

for $i = 0$ to $G^{SCI2} + G^{SL - SCH} - 1$

if $0 \leq i < G^{SCI2}$

$g_{i} = g_{i}^{SCI2}$

end if

if $G^{SCI2} \leq i \leq G^{SCI2} + G^{SL - SCH} - 1$

$g_{i} = g_{i - G^{SCI2}}^{SL - SCH}$

end if

end for

end if

if $N_{L} = 2$,

let $M_{count,SCI2}^{RE} = G^{SCI2}/Q_{m}^{SCI2}$

set $m_{count}^{RE} = 0$

for $\ i = 0$ to $M_{count,SCI2}^{RE} - 1$

for $v = 0$ to $N_{L} - 1$

for $\ q = 0$ to $Q_{m}^{SCI2} - 1$

if $v = 0$

$g_{m_{count}^{RE}} = g_{i \bullet Q_{m}^{SCI2} + q}^{SCI2}$

else

$g_{m_{count}^{RE}} = x$ // placeholder bit

end if

$m_{count}^{RE} = m_{count}^{RE} + 1$

end for

end for

end for

> for $\ i = 0$ to $G^{SL - SCH} - 1$

$g_{m_{count}^{RE}} = g_{i}^{SL - SCH}$

$m_{count}^{RE} = m_{count}^{RE} + 1$

> end for

end if

## 8.3 Sidelink control information on PSCCH

SCI carried on PSCCH is a 1^st^-stage SCI, which transports sidelink
scheduling information.

### 8.3.1 1^st^-stage SCI formats

The fields defined in each of the 1^st^-stage SCI formats below are
mapped to the information bits $a_{0}$ to $a_{A - 1}\ $as follows:

Each field is mapped in the order in which it appears in the
description, with the first field mapped to the lowest order information
bit $a_{0}\ $and each successive field mapped to higher order
information bits. The most significant bit of each field is mapped to
the lowest order information bit for that field, e.g. the most
significant bit of the first field is mapped to $a_{0}$.

#### 8.3.1.1 SCI format 1-A

SCI format 1-A is used for the scheduling of PSSCH and 2^nd^-stage-SCI
on PSSCH

The following information is transmitted by means of the SCI format 1-A:

\- Priority - 3 bits as specified in clause 5.4.3.3 of \[12, TS 23.287\]
and clause 5.22.1.3.1 of \[8, TS 38.321\]. Value \'000\' of Priority
field corresponds to priority value \'1\', value \'001\' of Priority
field corresponds to priority value \'2\', and so on.

\- Frequency resource assignment - number of bits determined by the
following:

\- If higher layer parameter *transmissionStructureForPSCCHandPSSCH* in
*SL-BWP-Config* is not configured or configured to 'contigousRB'

\-
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\left( \text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)}{\text{2}}\text{)} \right\rceil$
bits when the value of the higher layer parameter *sl-MaxNumPerReserve*
is configured to 2; otherwise
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\left( \text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)\left( \text{2}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)}{\text{6}}\text{)} \right\rceil$
bits when the value of the higher layer parameter *sl-MaxNumPerReserve*
is configured to 3, as defined in clause 8.1.5 of \[6, TS 38.214\].

\- If the higher layer parameter *transmissionStructureForPSCCHandPSSCH*
in *SL-BWP-Config* is configured to 'interlaceRB'

\- X + Y bits provide the frequency domain resource allocation according
to Clause x.x of \[6, TS 38.214\], where the X MSBs provide the RB set
allocation and the Y LSBs provide the sub-channel allocation,

\- the value of X is determined by
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{N_{RBset}\left( N_{RBset}\text{ }\text{+}\text{ }\text{1} \right)}{\text{2}}\text{)}\text{ } \right\rceil$
when the value of the higher layer parameter *sl-MaxNumPerReserve* is
configured to 2, or determined by
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{N_{RBset}\left( N_{RBset}\text{ }\text{+}\text{ }\text{1} \right)\left( \text{2}N_{RBset}\text{ }\text{+}\text{ }\text{1} \right)}{\text{6}}\text{)} \right\rceil$
when the value of the higher layer parameter *sl-MaxNumPerReserve* is
configured to 3, where $N_{RBset}$ is the number of RB sets in a
resource pool

\- the value of Y is determined
by$\ \left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\left( \text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)}{\text{2}}\text{)}\text{ } \right\rceil$
when the value of the higher layer parameter *sl-MaxNumPerReserve* is
configured to 2, or determined by
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\left( \text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)\left( \text{2}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)}{\text{6}}\text{)} \right\rceil$
when the value of the higher layer parameter *sl-MaxNumPerReserve* is
configured to 3, as defined in clause 8.1.5 of \[6, TS 38.214\].

\- Time resource assignment - 5 bits when the value of the higher layer
parameter *sl-MaxNumPerReserve* is configured to 2; otherwise 9 bits
when the value of the higher layer parameter *sl-MaxNumPerReserve* is
configured to 3, as defined in clause 8.1.5 of \[6, TS 38.214\].

\- Resource reservation period
-$\left\lceil \log_{2}N_{rsv\_ period} \right\rceil$ bits as defined in
clause 16.4 of \[5, TS 38.213\], where $N_{rsv\_ period}$ is the number
of entries in the higher layer parameter *sl-ResourceReservePeriodList*,
if higher layer parameter *sl-MultiReserveResource* is configured; 0 bit
otherwise.

\- DMRS pattern -$\ \left\lceil \log_{2}N_{pattern} \right\rceil$ bits
as defined in clause 8.4.1.1.2 of \[4, TS 38.211\], where $N_{pattern}$
is the number of DMRS patterns configured by higher layer parameter
*sl-PSSCH-DMRS-TimePatternList*.

\- 2^nd^-stage SCI format - 2 bits as defined in Table 8.3.1.1-1.

\- Beta_offset indicator - 2 bits as provided by higher layer parameter
*sl-BetaOffsets2ndSCI* and Table 8.3.1.1-2.

\- Number of DMRS port - 1 bit as defined in Table 8.3.1.1-3.

\- Modulation and coding scheme - 5 bits as defined in clause 8.1.3 of
\[6, TS 38.214\].

\- Additional MCS table indicator - as defined in clause 8.1.3.1 of \[6,
TS 38.214\]: 1 bit if one MCS table is configured by higher layer
parameter *sl-Additional-MCS-Table*; 2 bits if two MCS tables are
configured by higher layer parameter *sl-Additional-MCS-Table*; 0 bit
otherwise.

\- PSFCH overhead indication - 1 bit as defined in clause 8.1.3.2 of
\[6, TS 38.214\] if higher layer parameter *sl-PSFCH-Period* = 2 or 4; 0
bit otherwise.

\- Reserved - a number of bits as determined by the following:

\- $N_{reserved}\ $bits as configured by higher layer parameter
*sl-NumReservedBits,* with value set to zero, if higher layer parameter
*sl-IndicationUE-B* is not configured, or if higher layer parameter
*sl-IndicationUE-B* is configured to \'disabled\', and if higher layer
parameter *transmissionStructureForPSCCHandPSSCH* in *SL-BWP-Config* is
not configured;

\- $(N_{reserved} - 2)$ bits if higher layer parameter
*sl-IndicationUE-B* is configured to \'enabled\', and if higher layer
parameter *transmissionStructureForPSCCHandPSSCH* in *SL-BWP-Config* is
configured, with value set to zero.

\- $(N_{reserved} - 1)$ bits otherwise, with value set to zero.

\- COT sharing flag -- 0 or 1 bit

\- 1 bit as defined in \[14, TS 37.213\] if the higher layer parameter
*transmissionStructureForPSCCHandPSSCH* in *SL-BWP-Config* is
configured;

\- 0 bit otherwise.- Conflict information receiver flag - 0 or 1 bit

\- 1 bit if higher layer parameter *sl-IndicationUE-B* is configured to
\'enabled\', where the bit value of 0 indicates that the UE cannot be a
UE to receive conflict information and the bit value of 1 indicates that
the UE can be a UE to receive conflict information as defined in Clause
16.3.0 of \[5, TS 38.213\];

\- 0 bit otherwise.

Table 8.3.1.1-1: 2^nd^-stage SCI formats

+-----------------------------+----------------------------------------+
| Value of 2nd-stage SCI      | 2nd-stage SCI format                   |
| format field                |                                        |
+=============================+========================================+
| 00                          | SCI format 2-A                         |
+-----------------------------+----------------------------------------+
| 01                          | SCI format 2-B; or                     |
|                             |                                        |
|                             | reserved if higher layer parameter     |
|                             | *                                      |
|                             | transmissionStructureForPSCCHandPSSCH* |
|                             | in *SL-BWP-Config* is configured       |
+-----------------------------+----------------------------------------+
| 10                          | SCI format 2-C; or                     |
|                             |                                        |
|                             | reserved if higher layer parameter     |
|                             | *                                      |
|                             | transmissionStructureForPSCCHandPSSCH* |
|                             | in *SL-BWP-Config* is configured and   |
|                             | the COT sharing flag field is set to   |
|                             | \'1\'                                  |
+-----------------------------+----------------------------------------+
| 11                          | SCI format 2-D; or                     |
|                             |                                        |
|                             | reserved if higher layer parameter     |
|                             | *                                      |
|                             | transmissionStructureForPSCCHandPSSCH* |
|                             | in *SL-BWP-Config* is configured       |
+-----------------------------+----------------------------------------+

Table 8.3.1.1-2: Mapping of Beta_offset indicator values to indexes in
Table 9.3-2 of \[5, TS38.213\]

  -----------------------------------------------------------------------
  Value of Beta_offset    Beta_offset index in Table 9.3-2 of TS 38.213
  indicator               \[5\]
  ----------------------- -----------------------------------------------
  00                      1^st^ index provided by higher layer parameter
                          *sl-BetaOffsets2ndSCI*

  01                      2^nd^ index provided by higher layer parameter
                          *sl-BetaOffsets2ndSCI*

  10                      3^rd^ index provided by higher layer parameter
                          *sl-BetaOffsets2ndSCI*

  11                      4^th^ index provided by higher layer parameter
                          *sl-BetaOffsets2ndSCI*
  -----------------------------------------------------------------------

Table 8.3.1.1-3: Number of DMRS port(s)

  -----------------------------------------------------------------------
  **Value of the Number of DMRS port  **Antenna ports**
  field**                             
  ----------------------------------- -----------------------------------
  0                                   1000

  1                                   1000 and 1001
  -----------------------------------------------------------------------

#### 8.3.1.2 SCI format 1-B

SCI format 1-B is used for the scheduling of SL PRS for a dedicated SL
PRS resource pool.

The following information is transmitted by means of the SCI format 1-B:

\- Priority - 3 bits as specified in clause 5.7 of \[12, TS 23.586\] and
clause 5.22 of \[8, TS 38.321\]. Value \'000\' of Priority field
corresponds to priority value \'1\', value \'001\' of Priority field
corresponds to priority value \'2\', and so on.

\- Source ID -- 12 or 24 bits determined by higher layer parameter
*sl-SRC-ID-LenDedicatedSL-PRS-RP*, as defined in clause 16.4A of \[5, TS
38.213\].

\- Destination ID -- 24 bits as defined in clause 16.4A of \[5, TS
38.213\].

\- Cast type indicator -- 2 bits as defined in Table 8.3.1.2-1 and in
clause 16.4A of \[5, TS 38.213\].

\- Resource reservation period --
$\left\lceil \log_{2}N_{rsv\_ period} \right\rceil$ bits as defined in
clause 16.4A of \[5, TS 38.213\], where $N_{rsv\_ period}$ is the number
of entries in the higher layer parameter
*sl-PRS-ResourceReservePeriodList*, if higher layer parameter
*sl-PRS-ResourceReservePeriodList* is configured; 0 bit otherwise.

\- Time resource assignment -- 5 bits when the value of the higher layer
parameter *sl-MaxNumPerReserveDedicatedSL-PRS-RP* is configured to 2;
otherwise 9 bits when the value of the higher layer parameter
*sl-MaxNumPerReserveDedicatedSL-PRS-RP* is configured to 3, as defined
in clause 8.2.4.2A of \[6, TS 38.214\].

\- Resource ID indication
--$\ \left\lceil \log_{2}N_{SL - PRS} \right\rceil\ $bits when the value
of the higher layer parameter *sl-MaxNumPerReserveDedicatedSL-PRS-RP* is
configured to 2; otherwise
$\left\lceil 2\log_{2}N_{SL - PRS} \right\rceil$ bits when the value of
the higher layer parameter *sl-MaxNumPerReserveDedicatedSL-PRS-RP* is
configured to 3. The value $N_{SL - PRS}$ is the total number of SL PRS
resources within a slot in a dedicated SL PRS resource pool and provided
by the higher layer parameter *sl-PRS-ResourcesDedicatedSL-PRS-RP*.

\- SL PRS request -- 1 bit as defined in clause 8.4.4 of \[6, TS
38.214\] when the higher layer parameter
*sl-SCI-basedSL-PRS-TxTriggerSCI1-B* is provided; 0 bit otherwise.

\- Reserved - $N_{reserved}$ bits as configured by higher layer
parameter *sl-NumReservedBitsSCI1B-DedicatedSL-PRS-RP*, with value set
to zero.

Table 8.3.1.2-1: Cast type indicator

  -----------------------------------------------------------------------
  Value of Cast type indicator         Cast type
  ------------------------------------ ----------------------------------
  00                                   Broadcast

  01                                   Groupcast

  10                                   Unicast

  11                                   Reserved
  -----------------------------------------------------------------------

### 8.3.2 CRC attachment

CRC attachment is performed according to clause 7.3.2 except that
scrambling is not performed.

### 8.3.3 Channel coding

Channel coding is performed according to clause 7.3.3.

### 8.3.4 Rate Matching

Rate matching is performed according to clause 7.3.4.

## 8.4 Sidelink control information on PSSCH

SCI carried on PSSCH is a 2^nd^-stage SCI, which transports sidelink
scheduling information, and/or inter-UE coordination related
information.

### 8.4.1 2^nd^-stage SCI formats

The fields defined in each of the 2^nd^-stage SCI formats below are
mapped to the information bits $a_{0}$ to $a_{A - 1}$ as follows:

Each field is mapped in the order in which it appears in the
description, with the first field mapped to the lowest order information
bit $a_{0}\ $and each successive field mapped to higher order
information bits. The most significant bit of each field is mapped to
the lowest order information bit for that field, e.g. the most
significant bit of the first field is mapped to $a_{0}$.

#### 8.4.1.1 SCI format 2-A

SCI format 2-A is used for the decoding of PSSCH, with HARQ operation
when HARQ-ACK information includes ACK or NACK, when HARQ-ACK
information includes only NACK, or when there is no feedback of HARQ-ACK
information.

The following information is transmitted by means of the SCI format 2-A:

\- HARQ process number - $4$ bits.

\- New data indicator - 1 bit.

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2.

\- Source ID - 8 bits as defined in clause 8.1 of \[6, TS 38.214\].

\- Destination ID - 16 bits as defined in clause 8.1 of \[6, TS
38.214\].

\- HARQ feedback enabled/disabled indicator - 1 bit as defined in clause
16.3 of \[5, TS 38.213\].

\- Cast type indicator - 2 bits as defined in Table 8.4.1.1-1 and in
clause 8.1 of \[6, TS 38.214\].

\- CSI request - 1 bit as defined in clause 8.2.1 of \[6, TS 38.214\]
and in clause 8.1 of \[6, TS 38.214\].

If the \'COT sharing flag\' field in SCI format 1-A is present and set
to \'1\', all the remaining fields are set as follows:

\- CAPC -- 2 bits. Values \'00\', \'01\', \'10\' and \'11\' correspond
to CAPC values \'1\', \'2\', \'3\' and \'4\' as defined in Table 4.5-1
of \[14, TS 37.213\], respectively.

\- COT sharing cast type -- 2 bits as defined in Table 8.4.1.1-1.

\- COT sharing additional ID -- 24 bits. The 16 LSBs provide layer 1
destination ID and the 8 MSBs provide layer 1 source ID, as defined in
\[6, TS 38.214\]. The 8 MSBs are reserved when the COT sharing cast type
field is set to \'00\' or \'01\'.

\- Remaining COT duration --
$\left\lceil \text{log}_{\text{2}}\text{(10∙}2^{\mu}\text{)} \right\rceil$
bits as defined in clause 4.5.3 of \[14, TS 37.213\], where $\mu$ is
defined in Table 4.2-1 of Clause 4.2 of \[4, TS 38.211\].

Table 8.4.1.1-1: Cast type indicator or COT sharing cast type

+------------------------+---------------------------------------------+
| **Value of Cast type   | **Cast type**                               |
| indicator or COT       |                                             |
| sharing cast type**    |                                             |
+========================+=============================================+
| 00                     | Broadcast                                   |
+------------------------+---------------------------------------------+
| 01                     | Groupcast                                   |
|                        |                                             |
|                        | when HARQ-ACK information includes ACK or   |
|                        | NACK                                        |
+------------------------+---------------------------------------------+
| 10                     | Unicast                                     |
+------------------------+---------------------------------------------+
| 11                     | Groupcast                                   |
|                        |                                             |
|                        | when HARQ-ACK information includes only     |
|                        | NACK; or                                    |
|                        |                                             |
|                        | reserved, if higher layer parameter         |
|                        | *transmissionStructureForPSCCHandPSSCH* in  |
|                        | *SL-BWP-Config* is configured               |
+------------------------+---------------------------------------------+

#### 8.4.1.2 SCI format 2-B

SCI format 2-B is used for the decoding of PSSCH, with HARQ operation
when HARQ-ACK information includes only NACK, or when there is no
feedback of HARQ-ACK information.

The following information is transmitted by means of the SCI format 2-B:

\- HARQ process number - $4$ bits.

\- New data indicator - 1 bit.

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2.

\- Source ID - 8 bits as defined in clause 8.1 of \[6, TS 38.214\].

\- Destination ID - 16 bits as defined in clause 8.1 of \[6, TS
38.214\].

\- HARQ feedback enabled/disabled indicator - 1 bit as defined in clause
16.3 of \[5, TS 38.213\].

\- Zone ID - 12 bits as defined in clause 5.8.11 of \[9, TS 38.331\].

\- Communication range requirement - 4 bits determined by higher layer
parameter *sl-ZoneConfigMCR-Index*.

#### 8.4.1.3 SCI format 2-C

SCI format 2-C is used for the decoding of PSSCH, and providing inter-UE
coordination information or requesting inter-UE coordination
information. SCI format 2-C can be used only for unicast.

The following information is transmitted by means of the SCI format 2-C:

\- HARQ process number - 4 bits

\- New data indicator - 1 bit

\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2

\- Source ID - 8 bits as defined in clause 8.1 of \[6, TS 38.214\]

\- Destination ID - 16 bits as defined in clause 8.1 of \[6, TS 38.214\]

\- HARQ feedback enabled/disabled indicator - 1 bit as defined in clause
16.3 of \[5, TS 38.213\]

\- CSI request - 1 bit as defined in clause 8.2.1 of \[6, TS 38.214\]
and in clause 8.1 of \[6, TS 38.214\]

\- Providing/Requesting indicator - 1 bit, where value 0 indicates SCI
format 2-C is used for providing inter-UE coordination information and
value 1 indicates SCI format 2-C is used for requesting inter-UE
coordination information

If the \'Providing/Requesting indicator\' field is set to 0, all the
remaining fields are set as follows:

\- Resource combinations -$\ $number of bits determined by the
following:

\- If higher layer parameter *transmissionStructureForPSCCHandPSSCH* in
*SL-BWP-Config* is not configured or configured to \'contigousRB\'

\-
$2 \bullet \left( \left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\left( \text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)\left( \text{2}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ }\text{+}\text{ }\text{1} \right)}{\text{6}}\text{)} \right\rceil + 9 + Y \right)$
bits as defined in Clause 8.1.5A of \[6, TS 38.214\];

\- If the higher layer parameter *transmissionStructureForPSCCHandPSSCH*
in *SL-BWP-Config* is configured to \'interlaceRB\'

\-
$2 \bullet \left( \left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\left( \text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ + 1} \right)\left( \text{2}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}\text{ + 1} \right)}{\text{6}}\text{)} \right\rceil + \left\lceil \text{log}_{\text{2}}\text{(}\frac{N_{RBset}\left( N_{RBset}\text{ + 1} \right)\left( \text{2}N_{RBset}\text{ + 1} \right)}{\text{6}}\text{)} \right\rceil + 9 + Y \right)$
bits as defined in Clause 8.1.5A of \[6, TS 38.214\];

where

\- $Y = \left\lceil \log_{2}N_{rsv\_ period} \right\rceil$ and
$N_{rsv\_ period}$ is the number of entries in the higher layer
parameter *sl-ResourceReservePeriodList*, if higher layer parameter
*sl-MultiReserveResource* is configured;$\ Y = 0$ otherwise.

\- $\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}}$ is
provided by the higher layer parameter *sl-NumSubchannel* as defined in
Clause 8.1.5 of \[6, TS 38.214\].

\- $N_{RBset}$ is the number of RB sets in a resource pool.

\- First resource location - 8 bits as defined in Clause 8.1.5A of \[6,
TS 38.214\].

\- Reference slot location -
($10 + \left\lceil \text{log}_{\text{2}}\text{(10∙}2^{\mu}\text{)} \right\rceil)$
bits as defined in Clause 8.1.5A of \[6, TS 38.214\], where $\mu$ is
defined in Table 4.2-1 of Clause 4.2 of \[4, TS 38.211\].

\- Resource set type - 1 bit, where value 0 indicates preferred resource
set and value 1 indicates non-preferred resource set.

\- Lowest subChannel indices -
$2 \bullet \left\lceil \log_{2}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}} \right\rceil$
bits as defined in Clause 8.1.5A of \[6, TS 38.214\].

\- Lowest RB set indices -
$2 \bullet \left\lceil \log_{2}N_{RBset} \right\rceil$ bits as defined
in Clause 8.1.5A of \[6, TS 38.214\] if the higher layer parameter
*transmissionStructureForPSCCHandPSSCH* in *SL-BWP-Config* is configured
to \'interlaceRB\'; 0 bit otherwise.

If the \'Providing/Requesting indicator\' field is set to 1, all the
remaining fields are set as follows:

\- Priority - 3 bits as specified in clause 5.4.3.3 of \[12, TS 23.287\]
and clause 5.22.1.3.1 of \[8, TS 38.321\]. Value \'000\' of Priority
field corresponds to priority value \'1\', value \'001\' of Priority
field corresponds to priority value \'2\', and so on.

\- Number of subchannels
-$\ \left\lceil \log_{2}\text{N}_{\text{ }\text{subChannel}}^{\text{ }\text{SL}} \right\rceil$
bits as defined in Clause 8.1.4A of \[6, TS 38.214\].

\- Number of RB sets - $\left\lceil \log_{2}N_{RBset} \right\rceil$ bits
as defined in Clause 8.1.4A of \[6, TS 38.214\] if the higher layer
parameter *transmissionStructureForPSCCHandPSSCH* in *SL-BWP-Config* is
configured to \'interlaceRB\'; 0 bit otherwise.

\- Resource reservation period
-$\ \left\lceil \log_{2}N_{rsv\_ period} \right\rceil$ bits as defined
in Clause 8.1.4A of \[6, TS 38.214\], where $N_{rsv\_ period}$ is the
number of entries in the higher layer parameter
*sl-ResourceReservePeriodList*, if higher layer parameter
*sl-MultiReserveResource* is configured; 0 bit otherwise.

\- Resource selection window location -
$2 \bullet \left( 10 + \left\lceil \text{log}_{\text{2}}\text{(10∙}2^{\mu}\text{)} \right\rceil \right)$
bits as defined in Clause 8.1.4A of \[6, TS 38.214\], where $\mu$ is
defined in Table 4.2-1 of Clause 4.2 of \[4, TS 38.211\].

\- Resource set type - 1 bit, where value 0 indicates a request for
inter-UE coordination information providing preferred resource set and
value 1 indicates a request for inter-UE coordination information
providing non-preferred resource set, if higher layer parameter
*sl-DetermineResourceType* is configured to \'ueb\'; otherwise, 0 bit.

\- Padding bits.

For operation in a same resource pool, zeros shall be appended to SCI
format 2-C of which \'Providing/Requesting indicator\' field is set to 1
until the payload size equals that of SCI format 2-C of which
\'Providing/Requesting indicator\' field is set to 0.

#### 8.4.1.4 SCI format 2-D

SCI format 2-D is used for the decoding of PSSCH and the scheduling of
SL PRS for a shared SL PRS resource pool.

The following information is transmitted by means of the SCI format 2-D:

\- SL PRS resource ID
-$\ \left\lceil \log_{2}N_{SL - PRS} \right\rceil\ $bits, where the
value $N_{SL - PRS}$ is the total number of SL PRS resource IDs within a
slot in a shared SL PRS resource pool and provided by the higher layer
parameter *sl-PRS-ResourcesSharedSL-PRS-RP*.

\- SL PRS request -- 1 bit as defined in clause 8.4.4 of \[6, TS
38.214\] when the higher layer parameter
*sl-SCI-based-SL-PRS-Tx-Trigger-SCI2-D* is provided; 0 bit otherwise.

\- Embedded SCI format - 2 bits. This field indicates the embedded SCI
format as defined in Table 8.4.1.4-1.

\- Embedded SCI format payload - number of bits determined according to
Table 8.4.1.4-1. This field is set to the associated payload of the
embedded SCI format indicated by the 'Embedded SCI format' field as
defined in Table 8.4.1.4-1.

Table 8.4.1.4-1: Embedded SCI format and payload

  -----------------------------------------------------------------------
  **Value of the     **Embedded SCI    **Embedded SCI format payload**
  Embedded SCI       format**          
  format field**                       
  ------------------ ----------------- ----------------------------------
  00                 SCI format 2-A    Set to all fields included in SCI
                                       format 2-A. Padding bits, if
                                       necessary, are appended to the
                                       \'Embedded SCI format payload\'
                                       field untill the bitwidth equals
                                       the larger payload size of SCI
                                       format 2-A and SCI format 2-B.

  01                 SCI format 2-B    Set to all fields included in SCI
                                       format 2-B. Padding bits, if
                                       necessary, are appended to the
                                       \'Embedded SCI format payload\'
                                       field untill the bitwidth equals
                                       the larger payload size of SCI
                                       format 2-A and SCI format 2-B.

  10                 Reserved          Reserved

  11                 Reserved          Reserved
  -----------------------------------------------------------------------

### 8.4.2 CRC attachment

CRC attachment is performed according to clause 7.3.2 except that
scrambling is not performed.

### 8.4.3 Channel coding

Channel coding is performed according to clause 7.3.3.

### 8.4.4 Rate Matching

For 2^nd^-stage SCI transmission on PSSCH with SL-SCH, the number of
coded modulation symbols generated for 2^nd^-stage SCI transmission
prior to duplication for the 2nd layer if present, denoted as
$Q_{SCI2}^{'}$, is determined as follows:

$$Q_{SCI2}^{'} = \text{min}\left\{ \left\lceil \frac{\left( O_{SCI2} + L_{SCI2} \right) \bullet \beta_{offset}^{SCI2}}{Q_{m}^{SCI2} \bullet R} \right\rceil,\ \left\lceil \alpha\sum_{l = 0}^{N_{symbol}^{PSSCH} - 1}{M_{sc}^{SCI2}(l)} \right\rceil \right\} + \gamma$$

where

\- $O_{SCI2}$ is the number of the 2^nd^-stage SCI bits

\- $L_{SCI2}$ is the number of CRC bits for the 2^nd^-stage SCI, which
is 24 bits.

\- $\beta_{offset}^{SCI2}$ is indicated in the corresponding 1^st^-stage
SCI.

\- $M_{sc}^{PSSCH}(l)$ is the number of allocated PRBs of PSSCH
transmission $n_{PRB}\ $according to clause 8.1.3.2 in \[6, TS 38.214\],
expressed as a number of subcarriers.

\- $M_{sc}^{PSCCH}(l)$ is the number of subcarriers in OFDM symbol $l$
that carry PSCCH and PSCCH DMRS associated with the PSSCH transmission.

\- $M_{sc}^{SCI2}(l)$ is the number of resource elements that can be
used for transmission of the 2^nd^-stage SCI in OFDM symbol $l$, for
$l = 0,1,2\cdots,N_{symbol}^{PSSCH} - 1$ and for
${N_{symbol}^{PSSCH} = N}_{symb}^{sh} - N_{symb}^{PSFCH} - N_{symb}^{SL\ PRS}$,
in PSSCH transmission, where $N_{symb}^{sh}$$N_{symb}^{slot}$ =
*sl-lengthSymbols* - 2, where *sl-lengthSymbols* is the number of
sidelink symbols within the slot provided by higher layers as defined in
\[6, TS 38.214\]. $N_{symb}^{SL\ PRS}$ is the number of symbols for SL
PRS provided by the higher layer parameter *numSym-SL-PRS-2ndStageSCI*
if the 2^nd^-stage SCI is SCI format 2-D, and $N_{symb}^{SL\ PRS}$ = 0
otherwise. If *startingSymbolFirst* and *startingSymbolSecond* are
provided for the SL-BWP, $N_{symb}^{sh}$$N_{symb}^{slot}$ =
*numRefSymbolLength* - 2, where *numRefSymbolLength* is provided by
higher layers. If higher layer parameter *sl-PSFCH-Period* = 2 or 4,
$N_{symb}^{PSFCH}$ = 3 if \"PSFCH overhead indication\" field of SCI
format 1-A indicates \"1\", and $N_{symb}^{PSFCH}$ = 0 otherwise. If
higher layer parameter *sl-PSFCH-Period* = 0, $N_{symb}^{PSFCH} = 0$. If
higher layer parameter *sl-PSFCH-Period* is 1, $N_{symb}^{PSFCH} = 3$.

\- $M_{sc}^{SCI2}(l)$ = $M_{sc}^{PSSCH}(l)$ - $M_{sc}^{PSCCH}(l)$

\- $\gamma$ is the number of vacant resource elements in the resource
block to which the last coded symbol of the 2^nd^-stage SCI belongs.

\- $R$ is the coding rate as indicated by \"Modulation and coding
scheme\" field in SCI format 1-A.

\- $\alpha$ is configured by higher layer parameter *sl-Scaling*.

The input bit sequence to rate matching is
$d_{0},\ d_{1},d_{2},d_{3},\ \cdots,d_{N - 1}$, where $N$ is the number
of coded bits.

Rate matching is performed according to Clause 5.4.1 by setting
$I_{BIL} = 1$.

The output bit sequence after rate matching is denoted as
$g_{0}^{SCI2},\ g_{1}^{SCI2},\ g_{2}^{SCI2},\ g_{3}^{SCI2},\cdots,\ g_{G^{SCI2} - 1}^{SCI2}$,
where $G^{SCI2} = Q_{SCI2}^{'} \bullet \ Q_{m}^{SCI2}$ and
$Q_{m}^{SCI2}$ is modulation order of the 2^nd^-stage SCI. A UE is not
expected to have$\ G^{SCI2} > 4096$.

### 8.4.5 Multiplexing of coded 2^nd^-stage SCI bits to PSSCH

The coded 2^nd^-stage SCI bits are multiplexed onto PSSCH according to
the procedures in Clause 8.2.1.

########  Annex A (informative): Change history

  --------------------------------------------------------------------------------------------------
  Change                                                                                   
  history                                                                                  
  --------- ---------- ------------ ------ ----- ----- ----------------------------------- ---------
  Date      Meeting    TDoc         CR     Rev   Cat   Subject/Comment                     New
                                                                                           version

  2017-05   RAN1#89    R1-1707082                      Draft skeleton                      0.0.0

  2017-07   AH_NR2     R1-1712014                      Inclusion of LDPC related           0.0.1
                                                       agreements                          

  2017-08   RAN1#90    R1-1714564                      Inclusion of Polar coding related   0.0.2
                                                       agreements                          

  2017-08   RAN1#90    R1-1714659                      Endorsed version by RAN1#90 as      0.1.0
                                                       basis for further updates           

  2017-09   RAN1#90    R1-1715322                      Capturing additional agreements on  0.1.1
                                                       LDPC and Polar code from RAN1 #90   

  2017-09   RAN#77     RP-171991                       For information to plenary          1.0.0

  2017-09   RAN1#90b   R1-1716928                      Capturing additional agreements on  1.0.1
                                                       LDPC and Polar code from RAN1 NR    
                                                       AH#3                                

  2017-10   RAN1#90b   R1-1719106                      Endorsed as v1.1.0                  1.1.0

  2017-11   RAN1#91    R1-1719225                      Capturing additional agreements on  1.1.1
                                                       channel coding, etc.                

  2017-11   RAN1#91    R1-1719245                      Capturing additional agreements on  1.1.2
                                                       DCI format, channel coding, etc.    

  2017-11   RAN1#91    R1-1721049                      Endorsed as v1.2.0                  1.2.0

  2017-12   RAN1#91    R1-1721342                      Capturing additional agreements on  1.2.1
                                                       UCI, DCI, channel coding, etc.      

  2017-12   RAN#78     RP-172668                       Endorsed version for approval by    2.0.0
                                                       plenary.                            

  2017-12   RAN#78                                     Approved by plenary - Rel-15 spec   15.0.0
                                                       under change control                

  2018-03   RAN#79     RP-180200    0001   \-    F     CR capturing the Jan18 ad-hoc and   15.1.0
                                                       RAN1#92 meeting agreements          

  2018-04   RAN#79                                     MCC: correction of typo in DCI      15.1.1
                                                       format 0_1 (time domain resource    
                                                       assignment) - higher layer          
                                                       parameter should be                 
                                                       *pusch-AllocationList*              

  2018-06   RAN#80     RP-181172    0002   1     F     CR to 38.212 capturing the          15.2.0
                                                       RAN1#92bis and RAN1#93 meeting      
                                                       agreements                          

  2018-06   RAN#80     RP-181257    0003   \-    B     CR to 38.212 capturing the          15.2.0
                                                       RAN1#92bis and RAN1#93 meeting      
                                                       agreements related to URLLC         

  2018-09   RAN#81     RP-181789    0004   \-    F     CR to 38.212 capturing the RAN1#94  15.3.0
                                                       meeting agreements                  

  2018-12   RAN#82     RP-182523    0005   3     F     Combined CR of all essential        15.4.0
                                                       corrections to 38.212 from          
                                                       RAN1#94bis and RAN1#95              

  2019-03   RAN#83     RP-190448    0006   \-    F     Correction of wrong implementation  15.5.0
                                                       on frequency domain resource        
                                                       assignment bitwidth                 

  2019-03   RAN#83     RP-190448    0008   \-    F     Correction to UCI multiplexing      15.5.0

  2019-03   RAN#83     RP-190448    0009   \-    F     Correction on DCI format 2_3 for    15.5.0
                                                       SUL cell in TS 38.212               

  2019-03   RAN#83     RP-190448    0010   \-    F     Corrections to TS38.212             15.5.0

  2019-03   RAN#83     RP-190448    0011   \-    F     On bitwidth calculation for DCI     15.5.0
                                                       fields using RRC parameter          
                                                       indicating maximum number of MIMO   
                                                       layers per serving cell             

  2019-03   RAN#83     RP-190448    0012   \-    F     CR on zero-padding of DCI 1_1 in    15.5.0
                                                       cross-carrier scheduling case       

  2019-03   RAN#83     RP-190448    0013   \-    F     Clarification on UL_SUL indicator   15.5.0
                                                       field and SRS request field         

  2019-06   RAN#84     RP-191282    0014   \-    F     CR on correction to bitwidth of     15.6.0
                                                       NNZC indicator                      

  2019-06   RAN#84     RP-191282    0015   \-    F     Correction on DCI size alignment in 15.6.0
                                                       TS 38.212                           

  2019-06   RAN#84     RP-191282    0016   \-    F     Correction on UL/SUL indicator in   15.6.0
                                                       DCI format 0_0                      

  2019-06   RAN#84     RP-191282    0017   \-    F     Corrections to 38.212 including     15.6.0
                                                       alignment of terminology across     
                                                       specifications                      

  2019-06   RAN#84     RP-191282    0018   \-    F     CR on maximum modulation order      15.6.0
                                                       configured for serving cell         

  2019-06   RAN#84     RP-191282    0019   1     F     Corrections to 38.212 including     15.6.0
                                                       alignment of terminology across     
                                                       specifications from RAN1#97         

  2019-09   RAN#85     RP-191941    0020   \-    F     Corrections to 38.212 including     15.7.0
                                                       alignment of terminology across     
                                                       specifications in RAN1#98           

  2019-12   RAN#86     RP-192625    0021   \-    F     CR on UL/SUL indicator in DCI       15.8.0
                                                       format 0_1                          

  2019-12   RAN#86     RP-192625    0022   \-    F     Corrections to 38.212 including     15.8.0
                                                       alignment of terminology across     
                                                       specifications in RAN1#98bis and    
                                                       RAN1#99                             

  2019-12   RAN#86     RP-192636    0023   \-    B     Introduction of NR based access to  16.0.0
                                                       unlicensed spectrum into 38.212     

  2019-12   RAN#86     RP-192637    0024   \-    B     Introduction of IAB into 38.212     16.0.0

  2019-12   RAN#86     RP-192638    0025   \-    B     Introduction of 5G V2X sidelink     16.0.0
                                                       features into TS 38.212             

  2019-12   RAN#86     RP-192639    0026   \-    B     Introduction of Physical Layer      16.0.0
                                                       Enhancements for NR URLLC           

  2019-12   RAN#86     RP-192641    0027   \-    B     Introduction of Enhancements on NR  16.0.0
                                                       MIMO                                

  2019-12   RAN#86     RP-192642    0028   \-    B     Introduction of power saving in     16.0.0
                                                       38.212                              

  2019-12   RAN#86     RP-192645    0029   \-    B     Introduction of MR DC/CA            16.0.0

  2019-12   RAN#86     RP-192643    0030   \-    B     Introduction of NR positioning      16.0.0
                                                       support                             

  2019-12   RAN#86     RP-192635    0031   \-    B     Introduction of two-step RACH       16.0.0

  2020-03   RAN#87-e   RP-200185    0032   \-    F     Corrections for Rel-16 NR-U after   16.1.0
                                                       RAN1#100-e                          

  2020-03   RAN#87-e   RP-200190    0033   \-    F     Corrections for NR MIMO after       16.1.0
                                                       RAN1#100-e                          

  2020-03   RAN#87-e   RP-200188    0034   \-    F     Corrections for URLLC after         16.1.0
                                                       RAN1#100-e                          

  2020-03   RAN#87-e   RP-200191    0035   \-    F     Corrections for power saving after  16.1.0
                                                       RAN1#100-e                          

  2020-03   RAN#87-e   RP-200187    0036   \-    F     Corrections on 5G V2X sidelink      16.1.0
                                                       features after RAN1#100-e           

  2020-06   RAN#88-e   RP-200683    0038   \-    A     CR on L1-RSRP report on PUSCH       16.2.0

  2020-06   RAN#88-e   RP-200693    0039   1     F     Corrections for power saving        16.2.0

  2020-06   RAN#88-e   RP-200689    0040   1     F     Corrections on 5G V2X sidelink      16.2.0
                                                       features after RAN1#100bis-e and    
                                                       RAN1#101-e                          

  2020-06   RAN#88-e   RP-200694    0041   1     F     Corrections in TS 38.212 for NR     16.2.0
                                                       positioning                         

  2020-06   RAN#88-e   RP-200692    0042   1     F     Corrections in TS 38.212 for NR     16.2.0
                                                       MIMO                                

  2020-06   RAN#88-e   RP-200696    0043   \-    F     Corrections for Rel-16 MR-DC/CA     16.2.0
                                                       after RAN1#100bis-e                 

  2020-06   RAN#88-e   RP-200690    0044   1     F     Corrections on NR eURLLC            16.2.0

  2020-06   RAN#88-e   RP-200687    0045   1     F     Corrections for Rel-16 NR-U         16.2.0

  2020-06   RAN#88-e   RP-200688    0046   \-    F     Corrections for NR IAB              16.2.0

  2020-09   RAN#89-e   RP-201814    0047   \-    F     Correction on UCI bit sequence      16.3.0
                                                       generation                          

  2020-09   RAN#89-e   RP-201803    0049   \-    A     CR on PTRS for TS 38.212            16.3.0

  2020-09   RAN#89-e   RP-201810    0050   \-    F     Alignment of RRC parameter          16.3.0
                                                       *ps-RNTI*                           

  2020-09   RAN#89-e   RP-201813    0051   \-    F     CR to 38.212 on RRC parameter       16.3.0
                                                       alignment for SCell dormancy        

  2020-09   RAN#89-e   RP-201807    0052   \-    F     Corrections on 5G V2X sidelink      16.3.0
                                                       features                            

  2020-09   RAN#89-e   RP-201809    0053   \-    F     Corrections to MIMO enhancements    16.3.0

  2020-09   RAN#89-e   RP-201805    0054   \-    F     Corrections to MIMO enhancements    16.3.0

  2020-09   RAN#89-e   RP-201808    0055   \-    F     Corrections on NR eURLLC            16.3.0

  2020-12   RAN#90-e   RP-202390    0056   \-    F     RRC IE name fix to dynamic          16.4.0
                                                       frequency domain resource           
                                                       allocation type selection (Rel-15   
                                                       origin)                             

  2020-12   RAN#90-e   RP-202384    0057   \-    F     Correction on Transmission          16.4.0
                                                       configuration indication in DCI     
                                                       format 1_2                          

  2020-12   RAN#90-e   RP-202398    0058   \-    F     Alignment CR for TS 38.212          16.4.0

  2021-03   RAN#91-e   RP-210052    0059   \-    F     CR on DMRS                          16.5.0

  2021-03   RAN#91-e   RP-210049    0060   \-    F     Correction to description of FDRA   16.5.0
                                                       field size in DCI 0_0               

  2021-03   RAN#91-e   RP-210049    0061   \-    F     Correction to description of FDRA   16.5.0
                                                       field interpretation in DCI 0_1     

  2021-03   RAN#91-e   RP-210050    0062   \-    F     Correction on Sidelink Broadcast    16.5.0
                                                       channel                             

  2021-03   RAN#91-e   RP-210049    0063   \-    F     Correction on LBT Type and CP       16.5.0
                                                       Extension Indication for            
                                                       Semi-Static Channel Occupancy       

  2021-03   RAN#91-e   RP-210059    0064   \-    F     Alignment CR for TS 38.212          16.5.0

  2021-06   RAN#92-e   RP-211252    0066   \-    F     38.212 CR on DAI size determination 16.6.0
                                                       for DCI format 1_1/1-2 in CA        

  2021-06   RAN#92-e   RP-211236    0067   \-    F     Corrections on parameter of MCS     16.6.0
                                                       table set to qam256                 

  2021-06   RAN#92-e   RP-211234    0068   \-    D     Alignment CR for TS 38.212 (post    16.6.0
                                                       RAN1#104bis-e)                      

  2021-06   RAN#92-e   RP-211234    0069   \-    F     Correction on HARQ-ACK codebook RRC 16.6.0
                                                       parameter                           

  2021-06   RAN#92-e   RP-211236    0070   \-    F     Correction on SRS resource set      16.6.0
                                                       configuration in TS 38.212          

  2021-06   RAN#92-e   RP-211243    0071   \-    F     Alignment CR for TS 38.212 (post    16.6.0
                                                       RAN1#105-e)                         

  2021-09   RAN#93-e   RP-211843    0072   \-    F     Correction on SRS resource set      16.7.0
                                                       configuration for DCI format 0_2 in 
                                                       TS 38.212                           

  2021-09   RAN#93-e   RP-211841    0074   \-    A     Rel-15 editorial corrections for TS 16.7.0
                                                       38.212 (mirrored to Rel-16)         

  2021-09   RAN#93-e   RP-211850    0075   \-    F     Alignment CR for TS 38.212          16.7.0

  2021-12   RAN#94-e   RP-212959    0076   \-    F     Correction on mapping between       16.8.0
                                                       priority field value and priority   
                                                       value in SCI format 1-A             

  2021-12   RAN#94-e   RP-212961    0077   \-    F     Changes of channel access types     16.8.0
                                                       tables in TS 38.212                 

  2021-12   RAN#94-e   RP-212961    0078   \-    F     Corrections on CG-UCI multiplexing  16.8.0
                                                       in TS38.212                         

  2021-12   RAN#94-e   RP-212958    0080   \-    A     Clarify UCI bitwidth and UCI        16.8.0
                                                       mapping order for non-PMI based CSI 
                                                       feedback                            

  2021-12   RAN#94-e   RP-213238    0081   \-    F     Clarification on KNZ to codepoint   16.8.0
                                                       mapping for eType II CSI            

  2021-12   RAN#94-e   RP-212958    0083   \-    A     Rel-15 editorial corrections for TS 16.8.0
                                                       38.212 (mirrored to Rel-16)         

  2021-12   RAN#94-e   RP-212964    0084   \-    F     Alignment CR for TS 38.212          16.8.0

  2021-12   RAN#94-e   RP-212967    0085   \-    B     Introduction of features to extend  17.0.0
                                                       current NR operation to 71 GHz      

  2021-12   RAN#94-e   RP-212982    0086   \-    B     Introduction of NR DL 1024QAM for   17.0.0
                                                       FR1                                 

  2021-12   RAN#94-e   RP-212973    0087   \-    B     Introduction of Coverage            17.0.0
                                                       Enhancements                        

  2021-12   RAN#94-e   RP-212979    0088   \-    B     Introduction of NR Multicast and    17.0.0
                                                       Broadcast Services                  

  2021-12   RAN#94-e   RP-212966    0089   \-    B     Introduction of Further             17.0.0
                                                       enhancements on MIMO for NR         

  2021-12   RAN#94-e   RP-212969    0090   \-    B     Introduction of NR non-terrestrial  17.0.0
                                                       networks (NTN)                      

  2021-12   RAN#94-e   RP-212972    0091   \-    B     Introduction of Rel-17 UE power     17.0.0
                                                       saving enhancements                 

  2021-12   RAN#94-e   RP-212968    0092   \-    B     Introduction of Rel-17 enhanced     17.0.0
                                                       IIoT and URLLC                      

  2021-12   RAN#94-e   RP-212980    0093   \-    B     Introduction of NR dynamic spectrum 17.0.0
                                                       sharing enhancements                

  2021-12   RAN#94-e   RP-212978    0094   \-    B     Introduction of NR sidelink         17.0.0
                                                       enhancement                         

  2022-03   RAN#95-e   RP-220269    0096   \-    A     Correction of NZC partitioning in   17.1.0
                                                       eType II CSI                        

  2022-03   RAN#95-e   RP-220248    0098   \-    A     Correction on Rel-16 UE dormancy    17.1.0
                                                       adaptation                          

  2022-03   RAN#95-e   RP-220252    0099   \-    F     Corrections on enhanced IIoT and    17.1.0
                                                       URLLC in 38.212                     

  2022-03   RAN#95-e   RP-220262    0100   \-    F     Corrections on NR sidelink          17.1.0
                                                       enhancement in 38.212               

  2022-03   RAN#95-e   RP-220257    0101   \-    F     Corrections on coverage             17.1.0
                                                       enhancements in 38.212              

  2022-03   RAN#95-e   RP-220263    0102   \-    F     Corrections on NR Multicast and     17.1.0
                                                       Broadcast Services in 38.212        

  2022-03   RAN#95-e   RP-220256    0103   \-    F     Corrections on UE power saving      17.1.0
                                                       enhancements in 38.212              

  2022-03   RAN#95-e   RP-220251    0104   \-    F     Correction on extension of current  17.1.0
                                                       NR operation to 71 GHz in 38.212    

  2022-03   RAN#95-e   RP-220264    0105   \-    F     Corrections on NR dynamic spectrum  17.1.0
                                                       sharing enhancements in 38.212      

  2022-03   RAN#95-e   RP-220250    0106   \-    F     Corrections on Further enhancements 17.1.0
                                                       on MIMO for NR in TS 38.212         

  2022-06   RAN#96     RP-221617    0108   \-    A     Clarification of TPMI indication    17.2.0
                                                       for UL full power transmission      

  2022-06   RAN#96     RP-221602    0109   \-    F     Corrections on enhanced IIoT and    17.2.0
                                                       URLLC in 38.212                     

  2022-06   RAN#96     RP-221612    0110   \-    F     Corrections on NR Multicast and     17.2.0
                                                       Broadcast Services in 38.212        

  2022-06   RAN#96     RP-221606    0111   \-    F     Corrections on UE power saving      17.2.0
                                                       enhancements in 38.212              

  2022-06   RAN#96     RP-221601    0112   \-    F     Correction on extension of current  17.2.0
                                                       NR operation to 71 GHz in 38.212    

  2022-06   RAN#96     RP-221600    0113   \-    F     Corrections on Further enhancements 17.2.0
                                                       on MIMO for NR in TS 38.212         

  2022-06   RAN#96     RP-221599    0115   \-    A     Rel-16 editorial corrections for TS 17.2.0
                                                       38.212 (mirrored to Rel-17)         

  2022-09   RAN#97-e   RP-222403    0116   1     F     CR on DCI size for Rel-17 NTN HARQ  17.3.0
                                                       in 38.212                           

  2022-09   RAN#97-e   RP-222400    0117   \-    F     CR on the description of the SRS    17.3.0
                                                       resource set indication for PUSCH   
                                                       repetition                          

  2022-09   RAN#97-e   RP-222401    0118   \-    F     CR on ChannelAccess-Cpext in        17.3.0
                                                       Fallback DCI                        

  2022-09   RAN#97-e   RP-222413    0119   \-    F     CR on DCI size alignment for        17.3.0
                                                       Cross-carrier scheduling from SCell 
                                                       to PCell                            

  2022-09   RAN#97-e   RP-222406    0120   \-    F     Corrections on UE Power Saving      17.3.0
                                                       Enhancements for NR in TS 38.212    

  2022-09   RAN#97-e   RP-222412    0121   \-    F     Corrections on NR Multicast and     17.3.0
                                                       Broadcast Services in 38.212        

  2022-09   RAN#97-e   RP-222411    0122   \-    F     Correction on NR sidelink           17.3.0
                                                       enhancement                         

  2022-09   RAN#97-e   RP-222422    0123   \-    F     Rel-17 editorial corrections for TS 17.3.0
                                                       38.212                              

  2022-12   RAN#98-e   RP-222863    0124   \-    F     Corrections on resource pool index  17.4.0

  2022-12   RAN#98-e   RP-222853    0125   \-    F     CR on channel access type           17.4.0
                                                       indication in non-fallback DCI      

  2022-12   RAN#98-e   RP-222853    0126   \-    F     Correction to support up to 32 HARQ 17.4.0
                                                       process numbers for FR2-2           

  2022-12   RAN#98-e   RP-222853    0127   \-    F     Correction on TDRA for multiple     17.4.0
                                                       PUSCH scheduling in TS 38.212       

  2022-12   RAN#98-e   RP-222854    0128   \-    F     CR on priority of CG-UCI            17.4.0

  2022-12   RAN#98-e   RP-222864    0129   \-    F     CR on number of HARQ-ACK codebooks  17.4.0
                                                       configurable for multicast          

  2022-12   RAN#98-e   RP-222865    0130   \-    F     CR on DCI size alignment for        17.4.0
                                                       Cross-carrier schduling from SCell  
                                                       to PCell                            

  2022-12   RAN#98-e   RP-222868    0131   1     F     Rel-17 editorial corrections for TS 17.4.0
                                                       38.212                              

  2022-12   RAN#98-e   RP-222858    0132   \-    F     Correction on the short message     17.4.0
                                                       indicator when TRS availability     
                                                       indication is present               

  2022-12   RAN#98-e   RP-222864    0133   \-    F     CR on format 4_0 DCI size alignment 17.4.0
                                                       in SCell                            

  2022-12   RAN#98-e   RP-222870    0134   \-    F     CR on CSI reporting                 17.4.0

  2023-03   RAN#99     RP-230451    0135   \-    F     CR on aligning DCI sizes when       17.5.0
                                                       configuring two HARQ-ACK codebooks  
                                                       for multicast                       

  2023-03   RAN#99     RP-230443    0136   \-    F     Corrections on intra-UE             17.5.0
                                                       multiplexing and semi-static        
                                                       channel occupancy                   

  2023-03   RAN#99     RP-230442    0137   \-    F     CR on DCI field sizes for multiple  17.5.0
                                                       PDSCHs scheduled by single DCI      

  2023-03   RAN#99     RP-230442    0138   \-    F     Corrections to ChanneAccess-CPext   17.5.0
                                                       field in DCI formats x_2 in         
                                                       TS38.212                            

  2023-03   RAN#99     RP-230440    0140   \-    A     Rel-16 editorial corrections for TS 17.5.0
                                                       38.212 (mirrored to Rel-17)         

  2023-03   RAN#99     RP-230453    0141   \-    F     Rel-17 editorial corrections for TS 17.5.0
                                                       38.212                              

  2023-09   RAN#101    RP-232445    0142   \-    F     Correction for the mapping of rank  17.6.0
                                                       combination value for Rel-17 NCJT   
                                                       CSI                                 

  2023-09   RAN#101    RP-232531    0143   \-    F     Rel-17 editorial corrections for TS 17.6.0
                                                       38.212                              

  2023-09   RAN#101    RP-232471    0144   \-    B     Introduction of Rel-18              18.0.0
                                                       Multi-carrier enhancements          

  2023-09   RAN#101    RP-232458    0145   \-    B     Introduction of Rel-18 MIMO         18.0.0
                                                       Evolution for Downlink and Uplink   

  2023-09   RAN#101    RP-232473    0146   \-    B     Introduction of Rel-18 Further NR   18.0.0
                                                       mobility enhancements               

  2023-09   RAN#101    RP-232474    0147   \-    B     Introduction of Rel-18 NR NTN       18.0.0
                                                       enhancements                        

  2023-09   RAN#101    RP-232480    0148   \-    B     Introduction of NR positioning      18.0.0
                                                       enhancement in Rel-18               

  2023-09   RAN#101    RP-232469    0149   \-    B     Introduction of Rel-18 NR sidelink  18.0.0
                                                       evolution                           

  2023-09   RAN#101    RP-232479    0150   \-    B     Introduction of Rel-18 network      18.0.0
                                                       controlled repeaters                

  2023-09   RAN#101    RP-232481    0151   \-    B     Introduction of Rel-18 network      18.0.0
                                                       energy saving for NR                

  2023-09   RAN#101    RP-232472    0152   \-    B     Introduction of Rel-18 further NR   18.0.0
                                                       Coverage enhancement                

  2023-09   RAN#101    RP-232477    0154   \-    B     Introduction of Rel-18 NR support   18.0.0
                                                       for dedicated spectrum less than    
                                                       5MHz for FR1                        

  2023-09   RAN#101    RP-232482    0155   \-    B     Introduction of Rel-18 XR           18.0.0
                                                       enhancements for NR                 

  2023-12   RAN#102    RP-233703    0158   1     A     Correction on the rate matching     18.1.0
                                                       when HARQ-ACK multiplexed with      
                                                       CG-PUSCH                            

  2023-12   RAN#102    RP-233727    0160   \-    A     Correction on CSI reporting for 1   18.1.0
                                                       CSI-RS port                         

  2023-12   RAN#102    RP-233728    0162   \-    A     Rel-17 editorial corrections for TS 18.1.0
                                                       38.212 (mirrored to Rel-18)         

  2023-12   RAN#102    RP-233719    0163   \-    F     Corrections on NR positioning       18.1.0
                                                       enhancement in 38.212               

  2023-12   RAN#102    RP-233706    0164   \-    F     Corrections on Rel-18 NR sidelink   18.1.0
                                                       evolution in 38.212                 

  2023-12   RAN#102    RP-233709    0165   \-    F     Corrections on Rel-18 further NR    18.1.0
                                                       Coverage enhancement in 38.212      

  2023-12   RAN#102    RP-233710    0166   \-    F     Corrections on Rel-18 Further NR    18.1.0
                                                       mobility enhancements in 38.212     

  2023-12   RAN#102    RP-233705    0167   \-    F     Corrections on Rel-18 MIMO          18.1.0
                                                       Evolution for Downlink and Uplink   
                                                       in 38.212                           

  2023-12   RAN#102    RP-233708    0168   \-    F     Corrections on Rel-18 Multi-carrier 18.1.0
                                                       enhancements in 38.212              

  2023-12   RAN#102    RP-233720    0169   \-    F     Corrections on Rel-18 network       18.1.0
                                                       energy saving for NR in 38.212      

  2023-12   RAN#102    RP-233714    0170   \-    F     Corrections on Rel-18 NR NTN        18.1.0
                                                       enhancements in 38.212              

  2023-12   RAN#102    RP-233721    0171   \-    F     Corrections on Rel-18 XR            18.1.0
                                                       enhancements for NR in 38.212       

  2023-12   RAN#102    RP-233729    0172   \-    B     Introduction of Rel-18 NR           18.1.0
                                                       demodulation performance evoluation 

  2023-12   RAN#102    RP-233733    0173   \-    B     Introduction of Rel-18 enhancements 18.1.0
                                                       of NR Multicast and Broadcast       
                                                       Services                            

  2023-12   RAN#102    RP-233718    0174   \-    F     Corrections on Rel-18 network       18.1.0
                                                       controlled repeaters in 38.212      

  2024-03   RAN#103    RP-240534    0176   \-    A     Clarification on typeA SRS TPC      18.2.0
                                                       commands for SUL                    

  2024-03   RAN#103    RP-240515    0178   \-    A     CR on reportQuantity for RSRP/SINR  18.2.0
                                                       in TS38.212                         

  2024-03   RAN#103    RP-240530    0179   \-    F     Correction of RRC parameter names   18.2.0
                                                       for UTO-UCI indication              

  2024-03   RAN#103    RP-240536    0181   \-    A     Rel-16 editorial corrections for TS 18.2.0
                                                       38.212 (mirrored to Rel-18)         

  2024-03   RAN#103    RP-240537    0183   \-    F     Rel-18 editorial corrections for TS 18.2.0
                                                       38.212                              

  2024-03   RAN#103    RP-240520    0184   \-    F     Corrections on Rel-18 Multi-carrier 18.2.0
                                                       enhancements in 38.212              

  2024-03   RAN#103    RP-240518    0185   \-    F     Corrections on Rel-18 MIMO          18.2.0
                                                       Evolution for Downlink and Uplink   
                                                       in 38.212                           

  2024-03   RAN#103    RP-240528    0186   \-    F     Corrections on NR positioning       18.2.0
                                                       enhancement in 38.212               

  2024-03   RAN#103    RP-240519    0187   \-    F     Corrections on Rel-18 NR sidelink   18.2.0
                                                       evolution in 38.212                 
  --------------------------------------------------------------------------------------------------
