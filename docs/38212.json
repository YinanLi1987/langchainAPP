{
    "page_content": "\nContents\nForeword\t6\n1\tScope\t8\n2\tReferences\t8\n3\tDefinitions of terms, symbols and abbreviations\t8\n3.1\tTerms\t8\n3.2\tSymbols\t8\n3.3\tAbbreviations\t9\n4\tMapping to physical channels\t10\n4.1\tUplink\t10\n4.2\tDownlink\t10\n4.3\tSidelink\t10\n5\tGeneral procedures\t11\n5.1\tCRC calculation\t11\n5.2\tCode block segmentation and code block CRC attachment\t12\n5.2.1\tPolar coding\t12\n5.2.2\tLow density parity check coding\t12\n5.3\tChannel coding\t14\n5.3.1\tPolar coding\t15\n5.3.1.1\tInterleaving\t15\n5.3.1.2\tPolar encoding\t16\n5.3.2\tLow density parity check coding\t19\n5.3.3\tChannel coding of small block lengths\t24\n5.3.3.1\tEncoding of 1-bit information\t24\n5.3.3.2\tEncoding of 2-bit information\t25\n5.3.3.3\tEncoding of other small block lengths\t25\n5.4\tRate matching\t26\n5.4.1\tRate matching for Polar code\t26\n5.4.1.1\tSub-block interleaving\t26\n5.4.1.2\tBit selection\t27\n5.4.1.3\tInterleaving of coded bits\t28\n5.4.2\tRate matching for LDPC code\t29\n5.4.2.1\tBit selection\t29\n5.4.2.2\tBit interleaving\t32\n5.4.3\tRate matching for channel coding of small block lengths\t32\n5.5\tCode block concatenation\t33\n6\tUplink transport channels and control information\t33\n6.1\tRandom access channel\t33\n6.2\tUplink shared channel\t33\n6.2.1\tTransport block CRC attachment\t33\n6.2.2\tLDPC base graph selection\t34\n6.2.3\tCode block segmentation and code block CRC attachment\t34\n6.2.4\tChannel coding of UL-SCH\t34\n6.2.5\tRate matching\t34\n6.2.6\tCode block concatenation\t35\n6.2.7\tData and control multiplexing\t35\n6.3\tUplink control information\t46\n6.3.1\tUplink control information on PUCCH\t46\n6.3.1.1\tUCI bit sequence generation\t47\n6.3.1.1.1\tHARQ-ACK/SR only\t47\n6.3.1.1.2\tCSI only\t47\n6.3.1.1.3\tHARQ-ACK/SR and CSI\t65\n6.3.1.1.4\tUCI with different priority indexes\t66\n6.3.1.2\tCode block segmentation and CRC attachment\t66\n6.3.1.2.1\tUCI encoded by Polar code\t66\n6.3.1.2.2\tUCI encoded by channel coding of small block lengths\t67\n6.3.1.3\tChannel coding of UCI\t67\n6.3.1.3.1\tUCI encoded by Polar code\t67\n6.3.1.3.2\tUCI encoded by channel coding of small block lengths\t67\n6.3.1.4\tRate matching\t67\n6.3.1.4.1\tUCI encoded by Polar code\t67\n6.3.1.4.2\tUCI encoded by channel coding of small block lengths\t68\n6.3.1.4.3\tUCI with different priority indexes encoded by Polar code\t69\n6.3.1.4.4\tUCI with different priority indexes encoded by channel coding of small block lengths\t69\n6.3.1.5\tCode block concatenation\t69\n6.3.1.6\tMultiplexing of coded UCI bits to PUCCH\t70\n6.3.2\tUplink control information on PUSCH\t72\n6.3.2.1\tUCI bit sequence generation\t72\n6.3.2.1.1\tHARQ-ACK\t72\n6.3.2.1.2\tCSI\t73\n6.3.2.1.3\tCG-UCI\t95\n6.3.2.1.3A\tUTO-UCI\t96\n6.3.2.1.4\tHARQ-ACK and CG-UCI/UTO-UCI\t96\n6.3.2.1.5\tUCI with different priority indexes\t97\n6.3.2.2\tCode block segmentation and CRC attachment\t99\n6.3.2.2.1\tUCI encoded by Polar code\t99\n6.3.2.2.2\tUCI encoded by channel coding of small block lengths\t99\n6.3.2.3\tChannel coding of UCI\t99\n6.3.2.3.1\tUCI encoded by Polar code\t99\n6.3.2.3.2\tUCI encoded by channel coding of small block lengths\t99\n6.3.2.4\tRate matching\t99\n6.3.2.4.1\tUCI encoded by Polar code\t99\n6.3.2.4.2\tUCI encoded by channel coding of small block lengths\t113\n6.3.2.5\tCode block concatenation\t116\n6.3.2.6\tMultiplexing of coded UCI bits to PUSCH\t116\n6.3.2.7\tMultiplexing of coded UCI bits with different priority indexes to PUSCH\t116\n7\tDownlink transport channels and control information\t117\n7.1\tBroadcast channel\t117\n7.1.1\tPBCH payload generation\t117\n7.1.2\tScrambling\t118\n7.1.3\tTransport block CRC attachment\t119\n7.1.4\tChannel coding\t119\n7.1.5\tRate matching\t120\n7.2\tDownlink shared channel and paging channel\t120\n7.2.1\tTransport block CRC attachment\t120\n7.2.2\tLDPC base graph selection\t120\n7.2.3\tCode block segmentation and code block CRC attachment\t120\n7.2.4\tChannel coding\t120\n7.2.5\tRate matching\t121\n7.2.6\tCode block concatenation\t121\n7.3\tDownlink control information\t121\n7.3.1\tDCI formats\t121\n7.3.1.0\tDCI size alignment\t123\n7.3.1.0.1\tDCI size alignment for DCI formats for scheduling of sidelink\t126\n7.3.1.1\tDCI formats for scheduling of PUSCH\t126\n7.3.1.1.1\tFormat 0_0\t126\n7.3.1.1.2\tFormat 0_1\t130\n7.3.1.1.3\tFormat 0_2\t202\n7.3.1.1.4\tFormat 0_3\t214\n7.3.1.2\tDCI formats for scheduling of PDSCH\t224\n7.3.1.2.1\tFormat 1_0\t224\n7.3.1.2.2\tFormat 1_1\t228\n7.3.1.2.3\tFormat 1_2\t254\n7.3.1.2.4\tFormat 1_3\t259\n7.3.1.3\tDCI formats for other purposes\t268\n7.3.1.3.1\tFormat 2_0\t268\n7.3.1.3.2\tFormat 2_1\t268\n7.3.1.3.3\tFormat 2_2\t268\n7.3.1.3.4\tFormat 2_3\t269\n7.3.1.3.5\tFormat 2_4\t270\n7.3.1.3.6\tFormat 2_5\t270\n7.3.1.3.7\tFormat 2_6\t270\n7.3.1.3.8\tFormat 2_7\t270\n7.3.1.3.9\tFormat 2_8\t271\n7.3.1.3.10\tFormat 2_9\t271\n7.3.1.4\tDCI formats for scheduling of sidelink\t272\n7.3.1.4.1\tFormat 3_0\t272\n7.3.1.4.2\tFormat 3_1\t273\n7.3.1.4.3\tFormat 3_2\t273\n7.3.1.5\tDCI formats for scheduling of MBS\t274\n7.3.1.5.1\tFormat 4_0\t274\n7.3.1.5.2\tFormat 4_1\t274\n7.3.1.5.3\tFormat 4_2\t275\n7.3.2\tCRC attachment\t277\n7.3.3\tChannel coding\t277\n7.3.4\tRate matching\t277\n8\tSidelink transport channels and control information\t277\n8.1\tSidelink broadcast channel\t277\n8.1.1\tVoid\t278\n8.2\tSidelink shared channel\t278\n8.2.1\tData and control multiplexing\t278\n8.3\tSidelink control information on PSCCH\t279\n8.3.1\t1st-stage SCI formats\t279\n8.3.1.1\tSCI format 1-A\t279\n8.3.1.2\tSCI format 1-B\t281\n8.3.2\tCRC attachment\t282\n8.3.3\tChannel coding\t282\n8.3.4\tRate Matching\t282\n8.4\tSidelink control information on PSSCH\t282\n8.4.1\t2nd-stage SCI formats\t282\n8.4.1.1\tSCI format 2-A\t282\n8.4.1.2\tSCI format 2-B\t283\n8.4.1.3\tSCI format 2-C\t284\n8.4.1.4\tSCI format 2-D\t285\n8.4.2\tCRC attachment\t286\n8.4.3\tChannel coding\t286\n8.4.4\tRate Matching\t286\n8.4.5\tMultiplexing of coded 2nd-stage SCI bits to PSSCH\t287\nAnnex A (informative):\tChange history\t288\n\nForeword\nThis Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\t\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\t\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\t\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\t\tindicates that something is possible\ncannot\t\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\t\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\t\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n1\tScope\nThe present document specifies the coding, multiplexing and mapping to physical channels for 5G NR.\n2\tReferences\nThe following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP\u00a0TR\u00a021.905: \"Vocabulary for 3GPP Specifications\".\n[2]\tvoid.\n[3]\tvoid.\n[4]\t3GPP TS 38.211: \"NR; Physical channels and modulation\".\n[5]\t3GPP TS 38.213: \"NR; Physical layer procedures for control\".\n[6]\t3GPP TS 38.214: \"NR; Physical layer procedures for data\".\n[7]\tvoid.\n[8]\t3GPP TS 38.321: \"NR; Medium Access Control (MAC) protocol specification\".\n[9]\t3GPP TS 38.331: \"NR; Radio Resource Control (RRC) protocol specification\".\n[10]\t3GPP TS 38.473: \"NG-RAN; F1 Application Protocol (F1AP)\".\n[11]\t3GPP TS 36.212: \"Evolved Universal Terrestrial Radio Access (E-UTRA); Multiplexing and channel coding\".\n[12]\t3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to support Vehicle-to-Everything (V2X) services\".\n[13]\t3GPP TS 38.101-1: \"NR; User Equipment (UE) radio transmission and reception; Part 1: Range 1 Standalone\".\n[14]\t3GPP TS 37.213: \"Physical layer procedures for shared spectrum channel access\".\n3\tDefinitions of terms, symbols and abbreviations\n3.1\tTerms\nFor the purposes of the present document, the terms given in 3GPP TR\u00a021.905\u00a0[1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR\u00a021.905\u00a0[1].\n3.2\tSymbols\nVoid.\n3.3\tAbbreviations\nFor the purposes of the present document, the abbreviations given in 3GPP TR\u00a021.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR\u00a021.905\u00a0[1].\nBCH\tBroadcast Channel\nCAPC\tChannel Access Priority Class\nCBG\tCode Block Group\nCBGTI\tCode Block Group Transmission Information\nCG\tConfigured Grant\nCG-DFI\tCG - Downlink Feedback Information\nCG-UCI\tCG - Uplink Control Information\nCORESET\tControl Resource Ret\nCOT\tChannel Occupancy Time\nCQI\tChannel Quality Indicator\nCRC\tCyclic Redundancy Check \nCRI\tCSI-RS Resource Indicator\nCSI\tChannel State Information\nCSI-RS\tCSI - Reference Signal\nDAI\tDownlink Assignment Index\nDCI\tDownlink Control Information\nDL\tDownlink\nDL-SCH\tDownlink - Shared Channel\nDMRS\tDemodulation Reference Signal\nHARQ\tHybrid Automatic repeat Request\nHARQ-ACK\tHybrid Automatic repeat Request - Acknowledgement\nLDPC\tLow Density Parity Check\nLI\tLayer Indicator\nMBS\tMulticast Broadcast Services\nMCS\tModulation and Coding Scheme\nNCR\tNetwork-controlled repeater\nOFDM\tOrthogonal Frequency Division Multiplex\nPBCH\tPhysical Broadcast Channel\nPCH\tPaging Channel\nPDCCH\tPhysical Downlink Control Channel\nPDSCH\tPhysical Downlink Shared Channel\nPMI\tPrecoding Matrix Indicator\nPRB\tPhysical Resource Block\nPRACH\tPhysical Random Access Channel\nPSBCH\tPhysical Sidelink Broadcast Channel\nPSCCH\tPhysical Sidelink Control Channel\nPSFCH\tPhysical Sidelink Feedback Channel\nPSSCH\tPhysical Sidelink Shared Channel\nPTRS\tPhase-Tracking Reference Signal\nPUCCH\tPhysical Uplink Control Channel\nPUSCH\tPhysical Uplink Shared Channel\nRACH\tRandom Access Channel\nRI\tRank Indicator\nRSRP\tReference Signal Received Power\nSCI\tSidelink Control Information\nSFCI\tSidelink Feedback Control Information\nSFN\tSystem Frame Number\nSL\tSidelink\nSL-BCH\tSidelink - Broadcast Channel\nSL PRS\tSidelink Positioning Reference Signal\nSL-SCH\tSidelink - Shared Channel\nSR\tScheduling Request\nSRS\tSounding Reference Signal\nSS\tSynchronisation Signal\nSUL\tSupplementary Uplink\nTCI\tTransmission Configuration Indicator\nTPC\tTransmit Power Control\nTrCH\tTransport Channel\nUCI\tUplink Control Information\nUE\tUser Equipment\nUL\tUplink\nUL-SCH\tUplink Shared Channel\nUTO-UCI\tUnused Transmission Occasion - Uplink Control Information\nVRB\tVirtual Resource Block\nZP CSI-RS\tZero power CSI-RS\n4\tMapping to physical channels\n4.1\tUplink\nTable 4.1-1 specifies the mapping of the uplink transport channels to their corresponding physical channels. Table\u00a04.1-2 specifies the mapping of the uplink control channel information to its corresponding physical channel.\nTable 4.1-1\n\nTable 4.1-2\n\n4.2\tDownlink\nTable 4.2-1 specifies the mapping of the downlink transport channels to their corresponding physical channels. Table\u00a04.2-2 specifies the mapping of the downlink control channel information to its corresponding physical channel.\nTable 4.2-1\n\nTable 4.2-2\n\n4.3\tSidelink\nTable 4.3-1 specifies the mapping of the sidelink transport channels to their corresponding physical channels. Table\u00a04.3-2 specifies the mapping of the sidelink control information and sidelink feedback control information to their corresponding physical channels.\nTable 4.3-1\n\nTable 4.3-2\n\n5\tGeneral procedures\nData and control streams from/to MAC layer are encoded /decoded to offer transport and control services over the radio transmission link. Channel coding scheme is a combination of error detection, error correcting, rate matching, interleaving and transport channel or control information mapping onto/splitting from physical channels.\n5.1\tCRC calculation\nDenote the input bits to the CRC computation by , and the parity bits by , where  is the size of the input sequence and  is the number of parity bits. The parity bits are generated by one of the following cyclic generator polynomials:\n-\t for a CRC length ;\n-\t for a CRC length ;\n-\t for a CRC length ;\n-\t for a CRC length ;\n-\t for a CRC length ;\n-\t for a CRC length .\nThe encoding is performed in a systematic form, which means that in GF(2), the polynomial:\n\t\nyields a remainder equal to 0 when divided by the corresponding CRC generator polynomial.\nThe bits after CRC attachment are denoted by , where . The relation between  and  is:\n\tfor \n\tfor .\n5.2\tCode block segmentation and code block CRC attachment\n5.2.1\tPolar coding\nThe input bit sequence to the code block segmentation is denoted by , where . \nif \nNumber of code blocks: ;\nelse\nNumber of code blocks: \nend if\n;\nfor  to \n;\nend for\nfor  to \n;\nend for\n;\nfor  to \nfor  to  \n;\n;\nend for\nThe sequence  is used to calculate the CRC parity bits  according to Clause 5.1 with a generator polynomial of length .\nfor  to  \n;\nend for\nend for\nThe value of  is no larger than 1706.\n5.2.2\tLow density parity check coding\nThe input bit sequence to the code block segmentation is denoted by , where . If  is larger than the maximum code block size , segmentation of the input bit sequence is performed and an additional CRC sequence of  bits is attached to each code block.\nFor LDPC base graph 1, the maximum code block size is:\n-\t.\nFor LDPC base graph 2, the maximum code block size is:\n-\t.\nTotal number of code blocks C is determined by:\nif \n\nNumber of code blocks: \n\nelse\n\nNumber of code blocks: .\n\nend if\nThe bits output from code block segmentation are denoted by , where  is the code block number, and  is the number of bits for the code block number .\nThe number of bits  in each code block is calculated as:\n;\nFor LDPC base graph 1,\n.\nFor LDPC base graph 2, \nif \n;\nelseif \n;\nelseif \n;\nelse\n;\nend if\nfind the minimum value of  in all sets of lifting sizes in Table 5.3.2-1, denoted as , such that , and set  for LDPC base graph 1 and  for LDPC base graph 2;\nThe bit sequence  is calculated as:\n;\nfor  to \nfor  to  \n;\n;\nend for\nif \nThe sequence  is used to calculate the CRC parity bits  according to Clause 5.1 with the generator polynomial .\nfor  to  \n;\nend for\nend if\nfor  to \t-- Insertion of filler bits\n;\nend for\nend for\n5.3\tChannel coding\nUsage of coding scheme for the different types of TrCH is shown in table 5.3-1. Usage of coding scheme for the different control information types is shown in table 5.3-2.\nTable 5.3-1: Usage of channel coding scheme for TrCHs\n\nTable 5.3-2: Usage of channel coding scheme for control information\n\n5.3.1\tPolar coding\nThe bit sequence input for a given code block to channel coding is denoted by, where  is the number of bits to encode. After encoding the bits are denoted by, where  and the value of  is determined by the following:\nDenote by  the rate matching output sequence length as given in Clause 5.4.1;\nIf  and \n;\nelse\n;\nend if\n;\n;\n\nwhere . \nUE is not expected to be configured with , where   is the number of parity check bits defined in Clause\u00a05.3.1.2.\n5.3.1.1\tInterleaving\nThe bit sequence  is interleaved into bit sequence  as follows:\n, \nwhere the interleaving pattern  is given by the following:\nif \n, \nelse\n;\nfor  to \nif \n;\n;\nend if\nend for\nend if\nwhere  is given by Table 5.3.1.1-1 and .\nTable 5.3.1.1-1: Interleaving pattern \n\n5.3.1.2\tPolar encoding\nThe Polar sequence  is given by Table 5.3.1.2-1, where  denotes a bit index before Polar encoding for  and . The Polar sequence  is in ascending order of reliability , where  denotes the reliability of bit index .\nFor any code block encoded to  bits, a same Polar sequence  is used. The Polar sequence  is a subset of Polar sequence  with all elements  of values less than , ordered in ascending order of reliability . \nDenote  as a set of bit indices in Polar sequence , and  as the set of other bit indices in Polar sequence , where  and  are given in Clause 5.4.1.1, , , and  is the number of parity check bits. \nDenote  as the -th Kronecker power of matrix , where .\nFor a bit index  with , denote  as the -th row of  and  as the row weight of , where  is the number of ones in . Denote the set of bit indices for parity check bits as , where . A number of  parity check bits are placed in the  least reliable bit indices in . A number of  other parity check bits are placed in the bit indices of minimum row weight in , where  denotes the  most reliable bit indices in ; if there are more than  bit indices of the same minimum row weight in , the  other parity check bits are placed in the  bit indices of the highest reliability and the minimum row weight in . \nGenerate  according to the following:\n;\nif \t\n; ; ; ; ;\nfor  to \n; ; ; ; ; ;\nif \nif \n;\nelse\n;\n;\n;\nend if\nelse\n;\nend if\nend for\nelse\nfor  to \nif \n;\n;\nelse\n;\nend if\nend for\nend if\nThe output after encoding  is obtained by . The encoding is performed in GF(2).\nTable 5.3.1.2-1: Polar sequence  and its corresponding reliability \n\n5.3.2\tLow density parity check coding\nThe bit sequence input for a given code block to channel coding is denoted by , where  is the number of bits to encode as defined in Clause 5.2.2. After encoding the bits are denoted by , where  for LDPC base graph 1 and  for LDPC base graph 2, and the value of  is given in Clause 5.2.2.\nFor a code block encoded by LDPC, the following encoding procedure applies:\n1)\tFind the set with index  in Table 5.3.2-1 which contains .\n2)\tfor  to \nif \n;\nelse\n;\n;\nend if\nend for\n3)\tGenerate  parity bits  such that , where ;  is a column vector of all elements equal to 0. The encoding is performed in GF(2).\n\tFor LDPC base graph 1, a matrix of  has 46 rows with row indices and 68 columns with column indices . For LDPC base graph 2, a matrix of  has 42 rows with row indices and 52 columns with column indices . The elements in  with row and column indices given in Table 5.3.2-2 (for LDPC base graph 1) and Table 5.3.2-3 (for LDPC base graph 2) are of value 1, and all other elements in  are of value 0.\n\tThe matrix  is obtained by replacing each element of  with a  matrix, according to the following:\n-\tEach element of value 0 in  is replaced by an all zero matrix of size ;\n-\tEach element of value 1 in  is replaced by a circular permutation matrix  of size , where  and  are the row and column indices of the element, and  is obtained by circularly shifting the identity matrix of size  to the right  times. The value of  is given by . The value of  is given by Tables 5.3.2-2 and 5.3.2-3 according to the set index  and LDPC base graph. \n4)\tfor  to \n;\nend for\nTable 5.3.2-1: Sets of LDPC lifting size \n\nTable 5.3.2-2: LDPC base graph 1 () and its parity check matrices ()\n\nTable 5.3.2-3: LDPC base graph 2 () and its parity check matrices ()\n\n5.3.3\tChannel coding of small block lengths\nThe bit sequence input for a given code block to channel coding is denoted by , where  is the number of bits to encode. After encoding the bits are denoted by .\n5.3.3.1\tEncoding of 1-bit information\nFor , the code block is encoded according to Table 5.3.3.1-1, where  and  is the modulation order for the code block. \nTable 5.3.3.1-1: Encoding of 1-bit information \n\nThe \"x\" and \"y\" in Table 5.3.3.1-1 are placeholders for Clauses 6.3.1.1, 6.3.2.5.1, 6.3.2.6.1 of [4, TS 38.211] to scramble the information bits in a way that maximizes the Euclidean distance of the modulation symbols carrying the information bits.\n5.3.3.2\tEncoding of 2-bit information\nFor , the code block is encoded according to Table 5.3.3.2-1, where , , and  is the modulation order for the code block.\nTable 5.3.3.2-1: Encoding of 2-bit information \n\nThe \"x\" in Table 5.3.3.2-1 are placeholders for Clause 6.3.1.1 of [4, TS 38.211] to scramble the information bits in a way that maximizes the Euclidean distance of the modulation symbols carrying the information bits.\n5.3.3.3\tEncoding of other small block lengths\nFor , the code block is encoded by , where , , and  represents the basis sequences as defined in Table 5.3.3.3-1.\nTable 5.3.3.3-1: Basis sequences for (32, ) code\n\n5.4\tRate matching\n5.4.1\tRate matching for Polar code\nThe rate matching for Polar code is defined per coded block and consists of sub-block interleaving, bit collection, and bit interleaving. The input bit sequence to rate matching is . The output bit sequence after rate matching is denoted as .\n5.4.1.1\tSub-block interleaving\nThe bits input to the sub-block interleaver are the coded bits . The coded bits  are divided into 32 sub-blocks. The bits output from the sub-block interleaver are denoted as , generated as follows:\nfor  to \n;\n;\n;\nend for\nwhere the sub-block interleaver pattern  is given by Table 5.4.1.1-1.\nTable 5.4.1.1-1: Sub-block interleaver pattern \n\nThe sets of bit indices  and  are determined as follows, where , , and  are defined in Clause 5.3.1\n\nif \nif \t-- puncturing\nfor  to \n;\nend for\nif \n;\nelse\n;\nend if\nelse\t-- shortening\nfor  to \n;\nend for\nend if\nend if\n;\n comprises  most reliable bit indices in ;\n;\n5.4.1.2\tBit selection\nThe bit sequence after the sub-block interleaver  from Clause 5.4.1.1 is written into a circular buffer of length .\nDenoting by  the rate matching output sequence length, the bit selection output bit sequence , , is generated as follows:\nif \t-- repetition\nfor  to \n;\nend for\nelse\nif \t-- puncturing\nfor  to \n;\nend for\nelse\t-- shortening\nfor  to  \n;\nend for\nend if\nend if\n5.4.1.3\tInterleaving of coded bits\nThe bit sequence  is interleaved into bit sequence , as follows:\nIf \nDenote  as the smallest integer such that ; \n;\nfor  to \nfor  to \nif \n;\nelse\n;\nend if\n;\nend for\nend for\n;\nfor  to \nfor  to \nif \n;\n\nend if\nend for\nend for\nelse\nfor  to \n;\nend for\nend if\nThe value of  is no larger than 8192.\n5.4.2\tRate matching for LDPC code\nThe rate matching for LDPC code is defined per coded block and consists of bit selection and bit interleaving. The input bit sequence to rate matching is . The output bit sequence after rate matching is denoted as . \n5.4.2.1\tBit selection\nThe bit sequence after encoding  from Clause 5.3.2 is written into a circular buffer of length  for the -th coded block, where  is defined in Clause 5.3.2.\nFor the -th code block, let  if  and  otherwise, where, ,  is determined according to Clause 6.1.4.2 in [6, TS 38.214] for UL-SCH and Clause 5.1.3.2 in [6, TS 38.214] for DL-SCH/PCH, assuming the following:\nFor one TB for DL-SCH with PDSCH scheduled by DCI format 4_0/4_1/4_2:\n-\tif the PDSCH is scheduled by DCI format 4_1/4_2:\n-\tmaximum number of layers is given by X, where:\n-\tif the higher layer parameter maxMIMO-Layers of pdsch-ConfigMulticast is configured, X is given by that parameter;\n-\totherwise, X equals to 1;\n-\tif the higher layer parameter mcs-Table given by a pdsch-ConfigMulticast or by pdsch-ConfigMTCH for at least one common frequency resource (CFR) is set to 'qam256', maximum modulation order  is assumed for DL-SCH; otherwise a maximum modulation order  is assumed for DL-SCH;\n-\tif the PDSCH is scheduled by DCI format 4_0:\n-\tmaximum number of layers is 1;\n-\tif the higher layer parameter mcs-Table given by a pdsch-ConfigMCCH is set to 'qam256', maximum modulation order  is assumed for DL-SCH; otherwise a maximum modulation order  is assumed for DL-SCH;\n-\tif the higher layer parameter mcs-Table given by a pdsch-ConfigMTCH is set to 'qam256', maximum modulation order  is assumed for DL-SCH; otherwise a maximum modulation order  is assumed for DL-SCH;\n-\t is given by Table 5.4.2.1-1, where the value of  for DL-SCH is determined according to the size of the associated CFR if configured to the UE;\n-\tmaximum coding rate of 948/1024;\n-\t;\n-\t is the number of code blocks of the transport block determined according to Clause 5.2.2.\nFor one TB for UL-SCH, or for one TB for DL-SCH/PCH except for DL-SCH with PDSCH scheduled by DCI format 4_0/4_1/4_2:\n-\tmaximum number of layers for one TB for UL-SCH is given by the minimum of X and 4, where:\n-\tif the higher layer parameter maxMIMO-Layers of PUSCH-ServingCellConfig of the serving cell is configured, X is given by that parameter;\n-\telseif the higher layer parameter maxRank of pusch-Config of the serving cell is configured, X is given by the maximum value of maxRank across all BWPs of the serving cell;\n-\totherwise, X is given by the maximum number of layers for PUSCH supported by the UE for the serving cell;\n-\tmaximum number of layers for one TB for DL-SCH/PCH is given by the minimum of X and 4, where:\n-\tif the higher layer parameter maxMIMO-Layers of PDSCH-ServingCellConfig of the serving cell is configured, X is given by that parameter;\n-\totherwise, X is given by the maximum number of layers for PDSCH supported by the UE for the serving cell;\n-\tif the higher layer parameter mcs-Table-r17 or mcs-TableDCI-1-2-r17 given by a pdsch-Config for at least one DL BWP of the serving cell is set to 'qam1024', maximum modulation order  is assumed for DL-SCH, else if the higher layer parameter mcs-Table or mcs-TableDCI-1-2 given by a pdsch-Config for at least one DL BWP of the serving cell is set to 'qam256', maximum modulation order  is assumed for DL-SCH; otherwise a maximum modulation order  is assumed for DL-SCH; \n-\tif the higher layer parameter mcs-Table or mcs-TableTransformPrecoder or mcs-TableDCI-0-2 or mcs-TableTransformPrecoderDCI-0-2 given by a pusch-Config or the higher layer parameter mcs-Table or mcs-TableTransformPrecoder given by configuredGrantConfig for at least one UL BWP of the serving cell is set to 'qam256', maximum modulation order  is assumed for UL-SCH; otherwise a maximum modulation order  is assumed for UL-SCH;\n-\tmaximum coding rate of 948/1024;\n-\t is given by Table 5.4.2.1-1, where the value of  for DL-SCH is determined according to the initial downlink bandwidth part if there is no other downlink bandwidth part configured to the UE;\n-\t;\n-\t is the number of code blocks of the transport block determined according to Clause 5.2.2.\nTable 5.4.2.1-1: Value of \n\nDenoting by  the rate matching output sequence length for the -th coded block, where the value of  is determined as follows:\nSet \nfor  to \nif the -th coded block is not scheduled for transmission as indicated by CBGTI according to Clause 5.1.7.2 for DL-SCH and 6.1.5.2 for UL-SCH in [6, TS 38.214]:\n;\nelse\nif \n;\nelse\n;\nend if\n;\nend if\nend for\nwhere:\n-\t is the number of transmission layers that the transport block is mapped onto;\n-\t is the modulation order;\n-\t is the total number of coded bits available for transmission of the transport block;\n-\t if CBGTI is not present in the DCI scheduling the transport block and  is the number of scheduled code blocks of the transport block if CBGTI is present in the DCI scheduling the transport block.\nDenote by  the redundancy version number for this transmission ( = 0, 1, 2 or 3), the rate matching output bit sequence , , is generated as follows, where  is given by Table 5.4.2.1-2 according to the value of  and LDPC base graph:\n;\n;\nwhile \nif \n;\n;\nend if\n;\nend while\nTable 5.4.2.1-2: Starting position of different redundancy versions, \n\n5.4.2.2\tBit interleaving\nThe bit sequence  is interleaved to bit sequence , according to the following, where the value of  is the modulation order:\nfor  to \nfor  to \n;\nend for\nend for\n5.4.3\tRate matching for channel coding of small block lengths\nThe input bit sequence to rate matching is . The output bit sequence after rate matching is denoted as , where  is the rate matching output sequence length. The bit sequence  is obtained by the following:\nfor  to \n;\nend for\n5.5\tCode block concatenation\nThe input bit sequence for the code block concatenation block are the sequences , for  and , where  is the number of rate matched bits for the -th code block. The output bit sequence from the code block concatenation block is the sequence  for . \nThe code block concatenation consists of sequentially concatenating the rate matching outputs for the different code blocks. Therefore:\nSet  and \nwhile \nSet \nwhile  \n\n\n\nend while\n\nend while\n6\tUplink transport channels and control information\n6.1\tRandom access channel\nThe sequence index for the random access channel is received from higher layers and is processed according to [4, TS 38.211].\n6.2\tUplink shared channel\n6.2.1\tTransport block CRC attachment\nError detection is provided on each UL-SCH transport block through a Cyclic Redundancy Check (CRC).\nThe entire transport block is used to calculate the CRC parity bits. Denote the bits in a transport block delivered to layer 1 by, and the parity bits by, where  is the payload size and  is the number of parity bits. The lowest order information bit  is mapped to the most significant bit of the transport block as defined in Clause 6.1.1 of [TS38.321].\nThe parity bits are computed and attached to the UL-SCH transport block according to Clause 5.1, by setting  to 24\u00a0bits and using the generator polynomial  if ; and by setting  to 16 bits and using the generator polynomial  otherwise.\nThe bits after CRC attachment are denoted by , where .\n6.2.2\tLDPC base graph selection\nFor initial transmission of a transport block with coding rate  indicated by the MCS index according to Clause\u00a06.1.4.1 in [6, TS 38.214] and subsequent re-transmission of the same transport block, each code block of the transport block is encoded with either LDPC base graph 1 or 2 according to the following:\n-\tif , or if  and , or if , LDPC base graph 2 is used;\n-\totherwise, LDPC base graph 1 is used,\nwhere  is the payload size as described in Clause 6.2.1.\n6.2.3\tCode block segmentation and code block CRC attachment\nThe bits input to the code block segmentation are denoted by  where  is the number of bits in the transport block (including CRC).\nCode block segmentation and code block CRC attachment are performed according to Clause 5.2.2.\nThe bits after code block segmentation are denoted by, where  is the code block number and  is the number of bits for code block number  according to Clause 5.2.2. \nWhen the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, the value of B is no larger than 3840 if  and no larger than 8448 otherwise, where coding rate  is indicated by the MCS index according to Clause 6.1.4.1 in [6, TS 38.214].\n6.2.4\tChannel coding of UL-SCH\nCode blocks are delivered to the channel coding block. The bits in a code block are denoted by , where  is the code block number, and  is the number of bits in code block number . The total number of code blocks is denoted by  and each code block is individually LDPC encoded according to Clause\u00a05.3.2.\nAfter encoding the bits are denoted by , where the values of  is given in Clause 5.3.2.\n6.2.5\tRate matching\nCoded bits for each code block, denoted as , are delivered to the rate match block, where  is the code block number, and  is the number of encoded bits in code block number . The total number of code blocks is denoted by  and each code block is individually rate matched according to Clause 5.4.2 by setting  if higher layer parameter rateMatching is set to limitedBufferRM and by setting  otherwise, if numberOfSlotsTBoMS is not present in the resource allocation table, or if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is equal to 1. When the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, each code block is individually rate matched per slot according to Clause 5.4.2 by setting:\n-\t if higher layer parameter rateMatching is set to limitedBufferRM and by setting otherwise;\n-\t as the total number of coded bits available for transmission of the transport block in the slot;\n-\t as given by Table 5.4.2.1-2 according to the value of  and LDPC base graph if the slot is the first slot within the  slots allocated for the transmission of TB processing over multiple slots, and setting if the slot is a slot except for the first one within the  slots, where  is the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI,  denotes the index of starting coded bit in the previous slot within the  slots,  is the total number of coded bits available for transmission of the transport block in the previous slot within the  slots assuming no UCI multiplexing, and  denotes the number of skipped filler bits if any in the previous slot within the  slots according to Clause\u00a05.4.2.1 by assuming no UCI multiplexing.\nAfter rate matching, the bits are denoted by, where is the number of rate matched bits for code block number .\n6.2.6\tCode block concatenation\nThe input bit sequence for the code block concatenation block are the sequences , for  and where  is the number of rate matched bits for the -th code block. \nCode block concatenation is performed according to Clause 5.5. \nThe bits after code block concatenation are denoted by, where  is the total number of coded bits for transmission. \n6.2.7\tData and control multiplexing\nIn case where there are more than one UL-SCH transport blocks for the PUSCH transmission, the UCI information is multiplexed only on the UL-SCH transport block with highest IMCS value for the initial PUSCH, where IMCS is as defined in Clause 6.1.4.1 in [6, TS 38.214]. In case the two transport blocks have the same IMCS value for the initial PUSCH, the UCI information is multiplexed with data only on the first transport block. The PUSCH for UCI multiplexing in this Clause referes to the UL-SCH transport block for UCI multiplexing.\nIf the higher layer parameter nrofBitsInUTO-UCI is configured, the procedure in this clause 6.2.7 applies by replacing CG-UCI with UTO-UCI in all the notations and texts, and replacing \"when higher layer parameter cg-UCI-Multiplexing is configured\" with \"when UTO-UCI and HARQ-ACK are transmitted on a PUSCH\".\nDenote the coded bits for UL-SCH as .\nDenote the coded bits for HARQ-ACK or jointly coded bits for HARQ-ACK and CG-UCI when the high layer parameter cg-UCI-Multiplexing is configured, if any, as .\nDenote the coded bits for CSI part 1, if any, as .\nDenote the coded bits for CSI part 2, if any, as .\nDenote the coded bits for CG-UCI without HARQ-ACK, if any, as .\nDenote the multiplexed data and control coded bit sequence as .\nDenote  as the OFDM symbol index of the scheduled PUSCH, starting from 0 to , where  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS.\nDenote  as the subcarrier index of the scheduled PUSCH, starting from 0 to , where  is expressed as a number of subcarriers.\nDenote  as the set of resource elements, in ascending order of indices , available for transmission of data in OFDM symbol , for . \nDenote  as the number of elements in set . Denote  as the -th element in .\nDenote  as the set of resource elements, in ascending order of indices , available for transmission of UCI in OFDM symbol , for . Denote  as the number of elements in set . Denote  as the -th element in . For any OFDM symbol that carriers DMRS of the PUSCH, . For any OFDM symbol that does not carry DMRS of the PUSCH, .\nIf frequency hopping is configured for the PUSCH, \n-\tdenote  as the OFDM symbol index of the first OFDM symbol after the first set of consecutive OFDM symbol(s) carrying DMRS in the first hop;\n-\tdenote  as the OFDM symbol index of the first OFDM symbol after the first set of consecutive OFDM symbol(s) carrying DMRS in the second hop;\n-\tdenote  as the OFDM symbol index of the first OFDM symbol that does not carry DMRS in the first hop;\n-\tdenote  as the OFDM symbol index of the first OFDM symbol that does not carry DMRS in the second hop;\n-\tif HARQ-ACK is present for transmission on the PUSCH with UL-SCH or if both HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH, let:\n-\t and ;\n-\tif CSI is present for transmission on the PUSCH with UL-SCH, let:\n-\t;\n-\t;\n-\t; and \n-\t;\n-\tif CG-UCI is present for transmission on the PUSCH with UL-SCH and without HARQ-ACK, let:\n-\t and \n-\tif only HARQ-ACK and CSI part 1 are present for transmission on the PUSCH without UL-SCH, let:\n-\t;\n-\t;\n-\t; and \n-\t;\n-\tif HARQ-ACK, CSI part 1 and CSI part 2 are present for transmission on the PUSCH without UL-SCH, let:\n-\t;\n-\t;\n-\tif the number of HARQ-ACK information bits is more than 2,; otherwise, \n-\t;\n-\t if the number of HARQ-ACK information bits is no more than 2, and  otherwise; and\n-\t if the number of HARQ-ACK information bits is no more than 2, and  otherwise; \n-\tif only CSI part 1 and CSI part 2 are present for transmission on the PUSCH without UL-SCH, let:\n-\t;\n-\t;\n-\t; and\n-\t;\n-\tlet , and denote ,  as the number of OFDM symbols of the PUSCH in the first and second hop, respectively;\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH;\n-\t;\n-\t;\n-\t.\nIf frequency hopping is not configured for the PUSCH, \n-\tdenote  as the OFDM symbol index of the first OFDM symbol after the first set of consecutive OFDM symbol(s) carrying DMRS;\n-\tdenote  as the OFDM symbol index of the first OFDM symbol that does not carry DMRS;\n-\tif HARQ-ACK is present for transmission on the PUSCH or if both HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH, let ;\n-\tif CSI is present for transmission on the PUSCH, let  and ;\n-\tif CG-UCI is present for transmission on the PUSCH without HARQ-ACK, let ;\n-\tlet  and .\nThe multiplexed data and control coded bit sequence  is obtained according to the following:\nStep 1:\nSet  for ;\nSet  for ;\nSet  for ;\nSet  for ;\nif the number of HARQ-ACK information bits to be transmitted on PUSCH is 0, 1 or 2 bits and without CG-UCI:\nthe number of reserved resource elements for potential HARQ-ACK transmission is calculated according to Clause\u00a06.3.2.4.2.1, by setting ;\ndenote  as the number of coded bits for potential HARQ-ACK transmission using the reserved resource elements;\nif frequency hopping is configured for the PUSCH, let  and ;\nif frequency hopping is not configured for the PUSCH, let ;\ndenote  as the set of reserved resource elements for potential HARQ-ACK transmission, in OFDM symbol , for ;\nSet ;\nSet ;\n for ;\nfor  to \n;\nwhile \nif \nif \n;\n;\nend if\nif \n;\n;\nend if\nfor  to \n\n;\nend for\nend if\n;\nend while\nend for\nelse\n for ;\nend if\nDenote  as the number of elements in .\nStep 2:\nif HARQ-ACK is present for transmission on the PUSCH and the number of HARQ-ACK information bits is more than 2 or if both HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH:\nSet ;\nSet ;\nSet ;\nfor  to \n;\nwhile \nif \nif \n;\n;\nend if\nif \n;\n;\nend if\nfor  to \n;\nfor  to \n;\n;\n;\nend for\nend for\n;\nfor  to \n;\nend for\n;\n;\n;\n;\nend if\n;\nend while\nend for\nend if\nStep 2A:\nIf CG-UCI is present for transmission on the PUSCH without HARQ-ACK:\nSet ;\nSet ;\nSet ;\nfor  to \n;\nwhile () \nif  \nif \n;\n;\nend if\nif \n;\n;\nend if\nfor  to  \n;\nfor  to \n;\n;\n;\nend for\nend for\n;\nfor  to \n;\nend for\n;\n;\n;\n;\nend if\n;\nend while\nend for\nend if\nStep 3:\nif CSI is present for transmission on the PUSCH:\nSet ;\nSet ;\nSet ;\nfor  to \n;\nwhile \n;\nend while\nwhile \nif \nif  \n;\n;\nend if\nif  \n;\n;\nend if\n;\nfor  to \n;\nfor  to \n;\n;\n;\nend for\nend for\n;\nfor  to \n;\nend for\n;\n;\n;\n;\nend if\n;\nend while\nend for\nSet ;\nSet ;\nSet ;\nfor  to \n;\nwhile \n;\nend while\nwhile \nif \nif \n;\n;\nend if\nif \n;\n;\nend if\nfor  to \n;\nfor  to \n;\n;\n;\nend for\nend for\n;\nfor  to \n;\nend for\n;\n;\n;\n;\nend if\n;\nend while\nend for\nend if\nStep 4:\nif UL-SCH is present for transmission on the PUSCH:\nSet ;\nfor  to \nif \nfor  to \n;\nfor  to \n;\n;\nend for\nend for\nend if\nend for\nend if\nStep 5:\nif HARQ-ACK is present for transmission on the PUSCH without CG-UCI and the number of HARQ-ACK information bits is no more than 2:\nSet ;\nSet ;\nSet ;\nfor  to \n;\nwhile  \nif \nif \n;\n;\nend if\nif \n;\n;\nend if\nfor  to \n;\nfor  to \n;\n;\n;\nend for\nend for\nend if\n;\nend while\nend for\nend if\nStep 6:\nSet ;\nfor  to \nfor  to \n;\nfor  to \n;\n;\nend for\nend for\nend for\n6.3\tUplink control information\n6.3.1\tUplink control information on PUCCH\nThe procedure in this clause applies to PUCCH formats 2/3/4.\nThe following clauses 6.3.1.2, 6.3.1.3 and 6.3.1.5 apply regardless of whether the higher layer parameter uci-MuxWithDiffPrio is configured or not. The following clauses 6.3.1.1, 6.3.1.4 and 6.3.1.6 apply by assuming uci-MuxWithDiffPrio is not configured, or uci-MuxWithDiffPrio is configured and the UCIs for transmission on a PUCCH are of the same priority index, unless stated otherwise.\nIf the UE is configured with a PUCCH-SCell, uci-MuxWithDiffPrio is replaced by uci-MuxWithDiffPrioSecondaryPUCCHgroup for the secondary PUCCH group in this clause.\n6.3.1.1\tUCI bit sequence generation\n6.3.1.1.1\tHARQ-ACK/SR only\nIf only HARQ-ACK bits are transmitted on a PUCCH, the UCI bit sequence  is determined by setting  for  and , where the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS38.213].\nIf only HARQ-ACK and SR bits are transmitted on a PUCCH, the UCI bit sequence  is determined by setting  for ,  for , and , where the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS 38.213], and the SR bit sequence  is given by Clause 9.2.5.1 of [5, TS 38.213].\n6.3.1.1.2\tCSI only\nIf cqi-BitsPerSubband is configured, this Clause 6.3.1.1.2 applies by taking Subband CQI as Subband differential CQI and replacing the corresponding number of bits 2 by 4.\nIf csi-ReportSubConfig is configured, for a corresponding CSI sub-report, the bitwidth of a CSI field of the CSI sub-report is determined following the procedure in this clause 6.3.1.1.2 by taking configurations in CSI-ReportSubConfig when applicable. If csi-ReportSubConfig configures a list of CSI-RS resource IDs, for the determination of the bitwidth of a CRI field, the value of  is the number of CSI-RS resources configured in the corresponding csi-ReportSubConfig.\nThe bitwidth for PMI of codebookType=typeI-SinglePanel with 2 CSI-RS ports is 2 for Rank=1 and 1 for Rank=2, according to Clause 5.2.2.2.1 in [6, TS 38.214].\nThe bitwidth for PMI of codebookType=typeI-SinglePanel with more than 2 CSI-RS ports is provided in Table 6.3.1.1.2-1, where the values of and  are given by Clause 5.2.2.2.1 in [6, TS 38.214].\nTable 6.3.1.1.2-1: PMI of codebookType=typeI-SinglePanel\n\nThe bitwidth for PMI of codebookType= typeI-MultiPanel is provided in Table 6.3.1.1.2-2, where the values of and  are given by Clause 5.2.2.2.2 in [6, TS 38.214].\nTable 6.3.1.1.2-2: PMI of codebookType= typeI-MultiPanel \n\nThe bitwidth for PMI with 1 CSI-RS port is 0.\nThe bitwidth for RI/LI/CQI/CRI of codebookType=typeI-SinglePanel or reportQuantity set to 'cri-RI-CQI' or 1 CSI-RS port is provided in Table 6.3.1.1.2-3.\nTable 6.3.1.1.2-3: RI, LI, CQI, and CRI of codebookType=typeI-SinglePanel, or\nreportQuantity set to 'cri-RI-CQI', or 1 CSI-RS port\n\n in Table 6.3.1.1.2-3 is the number of allowed rank indicator values according to Clause 5.2.2.2.1 [6, TS 38.214].  is the value of the rank. The value of  is the number of CSI-RS resources in the corresponding resource set. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value. For higher layer parameter reportQuantity set to 'cri-RI-CQI', the values of the rank indicator field are mapped to rank indicator values with increasing order, where '0' is mapped to rank-1.\nTable 6.3.1.1.2-3A: RI, LI, CQI, and CRI associated with one CSI-RS resource pair and\ncsi-ReportMode= Mode 1 or Mode 2\n\nTable 6.3.1.1.2-3B: RI, LI, CQI, and CRI associated with one CSI-RS resource and\ncsi-ReportMode= Mode 1 or Mode 2 \n\n in Table 6.3.1.1.2-3A is the number of allowed rank combination indicator values associated with one CSI-RS resource pair according to Clause 5.2.1.4.2 [6, TS 38.214]. The values of the rank combination indicator field are mapped to allowed rank combinations in the following order: {1,1}, {1,2}, {2,1},{2,2}, where '0' is mapped to the first allowed rank combination.  and  are the values of the first and the second rank associated with two CSI-RS resources of the CSI-RS resource pair respectively.\n in Table 6.3.1.1.2-3B is the number of allowed rank indicator values associated with one CSI-RS resource according to Clause 5.2.1.4.2 [6, TS 38.214]. v is the value of the rank associated with the CSI-RS resource. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value.\nThe value of N in Table 6.3.1.1.2-3A and Table 6.3.1.1.2-3B is the number of CSI-RS resource pairs configured within a CSI-RS resource set. The values of M1 and M2 in Table 6.3.1.1.2-3A and Table 6.3.1.1.2-3B are given by \n-\tIf sharedCMR = \"Enabled\", M1 = K1 and M2 = K2\n-\tIf sharedCMR is absent and N = 1, M1 = K1 - 1 and M2 = K2 - 1\n-\tIf sharedCMR is absent and N = 2, \n-\tM1 = K1 - 2 and M2 = K2 - 2, if the two resource pairs do not share any CSI-RS resource\n-\tM1 = K1 - 1 and M2 = K2 - 2, if the two resource pairs share the same CSI-RS resource from the first CSI-RS resource group\n-\tM1 = K1 - 2 and M2 = K2 - 1, if the two resource pairs share the same CSI-RS resource from the second CSI-RS resource group\nwhere the values of K1 and K2 are the numbers of CSI-RS resources in the first and second CSI-RS resource groups within the CSI-RS resource set respectively.\nThe bitwidth for RI/LI/CQI/CRI of codebookType= typeI-MultiPanel is provided in Table 6.3.1.1.2-4.\nTable 6.3.1.1.2-4: RI, LI, CQI, and CRI of codebookType=typeI-MultiPanel\n\nwhere  is the number of allowed rank indicator values according to Clause 5.2.2.2.2 [6, TS 38.214],  is the value of the rank, and  is the number of CSI-RS resources in the corresponding resource set. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value.\nThe bitwidth for RI/LI/CQI of codebookType= typeII or codebookType=typeII-PortSelection is provided in Table\u00a06.3.1.1.2-5.\nTable 6.3.1.1.2-5: RI, LI, and CQI of codebookType=typeII or typeII-PortSelection\n\nwhere  is the number of allowed rank indicator values according to Clauses 5.2.2.2.3 and 5.2.2.2.4 [6, TS 38.214] and  is the value of the rank. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value.\nThe bitwidth for CRI, SSBRI, RSRP, differential RSRP, and CapabilityIndex are provided in Table 6.3.1.1.2-6.\nTable 6.3.1.1.2-6: CRI, SSBRI, RSRP, and CapabilityIndex\n\nwhere  is the number of CSI-RS resources in the corresponding resource set, and  is the configured number of SS/PBCH blocks in the corresponding resource set for reporting 'ssb-Index-RSRP' or 'ssb-Index-RSRP-Index'.\nThe bitwidth for CRI, SSBRI, SINR, differential SINR, and CapabilityIndex are provided in Table 6.3.1.1.2-6A.\nTable 6.3.1.1.2-6A: CRI, SSBRI, SINR, and CapabilityIndex\n\nwhere   is the number of CSI-RS resources in the corresponding resource set, and  is the configured number of SS/PBCH blocks in the corresponding resource set for reporting 'ssb-Index-SINR' or 'ssb-Index-SINR-Index'.\nIf csi-ReportSubConfig is configured, for a corresponding CSI sub-report, the mapping order of CSI fields of one CSI sub-report is determined following the procedure in this clause 6.3.1.1.2, by replacing CSI report #n in the following Tables 6.3.1.1.2-7, 6.3.1.1.2-9 and 6.3.1.1.2-10 with CSI sub-report #n, and taking only Tables 6.3.1.1.2-1/2/3/4 for the determination of the bitwidth of a CSI field.\nTable 6.3.1.1.2-7: Mapping order of CSI fields of one CSI report,\npmi-FormatIndicator=widebandPMI and cqi-FormatIndicator=widebandCQI or reportQuantity\nset to 'cri-RI-CQI' and cqi-FormatIndicator=widebandCQI\n\nThe number of zero padding bits  in Table 6.3.1.1.2-7 is 0 for 1 CSI-RS port and  for more than 1 CSI-RS port, where:\n-\t and  is the set of rank values  that are allowed to be reported;\n-\t, where  is the reported rank;\n-\tFor 2 CSI-RS ports, ;\n-\tFor more than 2 CSI-RS ports, ;\n-\tif PMI is reported,  and ; otherwise, ;\n-\tif PMI  is reported,  is obtained according to Tables 6.3.1.1.2-1/2; otherwise, ;\n-\tif PMI  is reported,  is obtained according to Tables 6.3.1.1.2-1/2; otherwise, ;\n-\tif CQI is reported,  is obtained according to Tables 6.3.1.1.2-3/4; otherwise, ;\n-\tif LI is reported,  is obtained according to Tables 6.3.1.1.2-3/4; otherwise, .\nTable 6.3.1.1.2-7A: Mapping order of CSI fields of one CSI report, pmi-FormatIndicator=widebandPMI, cqi-FormatIndicator=widebandCQI, csi-ReportMode= Mode 1 and numberOfSingleTRP-CSI-Mode1=0\n\nThe number of zero padding bits  in Table 6.3.1.1.2-7A is 0 for 1 CSI-RS port and  for more than 1 CSI-RS port, where:\n-\t and  is the set of rank combination values of  that are allowed to be reported;\n-\t where R is the reported rank combination;\n-\tFor 2 CSI-RS ports, ;\n-\tFor more than 2 CSI-RS ports, ;\n-\tif PMI is reported,  and  ; otherwise,;\n-\tif PMI  is reported, and  are obtained according to Tables 6.3.1.1.2-1; otherwise, ;\n-\tif PMI   is reported,  and  are obtained according to Tables 6.3.1.1.2-1; otherwise, ;\n-\tif CQI is reported,  is obtained according to Tables 6.3.1.1.2-3A; otherwise,;\n-\tif LI is reported,  and  are obtained according to Tables 6.3.1.1.2-3A; otherwise , .\nTable 6.3.1.1.2-8: Mapping order of CSI fields of one report for CRI/RSRP or SSBRI/RSRP or CRI/RSRP/CapabilityIndex or SSBRI/RSRP/CapabilityIndex reporting, or mapping order of CSI fields of one report for inter-cell SSBRI/RSRP reporting\n\nTable 6.3.1.1.2-8A: Mapping order of CSI fields of one report for CRI/SINR or SSBRI/SINR or CRI/SINR/CapabilityIndex or SSBRI/SINR/CapabilityIndex reporting\n\nTable 6.3.1.1.2-8B: Mapping order of CSI fields of one report for group-based CRI/RSRP or SSBRI/RSRP reporting\n\nwhere the 1-bit resource set indicator, with value of 0 or 1, indicates the 1st or the 2nd channel measurement resource set respectively, from which CRI or SSBRI #1 of 1st resource group is reported from; and all remaining resource groups, if reported, follow the same mapping order as the 1st resource group where CRI or SSBRI #1 of all remaining resource groups is reported from the indicated channel measurement resource set. For all reported resource groups, CRI or SSBRI #1 and CRI or SSBRI #2 are reported from different channel measurement resource sets.\nTable 6.3.1.1.2-8C: Mapping order of CSI fields of one report for SSBRI/RSRP reporting for L1/L2-triggered mobility\n\nTable 6.3.1.1.2-9: Mapping order of CSI fields of one CSI report, CSI part 1, pmi-FormatIndicator= subbandPMI or cqi-FormatIndicator=subbandCQI\n\nTable 6.3.1.1.2-9A: Mapping order of CSI fields of one CSI report, CSI part 1, csi-ReportMode= Mode 1\n\nTable 6.3.1.1.2-9B: Mapping order of CSI fields of one CSI report, CSI part 1, csi-ReportMode= Mode 2\n\nThe number of zero padding bits  in Table 6.3.1.1.2-9B is 0 for 1 CSI-RS port and  for more than 1 CSI-RS port, where:\n-\t. is the set of rank and rank combination values r that are allowed to be reported.  is obtained according to Tables 6.3.1.1.2-3A/3B for rank combination indicator and rank indicator respectively.\n-\tis obtained according to Tables 6.3.1.1.2-3A for rank combination indicator and R is the reported rank combination.\n-\t is obtained according to Tables 6.3.1.1.2-3B for rank indicator and R is the reported rank.\nTable 6.3.1.1.2-10: Mapping order of CSI fields of one CSI report, CSI part 2 wideband, pmi-FormatIndicator= subbandPMI or cqi-FormatIndicator=subbandCQI\n\nTable 6.3.1.1.2-10A: Mapping order of CSI fields of one CSI report,\nCSI part 2 wideband, csi-ReportMode= Mode 1\n\nTable 6.3.1.1.2-10B: Mapping order of CSI fields of one CSI report,\nCSI part 2 wideband, csi-ReportMode= Mode 2\n\nTable 6.3.1.1.2-11: Mapping order of CSI fields of one CSI report, CSI part 2 subband,\npmi-FormatIndicator= subbandPMI or cqi-FormatIndicator=subbandCQI\n\nTable 6.3.1.1.2-11A: Mapping order of CSI fields of one CSI report, CSI part 2 subband,\ncsi-ReportMode= Mode 1\n\nTable 6.3.1.1.2-11B: Mapping order of CSI fields of one CSI report, CSI part 2 subband,\ncsi-ReportMode= Mode 2\n\nTable 6.3.1.1.2-11C: Mapping order of CSI fields of one CSI report containing CSI sub-report(s), CSI part 2 subband, pmi-FormatIndicator= subbandPMI or cqi-FormatIndicator=subbandCQI\n\nIf none of the CSI reports for transmission on a PUCCH is of two parts, the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.1.1.2-12, are mapped to the UCI bit sequence  starting with . The most significant bit of each field is mapped to the lowest order information bit for that field, e.g. the most significant bit of the first field is mapped to.\nTable 6.3.1.1.2-12: Mapping order of CSI reports to UCI bit sequence ,\nwithout two-part CSI report(s)\n\nIf at least one of the CSI reports for transmission on a PUCCH is of two parts, two UCI bit sequences are generated,  and . The CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.1.1.2-13, are mapped to the UCI bit sequence  starting with . The most significant bit of each field is mapped to the lowest order information bit for that field, e.g. the most significant bit of the first field is mapped to. The CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.1.1.2-14, are mapped to the UCI bit sequence  starting with . The most significant bit of each field is mapped to the lowest order information bit for that field, e.g. the most significant bit of the first field is mapped to . If the length of UCI bit sequence  is less than 3 bits, zeros shall be appended to the UCI bit sequence until its length equals 3.\nTable 6.3.1.1.2-13: Mapping order of CSI reports to UCI bit sequence , \nwith two-part CSI report(s)\n\nwhere CSI report #1, CSI report #2, \u2026, CSI report #n in Table 6.3.1.1.2-13 correspond to the CSI reports in increasing order of CSI report priority values according to Clause 5.2.5 of [6, TS38.214].\nTable 6.3.1.1.2-14: Mapping order of CSI reports to UCI bit sequence , \nwith two-part CSI report(s)\n\nwhere CSI report #1, CSI report #2, \u2026, CSI report #n in Table 6.3.1.1.2-14 correspond to the CSI reports in increasing order of CSI report priority values according to Clause 5.2.5 of [6, TS38.214].\n6.3.1.1.3\tHARQ-ACK/SR and CSI\nIf none of the CSI reports for transmission on a PUCCH is of two parts, the UCI bit sequence  is generated according to the following, where :\n-\tif there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits are mapped to the UCI bit sequence , where  for , the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS38.213], and  is number of HARQ-ACK bits; if there is no HARQ-ACK for transmission on the PUCCH, set ;\n-\tif there is SR for transmission on the PUCCH, set  for , where the SR bit sequence  is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR for transmission on the PUCCH, set ;\n-\tthe CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.1.1.2-12, are mapped to the UCI bit sequence  starting with , where  is the number of CSI bits.\nIf at least one of the CSI reports for transmission on a PUCCH is of two parts, two UCI bit sequences are generated,  and , according to the following, where  and :\n-\tif there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits are mapped to the UCI bit sequence , where  for , the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS38.213], and  is number of HARQ-ACK bits; if there is no HARQ-ACK for transmission on the PUCCH, set ;\n-\tif there is SR for transmission on the PUCCH, set  for , where the SR bit sequence  is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR for transmission on the PUCCH, set ;\n-\tthe CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.1.1.2-13, are mapped to the UCI bit sequence  starting with , where  is the number of CSI bits in CSI part 1 of all CSI reports;\n-\tthe CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.1.1.2-14, are mapped to the UCI bit sequence  starting with , where  is the number of CSI bits in CSI part 2 of all CSI reports. If the length of UCI bit sequence  is less than 3 bits, zeros shall be appended to the UCI bit sequence until its length equals 3.\n6.3.1.1.4\tUCI with different priority indexes\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1, and SR associated with priority index 1 if any are transmitted on a PUCCH, two UCI bit sequences are generated,  and , according to the following, where  and : \n-\tthe HARQ-ACK bits associated with priority index 1 are mapped to the UCI bit sequence , where   for , the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS 38.213], and  is the number of HARQ-ACK bits associated with priority index 1; \n-\tif there is SR associated with priority index 1 for transmission on the PUCCH, set  for  , where the SR bit sequence   is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR associated with priority index 1 for transmission on the PUCCH, set ;\n-\tthe HARQ-ACK bits associated with priority index 0 are mapped to the UCI bit sequence , where   for , the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS 38.213], and  is the number of HARQ-ACK bits associated with priority index 0.\n6.3.1.2\tCode block segmentation and CRC attachment\nThe UCI bit sequence from clause 6.3.1.1 is denoted by , where  is the payload size. The procedure in Clause 6.3.1.2.1 applies for  and the procedure in Clause 6.3.1.2.2 applies for . \n6.3.1.2.1\tUCI encoded by Polar code\nIf the payload size , code block segmentation and CRC attachment is performed according to Clause 5.2.1. If ( and ) or if , ; otherwise , where  is the rate matching output sequence length as given in Clauses 6.3.1.4.1 and 6.3.1.4.3.\nIf , the parity bits  in Clause 5.2.1 are computed by setting  to 6 bits and using the generator polynomial  in Clause 5.1, resulting in the sequence  where  is the code block number and  is the number of bits for code block number . \nIf , the parity bits  in Clause 5.2.1 are computed by setting  to 11 bits and using the generator polynomial  in Clause 5.1, resulting in the sequence  where  is the code block number and  is the number of bits for code block number . \n6.3.1.2.2\tUCI encoded by channel coding of small block lengths\nIf the payload size , CRC bits are not attached.\nThe output bit sequence is denoted by , where  for  and .\n6.3.1.3\tChannel coding of UCI\n6.3.1.3.1\tUCI encoded by Polar code\nInformation bits are delivered to the channel coding block. They are denoted by  , where  is the code block number, and  is the number of bits in code block number . The total number of code blocks is denoted by  and each code block is individually encoded by the following: \nIf , the information bits are encoded via Polar coding according to Clause 5.3.1, by setting , , ,  if  and  if , where  is the rate matching output sequence length as given in Clauses 6.3.1.4.1 and 6.3.1.4.3.\nIf , the information bits are encoded via Polar coding according to Clause 5.3.1, by setting , , , and .\nAfter encoding the bits are denoted by , where  is the number of coded bits in code block number . \n6.3.1.3.2\tUCI encoded by channel coding of small block lengths\nInformation bits are delivered to the channel coding block. They are denoted by , where  is the number of bits.\nThe information bits are encoded according to Clause 5.3.3.\nAfter encoding the bits are denoted by , where  is the number of coded bits.\n6.3.1.4\tRate matching\nFor PUCCH formats 2/3/4, the total rate matching output sequence length  is given by Table 6.3.1.4-1, where  , , and  are the number of symbols carrying UCI for PUCCH formats 2/3/4 respectively; ,  and are the number of PRBs that are determined by the UE for PUCCH formats 2/3/4 transmission respectively according to Clause 9.2 of [5, TS38.213]; and , , and  are the spreading factors for PUCCH format 2, PUCCH format 3, and PUCCH format 4, respectively.\nTable 6.3.1.4-1: Total rate matching output sequence length \n\n6.3.1.4.1\tUCI encoded by Polar code\nThe input bit sequence to rate matching is  where  is the code block number, and  is the number of coded bits in code block number . \nTable 6.3.1.4.1-1: Rate matching output sequence length \n\nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where  is the number of code blocks for UCI determined according to Clause 6.3.1.2.1 and the value of  is given by Table 6.3.1.4.1-1:\n-\t is the number of bits for HARQ-ACK for transmission on the current PUCCH;\n-\t is the number of bits for SR for transmission on the current PUCCH;\n-\t is the number of bits for CSI part 1 for transmission on the current PUCCH;\n-\t is the number of bits for CSI part 2 for transmission on the current PUCCH;\n-\tif ,  ; otherwise,  is the number of CRC bits determined according to Clause 6.3.1.2.1, where  equals  for \"CSI (CSI of two parts)\", equals  for \"HARQ-ACK, CSI (CSI of two parts)\", and equals  for \"HARQ-ACK, SR, CSI (CSI of two parts)\" respectively in Table\u00a06.3.1.4.1-1;\n-\t is the configured maximum PUCCH coding rate;\n-\t is given by Table 6.3.1.4-1.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number . \n6.3.1.4.2\tUCI encoded by channel coding of small block lengths\nThe input bit sequence to rate matching is .\nThe value of  is determined according to Table 6.3.1.4.1-1 by setting .\nRate matching is performed according to Clause 5.4.3 by setting the rate matching output sequence length . \nThe output bit sequence after rate matching is denoted as . \n6.3.1.4.3\tUCI with different priority indexes encoded by Polar code\nThe following procedure in this clause 6.3.1.4.3 applies if uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1 and SR associated with priority index 1 if any are transmitted on a PUCCH.\nThe input bit sequence to rate matching is  where  is the code block number, and  is the number of coded bits in code block number.\nTable 6.3.1.4.3-1: Rate matching output sequence length  for UCIs with different priority indexes\n\nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where  is the number of code blocks for UCI determined according to Clause 6.3.1.2.1 and the value of  is given by Table 6.3.1.4.3-1:\n-\t is the number of bits for HARQ-ACK associated with priority index 1 for transmission on the current PUCCH;\n-\t is the number of bits for SR associated with priority index 1 for transmission on the current PUCCH;\n-\tif , =11; otherwise,  is the number of CRC bits determined according to clause 6.3.1.2.1, where  equals  for the case of \"HARQ-ACK of priority index 1, HARQ-ACK of priority index 0\", and equals  for the case of \"HARQ-ACK of priority index 1, SR of priority index 1, HARQ-ACK of priority index 0\" respectively in Table 6.3.1.4.3-1;\n-\t is the configured maximum PUCCH coding rate of priority index 1;\n-\t is given by Table 6.3.1.4-1.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number.\n6.3.1.4.4\tUCI with different priority indexes encoded by channel coding of small block lengths\nThe following procedure in this clause 6.3.1.4.4 applies if uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1 and SR associated with priority index 1 if any are transmitted on a PUCCH. \nThe input bit sequence to rate matching is .\nThe value of  is determined according to Table 6.3.1.4.3-1 by setting =0.\nRate matching is performed according to Clause 5.4.3 by setting the rate matching output sequence length . \nThe output bit sequence after rate matching is denoted as .\n6.3.1.5\tCode block concatenation\nThe input bit sequence for the code block concatenation block are the sequences, for  and where  is the number of rate matched bits for the -th code block. \nCode block concatenation is performed according to Clause 5.5. \nThe bits after code block concatenation are denoted by, where  with the values of  and  given in Clauses 6.3.1.4.1 and 6.3.1.4.3. Let  be the total number of coded bits for transmission and . Set  for .\n6.3.1.6\tMultiplexing of coded UCI bits to PUCCH\nIf CSI of two parts or UCIs with different priority indexes are transmitted on a PUCCH, the coded bits corresponding to UCI bit sequence  is denoted by and the coded bits corresponding to UCI bit sequence  is denoted by . \nFor PUCCH format 2 when uci-MuxWithDiffPrio is configured, the coded bit sequence  is generated for UCIs with different priority indexes by setting  for , and setting  for .\nFor PUCCH format 3/4, the coded bit sequence , where , is generated according to the following.\nTable 6.3.1.6-1: PUCCH DMRS and UCI symbols\n\nDenote  as UCI OFDM symbol index. Denote  as the number of elements in UCI symbol indices set  for , where  and  are given by Table 6.3.1.6-1 according to the PUCCH duration and the PUCCH DMRS configuration. Denote  as the number of OFDM symbols carrying UCI in the PUCCH. Denote  as the modulation order of the PUCCH. \nFor PUCCH formats 3/4, set  , where  is the number of PRBs that is determined by the UE for the corresponding PUCCH format transmission according to Clause 9.2 of [5, TS 38.213], and  is the spreading factor for the corresponding PUCCH format [4, TS 38.211], where .\nFind the smallest such that .\nSet ;\nSet ;\nSet ;\nSet ;\nfor  to \nif  \nfor  to \nfor  to \n;\n;\nend for\nend for\nelseif \nif \n;\nelse\n;\nend if\n;\nfor  to \nfor  to \n;\n;\nend for\nend for\nfor  to \nfor  to \n;\n;\nend for\nend for\nelse\nfor  to \nfor  to \n;\n;\nend for\nend for\nend if\nend for\nSet \nfor  to \nfor  to \nfor  to \n;\n;\nend for\nend for\nend for\n6.3.2\tUplink control information on PUSCH\nThe following clauses 6.3.2.2, 6.3.2.3, and 6.3.2.5 apply regardless of whether the higher layer parameter uci-MuxWithDiffPrio is configured or not. The following clauses 6.3.2.1, 6.3.2.4, and 6.3.2.6 apply by assuming uci-MuxWithDiffPrio is not configured, or uci-MuxWithDiffPrio is configured and the UCIs for transmission on a PUSCH are of the same priority index, unless stated otherwise. \nIf the UE is configured with a PUCCH-SCell, uci-MuxWithDiffPrio is replaced by uci-MuxWithDiffPrioSecondaryPUCCHgroup for the secondary PUCCH group in this clause.\n6.3.2.1\tUCI bit sequence generation\n6.3.2.1.1\tHARQ-ACK\nIf HARQ-ACK bits are transmitted on a PUSCH, the UCI bit sequence  is determined as follows:\n-\tIf UCI is transmitted on PUSCH without UL-SCH and the UCI includes CSI part 1 without CSI part 2, \n-\tif there is no HARQ-ACK bit given by Clause 9.1 of [5, TS 38.213], set , , and ;\n-\tif there is only one HARQ-ACK bit  given by Clause 9.1 of [5, TS 38.213], set , , and ;\n-\totherwise, set  for  and , where the HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS 38.213].\n6.3.2.1.2\tCSI\nIf cqi-BitsPerSubband is configured, this Clause 6.3.2.1.2 applies by taking Subband CQI as Subband differential CQI and replacing the corresponding number of bits 2 by 4.\nIf csi-ReportSubConfig is configured, for a corresponding CSI sub-report, the bitwidth of a CSI field of the CSI sub-report is determined following the procedure in this clause 6.3.2.1.2 by taking configurations in CSI-ReportSubConfig when applicable. If csi-ReportSubConfig configures a list of CSI-RS resource IDs, for the determination of the bitwidth of a CRI field, the value of  is the number of CSI-RS resources configured in the corresponding csi-ReportSubConfig.\nThe bitwidth for PMI of codebookType=typeI-SinglePanel and codebookType=typeI-MultiPanel is specified in Clause\u00a06.3.1.1.2.\nThe bitwidth for RI/LI/CQI/CRI of codebookType=typeI-SinglePanel and codebookType=typeI-MultiPanel is specified in Clause 6.3.1.1.2.\nThe bitwidth for PMI/RI/LI/CQI/CRI with 1 CSI-RS port is specified in Clause 6.3.1.1.2.\nThe bitwidth for PMI of codebookType=typeII is provided in Tables 6.3.2.1.2-1, where the values of , , , , , , and  are given by Clause 5.2.2.2.3 in [6, TS 38.214].\nTable 6.3.2.1.2-1: PMI of codebookType= typeII\n\nThe bitwidth for PMI of codebookType=typeII-r16 is provided in Tables 6.3.2.1.2-1A, where the values of , , , , , and  are given by Clause 5.2.2.2.5 in [6, TS 38.214].\nTable 6.3.2.1.2-1A: PMI of codebookType= typeII-r16\n\nThe bitwidth for PMI of codebookType=typeII-CJT is provided in Tables 6.3.2.1.2-1B, where the values of , , , , , , ,  and  are given by Clause 5.2.2.2.8 in [6, TS 38.214].\nTable 6.3.2.1.2-1B: PMI of codebookType= typeII-CJT\n\nThe bitwidth for PMI of codebookType=typeII-Doppler is provided in Tables 6.3.2.1.2-1C, where the values of , , , , , , Q and  are given by Clause 5.2.2.2.10 in [6, TS 38.214].\nTable 6.3.2.1.2-1C: PMI of codebookType=typeII-Doppler\n\nThe bitwidth for PMI of codebookType= typeII-PortSelection is provided in Tables 6.3.2.1.2-2, where the values of , , , , , , and  are given by Clause 5.2.2.2.4 in [6, TS 38.214].\nTable 6.3.2.1.2-2: PMI of codebookType= typeII-PortSelection\n\nThe bitwidth for PMI of codebookType=typeII-PortSelection-r16 is provided in Tables 6.3.2.1.2-2A, where the values of ,, , , , and   are given by Clause 5.2.2.2.6 in [6, TS 38.214].\nTable 6.3.2.1.2-2A: PMI of codebookType= typeII-PortSelection-r16\n\nThe bitwidth for PMI of codebookType=typeII-PortSelection-r17 is provided in Tables 6.3.2.1.2-2B, where the values of ,, , ,  and  are given by Clause 5.2.2.2.7 in [6, TS 38.214].\nTable 6.3.2.1.2-2B: PMI of codebookType= typeII-PortSelection-r17\n\nIf csi-ReportSubConfig is configured, for a corresponding CSI sub-report, the mapping order of CSI fields of one CSI sub-report is determined following the procedure in this clause 6.3.2.1.2, by replacing CSI report #n in the following Tables 6.3.2.1.2-3 and 6.3.2.1.2-4 with CSI sub-report #n, and taking only Tables 6.3.1.1.2-1/2/3/4 for the determination of the bitwidth of a CSI field.\nThe bitwidth for PMI of codebookType=typeII-CJT-PortSelection is provided in Tables 6.3.2.1.2-2C, where the values of ,,, , ,  and  are given by Clause 5.2.2.2.9 in [6, TS 38.214].\nTable 6.3.2.1.2-2C: PMI of codebookType= typeII-CJT-PortSelection\n\nThe bitwidth for PMI of codebookType=typeII-Doppler-PortSelection is provided in Tables 6.3.2.1.2-2D, where the values of ,, , ,  and  are given by Clause 5.2.2.2.11 in [6, TS 38.214].\nTable 6.3.2.1.2-2D: PMI of codebookType= typeII-Doppler-PortSelection\n\nFor CSI on PUSCH, two UCI bit sequences are generated,  and . The CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence  starting with . The CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-7, are mapped to the UCI bit sequence  starting with .\nThe mapping order of CSI fields of one report for CRI/RSRP or SSBRI/RSRP or CRI/RSRP/CapabilityIndex or SSBRI/RSRP/CapabilityIndex reporting is provided in Table 6.3.1.1.2-8. The mapping order of CSI fields of one report for inter-cell SSBRI/RSRP reporting is provided in Table 6.3.1.1.2-8. The mapping order of CSI fields of one report for CRI/SINR or SSBRI/SINR or CRI/SINR/CapabilityIndex or SSBRI/SINR/CapabilityIndex reporting is provided in Table\u00a06.3.1.1.2-8A. The mapping order of CSI fields of one report for group-based CRI/RSRP or SSBRI/RSRP reporting is provided in Table 6.3.1.1.2-8B. The mapping order of CSI fields of one report for TDCP reporting is provided in Table 6.3.2.1.2-3C. The mapping order of CSI fields of one report for SSBRI/RSRP reporting for L1/L2-triggered mobility is provided in Table 6.3.1.1.2-8C. The procedure in clause 6.3.2 described for CSI part 1 is also applicable for one report for CRI/RSRP, SSBRI/RSRP, CRI/SINR, SSBRI/SINR reporting, or TDCP reporting.\nTable 6.3.2.1.2-3: Mapping order of CSI fields of one CSI report, CSI part 1\n\nTable 6.3.2.1.2-3A: Mapping order of CSI fields of one CSI report, CSI part 1, csi-ReportMode= Mode 1\n\nTable 6.3.2.1.2-3B: Mapping order of CSI fields of one CSI report, CSI part 1, csi-ReportMode= Mode 2\n\nTable 6.3.2.1.2-3C: Mapping order of CSI fields of one CSI report for reportQuantity=tdcp\n\nThe number of zero padding bits  in Table 6.3.1.1.2-9B is 0 for 1 CSI-RS port and  for more than 1 CSI-RS port, where:\n-\t. is the set of rank and rank combination values r that are allowed to be reported.  is obtained according to Tables 6.3.1.1.2-3A/3B for rank combination indicator and rank indicator respectively.\n-\tis obtained according to Tables 6.3.1.1.2-3A for rank combination indicator and R is the reported rank combination\n-\t is obtained according to Tables 6.3.1.1.2-3B for rank indicator and R is the reported rank \nTable 6.3.2.1.2-4: Mapping order of CSI fields of one CSI report, CSI part 2 wideband\n\nTable 6.3.2.1.2-4A: Mapping order of CSI fields of one CSI report, CSI part 2 wideband,\ncsi-ReportMode= Mode 1\n\nTable 6.3.2.1.2-4B: Mapping order of CSI fields of one CSI report, CSI part 2 wideband,\ncsi-ReportMode= Mode 2\n\nTable 6.3.2.1.2-5: Mapping order of CSI fields of one CSI report, CSI part 2 subband\n\nTable 6.3.2.1.2-5A: Mapping order of CSI fields of one CSI report, CSI part 2 of\ncodebookType=typeII-r16 or typeII-PortSelection-r16\n\nTable 6.3.2.1.2-5B: Mapping order of CSI fields of one CSI report, CSI part 2 of\ncodebookType=typeII-PortSelection-r17 or typeII-Doppler-PortSelection\n\nTable 6.3.2.1.2-5C: Mapping order of CSI fields of one CSI report, CSI part 2 subband,\nReportMode= Mode 1\n\nTable 6.3.2.1.2-5D: Mapping order of CSI fields of one CSI report, CSI part 2 subband,\nReportMode= Mode 2\n\nTable 6.3.2.1.2-5E: Mapping order of CSI fields of one CSI report, CSI part 2 of\ncodebookType=typeII-CJT\n\nTable 6.3.2.1.2-5F: Mapping order of CSI fields of one CSI report, CSI part 2 of\ncodebookType= typeII-Doppler\n\nTable 6.3.2.1.2-5G: Mapping order of CSI fields of one CSI report, CSI part 2 of\ncodebookType=typeII-CJT-PortSelection\n\nTable 6.3.2.1.2-5H: Mapping order of CSI fields of one CSI report containing  CSI sub-report(s), CSI part 2 subband\n\nTable 6.3.2.1.2-6: Mapping order of CSI reports to UCI bit sequence , \nwith two-part CSI report(s)\n\nwhere CSI report #1, CSI report #2, \u2026, CSI report #n in Table 6.3.2.1.2-6 correspond to the CSI reports in increasing order of CSI report priority values according to Clause 5.2.5 of [6, TS38.214].\nTable 6.3.2.1.2-7: Mapping order of CSI reports to UCI bit sequence , \nwith two-part CSI report(s)\n\nwhere CSI report #1, CSI report #2, \u2026, CSI report #n in Table 6.3.2.1.2-7 correspond to the CSI reports in increasing order of CSI report priority values according to Clause 5.2.5 of [6, TS38.214].\nThe bitwidth for RI/CQI of codebookType= typeII-r16 or codebookType=typeII-PortSelection-r16 is provided in Table\u00a06.3.2.1.2-8.\nTable 6.3.2.1.2-8: RI and CQI of codebookType=typeII-r16 or typeII-PortSelection-r16\n\nwhere  is the number of allowed rank indicator values according to Clauses 5.2.2.2.5 and 5.2.2.2.6 [6, TS 38.214],, where , , , and  are given by Clause 5.2.2.2.5 and 5.2.2.2.6 in [6, TS 38.214]. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value. The values of the  indicator field are mapped to the allowed values of , according to Clauses 5.2.2.2.5 and 5.2.2.2.6 [6, TS 38.214], with increasing order, where '0' is mapped to .\nThe bitwidth for RI/CQI of codebookType= typeII-CJT is provided in Table 6.3.2.1.2-8A.\nTable 6.3.2.1.2-8A: RI and CQI of codebookType= typeII-CJT\n\nWhere  is the number of allowed rank indicator values according to Clause 5.2.2.2.8 TS 38.214 [6], is the maximum of  for all  configured  combinations, where, , and  are given by Clause\u00a05.2.2.2.8 in TS 38.214 [6]. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value. The values of the  indicator field are mapped to the allowed values of , according to Clause 5.2.2.2.8 TS 38.214 [6], with increasing order, where '0' is mapped to .\n\nThe bitwidth for RI/CQI of codebookType= typeII-Doppler is provided in Table 6.3.2.1.2-8B.\nTable 6.3.2.1.2-8B: RI and CQI of codebookType= typeII-Doppler\n\nWhere  is the number of allowed rank indicator values according to Clause 5.2.2.2.10 TS 38.214 [6],, where , , ,  and  are given by Clause 5.2.2.2.10 in TS 38.214 [6]. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value. The values of the  indicator field are mapped to the allowed values of , according to Clause 5.2.2.2.10 TS 38.214 [6], with increasing order, where '0' is mapped to .\n\nThe bitwidth for RI/CQI of codebookType=typeII-PortSelection-r17 or typeII-Doppler-PortSelection is provided in Table 6.3.2.1.2-9.\nTable 6.3.2.1.2-9: RI and CQI of codebookType=typeII-PortSelection-r17 or\ntypeII-Doppler-PortSelection-r18\n\nwhere  is the number of allowed rank indicator values according to Clauses 5.2.2.2.7 and Clauses 5.2.2.2.11 [6, TS 38.214],, where , , and  are given by Clause 5.2.2.2.7 and Clauses 5.2.2.2.11 in [6, TS 38.214]. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value. The values of the  indicator field are mapped to the allowed values of , according to Clauses 5.2.2.2.7 and Clauses 5.2.2.2.11 [6, TS 38.214], with increasing order, where '0' is mapped to .\n\nThe bitwidth for RI/CQI of codebookType=typeII-CJT-PortSelection is provided in Table 6.3.2.1.2-9A.\nTable 6.3.2.1.2-9A: RI and CQI of codebookType= typeII-CJT-PortSelection\n\nWhere  is the number of allowed rank indicator values according to Clause 5.2.2.2.9 TS 38.214 [6] is the maximum of  for all  configured  combinations, where , , and  are given by Clause\u00a05.2.2.2.9 in TS 38.214 [6], and. The values of the rank indicator field are mapped to allowed rank indicator values with increasing order, where '0' is mapped to the smallest allowed rank indicator value. The values of the  indicator field are mapped to the allowed values of , according to Clause 5.2.2.2.9 TS 38.214 [6], with increasing order, where '0' is mapped to .\n\nThe bitwidth for reportQuantity=tdcp is provided in Table 6.3.2.1.2-10.\nTable 6.3.2.1.2-10: Amplitude and phase values for reportQuantity=tdcp\n\n6.3.2.1.3\tCG-UCI\nFor CG-UCI bits transmitted on a CG PUSCH when the higher layer parameter cg-RetransmissionTimer is configured, the CG-UCI bit sequence  is determined as follows:\n-\tset   for  and , where the CG-UCI bit sequence  is given by Table 6.3.2.1.3-1, mapped in the order from upper part to lower part.\nTable 6.3.2.1.3-1: Mapping order of CG-UCI fields\n\n6.3.2.1.3A\tUTO-UCI\nFor UTO-UCI bits transmitted on a CG PUSCH when the higher layer parameter nrofBitsInUTO-UCI is configured, the UTO-UCI bit sequence  is determined as follows:\n-\tset   for  and , where  is provided by nrofBitsInUTO-UCI, and the UTO-UCI bit sequence  is given by clause 9.3.1 of [5, TS 38.213].\n6.3.2.1.4\tHARQ-ACK and CG-UCI/UTO-UCI\nIf the higher layer parameter nrofBitsInUTO-UCI is configured, the procedure in this clause 6.3.2.1.4 applies by replacing CG-UCI with UTO-UCI in all the notations and texts, and replacing \"When higher layer parameter cg-UCI-Multiplexing is configured\" with \"When UTO-UCI and HARQ-ACK have the same priority index and are jointly encoded and transmitted on a PUSCH\".\nWhen higher layer parameter cg-UCI-Multiplexing is configured, the UCI bit sequence  is determined as follows, where .\n-\tThe CG-UCI bits are mapped to the UCI bit sequence, where for . The CG-UCI bit sequence  is given by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part, and  is number of CG-UCI bits;\n-\tThe HARQ-ACK bits are mapped to the UCI bit sequence , where  for . The HARQ-ACK bit sequence  is given by Clause 9.1 of [5, TS38.213], and  is number of HARQ-ACK bits.\n6.3.2.1.5\tUCI with different priority indexes\nIf the higher layer parameter nrofBitsInUTO-UCI is configured, the procedure in this clause 6.3.2.1.5 applies by replacing CG-UCI with UTO-UCI in all the notations and texts, and replacing \"is given by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part\" with \"is given by clause 9.3.1 of [5, TS 38.213]\".\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 1, the following UCI bit sequences are generated, , and   if any, according to the following:\n-\tIf CSI part 1 is also transmitted on the PUSCH,\n-\tSet  for  as the bit sequence of CSI part 1, where the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence  starting with .\n-\tSet    for  and , where the HARQ-ACK bit sequence  associated with priority index 0 is given by Clause 9.1 of [5, TS 38.213].\n-\tOtherwise, set    for  and , where the HARQ-ACK bit sequence  associated with priority index 0 is given by Clause 9.1 of [5, TS 38.213].\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 1, and CSI if any are transmitted on a PUSCH associated with priority index 0, the following UCI bit sequences are generated,,  if any, and   if any, according to the following:\n-\tIf HARQ-ACK bits associated with priority index 1 and CSI are transmitted on the PUSCH without UL-SCH and the CSI includes CSI part 1 without CSI part 2, and there is only one HARQ-ACK bit associated with priority index 1 given by Clause 9.1 of [5, TS 38.213], set , , and ; otherwise, set   for  and , where the HARQ-ACK bit sequence  associated with priority index 1 is given by Clause 9.1 of [5, TS 38.213];\n-\tSet  for  as the bit sequence of CSI part 1, if CSI part 1 is also transmitted on the PUSCH, where the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence  starting with ;\n-\tSet  for  as the bit sequence of CSI part 2, if CSI part 2 is also transmitted on the PUSCH, where the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-7, are mapped to the UCI bit sequence  starting with .\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH, the following UCI bit sequences are generated,, , and   if any, according to the following:\n-\tSet   for  and  if HARQ-ACK bits associated with priority index 1 are transmitted without CG-UCI associated with priority index 1, where the HARQ-ACK bit sequence  associated with priority index 1 is given by Clause 9.1 of [5, TS 38.213];\n-\tSet   for  and  if CG-UCI associated with priority index 1 is transmitted without HARQ-ACK bits associated with priority index 1, where the CG-UCI bit sequence  associated with priority index 1 is given by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part;\n-\tSet  as follows, if both CG-UCI associated with priority index 1 and HARQ-ACK bits associated with priority index 1 are transmitted, where \n-\tThe CG-UCI bits are mapped to the UCI bit sequence , where for . The CG-UCI bit sequence  is given by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part, and  is number of CG-UCI bits\n-\tThe HARQ-ACK bits are mapped to the UCI bit sequence , where  for . The HARQ-ACK bit sequence  associated with priority index 1 is given by Clause 9.1 of [5, TS 38.213].\n-\tIf CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 1,\n-\tSet  for  as the bit sequence of CSI part 1, where the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence  starting with .\n-\tSet    for  and , where the HARQ-ACK bit sequence  associated with priority index 0 is given by Clause 9.1 of [5, TS 38.213].\n-\tOtherwise,\n-\tSet    for  and , where the HARQ-ACK bit sequence  associated with priority index 0 is given by Clause 9.1 of [5, TS 38.213].\n-\tSet    for and , if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0, where the CSI part 1 sequence  is given by Table 6.3.2.1.2-6 by replacing , and the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to the CSI part 1 sequence  starting with .\nIf uci-MuxWithDiffPrio is configured, and CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 0, the following UCI bit sequences are generated,, , and   if any, according to the following:\n-\tSet   for  and , where the HARQ-ACK bit sequence  associated with priority index 1 is given by Clause 9.1 of [5, TS 38.213];\n-\tSet   for  and  if CG-UCI associated with priority index 0 is transmitted without HARQ-ACK bits associated with priority index 0, where the CG-UCI bit sequence  associated with priority index 0 is given by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part;\n-\tSet  as follows if both CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 are transmitted, where \n-\tThe CG-UCI bits are mapped to the UCI bit sequence , where for . The CG-UCI bit sequence  is given by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part, and  is number of CG-UCI bits\n-\tThe HARQ-ACK bits are mapped to the UCI bit sequence , where  for . The HARQ-ACK bit sequence  associated with priority index 0 is given by Clause 9.1 of [5, TS 38.213].\n-\tSet   for and , if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0, where the CSI part 1 sequence  is given by Table 6.3.2.1.2-6 by replacing , and the CSI fields of all CSI reports, in the order from upper part to lower part in Table 6.3.2.1.2-6, are mapped to the CSI part 1 sequence  starting with .\n6.3.2.2\tCode block segmentation and CRC attachment\nDenote the bits of the payload by , where  is the payload size. The procedure in 6.3.2.2.1 applies for  and the procedure in Clause 6.3.2.2.2 applies for .\n6.3.2.2.1\tUCI encoded by Polar code\nCode block segmentation and CRC attachment is performed according to Clause 6.3.1.2.1.\n6.3.2.2.2\tUCI encoded by channel coding of small block lengths\nThe procedure in Clause 6.3.1.2.2 applies.\n6.3.2.3\tChannel coding of UCI\n6.3.2.3.1\tUCI encoded by Polar code\nChannel coding is performed according to Clause 6.3.1.3.1, except that the rate matching output sequence length  is given in Clause 6.3.2.4.1. \n6.3.2.3.2\tUCI encoded by channel coding of small block lengths\nInformation bits are delivered to the channel coding block. They are denoted by , where  is the number of bits.\nThe information bits are encoded according to Clause 5.3.3.\nAfter encoding the bits are denoted by , where  is the number of coded bits.\n6.3.2.4\tRate matching\nIn case where there are more than one UL-SCH transport blocks for the PUSCH transmission, the UCI information is multiplexed only on the UL-SCH transport block with highest IMCS value for the initial PUSCH, where IMCS is as defined in Clause 6.1.4.1 in [6, TS 38.214]. In case the two transport blocks have the same IMCS value for the initial PUSCH, the UCI information is multiplexed with data only on the first transport block. The PUSCH for UCI multiplexing in this Clause refers to the UL-SCH transport block for UCI multiplexing.\n6.3.2.4.1\tUCI encoded by Polar code\nIf the higher layer parameter nrofBitsInUTO-UCI is configured, the procedures in this clause and the clauses it refers to apply by replacing CG-UCI with UTO-UCI in all the notations and texts, when applicable.\n6.3.2.4.1.1\tHARQ-ACK\nFor HARQ-ACK transmission on PUSCH not using repetition type B with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table, or if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is equal to 1, the number of coded modulation symbols per layer for HARQ-ACK transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the number of HARQ-ACK bits;\n-\tif , ; otherwise  is the number of CRC bits for HARQ-ACK determined according to Clause 6.3.1.2.1;\n-\t;\n-\t is the number of code blocks for UL-SCH of the PUSCH transmission;\n-\tif the DCI format scheduling the PUSCH transmission includes a CBGTI field indicating that the UE shall not transmit the -th code block, =0; otherwise,  is the -th code block size for UL-SCH of the PUSCH transmission;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, ;\n-\t is configured by higher layer parameter scaling;\n-\t is the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.\nFor HARQ-ACK transmission on PUSCH not using repetition type B with UL-SCH, and if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, the number of coded modulation symbols per layer for HARQ-ACK transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI;\n-\tis the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission of TB processing over multiple slots in the slot with the HARQ-ACK transmission;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission of TB processing over multiple slots in the slot with the HARQ-ACK transmission and is the total number of OFDM symbols of the PUSCH in the slot, including all OFDM symbols used for DMRS;\n-\tis the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission of TB processing over multiple slots in the slot with the HARQ-ACK transmission;\n-\tand all the other notations in the formula are defined the same as for PUSCH not using repetition type B and if numberOfSlotsTBoMS is not present in the resource allocation table.\nFor HARQ-ACK transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for HARQ-ACK transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission assuming a nominal repetition without segmentation, and  is the total number of OFDM symbols in a nominal repetition of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH assuming a nominal repetition without segmentation, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH assuming a nominal repetition without segmentation,  where  is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission assuming a nominal repetition without segmentation;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol  , for , in the actual repetition of the PUSCH transmission, and  is the total number of OFDM symbols in the actual repetition of the PUSCH transmission, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the actual repetition of the PUSCH transmission, ;\n-\tfor any OFDM symbol that does not carry DMRS of the actual repetition of the PUSCH transmission,  where  is the number of subcarriers in OFDM symbol  that carries PTRS, in the actual repetition of the PUSCH transmission;\n-\tand all the other notations in the formula are defined the same as for PUSCH not using repetition type B and if numberOfSlotsTBoMS is not present in the resource allocation table.\nFor HARQ-ACK transmission on PUSCH without UL-SCH, the number of coded modulation symbols per layer for HARQ-ACK transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the number of HARQ-ACK bits;\n-\tif , ; otherwise  is the number of CRC bits for HARQ-ACK defined according to Clause 6.3.1.2.1;;\n-\t;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, ;\n-\t is the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission;\n-\t is the code rate of the PUSCH, determined according to Clause 6.1.4.1 of [6, TS38.214];\n-\t is the modulation order of the PUSCH;\n-\t is configured by higher layer parameter scaling.\nThe input bit sequence to rate matching is  where  is the code block number, and  is the number of coded bits in code block number . \nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where \n-\t is the number of code blocks for UCI determined according to Clause 5.2.1;\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH;\n-\t.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number .\n6.3.2.4.1.2\tCSI part 1\nFor CSI part 1 transmission on PUSCH not using repetition type B with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table, or if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is equal to 1, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows: \n\t\nwhere\n-\t is the number of bits for CSI part 1;\n-\tif , ; otherwise  is the number of CRC bits for CSI part 1 determined according to Clause 6.3.1.2.1;\n-\t;\n-\t is the number of code blocks for UL-SCH of the PUSCH transmission;\n-\tif the DCI format scheduling the PUSCH transmission includes a CBGTI field indicating that the UE shall not transmit the -th code block, =0; otherwise, is the -th code block size for UL-SCH of the PUSCH transmission;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission;\n-\t if HARQ-ACK is present for transmission on the same PUSCH with UL-SCH and without CG-UCI, where  is the number of coded modulation symbols per layer for HARQ-ACK transmitted on the PUSCH as defined in clause 6.3.2.4.1.1 if number of HARQ-ACK information bits is more than 2, and  if the number of HARQ-ACK information bits is no more than 2 bits, where  is the number of reserved resource elements for potential HARQ-ACK transmission in OFDM symbol , for , in the PUSCH transmission, defined in Clause 6.2.7; or\n-\t if both HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH, where  is the number of coded modulation symbols per layer for HARQ-ACK and CG-UCI transmitted on the PUSCH as defined in clause 6.3.2.4.1.5; or\n-\t if CG-UCI is present on the same PUSCH with UL-SCH and without HARQ-ACK, where  is the number of coded modulation symbols per layer for CG-UCI transmitted on the PUSCH as defined in clause 6.3.2.4.1.4;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, ;\n-\t is configured by higher layer parameter scaling.\nFor CSI part 1 transmission on PUSCH not using repetition type B with UL-SCH, and if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows:\n\nwhere\n-\t is the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission of TB processing over multiple slots in the slot with the CSI part 1 transmission;\n-\tis the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission of TB processing over multiple slots in the slot with the CSI part 1 transmission and is the total number of OFDM symbols of the PUSCH in the slot, including all OFDM symbols used for DMRS;\n-\tand all the other notations in the formula are defined the same as for PUSCH not using repetition type B and if numberOfSlotsTBoMS is not present in the resource allocation table.\nFor CSI part 1 transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows: \n\nwhere\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission assuming a nominal repetition without segmentation, and  is the total number of OFDM symbols in a nominal repetition of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH assuming a nominal repetition without segmentation, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH assuming a nominal repetition without segmentation,  where  is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission assuming a nominal repetition without segmentation;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the actual repetition of the PUSCH transmission, and  is the total number of OFDM symbols in the actual repetition of the PUSCH transmission, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the actual repetition of the PUSCH transmission, ;\n-\tfor any OFDM symbol that does not carry DMRS of the actual repetition of the PUSCH transmission,  where  is the number of subcarriers in OFDM symbol  that carries PTRS, in the actual repetition of the PUSCH transmission;\n-\tand all the other notations in the formula are defined the same as for PUSCH not using repetition type B and if numberOfSlotsTBoMS is not present in the resource allocation table.\nFor CSI part 1 transmission on PUSCH without UL-SCH, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined as follows:\nif there is CSI part 2 to be transmitted on the PUSCH,\n\t\nelse\n\t\nend if\nwhere\n-\t is the number of bits for CSI part 1;\n-\tif , ; otherwise  is the number of CRC bits for CSI part 1 determined according to Clause 6.3.1.2.1;\n-\t;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission;\n-\t is the number of coded modulation symbols per layer for HARQ-ACK transmitted on the PUSCH if number of HARQ-ACK information bits is more than 2, and  if the number of HARQ-ACK information bits is no more than 2 bits, where  is the number of reserved resource elements for potential HARQ-ACK transmission in OFDM symbol , for , in the PUSCH transmission, defined in Clause 6.2.7;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, ;\n-\t is the code rate of the PUSCH, determined according to Clause 6.1.4.1 of [6, TS38.214];\n-\t is the modulation order of the PUSCH.\nThe input bit sequence to rate matching is  where  is the code block number, and  is the number of coded bits in code block number . \nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where \n-\t is the number of code blocks for UCI determined according to Clause 5.2.1;\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH;\n-\t.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number .\n6.3.2.4.1.3\tCSI part 2\nFor CSI part 2 transmission on PUSCH not using repetition type B with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table, or if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is equal to 1, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the number of bits for CSI part 2;\n-\tif , ; otherwise  is the number of CRC bits for CSI part 2 determined according to Clause 6.3.1.2.1;\n-\t;\n-\t is the number of code blocks for UL-SCH of the PUSCH transmission;\n-\tif the DCI format scheduling the PUSCH transmission includes a CBGTI field indicating that the UE shall not transmit the -th code block, =0; otherwise, is the -th code block size for UL-SCH of the PUSCH transmission;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission;\n-\t if HARQ-ACK is present for transmission on the same PUSCH with UL-SCH and without CG-UCI, where  is the number of coded modulation symbols per layer for HARQ-ACK transmitted on the PUSCH as defined in clause 6.3.2.4.1.1 if number of HARQ-ACK information bits is more than 2, and  if the number of HARQ-ACK information bits is 1 or 2 bits; or\n-\t if both HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH, where  is the number of coded modulation symbols per layer for HARQ-ACK and CG-UCI transmitted on the PUSCH as defined in clause 6.3.2.4.1.5; or\n-\t if CG-UCI is present on the same PUSCH with UL-SCH and without HARQ-ACK, where  is the number of coded modulation symbols per layer for CG-UCI transmitted on the PUSCH as defined in clause 6.3.2.4.1.4;\n-\t is the number of coded modulation symbols per layer for CSI part 1 transmitted on the PUSCH;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, .\n-\t is configured by higher layer parameter scaling.\nFor CSI part 2 transmission on PUSCH not using repetition type B with UL-SCH, and if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows:\n\nwhere\n-\t is the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI;\n-\tis the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission of TB processing over multiple slots in the slot with the CSI part 2 transmission;\n-\tis the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission of TB processing over multiple slots in the slot with the CSI part 2 transmission and is the total number of OFDM symbols of the PUSCH in the slot, including all OFDM symbols used for DMRS;\n-\tand all the other notations in the formula are defined the same as for PUSCH not using repetition type B and if numberOfSlotsTBoMS is not present in the resource allocation table.\nFor CSI part 2 transmission on an actual repetition of a PUSCH with repetition Type B with UL-SCH, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows:\n\nwhere\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission assuming a nominal repetition without segmentation, and  is the total number of OFDM symbols in a nominal repetition of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH assuming a nominal repetition without segmentation, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH assuming a nominal repetition without segmentation,  where  is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission assuming a nominal repetition without segmentation;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the actual repetition of the PUSCH transmission, and  is the total number of OFDM symbols in the actual repetition of the PUSCH transmission, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the actual repetition of the PUSCH transmission, ;\n-\tfor any OFDM symbol that does not carry DMRS of the actual repetition of the PUSCH transmission,  where  is the number of subcarriers in OFDM symbol  that carries PTRS, in the actual repetition of the PUSCH transmission;\n-\tand all the other notations in the formula are defined the same as for PUSCH not using repetition type B and if numberOfSlotsTBoMS is not present in the resource allocation table.\nFor CSI part 2 transmission on PUSCH without UL-SCH, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission;\n-\t is the number of coded modulation symbols per layer for HARQ-ACK transmitted on the PUSCH if number of HARQ-ACK information bits is more than 2, and  if the number of HARQ-ACK information bits is 1 or 2 bits;\n-\t is the number of coded modulation symbols per layer for CSI part 1 transmitted on the PUSCH;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, .\nThe input bit sequence to rate matching is  where  is the code block number, and  is the number of coded bits in code block number . \nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where \n-\t is the number of code blocks for UCI determined according to Clause 5.2.1;\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH;\n-\t.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number .\n6.3.2.4.1.4\tCG-UCI \nFor CG-UCI transmission on PUSCH with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table, or if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is equal to 1, the number of coded modulation symbols per layer for CG-UCI transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the number of CG-UCI bits;\n-\t is the number of CRC bits for CG-UCI determined according to Clause 6.3.1.2.1;\n-\t;\n-\t is the number of code blocks for UL-SCH of the PUSCH transmission;\n-\t is the r-th code block size for UL-SCH of the PUSCH transmission;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol l that carries PTRS, in the PUSCH transmission;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol l, for =0,1,2,\u2026, , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, ;\n-\t is configured by higher layer parameter scaling;\n-\t is the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.\nFor CG-UCI transmission on PUSCH with UL-SCH, and if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, the number of coded modulation symbols per layer for CG-UCI transmission, denoted as , is determined as follows:\n\nwhere\n-\t is the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI;\n-\tis the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH transmission of TB processing over multiple slots in the slot with the CG-UCI transmission;\n-\tis the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission of TB processing over multiple slots in the slot with the CG-UCI transmission and  is the total number of OFDM symbols of the PUSCH in the slot, including all OFDM symbols used for DMRS;\n-\tis the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission of TB processing over multiple slots in the slot with the CG-UCI transmission;\n-\tand all the other notations in the formula are defined the same as for PUSCH with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table.\nThe input bit sequence to rate matching is  where r is the code block number, and  is the number of coded bits in code block number r. \nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where \n-\t is the number of code blocks for UCI determined according to Clause 5.2.1;\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH;\n-\t.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number r.\n6.3.2.4.1.5\tHARQ-ACK and CG-UCI\nFor HARQ-ACK and CG-UCI transmission on PUSCH with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table, or if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is equal to 1, the number of coded modulation symbols per layer for HARQ-ACK and CG-UCI transmission, denoted as , is determined as follows:\n\t\nwhere\n-\t is the number of HARQ-ACK bits;\n-\t is the number of CG-UCI bits;\n-\tif , ; otherwise  is the number of CRC bits for HARQ-ACK and CG-UCI determined according to Clause 6.3.1.2.1;\n-\t;\n-\t is the number of code blocks for UL-SCH of the PUSCH transmission;\n-\t is the r-th code block size for UL-SCH of the PUSCH transmission;\n-\t is the scheduled bandwidth of the PUSCH transmission, expressed as a number of subcarriers;\n-\t is the number of subcarriers in OFDM symbol l that carries PTRS, in the PUSCH transmission;\n-\t is the number of resource elements that can be used for transmission of UCI in OFDM symbol l, for =0,1,2,\u2026, , in the PUSCH transmission and  is the total number of OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;\n-\tfor any OFDM symbol that carries DMRS of the PUSCH, ;\n-\tfor any OFDM symbol that does not carry DMRS of the PUSCH, ;\n-\t is configured by higher layer parameter scaling;\n-\t is the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.\nFor HARQ-ACK and CG-UCI transmission on PUSCH with UL-SCH, and if numberOfSlotsTBoMS is present in the resource allocation table and the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI is larger than 1, the number of coded modulation symbols per layer for HARQ-ACK and CG-UCI transmission, denoted as , is determined as follows:\n\nwhere\n-\t is the value of numberOfSlotsTBoMS in the row indicated by the Time domain resource assignment field in DCI;\n-\tis the number of subcarriers in OFDM symbol  that carries PTRS, in the PUSCH transmission of TB processing over multiple slots in the slot with the HARQ-ACK and CG-UCI transmission;\n-\tis the number of resource elements that can be used for transmission of UCI in OFDM symbol , for , in the PUSCH transmission of TB processing over multiple slots in the slot with the HARQ-ACK and CG-UCI transmission and  is the total number of OFDM symbols of the PUSCH in the slot, including all OFDM symbols used for DMRS;\n-\tis the symbol index of the first OFDM symbol that does not carry DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission of TB processing over multiple slots in the slot with the HARQ-ACK and CG-UCI transmission;\n-\tand all the other notations in the formula are defined the same as for PUSCH with UL-SCH and if numberOfSlotsTBoMS is not present in the resource allocation table.\nThe input bit sequence to rate matching is  where r is the code block number, and  is the number of coded bits in code block number r. \nRate matching is performed according to Clause 5.4.1 by setting  and the rate matching output sequence length to , where \n-\t is the number of code blocks for UCI determined according to Clause 5.2.1;\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH;\n-\t.\nThe output bit sequence after rate matching is denoted as  where  is the length of rate matching output sequence in code block number r.\n6.3.2.4.1.6\tUCI with different priority indexes\nIn this clause, is equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 1, and equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 0. is equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 0, and equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 1. \nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 1:\n-\tIf CSI part 1 is also transmitted on the PUSCH,\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.1.2, by assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in clause 6.3.2.4.1.2 is 0 bit.\n-\tPerform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and replacing  by , and assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in clause 6.3.2.4.1.3 is 0 bit.\n-\tOtherwise, perform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 0 as CSI-part 1 and replacing  by , and assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in clause 6.3.2.4.1.2 is 0 bit.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 1, and CSI if any are transmitted on a PUSCH associated with priority index 0:\n-\tPerform rate matching for HARQ-ACK with priority index 1 according to clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by .\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH.\n-\tPerform rate matching for CSI part 2 according to clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 2 is also transmitted on the PUSCH.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH: \n-\tPerform rate matching for HARQ-ACK with priority index 1 according to clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by , if HARQ-ACK bits associated with priority index 1 are transmitted without CG-UCI associated with priority index 1.\n-\tPerform rate matching for CG-UCI with priority index 1 according to clause 6.3.2.4.1.4, if CG-UCI associated with priority index 1 is transmitted without HARQ-ACK bits associated with priority index 1.\n-\tPerform rate matching for CG-UCI with priority index 1 and HARQ-ACK with priority index 1 according to clause 6.3.2.4.1.5, if both CG-UCI associated with priority index 1 and HARQ-ACK bits associated with priority index 1 are transmitted, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by .\n-\tIf CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 1,\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as CG-UCI.\n-\tPerform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and replacing  by , and taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as CG-UCI.\n-\tOtherwise,\n-\tPerform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 0 as CSI-part 1 and replacing  by  and taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as CG-UCI.\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.1.3, by taking CSI part 1 as CSI part 2 and replacing  by , taking HARQ-ACK with priority index 0 as CSI-part 1 and taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0.\nIf uci-MuxWithDiffPrio is configured, and CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 0:\n-\tPerform rate matching for HARQ-ACK with priority index 1 according to clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by .\n-\tPerform rate matching for CG-UCI associated with priority index 0 according to clause 6.3.2.4.1.2, if CG-UCI associated with priority index 0 is transmitted without HARQ-ACK bits associated with priority index 0, by taking CG-UCI associated with priority index 0 as CSI-part 1 and replacing  by  and taking HARQ-ACK with priority index 1 as HARQ-ACK.\n-\tPerform rate matching for CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 according to clause 6.3.2.4.1.2, if both CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 are transmitted, by taking CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 as CSI-part 1 and replacing  by  and taking HARQ-ACK with priority index 1 as HARQ-ACK.\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.1.3, by taking CSI part 1 as CSI part 2 and replacing  by , taking CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any as CSI-part 1 and taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0.\n6.3.2.4.2\tUCI encoded by channel coding of small block lengths\nIf the higher layer parameter nrofBitsInUTO-UCI is configured, the procedures in this clause and the clauses it refers to apply by replacing CG-UCI with UTO-UCI in all the notations and texts.\n6.3.2.4.2.1\tHARQ-ACK\nFor HARQ-ACK transmission on PUSCH, the number of coded modulation symbols per layer for HARQ-ACK transmission, denoted as , is determined according to Clause 6.3.2.4.1.1, by setting the number of CRC bits .\nThe input bit sequence to rate matching is .\nRate matching is performed according to Clause 5.4.3, by setting the rate matching output sequence length , where\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH.\nThe output bit sequence after rate matching is denoted as .\n6.3.2.4.2.2\tCSI part 1\nFor CSI part 1 transmission on PUSCH, the number of coded modulation symbols per layer for CSI part 1 transmission, denoted as , is determined according to Clause 6.3.2.4.1.2, by setting the number of CRC bits .\nRate matching is performed according to Clause 5.4.3, by setting the rate matching output sequence length , where\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH.\nThe output bit sequence after rate matching is denoted as .\n6.3.2.4.2.3\tCSI part 2\nFor CSI part 2 transmission on PUSCH, the number of coded modulation symbols per layer for CSI part 2 transmission, denoted as , is determined according to Clause 6.3.2.4.1.3, by setting the number of CRC bits .\nRate matching is performed according to Clause 5.4.3, by setting the rate matching output sequence length , where\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH.\nThe output bit sequence after rate matching is denoted as .\n6.3.2.4.2.4\tCG-UCI \nFor CG-UCI transmission on PUSCH, the number of coded modulation symbols per layer for CG-UCI transmission, denoted as , is determined according to Clause 6.3.2.4.1.4, by setting the number of CRC bits .\nThe input bit sequence to rate matching is .\nRate matching is performed according to Clause 5.4.3, by setting the rate matching output sequence length \n, where\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH.\nThe output bit sequence after rate matching is denoted as .\n6.3.2.4.2.5\tHARQ-ACK and CG-UCI\nFor HARQ-ACK and CG-UCI transmission on PUSCH, the number of coded modulation symbols per layer for HARQ-ACK and CG-UCI transmission, denoted as , is determined according to Clause 6.3.2.4.1.5, by setting the number of CRC bits .\nThe input bit sequence to rate matching is .\nRate matching is performed according to Clause 5.4.3, by setting the rate matching output sequence length , where\n-\t is the number of transmission layers of the PUSCH;\n-\t is the modulation order of the PUSCH.\nThe output bit sequence after rate matching is denoted as .\n6.3.2.4.2.6\tUCI with different priority indexes\nIn this clause, is equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 1, and equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 0. is equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 0, and equal to  defined in [5, TS38.213] in case of PUSCH associated with priority index 1. \nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 1:\n-\tIf CSI part 1 is also transmitted on the PUSCH,\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.2.2, by assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in clause 6.3.2.4.2.2 is 0 bit.\n-\tPerform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and replacing  by , and assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in clause 6.3.2.4.2.3 is 0 bit.\n-\tOtherwise, perform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 0 as CSI-part 1 and replacing  by , and assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in clause 6.3.2.4.2.2 is 0 bit.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 1, and CSI if any are transmitted on a PUSCH associated with priority index 0:\n-\tPerform rate matching for HARQ-ACK with priority index 1 according to clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by .\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH.\n-\tPerform rate matching for CSI part 2 according to clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 2 is also transmitted on the PUSCH.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH: \n-\tPerform rate matching for HARQ-ACK with priority index 1 according to clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by , if HARQ-ACK bits associated with priority index 1 are transmitted without CG-UCI associated with priority index 1.\n-\tPerform rate matching for CG-UCI with priority index 1 according to clause 6.3.2.4.2.4, if CG-UCI associated with priority index 1 is transmitted without HARQ-ACK bits associated with priority index 1.\n-\tPerform rate matching for CG-UCI with priority index 1 and HARQ-ACK with priority index 1 according to clause 6.3.2.4.2.5, if both CG-UCI associated with priority index 1 and HARQ-ACK bits associated with priority index 1 are transmitted, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by .\n-\tIf CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 1,\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as CG-UCI.\n-\tPerform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and replacing  by , and taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as CG-UCI.\n-\tOtherwise,\n-\tPerform rate matching for HARQ-ACK with priority index 0 according to clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 0 as CSI-part 1 and replacing  by  and taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1 if any as CG-UCI.\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.2.3, by taking CSI part 1 as CSI part 2 and replacing  by , taking HARQ-ACK with priority index 0 as CSI-part 1 and taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0.\nIf uci-MuxWithDiffPrio is configured, and CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 0:\n-\tPerform rate matching for HARQ-ACK with priority index 1 according to clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and replacing  by .\n-\tPerform rate matching for CG-UCI associated with priority index 0 according to clause 6.3.2.4.2.2, if CG-UCI associated with priority index 0 is transmitted without HARQ-ACK bits associated with priority index 0, by taking CG-UCI associated with priority index 0 as CSI-part 1 and replacing  by  and taking HARQ-ACK with priority index 1 as HARQ-ACK.\n-\tPerform rate matching for CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 according to clause 6.3.2.4.2.2, if both CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 are transmitted, by taking CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 as CSI-part 1 and replacing  by  and taking HARQ-ACK with priority index 1 as HARQ-ACK.\n-\tPerform rate matching for CSI part 1 according to clause 6.3.2.4.2.3, by taking CSI part 1 as CSI part 2 and replacing  by , taking CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any as CSI-part 1 and taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0.\n6.3.2.5\tCode block concatenation\nCode block concatenation is performed according to Clause 6.3.1.5, except that the values of  and  given in Clause 6.3.2.4.1. \n6.3.2.6\tMultiplexing of coded UCI bits to PUSCH\nThe coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7.\n6.3.2.7\tMultiplexing of coded UCI bits with different priority indexes to PUSCH\nIf the higher layer parameter nrofBitsInUTO-UCI is configured, the procedure in this clause 6.3.2.7 applies by replacing CG-UCI with UTO-UCI in all the notations and texts, when applicable.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 1,\n-\tIf CSI part 1 is also transmitted on the PUSCH, the coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 0 as CSI part 2, and assuming the number of HARQ-ACK information in Clause 6.2.7 is 0 bit;\n-\tOtherwise, the coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 0 as CSI-part 1, and assuming the number of HARQ-ACK information in Clause 6.2.7 is 0 bit.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 1, and CSI if any are transmitted on a PUSCH associated with priority index 0, the coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 as HARQ-ACK.\nIf uci-MuxWithDiffPrio is configured, and HARQ-ACK bits associated with priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH, \n-\tif CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 1, the coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 as HARQ-ACK, and taking HARQ-ACK with priority index 0 as CSI part 2;\n-\totherwise, the coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 if any as HARQ-ACK, taking CG-UCI associated with priority index 1 if any as CG-UCI, taking HARQ-ACK with priority index 0 as CSI part 1, and taking CSI part 1 as CSI part 2 if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0.\nIf uci-MuxWithDiffPrio is configured, and CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK bits associated with priority index 1, and CSI part 1 if any are transmitted on a PUSCH associated with priority index 0, the coded UCI bits are multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 as HARQ-ACK, taking CG-UCI associated with priority index 0 and HARQ-ACK bits associated with priority index 0 if any as CSI part 1, and taking CSI part 1 as CSI part 2 if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated with priority index 0.\n7\tDownlink transport channels and control information\n7.1\tBroadcast channel\nData arrives to the coding unit in the form of a maximum of one transport block every 80ms. The following coding steps can be identified:\n-\tPayload generation\n-\tScrambling\n-\tTransport block CRC attachment \n-\tChannel coding\n-\tRate matching\n7.1.1\tPBCH payload generation\nDenote the bits in a transport block delivered to layer 1 by , where  is the payload size generated by higher layers. The lowest order information bit  is mapped to the most significant bit of the transport block as defined in Clause 6.1.1 of [8, TS 38.321].\nGenerate the following additional timing related PBCH payload bits , where:\n-\t are the 4th, 3rd, 2nd, and 1st LSB of SFN, respectively;\n-\t is the half frame bit ;\n-\tif  as defined in Clause 4.1 of [5, TS38.213], \n is the MSB of  as defined in Clause 7.4.3.1 of [4, TS 38.211].\n is reserved.\n is the MSB of candidate SS/PBCH block index.\n-\telse if  as defined in Clause 4.1 of [5, TS38.213], \n is the MSB of  as defined in Clause 7.4.3.1 of [4, TS 38.211].\n,  are the 5th and 4th bits of the candidate SS/PBCH block index, respectively.\n-\telse if  as defined in Clause 4.1 of [5, TS38.213],\n, ,  are the 6th, 5th, and 4th bits of the candidate SS/PBCH block index, respectively.\n-\telse\n is the MSB of  as defined in Clause 7.4.3.1 of [4, TS 38.211].\n,  are reserved.\n-\tend if\nLet ; ; ; ; ;\nfor  to \nif  is an SFN bit\n;\n;\nelseif  is the half radio frame bit\n\nelseif  \n;\n;\nelse\n;\n;\nend if\nend for\nwhere  is the number of candidate SS/PBCH blocks in a half frame according to Clause 4.1 of [5, TS38.213], and the value of  is given by Table 7.1.1-1.\nTable 7.1.1-1: Value of PBCH payload interleaver pattern \n\n7.1.2\tScrambling\nFor PBCH transmission in a frame, the bit sequence  is scrambled into a bit sequence , where  for  and  is generated according to the following:\n;\n;\nwhile \nif  corresponds to any one of the bits belonging to the candidate SS/PBCH block index, the half frame index, and 2nd and 3rd least significant bits of the system frame number\n;\nelse\n;\n;\nend if\n;\nend while\nThe scrambling sequence  is given by Clause 5.2.1of [4, TS38.211] and initialized with  at the start of each SFN satisfying ;  for  or ,  for ,  for , and  for , where  is the number of candidate SS/PBCH blocks in a half frame according to Clause 4.1 of [5, TS38.213]; and  is determined according to Table 7.1.2-1 using the 3rd and 2nd LSB of the SFN in which the PBCH is transmitted.\nTable 7.1.2-1: Value of  for PBCH scrambling\n\n7.1.3\tTransport block CRC attachment\nError detection is provided on BCH transport blocks through a Cyclic Redundancy Check (CRC). \nThe entire transport block is used to calculate the CRC parity bits. The input bit sequence is denoted by , and the parity bits by, where  is the payload size and  is the number of parity bits. \nThe parity bits are computed and attached to the BCH transport block according to Clause 5.1 by setting  to 24 bits and using the generator polynomial , resulting in the sequence, where . \nThe bit sequence  is the input bit sequence  to the channel encoder, where  for  and .\n7.1.4\tChannel coding\nInformation bits are delivered to the channel coding block. They are denoted by  , where  is the number of bits, and they are encoded via Polar coding according to Clause 5.3.1, by setting , , , and .\nAfter encoding the bits are denoted by , where  is the number of coded bits. \n7.1.5\tRate matching\nThe input bit sequence to rate matching is . \nThe rate matching output sequence length .\nRate matching is performed according to Clause 5.4.1 by setting . \nThe output bit sequence after rate matching is denoted as . \n7.2\tDownlink shared channel and paging channel\n7.2.1\tTransport block CRC attachment\nError detection is provided on each transport block through a Cyclic Redundancy Check (CRC). \nThe entire transport block is used to calculate the CRC parity bits. Denote the bits in a transport block delivered to layer 1 by, and the parity bits by, where  is the payload size and  is the number of parity bits. The lowest order information bit  is mapped to the most significant bit of the transport block as defined in Clause 6.1.1 of [TS38.321].\nThe parity bits are computed and attached to the DL-SCH transport block according to Clause 5.1, by setting  to 24 bits and using the generator polynomial  if ; and by setting  to 16 bits and using the generator polynomial  otherwise.\nThe bits after CRC attachment are denoted by , where .\n7.2.2\tLDPC base graph selection\nFor initial transmission of a transport block with coding rate  indicated by the MCS index according to Clause\u00a05.1.3.1 in [6, TS 38.214] and subsequent re-transmission of the same transport block, each code block of the transport block is encoded with either LDPC base graph 1 or 2 according to the following:\n-\tif , or if  and , or if , LDPC base graph 2 is used;\n-\totherwise, LDPC base graph 1 is used,\nwhere  is the payload size in Clause 7.2.1.\n7.2.3\tCode block segmentation and code block CRC attachment \nThe bits input to the code block segmentation are denoted by  where  is the number of bits in the transport block (including CRC). \nCode block segmentation and code block CRC attachment are performed according to Clause 5.2.2. \nThe bits after code block segmentation are denoted by, where  is the code block number and  is the number of bits for code block number  according to Clause 5.2.2. \n7.2.4\tChannel coding\nCode blocks are delivered to the channel coding block. The bits in a code block are denoted by  , where  is the code block number, and  is the number of bits in code block number . The total number of code blocks is denoted by  and each code block is individually LDPC encoded according to Clause 5.3.2. \nAfter encoding the bits are denoted by , where the values of  is given in Clause 5.3.2.\n7.2.5\tRate matching\nCoded bits for each code block, denoted as , are delivered to the rate match block, where  is the code block number, and  is the number of encoded bits in code block number . The total number of code blocks is denoted by  and each code block is individually rate matched according to Clause 5.4.2 by setting . \nAfter rate matching, the bits are denoted by, where is the number of rate matched bits for code block number .\n7.2.6\tCode block concatenation\nThe input bit sequence for the code block concatenation block are the sequences , for  and where  is the number of rate matched bits for the -th code block. \nCode block concatenation is performed according to Clause 5.5. \nThe bits after code block concatenation are denoted by, where  is the total number of coded bits for transmission. \n7.3\tDownlink control information\nA DCI transports downlink control information for one or more cells with one RNTI. \nThe following coding steps can be identified:\n-\tInformation element multiplexing\n-\tCRC attachment\n-\tChannel coding\n-\tRate matching\n7.3.1\tDCI formats\nThe DCI formats defined in table 7.3.1-1 are supported.\nTable 7.3.1-1: DCI formats\n\nThe fields defined in the DCI formats below are mapped to the information bits  to  as follows.\nEach field is mapped in the order in which it appears in the description, including the zero-padding bit(s), if any, with the first field mapped to the lowest order information bit  and each successive field mapped to higher order information bits. The most significant bit of each field is mapped to the lowest order information bit for that field, e.g. the most significant bit of the first field is mapped to .\nIf the number of information bits in a DCI format is less than 12 bits, zeros shall be appended to the DCI format until the payload size equals 12.\nThe size of each DCI format except for DCI format 0_3/1_3 is determined by the configuration of the corresponding active bandwidth part of the scheduled cell and shall be adjusted as described in clause 7.3.1.0 if necessary.\nFor a cell set configured by higher layer parameter MC-DCI-SetofCellsToAddModList, the size of DCI format 0_3/1_3 is determined as follows and shall be adjusted as described in Clause 7.3.1.0 if necessary:\n-\tIf scheduledCellComboListDCI-0-3 for the cell set is configured, the size of DCI format 0_3 is determined by the configuration of the corresponding active bandwidth part(s) of the scheduled cells in the entry which results in the largest size among the entries in the higher layer parameter scheduledCellComboListDCI-0-3; Otherwise, the size of DCI format 0_3 is determined by the configuration of the corresponding active bandwidth part(s) of the cells configured by higher layer parameter scheduledCellListDCI-0-3 for the cell set.\n-\tIf scheduledCellComboListDCI-1-3 for the cell set is configured, the size of DCI format 1_3 is determined by the configuration of the corresponding active bandwidth part(s) of the scheduled cells in the entry which results in the largest size among the entries in the higher layer parameter scheduledCellComboListDCI-1-3; Otherwise, the size of DCI format 1_3 is determined by the configuration of the corresponding active bandwidth part(s) of the cells configured by higher layer parameter scheduledCellListDCI-1-3 for the cell set.\nIf a UE is configured with pdsch-HARQ-ACK-CodebookList-r16, pdsch-HARQ-ACK-Codebook is replaced by the relevant entry in pdsch-HARQ-ACK-CodebookList-r16 in this clause.\nIf a UE is configured with pdsch-HARQ-ACK-CodebookListMulticast-r17, pdsch-HARQ-ACK-Codebook is replaced by the relevant entry in pdsch-HARQ-ACK-CodebookListMulticast-r17 in this clause.\nFor a cell detected in cell search procedure with synchronization raster defined in Table 5.4.3.1-2 or Table 5.4.3.1-3 of [13, TS 38.101-1], the size of CORESET 0 for the cell in this clause refers to the size of punctured CORESET 0 as defined in clause 7.3.2.2 of [4, TS 38.211] if any.\n7.3.1.0\tDCI size alignment\nIf necessary, padding or truncation shall be applied to the DCI formats according to the following steps executed in the order below:\nStep 0:\n-\tDetermine DCI format 0_0 monitored in a common search space according to clause 7.3.1.1.1 where  is the size of the initial UL bandwidth part.\n-\tDetermine DCI format 1_0 monitored in a common search space according to clause 7.3.1.2.1 where  is given by\n-\tthe size of CORESET 0 if CORESET 0 is configured for the cell; and\n-\tthe size of initial DL bandwidth part if CORESET 0 is not configured for the cell.\n-\tIf DCI format 0_0 is monitored in common search space and if the number of information bits in the DCI format 0_0 prior to padding is less than the payload size of the DCI format 1_0 monitored in common search space for scheduling the same serving cell, a number of zero padding bits are generated for the DCI format 0_0 until the payload size equals that of the DCI format 1_0.\n-\tIf DCI format 0_0 is monitored in common search space and if the number of information bits in the DCI format 0_0 prior to truncation is larger than the payload size of the DCI format 1_0 monitored in common search space for scheduling the same serving cell, the bitwidth of the frequency domain resource assignment field in the DCI format 0_0 is reduced by truncating the first few most significant bits such that the size of DCI format 0_0 equals the size of the DCI format 1_0.\nStep 1:\n-\tDetermine DCI format 0_0 monitored in a UE-specific search space according to clause 7.3.1.1.1 where  is the size of the active UL bandwidth part.\n-\tDetermine DCI format 1_0 monitored in a UE-specific search space according to clause 7.3.1.2.1 where  is the size of the active DL bandwidth part. \n-\tFor a UE configured with supplementaryUplink in ServingCellConfig in a cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL of the cell and if the number of information bits in DCI format 0_0 in UE-specific search space for the SUL is not equal to the number of information bits in DCI format 0_0 in UE-specific search space for the non-SUL, a number of zero padding bits are generated for the smaller DCI format 0_0 until the payload size equals that of the larger DCI format 0_0.\n-\tIf DCI format 0_0 is monitored in UE-specific search space and if the number of information bits in the DCI format 0_0 prior to padding is less than the payload size of the DCI format 1_0 monitored in UE-specific search space for scheduling the same serving cell, a number of zero padding bits are generated for the DCI format 0_0 until the payload size equals that of the DCI format 1_0.\n-\tIf DCI format 1_0 is monitored in UE-specific search space and if the number of information bits in the DCI format 1_0 prior to padding is less than the payload size of the DCI format 0_0 monitored in UE-specific search space for scheduling the same serving cell, zeros shall be appended to the DCI format 1_0 until the payload size equals that of the DCI format 0_0\nStep 2:\n-\tDetermine DCI format 0_1 monitored in a UE-specific search space according to clause 7.3.1.1.2.\n-\tDetermine DCI format 1_1 monitored in a UE-specific search space according to clause 7.3.1.2.2.\n-\tFor a UE configured with supplementaryUplink in ServingCellConfig in a cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL of the cell and if the number of information bits in format 0_1 for the SUL is not equal to the number of information bits in format 0_1 for the non-SUL, zeros shall be appended to smaller format 0_1 until the payload size equals that of the larger format 0_1.\n-\tIf the size of DCI format 0_1 monitored in a UE-specific search space equals that of a DCI format 0_0/1_0 monitored in another UE-specific search space, one bit of zero padding shall be appended to DCI format 0_1.\n-\tIf the size of DCI format 1_1 monitored in a UE-specific search space equals that of a DCI format 0_0/1_0 monitored in another UE-specific search space, one bit of zero padding shall be appended to DCI format 1_1.\nStep 2A:\n-\tDetermine DCI format 0_2 monitored in a UE-specific search space according to clause 7.3.1.1.3.\n-\tDetermine DCI format 1_2 monitored in a UE-specific search space according to clause 7.3.1.2.3. \n-\tFor a UE configured with supplementaryUplink in ServingCellConfig in a cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL of the cell and if the number of information bits in format 0_2 for the SUL is not equal to the number of information bits in format 0_2 for the non-SUL, zeros shall be appended to smaller format 0_2 until the payload size equals that of the larger format 0_2.\nStep 2B:\n-\tIf the cell is the serving cell for counting the size of one or both DCI format 0_3 and DCI format 1_3 as defined in Clause 10.1 of [5, TS38.213],  \n-\tDetermine DCI format 0_3 monitored in a UE-specific search space according to clause 7.3.1.1.4.\n-\tDetermine DCI format 1_3 monitored in a UE-specific search space according to clause 7.3.1.2.4. \nStep 3:\n-\tIf both of the following conditions are fulfilled the size alignment procedure is complete\n-\tthe total number of different DCI sizes configured to monitor is no more than 4 for the cell \n-\tthe total number of different DCI sizes with C-RNTI configured to monitor is no more than 3 for the cell\nStep 4:\n-\tOtherwise \nStep 4A:\n-\tRemove the padding bit (if any) introduced in step 2 above.\n-\tDetermine DCI format 1_0 monitored in a UE-specific search space according to clause 7.3.1.2.1 where  is given by\n-\tthe size of CORESET 0 if CORESET 0 is configured for the cell; and\n-\tthe size of initial DL bandwidth part if CORESET 0 is not configured for the cell.\n-\tDetermine DCI format 0_0 monitored in a UE-specific search space according to clause 7.3.1.1.1 where  is the size of the initial UL bandwidth part. \n-\tIf the number of information bits in the DCI format 0_0 monitored in a UE-specific search space prior to padding is less than the payload size of the DCI format 1_0 monitored in UE-specific search space for scheduling the same serving cell, a number of zero padding bits are generated for the DCI format 0_0 monitored in a UE-specific search space until the payload size equals that of the DCI format 1_0 monitored in a UE-specific search space.\n-\tIf the number of information bits in the DCI format 0_0 monitored in a UE-specific search space prior to truncation is larger than the payload size of the DCI format 1_0 monitored in UE-specific search space for scheduling the same serving cell, the bitwidth of the frequency domain resource assignment field in the DCI format 0_0 is reduced by truncating the first few most significant bits such that the size of DCI format 0_0 monitored in a UE-specific search space equals the size of the DCI format 1_0 monitored in a UE-specific search space. \nStep 4B:\n-\tIf the total number of different DCI sizes configured to monitor is more than 4 for the cell after applying the above steps, or if the total number of different DCI sizes with C-RNTI configured to monitor is more than 3 for the cell after applying the above steps \n-\tIf the number of information bits in the DCI format 0_2 prior to padding is less than the payload size of the DCI format 1_2 for scheduling the same serving cell, a number of zero padding bits are generated for the DCI format 0_2 until the payload size equals that of the DCI format 1_2.\n-\tIf the number of information bits in the DCI format 1_2 prior to padding is less than the payload size of the DCI format 0_2 for scheduling the same serving cell, zeros shall be appended to the DCI format 1_2 until the payload size equals that of the DCI format 0_2.\nStep 4C:\n-\tIf the total number of different DCI sizes configured to monitor is more than 4 for the cell after applying the above steps, or if the total number of different DCI sizes with C-RNTI configured to monitor is more than 3 for the cell after applying the above steps \n-\tIf the number of information bits in the DCI format 0_1 prior to padding is less than the payload size of the DCI format 1_1 for scheduling the same serving cell, a number of zero padding bits are generated for the DCI format 0_1 until the payload size equals that of the DCI format 1_1.\n-\tIf the number of information bits in the DCI format 1_1 prior to padding is less than the payload size of the DCI format 0_1 for scheduling the same serving cell, zeros shall be appended to the DCI format 1_1 until the payload size equals that of the DCI format 0_1.\nStep 4D:\n-\tIf the total number of different DCI sizes configured to monitor is more than 4 for the cell after applying the above steps and the cell is the serving cell for counting the size of one or both DCI format 0_3 and DCI format 1_3 as defined in Clause 10.1 of [5, TS38.213], or if the total number of different DCI sizes with C-RNTI configured to monitor is more than 3 for the cell after applying the above steps and the cell is the serving cell for counting the size of one or both DCI format 0_3 and DCI format 1_3 as defined in Clause 10.1 of [5, TS38.213] \n-\tIf the number of information bits in the DCI format 0_3 prior to padding is less than the payload size of the DCI format 1_3 for scheduling the same cell set, a number of zero padding bits are generated for the DCI format 0_3 until the payload size equals that of the DCI format 1_3.\n-\tIf the number of information bits in the DCI format 1_3 prior to padding is less than the payload size of the DCI format 0_3 for scheduling the same cell set, zeros shall be appended to the DCI format 1_3 until the payload size equals that of the DCI format 0_3.\nThe UE is not expected to handle a configuration that, after applying the above steps, results in\n-\tthe total number of different DCI sizes configured to monitor is more than 4 for the cell; or\n-\tthe total number of different DCI sizes with C-RNTI configured to monitor is more than 3 for the cell; or\n-\tthe size of DCI format 0_0 in a UE-specific search space is equal to DCI format 0_1 in another UE-specific search space; or\n-\tthe size of DCI format 1_0 in a UE-specific search space is equal to DCI format 1_1 in another UE-specific search space; or\n-\tthe size of DCI format 0_0 in a UE-specific search space is equal to DCI format 0_2 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 0_0 and 0_2 are mapped to the same resource; or\n-\tthe size of DCI format 1_0 in a UE-specific search space is equal to DCI format 1_2 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 1_0 and 1_2 are mapped to the same resource; or\n-\tthe size of DCI format 0_1 in a UE-specific search space is equal to DCI format 0_2 in the same or another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 0_1 and 0_2 are mapped to the same resource; or\n-\tthe size of DCI format 1_1 in a UE-specific search space is equal to DCI format 1_2 in the same or another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 1_1 and 1_2 are mapped to the same resource; or\n-\tthe size of DCI format 0_0 in a UE-specific search space is equal to DCI format 0_3 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 0_0 and 0_3 are mapped to the same resource; or\n-\tthe size of DCI format 1_0 in a UE-specific search space is equal to DCI format 1_3 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 1_0 and 1_3 are mapped to the same resource; or\n-\tthe size of DCI format 0_1 in a UE-specific search space is equal to DCI format 0_3 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 0_1 and 0_3 are mapped to the same resource; or\n-\tthe size of DCI format 1_1 in a UE-specific search space is equal to DCI format 1_3 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 1_1 and 1_3 are mapped to the same resource.\n-\tthe size of DCI format 0_2 in a UE-specific search space is equal to DCI format 0_3 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 0_2 and 0_3 are mapped to the same resource; or\n-\tthe size of DCI format 1_2 in a UE-specific search space is equal to DCI format 1_3 in another UE-specific search space when at least one pair of the corresponding PDCCH candidates of DCI formats 1_2 and 1_3 are mapped to the same resource.\n7.3.1.0.1\tDCI size alignment for DCI formats for scheduling of sidelink\nIf DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is monitored on a cell, DCI size alignment for DCI format 3_0, DCI format 3_1, and DCI format 3_2 is performed as described in this clause after performing the DCI size alignment described in Clause 7.3.1.0. The size(s) of the DCI formats configured to monitor for a cell in this clause refers to that after performing the DCI size alignment described in Clause 7.3.1.0.\nIf DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is monitored on a cell and the total number of DCI sizes of the DCI formats configured to monitor for the cell and DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is more than 4, zeros shall be appended to DCI format 3_0 if configured, to DCI format 3_1 if configured, and to DCI format 3_2 if configured, until the payload size of DCI format 3_0, DCI format 3_1, and DCI format 3_2 equals that of the smallest DCI format configured to monitor for the cell that is larger than DCI format 3_0, DCI format 3_1, and DCI format 3_2.\nThe UE is not expected to handle a configuration that results in:\n-\tthe total number of different DCI sizes configured to monitor for the cell and DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is more than 4; and\n-\tthe payload size of DCI format 3_0, and/or DCI format 3_1, and/or DCI format 3_2 is larger than the payload size of all other DCI formats configured to monitor for the cell.\n7.3.1.1\tDCI formats for scheduling of PUSCH \n7.3.1.1.1\tFormat 0_0\nDCI format 0_0 is used for the scheduling of PUSCH in one cell. \nThe following information is transmitted by means of the DCI format 0_0 with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:\n-\tIdentifier for DCI formats - 1 bit\n-\tThe value of this bit field is always set to 0, indicating an UL DCI format\n-\tFrequency domain resource assignment - number of bits determined by the following:\n-\t bits if neither of the higher layer parameters useInterlacePUCCH-PUSCH in BWP-UplinkCommon and useInterlacePUCCH-PUSCH in BWP-UplinkDedicated is configured, where  is defined in clause 7.3.1.0\n-\tFor PUSCH hopping with resource allocation type 1:\n-\t MSB bits are used to indicate the frequency offset according to Clause 6.3 of [6, TS 38.214], where  if the higher layer parameter frequencyHoppingOffsetLists contains two offset values and  if the higher layer parameter frequencyHoppingOffsetLists contains four offset values\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\n-\tFor non-PUSCH hopping with resource allocation type 1:\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214] \n-\tIf any of the higher layer parameters useInterlacePUCCH-PUSCH in BWP-UplinkCommon and useInterlacePUCCH-PUSCH in BWP-UplinkDedicated is configured \n-\t5+Y bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 30 kHz.\n-\t6+Y bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 15 kHz. \n\tIf the DCI format 0_0 is monitored in a UE-specific search space, the value of Y is determined by  where  is the number of RB sets contained in the active UL BWP as defined in clause 7 of [6, TS38.214]. If the DCI 0_0 is monitored in a common search space Y = 0.\n-\tTime domain resource assignment - 4 bits as defined in Clause 6.1.2.1 of [6, TS 38.214]\n-\tFrequency hopping flag - 1 bit according to Table 7.3.1.1.1-3, as defined in Clause 6.3 of [6, TS 38.214]\n-\tModulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tHARQ process number - 4 bits\n-\tTPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS 38.213] \n-\tChannelAccess-CPext - 2 bits indicating combinations of channel access type and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1; 2 bits indicating channel access type as defined in Table 7.3.1.1.1-4B if ChannelAccessMode2-r17 is provided for operation in a cell in frequency range 2-2; 0 bit otherwise.\n-\tPadding bits, if required.\n-\tUL/SUL indicator - 1 bit for UEs configured with supplementaryUplink in ServingCellConfig in the cell as defined in Table 7.3.1.1.1-1 and the number of bits for DCI format 1_0 before padding is larger than the number of bits for DCI format 0_0 before padding; 0 bit otherwise. The UL/SUL indicator, if present, locates in the last bit position of DCI format 0_0, after the padding bit(s).\n-\tIf the UL/SUL indicator is present in DCI format 0_0 and the higher layer parameter pusch-Config is not configured on both UL and SUL the UE ignores the UL/SUL indicator field in DCI format 0_0, and the corresponding PUSCH scheduled by the DCI format 0_0 is for the UL or SUL for which high layer parameter pucch-Config is configured;\n-\tIf the UL/SUL indicator is not present in DCI format 0_0 and pucch-Config is configured, the corresponding PUSCH scheduled by the DCI format 0_0 is for the UL or SUL for which high layer parameter pucch-Config is configured. \n-\tIf the UL/SUL indicator is not present in DCI format 0_0 and pucch-Config is not configured, the corresponding PUSCH scheduled by the DCI format 0_0 is for the uplink on which the latest PRACH is transmitted.\nThe following information is transmitted by means of the DCI format 0_0 with CRC scrambled by TC-RNTI:\n-\tIdentifier for DCI formats - 1 bit\n-\tThe value of this bit field is always set to 0, indicating an UL DCI format\n-\tFrequency domain resource assignment - number of bits determined by the following:\n-\tbits if the higher layer parameter useInterlacePUCCH-PUSCH in BWP-UplinkCommon is not configured, where\n-\t is the size of the initial UL bandwidth part.\n-\tFor PUSCH hopping with resource allocation type 1:\n-\t MSB bits are used to indicate the frequency offset according to Table 8.3-1 in Clause 8.3 of [5, TS 38.213], where  if  and  otherwise\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\n-\tFor non-PUSCH hopping with resource allocation type 1:\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214] \n-\tIf the higher layer parameter useInterlacePUCCH-PUSCH in BWP-UplinkCommon is configured \n-\t5 bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 30 kHz\n-\t6 bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 15 kHz\n-\tTime domain resource assignment - 4 bits as defined in Clause 6.1.2.1 of [6, TS 38.214]\n-\tFrequency hopping flag - 1 bit according to Table 7.3.1.1.1-3, as defined in Clause 6.3 of [6, TS 38.214]\n-\tModulation and coding scheme - 5 bits\n-\tIf the UE requests repetition of PUSCH scheduled by RAR UL grant [8, TS 38.321], 5 bits as defined in Clause 6.1.2.1 and Clause 6.1.4.1 of [6, TS 38.214];\n-\totherwise 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214].\n-\tNew data indicator - 1 bit, reserved\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tHARQ process number - 4 bits, reserved\n-\tTPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS 38.213] \n-\tChannelAccess-CPext - 2 bits indicating combinations of channel access type and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1; 2 bits indicating channel access type as defined in Table 7.3.1.1.1-4B if ChannelAccessMode2-r17 is provided for operation in a cell in frequency range 2-2; 0 bit otherwise\n-\tPadding bits, if required.\n-\tUL/SUL indicator - 1 bit if the cell has two ULs and the number of bits for DCI format 1_0 before padding is larger than the number of bits for DCI format 0_0 before padding; 0 bit otherwise. The UL/SUL indicator, if present, locates in the last bit position of DCI format 0_0, after the padding bit(s).\n-\tIf 1 bit, reserved, and the corresponding PUSCH is always on the same UL carrier as the previous transmission of the same TB\nTable 7.3.1.1.1-1: UL/SUL indicator\n\nTable 7.3.1.1.1-2: Redundancy version\n\nTable 7.3.1.1.1-3: Frequency hopping indication\n\nTable 7.3.1.1.1-4: Channel access type & CP extension for DCI format 0_0 and\nDCI format 1_0 for frequency range 1\n\nTable 7.3.1.1.1-4A: Channel access type & CP extension if\nchannelAccessMode-r16 = \"semiStatic\" is provided \n\nTable 7.3.1.1.1-4B: Channel access type for DCI format 0_0 and\nDCI format 1_0 for frequency range 2-2\n\n7.3.1.1.2\tFormat 0_1\nDCI format 0_1 is used for the scheduling of one or multiple PUSCH in one cell, or indicating CG downlink feedback information (CG-DFI) to a UE. \nThe following information is transmitted by means of the DCI format 0_1 with CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:\n-\tIdentifier for DCI formats - 1 bit\n-\tThe value of this bit field is always set to 0, indicating an UL DCI format\n-\tCarrier indicator - 0 or 3 bits, as defined in Clause 10.1 of [5, TS38.213]. This field is reserved when this format is carried by PDCCH on the primary cell and the UE is configured for scheduling on the primary cell from an SCell, with the same number of bits as that in this format carried by PDCCH on the SCell for scheduling on the primary cell.\n-\tDFI flag - 0 or 1 bit\n-\t1 bit if the UE is configured to monitor DCI format 0_1 with CRC scrambled by CS-RNTI and for operation in a cell with shared spectrum channel access when the higher layer parameter cg-RetransmissionTimer is configured. For a DCI format 0_1 with CRC scrambled by CS-RNTI, the bit value of 0 indicates activating or releasing type 2 CG transmission and the bit value of 1 indicates CG-DFI. For a DCI format 0_1 with CRC scrambled by C-RNTI/SP-CSI-RNTI/MCS-C-RNTI and for operation in a cell with shared spectrum channel access, the bit is reserved.\n-\t0 bit otherwise; \nIf DCI format 0_1 is used for indicating CG-DFI, all the remaining fields are set as follows: \n-\tHARQ-ACK bitmap - 16 bits if nrofHARQ-Processes-v1700 in ConfiguredGrantConfig is not configured or 32 bits if nrofHARQ-Processes-v1700 in ConfiguredGrantConfig is configured, where the order of the bitmap to HARQ process index mapping is such that HARQ process indices are mapped in ascending order from MSB to LSB of the bitmap. For each bit of the bitmap, value 1 indicates ACK, and value 0 indicates NACK. \n-\tTPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS38.213]\n-\tAll the remaining bits in format 0_1 are set to zero.\nOtherwise, all the remaining fields are set as follows:\n-\tUL/SUL indicator - 0 bit for UEs not configured with supplementaryUplink in ServingCellConfig in the cell or UEs configured with supplementaryUplink in ServingCellConfig in the cell but only one carrier in the cell is configured for PUSCH transmission; otherwise, 1 bit as defined in Table 7.3.1.1.1-1.\n-\tBandwidth part indicator - 0, 1 or 2 bits as determined by the number of UL BWPs  configured by higher layers, excluding the initial UL bandwidth part. The bitwidth for this field is determined as bits, where \n-\t if , in which case the bandwidth part indicator is equivalent to the ascending order of the higher layer parameter BWP-Id;\n-\totherwise , in which case the bandwidth part indicator is defined in Table 7.3.1.1.2-1;\nIf a UE does not support active BWP change via DCI, the UE ignores this bit field.\n-\tFrequency domain resource assignment - number of bits determined by the following, where  is the size of the active UL bandwidth part: \n-\tIf higher layer parameter useInterlacePUCCH-PUSCH in BWP-UplinkDedicated is not configured\n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 6.1.2.2.1 of [6, TS 38.214], \n-\tbits if only resource allocation type 1 is configured, or  bits if resourceAllocation is configured as 'dynamicSwitch'.\n-\tIf resourceAllocation is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the  LSBs provide the resource allocation as defined in Clause\u00a06.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as follows:\n-\tFor PUSCH hopping with resource allocation type 1:\n-\t MSB bits are used to indicate the frequency offset according to Clause 6.3 of [6, TS 38.214], where  if the higher layer parameter frequencyHoppingOffsetLists contains two offset values and  if the higher layer parameter frequencyHoppingOffsetLists contains four offset values\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\n-\tFor non-PUSCH hopping with resource allocation type 1:\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and if resourceAllocation is configured as 'dynamicSwitch' for the indicated bandwidth part, the UE assumes resource allocation type 0 for the indicated bandwidth part if the bitwidth of the \"Frequency domain resource assignment\" field of the active bandwidth part is smaller than the bitwidth of the \"Frequency domain resource assignment\" field of the indicated bandwidth part.\n-\tIf the higher layer parameter useInterlacePUCCH-PUSCH in BWP-UplinkDedicated is configured \n-\t5 + Y bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 30 kHz. The 5 MSBs provide the interlace allocation and the Y LSBs provide the RB set allocation.\n-\t6 + Y bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 15 kHz. The 6 MSBs provide the interlace allocation and the Y LSBs provide the RB set allocation.\nThe value of Y is determined by  where   is the number of RB sets contained in the active UL BWP as defined in clause 7 of [6, TS38.214].\n-\tTime domain resource assignment - 0, 1, 2, 3, 4, 5, or 6 bits\n-\tIf the higher layer parameter pusch-TimeDomainAllocationListDCI-0-1 is not configured and if the higher layer parameter pusch-TimeDomainAllocationListForMultiPUSCH is not configured and if the higher layer parameter pusch-TimeDomainAllocationList is configured, 0, 1, 2, 3, or 4 bits as defined in Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this field is determined as bits, where I is the number of entries in the higher layer parameter pusch-TimeDomainAllocationList; \n-\tIf the higher layer parameter pusch-TimeDomainAllocationListDCI-0-1 is configured or if the higher layer parameter pusch-TimeDomainAllocationListForMultiPUSCH is configured, 0, 1, 2, 3, 4, 5 or 6 bits as defined in Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this field is determined as bits, where I is the number of entries in the higher layer parameter pusch-TimeDomainAllocationListDCI-0-1 or pusch-TimeDomainAllocationListForMultiPUSCH; \n-\totherwise the bitwidth for this field is determined as bits, where I is the number of entries in the default table.\n-\tFrequency hopping flag - 0 or 1 bit:\n-\t0 bit if only resource allocation type 0 is configured, or if the higher layer parameter frequencyHopping is not configured and the higher layer parameter pusch-RepTypeIndicatorDCI-0-1 is not configured to pusch-RepTypeB, or if the higher layer parameter frequencyHoppingDCI-0-1 is not configured and pusch-RepTypeIndicatorDCI-0-1 is configured to pusch-RepTypeB, or if only resource allocation type 2 is configured;\n-\t1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].\nFor transport block 1:\n-\tModulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit if the number of scheduled PUSCH indicated by the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined based on the maximum number of schedulable PUSCH among all entries in the higher layer parameter pusch-TimeDomainAllocationListForMultiPUSCH, where each bit corresponds to one scheduled PUSCH as defined in clause 6.1.4 in [6, TS 38.214].\n-\tRedundancy version - - number of bits determined by the following:\n-\t2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled PUSCH indicated by the Time domain resource assignment field is 1;\n-\totherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number of schedulable PUSCHs among all entries in the higher layer parameter pusch-TimeDomainAllocationListForMultiPUSCH, where each bit corresponds to one scheduled PUSCH as defined in clause 6.1.4 in [6, TS 38.214] and redundancy version is determined according to Table 7.3.1.1.2-34.\nFor transport block 2 (only present if maxRank-n8 is configured or maxMIMO-Layers-n8 is configured):\n-\tModulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part, maxRank-n8 is configured or the value of maxMIMO-Layers for the indicated bandwidth part is larger than 4 and the value of maxRank or maxMIMO-Layers for the active bandwidth part is no more than 4, the UE assumes zeros are padded when interpreting the \"Modulation and coding scheme\", \"New data indicator\", and \"Redundancy version\" fields for transport block 2 according to Clause 12 of [5, TS38.213], and the UE ignores the \"Modulation and coding scheme\", \"New data indicator\", and \"Redundancy version\" fields of transport block 2 for the indicated bandwidth part.\n-\tTransform precoder indicator - 0 or 1 bit\n-\t1 bit if the higher layer parameter dynamicTransformPrecoderIndicationDCI-0-1 is configured to 'enabled ' and if the UE is configured to monitor DCI format 0_1 with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI, where the bit value of 0 indicates that transform precoder is enabled and the bit value of 1 indicates that transform precoder is disabled. For a DCI format 0_1 with CRC scrambled by CS-RNTI and the value indicated by new data indicator field is 0, or for a DCI format 0_1 with CRC scrambled by SP-CSI-RNTI, the bit is reserved.\n-\t0 bit otherwise.\n-\tHARQ process number - 5 bits if higher layer parameter harq-ProcessNumberSizeDCI-0-1 is configured; otherwise 4 bits\n-\t1st downlink assignment index - 1, 2 or 4 bits:\n-\t1 bit for semi-static HARQ-ACK codebook for unicast and multicast if pdsch-HARQ-ACK-Codebook = semiStatic is configured for both unicast and multicast and the higher layer parameter fdmed-ReceptionMulticast is not configured; otherwise for semi-static HARQ-ACK codebook for unicast;\n-\t2 bits for dynamic HARQ-ACK codebook for unicast, or for enhanced dynamic HARQ-ACK codebook without UL-TotalDAI-Included configured;\n-\t4 bits for enhanced dynamic HARQ-ACK codebook and with UL-TotalDAI-Included = true. \n\tWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookList for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-1 is configured, if the bit width of the 1st downlink assignment index in DCI format 0_1 for one HARQ-ACK codebook is not equal to that of the 1st downlink assignment index in DCI format 0_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 1st  downlink assignment index until the bit width of the 1st downlink assignment index in DCI format 0_1 for the two HARQ-ACK codebooks are the same.\n-\t2nd downlink assignment index - 0, 2 or 4 bits:\n-\t2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks for unicast, or for enhanced dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks and without UL-TotalDAI-Included configured;\n-\t4 bits for enhanced dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks and with UL-TotalDAI-Included = true;\n-\t0 bit otherwise.\nWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookList for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-1 is configured, if the bit width of the 2nd downlink assignment index in DCI format 0_1 for one HARQ-ACK codebook is not equal to that of the 2nd downlink assignment index in DCI format 0_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 2nd downlink assignment index until the bit width of the 2nd downlink assignment index in DCI format 0_1 for the two HARQ-ACK codebooks are the same.\n-\t3rd downlink assignment index - 0, 1 or 2 bits:\n-\t1 bit for semi-static HARQ-ACK codebook for multicast if the higher layer parameter fdmed-ReceptionMulticast is configured;\n-\t2 bits for the dynamic HARQ-ACK codebook for multicast;\n-\t0 bit otherwise.\nWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookListMulticast for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-1 is configured, if the bit width of the 3rd downlink assignment index in DCI format 0_1 for one HARQ-ACK codebook is not equal to that of the 3rd downlink assignment index in DCI format 0_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 3rd downlink assignment index until the bit width of the 3rd downlink assignment index in DCI format 0_1 for the two HARQ-ACK codebooks are the same.\n-\tTPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS38.213]\n-\tSecond TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS38.213] if higher layer parameter SecondTPCFieldDCI-0-1 is configured; 0 bit otherwise.\n-\tSRS resource set indicator - 0 or 2 bits\n-\t2 bits according to Table 7.3.1.1.2-36 if \n-\ttxConfig = nonCodeBook, and there are two SRS resource sets configured by srs-ResourceSetToAddModList and associated with the usage of value 'nonCodeBook', and is not configured with coresetPoolIndex or the value of coresetPoolIndex is the same for all CORESETs if coresetPoolIndex is provided, or\n-\ttxConfig=codebook, and there are two SRS resource sets configured by srs-ResourceSetToAddModList and associated with usage of value 'codebook', and is not configured with coresetPoolIndex or the value of coresetPoolIndex is the same for all CORESETs if coresetPoolIndex is provided;\n-\t0 bit otherwise.\n-\tSRS resource indicator -number of bits determined by the following: \n-\t bits according to Tables 7.3.1.1.2-28/28A/29/29B/30/30B/31/31B/31C/31D/31E/31F if the higher layer parameter txConfig = nonCodebook, where \n-\t is the number of configured SRS resources in the SRS resource set indicated by SRS resource set indicator field if present, \n-\t is the number of configured SRS resources in the SRS resource set associated with the coresetPoolIndex value for the CORESET used for the PDCCH carrying the DCI format 0_1, if the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI,\n-\totherwise  is the number of configured SRS resources in the SRS resource set configured by higher layer parameter srs-ResourceSetToAddModList and associated with the higher layer parameter usage of value 'nonCodeBook', \nand\n-\tif UE supports operation with maxMIMO-Layers and the higher layer parameter maxMIMO-Layers of PUSCH-ServingCellConfig of the serving cell is configured, \n-\tLmax is given by max{maxMIMO-Layers, maxMIMO-LayersforSdm} if maxMIMO-LayersforSdm is configured  \n-\tLmax is given by max{maxMIMO-Layers, maxMIMO-LayersforSfn} if maxMIMO-LayersforSfn is configured \n-\tLmax is given by maxMIMO-Layers otherwise\n-\totherwise, Lmax is given by the maximum number of layers for PUSCH supported by the UE for the serving cell for non-codebook based operation.\n-\t bits according to Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the higher layer parameter txConfig = codebook, where \n-\t is the number of configured SRS resources in the SRS resource set indicated by SRS resource set indicator field if present, \n-\t is the number of configured SRS resources in the SRS resource set associated with the coresetPoolIndex value for the CORESET used for the PDCCH carrying the DCI format 0_1, if the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI,\n-\totherwise  is the number of configured SRS resources in the SRS resource set configured by higher layer parameter srs-ResourceSetToAddModList and associated with the higher layer parameter usage of value 'codeBook'.\nWhen the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI,  and there are two SRS resource sets configured by srs-ResourceSetToAddModList and associated with usage of value 'codebook' or 'nonCodeBook', the first SRS resource set is associated with coresetPoolIndex value 0 and the second SRS resource set is associated with coresetPoolIndex value 1, where the first and the second SRS resource sets are respectively the ones with lower and higher srs-ResourceSetId of the two SRS resources sets.\n-\tSecond SRS resource indicator - number of bits determined by the following:\n-\t bits according to Tables 7.3.1.1.2-28/29A/30A/31A with the same number of layers indicated by SRS resource indicator field if the higher layer parameter txConfig = nonCodebook, the higher layer paramtere maxMIMO-LayersforSdm is not configured, and SRS resource set indicator field is present, where  is the number of configured SRS resources in the second SRS resource set, and\n-\tif UE supports operation with maxMIMO-Layers and the higher layer parameter maxMIMO-Layers of PUSCH-ServingCellConfig of the serving cell is configured, \n-\tLmax is given by maxMIMO-LayersforSfn if maxMIMO-LayersforSfn is configured \n-\tLmax is given by maxMIMO-Layers otherwise\n-\totherwise, Lmax is given by the maximum number of layers for PUSCH supported by the UE for the serving cell for non-codebook based operation.\n-\t bits according to Tables 7.3.1.1.2-28/29 if the higher layer parameter txConfig = nonCodebook, the higher layer paramtere maxMIMO-LayersforSdm is configured and SRS resource set indicator field is present, where  is the number of configured SRS resources in the second SRS resource set, and Lmax is given by maxMIMO-LayersforSdm.\n-\t bits according to Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the higher layer parameter txConfig = codebook and SRS resource set indicator field is present, where  is the number of configured SRS resources in the second SRS resource set.\n-\t0 bit otherwise.\n-\tPrecoding information and number of layers - number of bits determined by the following:\n-\t0 bits if the higher layer parameter txConfig = nonCodeBook;\n-\t0 bits for 1 antenna port and if the higher layer parameter txConfig = codebook;\n-\t4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRank if multipanelScheme is not configured or max{maxRank, maxRankSfn} if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} if multipanelScheme = sdmScheme, and codebookSubset; \n-\t4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=2 if multipanelScheme is not configured or max{maxRank, maxRankSfn} = 2 if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} = 2 if multipanelScheme = sdmScheme, transform precoder is disabled, and according to the values of higher layer parameter codebookSubset;\n-\t4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=3 or 4, transform precoder is disabled, and according to the values of higher layer parameter codebookSubset;\n-\t2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and maxRank=1 if multipanelScheme is not configured or max{maxRank, maxRankSfn} = 1 if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} = 1 if multipanelScheme = sdmScheme, and codebookSubset; \n-\t3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if multipanelScheme is not configured or max{maxRank, maxRankSfn} = 1 if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} = 1 if multipanelScheme = sdmScheme, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameter codebookSubset;\n-\t2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRank if multipanelScheme is not configured or max{maxRank, maxRankSfn} if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} if multipanelScheme = sdmScheme, and codebookSubset; \n-\t2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, transform precoder is disabled, maxRank=2 if multipanelScheme is not configured or max{maxRank, maxRankSfn} = 2 if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} = 2 if multipanelScheme = sdmScheme, and codebookSubset=nonCoherent;\n-\t1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and maxRank=1 if multipanelScheme is not configured or max{maxRank, maxRankSfn}=1 if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm}=1 if multipanelScheme = sdmScheme, and codebookSubset; \n-\t2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if multipanelScheme is not configured or max{maxRank, maxRankSfn} = 1 if multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} = 1 if multipanelScheme = sdmScheme, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameter codebookSubset;\n-\t7 bits according to Table 7.3.1.1.2-5B for 8 antenna ports, if CodebookTypeUL=Codebook1, transform precoder is disabled, maxRank-n8 = 8, and according to ULcodebookFC-N1N2;\n-\t7 bits according to Table 7.3.1.1.2-5C for 8 antenna ports, if CodebookTypeUL=Codebook1, transform precoder is disabled, maxRank-n8 =7, and according to ULcodebookFC-N1N2;\n-\t7 bits according to Table 7.3.1.1.2-5D for 8 antenna ports, if CodebookTypeUL=Codebook1, transform precoder is disabled, maxRank-n8 =4, 5 or 6, and according to maxRank-n8;\n-\t4, 6 or 7 bits according to Table 7.3.1.1.2-5E for 8 antenna ports, if CodebookTypeUL=Codebook1, transform precoder is enabled or maxRank =1, 2 or 3 if transform precoder is disabled, and according to transform precoder and maxRank;\n-\t8 bits according to Table 7.3.1.1.2-5F for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is disabled, maxRank-n8=5, 6, 7 or 8, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to maxRank-n8;\n-\t6 or 7 or 8 bits according to Table 7.3.1.1.2-5G for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is disabled, maxRank=2, 3 or 4, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to maxRank;\n-\t3 bits according to Table 7.3.1.1.2-5H for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is enabled or maxRank=1 if transform precoder is disabled, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower.\n-\t10 bits according to Table 7.3.1.1.2-5I for 8 antenna ports, if CodebookTypeUL=Codebook2, transform precoder is disabled, maxRank-n8=5, 6, 7 or 8, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to maxRank-n8;\n-\t5, 9 or 10 bits according to Table 7.3.1.1.2-5J for 8 antenna ports, if CodebookTypeUL=Codebook2, transform precoder is enabled or maxRank =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to transform precoder and maxRank;\n-\t10 bits according to Table 7.3.1.1.2-5K for 8 antenna ports, if CodebookTypeUL=Codebook3, transform precoder is disabled, maxRank-n8=5, 6, 7 or 8, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to maxRank-n8;\n-\t4, 7, 9 or 10 bits according to Table 7.3.1.1.2-5L for 8 antenna ports, if CodebookTypeUL=Codebook3, transform precoder is enabled or maxRank =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to transform precoder and maxRank;\n-\t6 or 7 or 8 bits according to Table 7.3.1.1.2-5M for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is disabled, maxRank=2, 3 or 4, ul-FullPowerTransmission is configured to fullpowerMode1, and according to maxRank;\n-\t4 bits according to Table 7.3.1.1.2-5N for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is enabled or maxRank=1 if transform precoder is disabled, ul-FullPowerTransmission is configured to fullpowerMode1.\n-\t6, 9 or 10 bits according to Table 7.3.1.1.2-5O for 8 antenna ports, if CodebookTypeUL=Codebook2, transform precoder is enabled or maxRank =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is configured to fullpowerMode1, and according to transform precoder and maxRank;\n-\t5, 7, 9 or 10 bits according to Table 7.3.1.1.2-5P for 8 antenna ports, if CodebookTypeUL=Codebook3, transform precoder is enabled or maxRank =1, 2, 3, or 4 if transform precoder is disabled, ul-FullPowerTransmission is configured to fullpowerMode1, and according to transform precoder and maxRank;\n-\t8 or 9 bits according to Table 7.3.1.1.2-5Q for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is disabled, maxRank-n8=5, 6, 7 or 8, ul-FullPowerTransmission is configured to fullpowerMode1, and according to maxRank-n8;\n-\t10 bits according to Table 7.3.1.1.2-5R for 8 antenna ports, if CodebookTypeUL=Codebook2, transform precoder is disabled, maxRank-n8=5, 6, 7 or 8, ul-FullPowerTransmission is configured to fullpowerMode1, and according to maxRank-n8;\n-\t10 bits according to Table 7.3.1.1.2-5S for 8 antenna ports, if CodebookTypeUL=Codebook3, transform precoder is disabled, maxRank-n8 =5, 6, 7, or 8, ul-FullPowerTransmission is configured to fullpowerMode1, and according to maxRank-n8;\nFor the higher layer parameter txConfig=codebook, if ul-FullPowerTransmission is configured to fullpowerMode2, maxRank is configured to be larger than 2, and at least one SRS resource with 4 antenna ports or 8 antenna ports is configured in the SRS resource set indicated by SRS resource set indicator field if present, otherwise in an SRS resource set with usage set to 'codebook', and an SRS resource with 2 antenna ports is indicated via SRI in the same SRS resource set, then Table 7.3.1.1.2-4 is used.\nFor the higher layer parameter txConfig=codebook, if ul-FullPowerTransmission is configured to fullpowerMode2, maxRank is configured to be larger than 4, and at least one SRS resource with 8 antenna ports is configured in the SRS resource set with usage set to 'codebook', and an SRS resource with 4 antenna ports is indicated via SRI in the same SRS resource set, then Table 7.3.1.1.2-2 is used.\nFor the higher layer parameter txConfig = codebook, if different SRS resources with different number of antenna ports are configured, the bitwidth is determined according to the maximum number of ports in an SRS resource among the configured SRS resources in all SRS resource set(s) with usage set to 'codebook'. If the number of ports for a configured SRS resource in the set is less than the maximum number of ports in an SRS resource among the configured SRS resources, a number of most significant bits with value set to '0' are inserted to the field.\nWhen the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI, and there are two SRS resource sets configured by srs-ResourceSetToAddModList and associated with usage of value 'codebook' or 'nonCodeBook', the Precoding information and number of layers field is associated with the SRS resource set that is associated with the coresetPoolIndex value for the CORESET used for the PDCCH carrying the DCI format 0_1.\nFor the higher layer parameter txConfig = codebook, when the Transform precoder indicator field is present, if the bit width of the Precoding information and number of layers field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the Precoding information and number of layers field for the case with smaller bit width until the bit width of the Precoding information and number of layers field for the two cases are the same.\n-\tSecond Precoding information - number of bits determined by the following:\n-\t0 bits if SRS resource set indicator field is not present;\n-\t0 bits if the higher layer parameter txConfig = nonCodeBook;\n-\t0 bits for 1 antenna port and if the higher layer parameter txConfig = codebook;\n-\t3, 4, or 5 bits according to Table 7.3.1.1.2-2C with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRank if multipanelScheme is not configured or maxRankSfn if multipanelScheme = sfnScheme, and codebookSubset; \n-\t3 or 4 bits according to Table 7.3.1.1.2-2D with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=2 if multipanelScheme is not configured or maxRankSfn=2 if multipanelScheme = sfnScheme, transform precoder is disabled, and according to the values of higher layer parameter codebookSubset;\n-\t3 or 4 bits according to Table 7.3.1.1.2-2E with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=3 or 4, transform precoder is disabled, and according to the values of higher layer parameter codebookSubset;\n-\t2, 4, or 5 bits according to Table 7.3.1.1.2-3 with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRank if multipanelScheme is not configured or maxRankSfn if multipanelScheme = sfnScheme, and codebookSubset; \n-\t3 or 4 bits according to Table 7.3.1.1.2-3A with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if multipanelScheme is not configured or maxRankSfn=1 if multipanelScheme = sfnScheme, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameter codebookSubset;\n-\t1 or 3 bits according to Table7.3.1.1.2-4B with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRank if multipanelScheme is not configured or maxRankSfn if multipanelScheme = sfnScheme, and codebookSubset; \n-\t2 bits according to Table 7.3.1.1.2-4C with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, transform precoder is disabled, maxRank=2 if multipanelScheme is not configured or maxRankSfn=2 if multipanelScheme = sfnScheme, and codebookSubset=nonCoherent;\n-\t1 or 3 bits according to Table7.3.1.1.2-5 with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRank if multipanelScheme is not configured or maxRankSfn if multipanelScheme = sfnScheme, and codebookSubset; \n-\t2 bits according to Table 7.3.1.1.2-5A with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if multipanelScheme is not configured or maxRankSfn=1 if multipanelScheme = sfnScheme, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameter codebookSubset;\n-\t4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRankSdm if multipanelScheme = sdmScheme, and codebookSubset; \n-\t4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRankSdm = 2 if multipanelScheme = sdmScheme, transform precoder is disabled, and according to the values of higher layer parameter codebookSubset;\n-\t2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRankSdm if multipanelScheme = sdmScheme, and codebookSubset; \n-\t3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRankSdm = 1 if multipanelScheme = sdmScheme, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameter codebookSubset;\n-\t2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRankSdm if multipanelScheme = sdmScheme, and codebookSubset; \n-\t2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, transform precoder is disabled, maxRankSdm = 2 if multipanelScheme = sdmScheme, and codebookSubset=nonCoherent;\n-\t1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and maxRankSdm= 1 if multipanelScheme = sdmScheme, and codebookSubset; \n-\t2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1, maxRankSdm = 1 if multipanelScheme = sdmScheme, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameter codebookSubset;\nFor the higher layer parameter txConfig=codebook, if ul-FullPowerTransmission is configured to fullpowerMode2, maxRank is configured to be larger than 2, and at least one SRS resource with 4 antenna ports is configured in the SRS resource set indicated by SRS resource set indicator field, and an SRS resource with 2 antenna ports is indicated via Second SRS resource indicator field in the same SRS resource set, then Table\u00a07.3.1.1.2-4B is used.\nFor the higher layer parameter txConfig = codebook, if different SRS resources with different number of antenna ports are configured, the bitwidth is determined according to the maximum number of ports in an SRS resource among the configured SRS resources in the second SRS resource set with usage set to 'codebook' as defined in Table 7.3.1.1.2-36. If the number of ports for a configured SRS resource in the set is less than the maximum number of ports in an SRS resource among the configured SRS resources, a number of most significant bits with value set to '0' are inserted to the field.\nFor the higher layer parameter txConfig = codebook, when the Transform precoder indicator field is present, if the bit width of the Second Precoding information field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the Second Precoding information field for the case with smaller bit width until the bit width of the Second Precoding information field for the two cases are the same.\n-\tAntenna ports - number of bits determined by the following\n-\t2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled, dmrs-Type=1, and maxLength=1, except that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and \u03c0/2 BPSK modulation is used;\n-\t2 bits as defined by Tables 7.3.1.1.2-6A, if transform precoder is enabled and dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2 BPSK modulation is used, dmrs-Type=1, and maxLength=1, where nSCID is the scrambling identity for antenna ports defined in Clause\u00a06.4.1.1.1.2, TS 38.211 [4];\n-\t4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled, dmrs-Type=1, and maxLength=2, except that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and \u03c0/2 BPSK modulation is used;\n-\t4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is enabled and dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2 BPSK modulation is used, dmrs-Type=1, and maxLength=2, where nSCID is the scrambling identity for antenna ports defined in Clause\u00a06.4.1.1.1.2, TS 38.211 [4];\n-\t3 bits as defined by Tables 7.3.1.1.2-8/9/10/10A/11 according to the value of rank, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is not configured, and maxLength=1;\n-\t4 bits as defined by Tables 7.3.1.1.2-12/13/14/14A/15/15A/15B/15C/15D according to the value of rank, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is not configured, and maxLength=2;\n-\t4 bits as defined by Tables 7.3.1.1.2-16/17/18/18A/19/19A/19B according to the value of rank, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is not configured, and maxLength=1;\n-\t5 bits as defined by Tables 7.3.1.1.2-20/21/22/22A/23/23A/23B/23C/23D according to the value of rank, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is not configured, and maxLength=2.\n-\t4 bits as defined by Tables 7.3.1.1.2-38/39/40/40A/41/42/43/44/45, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is configured, and maxLength=1;\n-\t5 bits as defined by Tables 7.3.1.1.2-46/47/48/48A/49/50/51/52/53, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is configured, and maxLength=2;\n-\t5 bits as defined by Tables 7.3.1.1.2-54/55/56/56A/57/58/59/60/61, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is configured, and maxLength=1;\n-\t6 bits as defined by Tables 7.3.1.1.2-62/63/64/64A/65/66/67/68/69, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is configured, and maxLength=2.\nwhere the number of CDM groups without data of values 1, 2, and 3 in Tables 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively, and the value of rank is:\n-\tthe sum of the value determined according to the SRS resource indicator field and the value determined according to the second SRS resource indicator field, if txConfig = nonCodebook, multipanelScheme = sdmScheme and SRS resource set indicator field equals \"10\"\n-\tthe sum of the value determined according to the Precoding information and number of layers field and the value determined according to the Second Precoding information, if txConfig = codebook, multipanelScheme = sdmScheme and SRS resource set indicator field equals \"10\"\n-\tdetermined according to the SRS resource indicator field if the higher layer parameter txConfig = nonCodebook and multipanelScheme = sdmScheme is not configured, or if the higher layer parameter txConfig = nonCodebook, multipanelScheme = sdmScheme and SRS resource set indicator field equals \"00\" or \u201c01\u201d,\n-\tdetermined according to the Precoding information and number of layers field if the higher layer parameter txConfig = codebook and multipanelScheme = sdmScheme is not configured, or if the higher layer parameter txConfig = codebook, multipanelScheme = sdmScheme and SRS resource set indicator field equals \"00\" or \"01\". \nIf a UE is configured with both dmrs-UplinkForPUSCH-MappingTypeA and dmrs-UplinkForPUSCH-MappingTypeB, the bitwidth of this field equals , where  is the \"Antenna ports\" bitwidth derived according to dmrs-UplinkForPUSCH-MappingTypeA and  is the \"Antenna ports\" bitwidth derived according to dmrs-UplinkForPUSCH-MappingTypeB. A number of  zeros are padded in the MSB of this field, if the mapping type of the PUSCH corresponds to the smaller value of  and .\nWhen the Transform precoder indicator field is present, if the bit width of the Antenna ports field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the Antenna ports field for the case with smaller bit width until the bit width of the Antenna ports field for the two cases are the same.\n-\tSRS request - 2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with supplementaryUplink in ServingCellConfig in the cell; 3 bits for UEs configured with supplementaryUplink in ServingCellConfig in the cell where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24. This bit field may also indicate the associated CSI-RS according to Clause 6.1.1.2 of [6, TS 38.214].\n-\tSRS offset indicator - 0, 1 or 2 bits. \n-\t0 bit if higher layer parameter AvailableSlotOffset is not configured for any aperiodic SRS resource set in the scheduled cell, or if higher layer parameter AvailableSlotOffset is configured for at least one aperiodic SRS resource set in the scheduled cell and the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) is 1;\n-\totherwise,  bits are used to indicate available slot offset according to Table 7.3.1.1.2-37 and Clause 6.2.1 of [6, TS 38.214],  where K is the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) in the scheduled cell;\n-\tCSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer parameter reportTriggerSize.\n-\tCBG transmission information (CBGTI) - 0 bit if higher layer parameter codeBlockGroupTransmission for PUSCH is not configured or if the number of scheduled PUSCH indicated by the Time domain resource assignment field is larger than 1; otherwise, 2, 4, 6, or 8 bits as defined in Clause 6.1.5 of [6, TS38.214], determined by higher layer parameter maxCodeBlockGroupsPerTransportBlock and maxRank or maxMIMO-Layers for PUSCH. \n-\tPTRS-DMRS association - number of bits determined as follows\n-\t0 bit if PTRS-UplinkConfig is not configured in either dmrs-UplinkForPUSCH-MappingTypeA or dmrs-UplinkForPUSCH-MappingTypeB and transform precoder is disabled, or if transform precoder is enabled, or if maxRank=1 and multipanelScheme is not configured, or if maxRank=1 and maxRankSfn=1, or if maxRank=1 and maxRankSdm=1 when two PTRS ports are configured by maxNrofPortsforSdm;\n-\t2 or 4 bits otherwise, where Table 7.3.1.1.2-25/7.3.1.1.2-25A/7.3.1.1.2-25B/7.3.1.1.2-26/7.3.1.1.2-26A are used to indicate the association between PTRS port(s) and DMRS port(s), and the DMRS ports are indicated by the Antenna ports field.\n-\t2 bits when one PTRS port or two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, SRS resource set indicator field is absent or SRS resource set indicator field is present and equals \"00\" or \u201c01\u201d and maxRank<=4, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Tables 7.3.1.1.2-25 and 7.3.1.1.2-26.\n-\t2 bits when one PTRS port or two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is present and equals \"10\" or \u201c11\u201d, maxRank=3 or 4 and multipanelScheme is not configured, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Tables 7.3.1.1.2-25 and 7.3.1.1.2-26. \n-\t2 bits when one PTRS port is configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is present and equals \"10\" and \"11\", maxRank=2 and multipanelScheme is not configured, the MSB of this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator and/or Precoding information and number of layers field, and the LSB of this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to Second SRS resource indicator field and/or Second Precoding information field, according to Table 7.3.1.1.2-25A. \n-\t2 bits when two PTRS ports are configured by maxNrofPortsforSDM in PTRS-UplinkConfig, the SRS resource set indicator field is present and equals \"10\" and multipanelScheme is configured to sdmScheme, the MSB of this field indicates the association between PTRS port 0 and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field, and the LSB of this field indicates the association between PTRS port 1 and DMRS port(s) corresponding to Second SRS resource indicator field and/or Second Precoding information field, according to Table 7.3.1.1.2-25A. \n-\t2 bits when one PTRS port is configured by maxNrofPortsforSDM in PTRS-UplinkConfig, SRS resource set indicator field is present and equals \"10\" and multipanelScheme is configured to sdmScheme, this field indicates the association between PTRS port and DMRS ports corresponding to SRS resource indicator field and Second SRS resource indicator field and/or Precoding information and number of layers field and Second Precoding information field according to Table 7.3.1.1.2-25.\n-\t2 bits when one PTRS port or two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, SRS resource set indicator field is present and equals \"10\", multipanelScheme is configured to sfnScheme, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Tables\u00a07.3.1.1.2-25 and 7.3.1.1.2-26.\n-\t2 bits when one PTRS port is configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is absent, maxRank>4 and multipanelScheme is not configured, this field indicates the association between PTRS port and DMRS port(s) corresponding to the selected codeword according to Table 7.3.1.1.2-25B, where the selected codeword is the codeword with higher MCS for the initial PUSCH if the MCS indices of the two codewords are different for the initial PUSCH, or codeword 0 otherwise. \n-\t4 bits when two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is absent, maxRank>4 and multipanelScheme is not configured, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Table 7.3.1.1.2-26A.\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and the \"PTRS-DMRS association\" field is present for the indicated bandwidth part but not present for the active bandwidth part, the UE assumes the \"PTRS-DMRS association\" field is not present for the indicated bandwidth part.\nWhen the Transform precoder indicator field is present, if the bit width of PTRS-DMRS association field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the PTRS-DMRS association field for the case with smaller bit width until the bit width of the PTRS-DMRS association field for the two cases are the same.\n-\tSecond PTRS-DMRS association - 2 bits if PTRS-DMRS association field and SRS resource set indicator field are present and maxRank>2 and multipanelScheme is not configured; 0 bit otherwise. Tables 7.3.1.1.2-25 and 7.3.1.1.2-26 are used to indicate the association between PTRS port(s) and DMRS port(s) corresponding to Second SRS resource indicator field and/or Second precoding information field when one PT-RS port and two PT-RS ports are configured by maxNrofPorts in PTRS-UplinkConfig respectively, and the DMRS ports are indicated by the Antenna ports field.\n-\tbeta_offset indicator - 0 if the higher layer parameter betaOffsets = semiStatic; otherwise 2 bits as defined by Table 9.3-3 in [5, TS 38.213]. \nWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookList or by pdsch-HARQ-ACK-CodebookListMulticast for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-1 is configured, if the bit width of the beta_offset indicator in DCI format 0_1 for one HARQ-ACK codebook is not equal to that of the beta_offset indicator in DCI format 0_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller beta_offset indicator until the bit width of the beta_offset indicator in DCI format 0_1 for the two HARQ-ACK codebooks are the same.\n-\tDMRS sequence initialization \u2013 0 bit if transform precoder is enabled by higher layers and the Transform precoder indicator field is not present; 1 bit if transform precoder is disabled by higher layers or if the Transform precoder indicator field is present. If the Transform precoder indicator field is present and set to '0', the bit is reserved.\n-\tUL-SCH indicator - 0 or 1 bit as follows \n-\t0 bit if the number of scheduled PUSCH indicated by the Time domain resource assignment field is larger than 1; \n-\t1 bit otherwise. A value of \"1\" indicates UL-SCH shall be transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not be transmitted on the PUSCH. If a UE does not support triggering SRS only in DCI, except for DCI format 0_1 with CRC scrambled by SP-CSI-RNTI, the UE is not expected to receive a DCI format 0_1 with UL-SCH indicator of \"0\" and CSI request of all zero(s). If a UE supports triggering SRS only in DCI, except for DCI format 0_1 with CRC scrambled by SP-CSI-RNTI, the UE is not expected to receive a DCI format 0_1 with UL-SCH indicator of \"0\", CSI request of all zero(s) and SRS request of all zero(s). The UE is not expected to receive a DCI format 0_1 with UL-SCH indicator of \"0\", when the indicated number of layers is larger than 4.\n-\tChannelAccess-CPext-CAPC - 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter ul-AccessConfigListDCI-0-1 or in Table\u00a07.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1, or for operation in frequency range 2-2 if ChannelAccessMode2-r17 is provided; otherwise 0 bit. One or more entries from Table 7.3.1.1.2-35 or Table 7.3.1.1.2-35A are configured by the higher layer parameter ul-AccessConfigListDCI-0-1.\n-\tOpen-loop power control parameter set indication - 0 or 1 or 2 bits. \n-\t0 bit if the higher layer parameter p0-PUSCH-SetList is not configured;\n-\t1 or 2 bits otherwise,\n-\t1 bit if SRS resource indicator is present in the DCI format 0_1;\n-\t1 or 2 bits as determined by higher layer parameter olpc-ParameterSetDCI-0-1 if SRS resource indicator is not present in the DCI format 0_1.\n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-0-1 is not configured; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213].\n-\tInvalid symbol pattern indicator - 0 bit if higher layer parameter invalidSymbolPatternIndicatorDCI-0-1 is not configured; otherwise 1 bit as defined in Clause 6.1.2.1 in [6, TS 38.214].\n-\tMinimum applicable scheduling offset indicator - 0 or 1 bit \n-\t0 bit if higher layer parameter minimumSchedulingOffsetK2 is not configured;\n-\t1 bit if higher layer parameter minimumSchedulingOffsetK2 is configured. The 1 bit indication is used to determine the minimum applicable K2 for the active UL BWP and the minimum applicable K0 value for the active DL BWP, if configured respectively, according to Table 7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum applicable value of the aperiodic CSI-RS triggering offset for an active DL BWP shall be the same as the minimum applicable K0 value. \n-\tSCell dormancy indication - 0 bit if higher layer parameter dormancyGroupWithinActiveTime is not configured; otherwise 1, 2, 3, 4 or 5 bits bitmap determined according to the number of different DormancyGroupID(s) provided by higher layer parameter dormancyGroupWithinActiveTime, where each bit corresponds to one of the SCell group(s) configured by higher layers parameter dormancyGroupWithinActiveTime, with MSB to LSB of the bitmap corresponding to the first to last configured SCell group in ascending order of DormancyGroupID. The field is only present when this format is carried by PDCCH on the primary cell within DRX Active Time and the UE is configured with at least two DL BWPs for an SCell.\n-\tSidelink assignment index - 0, 1 or 2 bits:\n-\t1 bit if the UE is configured with pdsch-HARQ-ACK-Codebook = semi-static and, in addition,  the UE is configured with a SL configured grant type 1 or to monitor DCI format 3_0 with CRC scrambled by SL-RNTI or SL-CS-RNTI;\n-\t2 bits if the UE is configured with pdsch-HARQ-ACK-Codebook = dynamic and, in addition, the UE is configured with a SL configured grant type 1 or to monitor DCI format 3_0 with CRC scrambled by SL-RNTI or SL-CS-RNTI;\n-\t0 bit otherwise.\n-\tPDCCH monitoring adaptation indication - 0, 1 or 2 bits\n-\t1 or 2 bits, if searchSpaceGroupIdList-r17 is not configured and if pdcch-SkippingDurationList is configured\n-\t1 bit if the UE is configured with only one duration by pdcch-SkippingDurationList;\n-\t2 bits if the UE is configured with more than one duration by pdcch-SkippingDurationList.\n-\t1 or 2 bits, if pdcch-SkippingDurationList is not configured and if searchSpaceGroupIdList-r17 is configured\n-\t1 bit if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0 and search space set(s) with group index 1, and if the UE is not configured by searchSpaceGroupIdList-r17 with any search space set with group index 2;\n-\t2 bits if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0, search space set(s) with group index 1 and search space set(s) with group index 2;\n-\t2 bits, if pdcch-SkippingDurationList is configured and if searchSpaceGroupIdList-r17 is configured\n-\t0 bit, otherwise\nA UE does not expect that the bit width of a field in DCI format 0_1 with CRC scrambled by CS-RNTI is larger than corresponding bit width of same field in DCI format 0_1 with CRC scrambled by C-RNTI for the same serving cell. If the bit width of a field in the DCI format 0_1 with CRC scrambled by CS-RNTI is not equal to that of the corresponding field in the DCI format 0_1 with CRC scrambled by C-RNTI for the same serving cell, a number of most significant bits with value set to '0' are inserted to the field in DCI format 0_1 with CRC scrambled by CS-RNTI until the bit width equals that of the corresponding field in the DCI format 0_1 with CRC scrambled by C-RNTI for the same serving cell. \nIf the number of information bits in DCI format 0_1 scheduling a single PUSCH prior to padding is not equal to the number of information bits in DCI format 0_1 scheduling multiple PUSCHs for the same serving cell, zeros shall be appended to the DCI format 0_1 with smaller size until the payload size is the same for scheduling a single PUSCH and multiple PUSCHs. \nFor a UE configured with scheduling on the primary cell from an SCell, if prior to padding the number of information bits in DCI format 0_1 carried by PDCCH on the primary cell is not equal to the number of information bits in DCI format 0_1 carried by PDCCH on the SCell for scheduling on the primary cell, zeros shall be appended to the DCI format 0_1 with smaller size until the payload size is the same.\n-\tIf application of step 4C in clause 7.3.1.0 results in additional zero padding for DCI format 0_1 for scheduling on the primary cell, corresponding zeros shall be appended to both DCI format 0_1 monitored on the primary cell and DCI format 0_1 monitored on the SCell for scheduling on the primary cell.\n-\tIf the SCell is deactivated and firstActiveDownlinkBWP-Id is not set to dormant BWP, the UE determines the number of information bits in DCI format 0_1 carried by PDCCH on the primary cell based on a DL BWP provided by firstActiveDownlinkBWP-Id for the SCell. If the active DL BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and firstActiveDownlinkBWP-Id is set to dormant BWP, the UE determines the number of information bits in DCI format 0_1 carried by PDCCH on the primary cell based on a DL BWP provided by firstWithinActiveTimeBWP-Id for the SCell if provided; otherwise, based on a DL BWP provided by firstOutsideActiveTimeBWP-Id for the SCell.\nTable 7.3.1.1.2-1: Bandwidth part indicator \n\nTable 7.3.1.1.2-2: Precoding information and number of layers or Second Precoding information, for 4 antenna ports, if transform precoder is disabled, maxRank = 2 or 3 or 4 or max{maxRank, maxRankSfn} = 2 or 3 or 4 or max{maxRank, maxRankSdm} = 2 or 3 or 4 or maxRankSdm= 2, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-2A: Precoding information and number of layers for 4 antenna ports or Second Precoding information,, if transform precoder is disabled, maxRank = 2 or max{maxRank, maxRankSfn} = 2 or max{maxRank, maxRankSdm} = 2 or maxRankSdm= 2, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-2B: Precoding information and number of layers for 4 antenna ports, if transform precoder is disabled, maxRank = 3 or 4, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-2C: Second precoding information, for 4 antenna ports, if transform precoder is disabled, maxRank = 2 or 3 or 4 or maxRankSfn = 2, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-2D: Second precoding information for 4 antenna ports, if transform precoder is disabled, maxRank = 2 or maxRankSfn = 2, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-2E: Second precoding information for 4 antenna ports, if transform precoder is disabled, maxRank = 3 or 4, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-3: Precoding information and number of layers or Second Precoding information, for 4 antenna ports, if transform precoder is enabled and ul-FullPowerTransmission is either not configured or configured to fullpowerMode2 or configured to fullpower, or if transform precoder is disabled, maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank, maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-3A: Precoding information and number of layers or Second Precoding information, for 4 antenna ports, if transform precoder is enabled and ul-FullPowerTransmission = fullpowerMode1, or if transform precoder is disabled, maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank, maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-4: Precoding information and number of layers or Second Precoding information, for 2 antenna ports, if transform precoder is disabled, maxRank = 2 or max{maxRank, maxRankSfn} = 2 or max{maxRank, maxRankSdm} = 2 or maxRankSdm= 2, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-4A: Precoding information and number of layers or Second Precoding information, for 2 antenna ports, if transform precoder is disabled, maxRank = 2 or max{maxRank, maxRankSfn} = 2 or max{maxRank, maxRankSdm} = 2 or maxRankSdm= 2, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-4B: Second precoding information, for 2 antenna ports, if transform precoder is disabled, maxRank = 2 or maxRankSfn = 2, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-4C: Second precoding information, for 2 antenna ports, if transform precoder is disabled, maxRank = 2 or maxRankSfn = 2, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-5: Precoding information and number of layers or Second Precoding information, for 2 antenna ports, if transform precoder is enabled and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, or if transform precoder is disabled, maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank, maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-5A: Precoding information and number of layers or Second Precoding information, for 2 antenna ports or Second Precoding information, if transform precoder is enabled and ul-FullPowerTransmission = fullpowerMode1, or if transform precoder is disabled, maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank, maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and ul-FullPowerTransmission = fullpowerMode1\n\nTable 7.3.1.1.2-5B: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 8, and CodebookTypeUL=Codebook1\n\nTable 7.3.1.1.2-5C: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 7, and CodebookTypeUL=Codebook1\n\nTable 7.3.1.1.2-5D: Precoding information and number of layers, for 8 antenna ports,\nif transform precoder is disabled, maxRank-n8 = 4, 5 or 6, CodebookTypeUL=Codebook1,\nULcodebookFC-N1N2 = (4,1) or (2,2)\n\nTable 7.3.1.1.2-5E: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled or maxRank=1 or 2 or 3 if transform precoder is disabled, CodebookTypeUL=Codebook1, ULcodebookFC-N1N2 = (4,1) or (2,2)\n\nTable 7.3.1.1.2-5F: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 5, 6, 7 or 8, and CodebookTypeUL=Codebook4\n\nTable 7.3.1.1.2-5G: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank = 2, 3 or 4, CodebookTypeUL=Codebook4, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-5H: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled or maxRank=1 if transform is disabled, CodebookTypeUL=Codebook4, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-5I: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 5, 6, 7 or 8, and CodebookTypeUL=Codebook2\n\nTable 7.3.1.1.2-5J: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled, or maxRank = 1, 2, 3 or 4 if transform precoder is disabled, CodebookTypeUL=Codebook2, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-5K: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 5, 6, 7 or 8, and CodebookTypeUL=Codebook3\n\nTable 7.3.1.1.2-5L: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled, or maxRank = 1, 2, 3 or 4 if transform precoder is disabled, CodebookTypeUL=Codebook3, and ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower\n\nTable 7.3.1.1.2-5M: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank = 2, 3 or 4, CodebookTypeUL=Codebook4, and ul-FullPowerTransmission configured to fullpowerMode1\n\nTable 7.3.1.1.2-5N: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled or maxRank=1 if transform is disabled, CodebookTypeUL=Codebook4, and ul-FullPowerTransmission configured to fullpowerMode1\n\nTable 7.3.1.1.2-5O: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled, or maxRank = 1, 2, 3 or 4 if transform precoder is disabled, CodebookTypeUL=Codebook2, and ul-FullPowerTransmission configured to fullpowerMode1\n\nTable 7.3.1.1.2-5P: Precoding information and number of layers, for 8 antenna ports, if transform precoder is enabled, or maxRank = 1, 2, 3 or 4 if transform precoder is disabled, CodebookTypeUL=Codebook3, and ul-FullPowerTransmission is configured to fullpowerMode1 \n\nTable 7.3.1.1.2-5Q: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 5, 6, 7, 8, CodebookTypeUL=Codebook4, and ul-FullPowerTransmission is configured to fullpowerMode1\n\nTable 7.3.1.1.2-5R: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 5, 6, 7, 8, CodebookTypeUL=Codebook2, and ul-FullPowerTransmission is configured to fullpowerMode1\n\nTable 7.3.1.1.2-5S: Precoding information and number of layers, for 8 antenna ports, if transform precoder is disabled, maxRank-n8 = 5, 6, 7, 8, CodebookTypeUL=Codebook3, and ul-FullPowerTransmission is configured to fullpowerMode1\n\nTable 7.3.1.1.2-6: Antenna port(s), transform precoder is enabled, dmrs-Type=1, maxLength=1,\nexcept that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and\n\u03c0/2-BPSK modulation is used\n\nTable 7.3.1.1.2-6A: Antenna port(s), transform precoder is enabled, dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2-BPSK modulation is used, dmrs-Type=1, maxLength=1\n\nTable 7.3.1.1.2-7: Antenna port(s), transform precoder is enabled, dmrs-Type=1, maxLength=2,\nexcept that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and\n\u03c0/2-BPSK modulation is used\n\nTable 7.3.1.1.2-7A: Antenna port(s), transform precoder is enabled, dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2-BPSK modulation is used, dmrs-Type=1, maxLength=2\n\nTable 7.3.1.1.2-8: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=1, rank = 1\n\nTable 7.3.1.1.2-9: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=1, rank = 2\n\nTable 7.3.1.1.2-10: Antenna port(s), transform precoder is disabled, multipanelScheme is not\nconfigured to sdmScheme, dmrs-Type=1, dmrs-TypeEnh is not configured,\nmaxLength=1, rank = 3\n\nTable 7.3.1.1.2-10A: Antenna port(s), transform precoder is disabled, multipanelScheme = sdmScheme, dmrs-Type=1, dmrs-TypeEnh is not configured, maxLength=1, rank = 3\n\nTable 7.3.1.1.2-11: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=1, rank = 4\n\nTable 7.3.1.1.2-12: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 1\n\nTable 7.3.1.1.2-13: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 2\n\nTable 7.3.1.1.2-14: Antenna port(s), transform precoder is disabled, multipanelScheme is not to sdmScheme, dmrs-Type=1, dmrs-TypeEnh is not configured, maxLength=2, rank = 3\n\nTable 7.3.1.1.2-14A: Antenna port(s), transform precoder is disabled, multipanelScheme = sdmScheme, dmrs-Type=1, dmrs-TypeEnh is not configured, maxLength=2, rank = 3\n\nTable 7.3.1.1.2-15: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 4\n\nTable 7.3.1.1.2-15A: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 5\n\nTable 7.3.1.1.2-15B Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 6\n\nTable 7.3.1.1.2-15C: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 7\n\nTable 7.3.1.1.2-15D: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 8\n\nTable 7.3.1.1.2-16: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=1, rank=1\n\nTable 7.3.1.1.2-17: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=1, rank=2\n\nTable 7.3.1.1.2-18: Antenna port(s), transform precoder is disabled, multipanelScheme is not\nconfigured to sdmScheme, dmrs-Type=2, dmrs-TypeEnh is not configured,\nmaxLength=1, rank =3\n\nTable 7.3.1.1.2-18A: Antenna port(s), transform precoder is disabled, multipanelScheme = sdmScheme, dmrs-Type=2, dmrs-TypeEnh is not configured, maxLength=1, rank =3\n\nTable 7.3.1.1.2-19: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=1, rank =4\n\nTable 7.3.1.1.2-19A: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=1, rank = 5\n\nTable 7.3.1.1.2-19B: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\nenhanced-dmrs-Typedmrs-TypeEnh is not configured, maxLength=1, rank = 6\n\nTable 7.3.1.1.2-20: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank=1\n\nTable 7.3.1.1.2-21: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank=2\n\nTable 7.3.1.1.2-22: Antenna port(s), transform precoder is disabled, multipanelScheme is not\nconfigured to sdmScheme, dmrs-Type=2, dmrs-TypeEnh is not configured,\nmaxLength=2, rank=3\n\nTable 7.3.1.1.2-22A: Antenna port(s), transform precoder is disabled, multipanelScheme = sdmScheme, dmrs-Type=2, dmrs-TypeEnh is not configured, maxLength=2, rank=3\n\nTable 7.3.1.1.2-23: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank=4\n\nTable 7.3.1.1.2-23A: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 5\n\nTable 7.3.1.1.2-23B Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 6\n\nTable 7.3.1.1.2-23C: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 7\n\nTable 7.3.1.1.2-23D: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is not configured, maxLength=2, rank = 8\n\nTable 7.3.1.1.2-24: SRS request\n\nTable 7.3.1.1.2-25: PTRS-DMRS association or Second PTRS-DMRS association for UL PTRS port 0\n\nTable 7.3.1.1.2-25A: PTRS-DMRS association for UL PTRS port 0 or for the actual UL PT-RS port if multipanelScheme is not configured, or PTRS-DMRS association for UL PTRS port 0 and 1 if multipanelScheme is configured to sdmScheme and maxNrofPortsforSDM is set to 2\n\nTable 7.3.1.1.2-25B: PTRS-DMRS association for UL PTRS port 0, maxRank>4 \n\nTable 7.3.1.1.2-26: PTRS-DMRS association or Second PTRS-DMRS association for UL PTRS ports 0 and 1\n\nTable 7.3.1.1.2-26A: PTRS-DMRS association for UL PTRS ports 0 and 1, maxRank>4\n\nTable 7.3.1.1.2-27: void\n\nTable 7.3.1.1.2-28: SRI indication or Second SRI indication, for non-codebook based PUSCH transmission, \n\nTable 7.3.1.1.2-28A: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-29: SRI indication or Second SRI indication, for\nnon-codebook based PUSCH transmission, \n\nTable 7.3.1.1.2-29A: Second SRI indication for non-codebook based PUSCH transmission, \n\nTable 7.3.1.1.2-29B: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-29B-1: SRI(s) for 2 layers, \n\nTable 7.3.1.1.2-30: SRI indication for non-codebook based PUSCH transmission, \n\nTable 7.3.1.1.2-30A: Second SRI indication for non-codebook based PUSCH transmission, if multipanelScheme is not configured, \n\nTable 7.3.1.1.2-30B: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-30B-1: SRI combinations for 3 layers, \n\nTable 7.3.1.1.2-31: SRI indication for non-codebook based PUSCH transmission, \n\nTable 7.3.1.1.2-31A: Second SRI indication for non-codebook based PUSCH transmission,\nif multipanelScheme is not configured, \n\nTable 7.3.1.1.2-31B: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-31B-1: SRI combinations for 4 layers, \n\nTable 7.3.1.1.2-31C: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-31C-1: SRI combinations for 5 layers, \n\nTable 7.3.1.1.2-31D: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-31D-1: SRI combinations for 6 layers, \n\nTable 7.3.1.1.2-31E: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-31F: SRI indication, for non-codebook based PUSCH transmission, , \n\nTable 7.3.1.1.2-32: SRI indication or Second SRI indication, for codebook based PUSCH transmission, if ul-FullPowerTransmission is not configured, or ul-FullPowerTransmission = fullpowerMode1, or ul-FullPowerTransmission = fullpowerMode2, or ul-FullPowerTransmission = fullpower and \n\nTable 7.3.1.1.2-32A: SRI indication or Second SRI indication, for codebook based PUSCH transmission, if ul-FullPowerTransmission = fullpowerMode2 and \n\nTable 7.3.1.1.2-32B: SRI indication or Second SRI indication, for codebook based PUSCH transmission, if ul-FullPowerTransmission = fullpowerMode2 and \n\nTable 7.3.1.1.2-33: Joint indication of minimum applicable scheduling offset K0/K2\n\nTable 7.3.1.1.2-34: Redundancy version\n\nTable 7.3.1.1.2-35: Allowed entries for DCI format 0_1 and DCI format 0_2, configured by\nhigher layer parameter ul-AccessConfigListDCI-0-1 and ul-AccessConfigListDCI-0-2, respectively,\nin frequency range 1\n\nTable 7.3.1.1.2-35A: Allowed entries for DCI format 0_1 and DCI format 0_2, configured by higher layer parameter ul-AccessConfigListDCI-0-1 in frequency range 2-2\n\nTable 7.3.1.1.2-36: SRS resource set indication\n\nTable 7.3.1.1.2-37: SRS offset indicator\n\nTable 7.3.1.1.2-38: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 1\n\nTable 7.3.1.1.2-39: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 2\n\nTable 7.3.1.1.2-40: Antenna port(s), transform precoder is disabled, dmrs-Type=1, multipanelScheme is not configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=1, rank = 3\n\nTable 7.3.1.1.2-40A: Antenna port(s), transform precoder is disabled, dmrs-Type=1, multipanelScheme is configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=1, rank = 3\n\nTable 7.3.1.1.2-41: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 4\n\nTable 7.3.1.1.2-42: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 5\n\nTable 7.3.1.1.2-43: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 6\n\nTable 7.3.1.1.2-44: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 7\n\nTable 7.3.1.1.2-45: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1, rank = 8\n\nTable 7.3.1.1.2-46: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 1\n\nTable 7.3.1.1.2-47: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 2\n\nTable 7.3.1.1.2-48: Antenna port(s), transform precoder is disabled, dmrs-Type=1, multipanelScheme is not configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=2, rank = 3\n\nTable 7.3.1.1.2-48A: Antenna port(s), transform precoder is disabled, dmrs-Type=1, multipanelScheme is configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=2, rank = 3\n\nTable 7.3.1.1.2-49: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 4\n\nTable 7.3.1.1.2-50: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 5\n\nTable 7.3.1.1.2-51: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 6\n\nTable 7.3.1.1.2-52: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 7\n\nTable 7.3.1.1.2-53: Antenna port(s), transform precoder is disabled, dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2, rank = 8\n\nTable 7.3.1.1.2-54: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 1\n\nTable 7.3.1.1.2-55: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 2\n\nTable 7.3.1.1.2-56: Antenna port(s), transform precoder is disabled, dmrs-Type=2, multipanelScheme is not configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=1, rank = 3\n\nTable 7.3.1.1.2-56A: Antenna port(s), transform precoder is disabled, dmrs-Type=2, multipanelScheme is configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=1, rank = 3\n\nTable 7.3.1.1.2-57: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 4\n\nTable 7.3.1.1.2-58: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 5\n\nTable 7.3.1.1.2-59: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 6\n\nTable 7.3.1.1.2-60: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 7\n\nTable 7.3.1.1.2-61: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1, rank = 8\n\nTable 7.3.1.1.2-62: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 1\n\nTable 7.3.1.1.2-63: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 2\n\nTable 7.3.1.1.2-64: Antenna port(s), transform precoder is disabled, dmrs-Type=2, multipanelScheme is not configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=2, rank = 3\n\nTable 7.3.1.1.2-64A: Antenna port(s), transform precoder is disabled, dmrs-Type=2, multipanelScheme is configured to sdmScheme, dmrs-TypeEnh is configured, maxLength=2, rank = 3\n\nTable 7.3.1.1.2-65: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 4\n\nTable 7.3.1.1.2-66: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 5\n\nTable 7.3.1.1.2-67: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 6\n\nTable 7.3.1.1.2-68: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 7\n\nTable 7.3.1.1.2-69: Antenna port(s), transform precoder is disabled, dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2, rank = 8\n\n7.3.1.1.3\tFormat 0_2\nDCI format 0_2 is used for the scheduling of PUSCH in one cell. \nThe following information is transmitted by means of the DCI format 0_2 with CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:\n-\tIdentifier for DCI formats - 1 bit\n-\tThe value of this bit field is always set to 0, indicating an UL DCI format\n-\tCarrier indicator - 0, 1, 2 or 3 bits determined by higher layer parameter carrierIndicatorSizeDCI-0-2, as defined in Clause 10.1 of [5, TS38.213]. This field is reserved when this format is carried by PDCCH on the primary cell and the UE is configured for scheduling on the primary cell from an SCell, with the same number of bits as that in this format carried by PDCCH on the SCell for scheduling on the primary cell.\n-\tUL/SUL indicator - 0 bit for UEs not configured with supplementaryUplink in ServingCellConfig in the cell or UEs configured with supplementaryUplink in ServingCellConfig in the cell but only one carrier in the cell is configured for PUSCH transmission; otherwise, 1 bit as defined in Table 7.3.1.1.1-1.\n-\tBandwidth part indicator - 0, 1 or 2 bits as determined by the number of UL BWPs  configured by higher layers, excluding the initial UL bandwidth part. The bitwidth for this field is determined as bits, where \n-\tif , in which case the bandwidth part indicator is equivalent to the ascending order of the higher layer parameter BWP-Id;\n-\totherwise , in which case the bandwidth part indicator is defined in Table 7.3.1.1.2-1;\nIf a UE does not support active BWP change via DCI, the UE ignores this bit field.\n-\tFrequency domain resource assignment - number of bits determined by the following:\n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 6.1.2.2.1 of [6, TS 38.214]\n-\t bits if only resource allocation type 1 is configured, or  bits if resourceAllocationDCI-0-2-r16 is configured as 'dynamicSwitch', where   is the size of the active UL bandwidth part,  is defined as in clause 4.4.4.4 of [4, TS 38.211] and  is given by higher layer parameter resourceAllocationType1GranularityDCI-0-2. If the higher layer parameter resourceAllocationType1GranularityDCI-0-2 is not configured,  is equal to 1.\n-\tIf resourceAllocationDCI-0-2-r16 is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the  LSBs provide the resource allocation as defined in Clause 6.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as follows:\n-\tFor PUSCH hopping with resource allocation type 1:\n-\tMSB bits are used to indicate the frequency offset according to Clause 6.3 of [6, TS 38.214], where  if the higher layer parameter frequencyHoppingOffsetListsDCI-0-2 contains two offset values and if the higher layer parameter frequencyHoppingOffsetListsDCI-0-2 contains four offset values\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\n-\tFor non-PUSCH hopping with resource allocation type 1:\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and if resourceAllocationDCI-0-2-r16 is configured as 'dynamicSwitch' for the indicated bandwidth part, the UE assumes resource allocation type 0 for the indicated bandwidth part if the bitwidth of the \"Frequency domain resource assignment\" field of the active bandwidth part is smaller than the bitwidth of the \"Frequency domain resource assignment\" field of the indicated bandwidth part.\n-\tTime domain resource assignment - 0, 1, 2, 3, 4, 5 or 6 bits as defined in Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter pusch-TimeDomainAllocationListDCI-0-2 if the higher layer parameter is configured, or I is the number of entries in the higher layer parameter PUSCH-TimeDomainResourceAllocationList if the higher layer parameter PUSCH-TimeDomainResourceAllocationList is configured and the higher layer parameter pusch-TimeDomainAllocationListDCI-0-2 is not configured; otherwise I is the number of entries in the default table.\n-\tFrequency hopping flag - 0 or 1 bit:\n-\t0 bit if the higher layer parameter frequencyHoppingDCI-0-2 is not configured;\n-\t1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].\n-\tModulation and coding scheme -5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 0, 1 or 2 bits determined by higher layer parameter numberOfBitsForRV-DCI-0-2\n-\tIf 0 bit is configured, rvid to be applied is 0;\n-\t1 bit according to Table 7.3.1.2.3-1;\n-\t2 bits according to Table 7.3.1.1.1-2. \n-\tTransform precoder indicator - 0 or 1 bit\n-\t1 bit if the higher layer parameter dynamicTransformPrecoderIndicationDCI-0-2 is configured to 'enabled ' and if the UE is configured to monitor DCI format 0_2 with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI, where the bit value of 0 indicates that transform precoder is enabled and the bit value of 1 indicates that transform precoder is disabled. For a DCI format 0_2 with CRC scrambled by CS-RNTI and the value indicated by new data indicator field is 0, or for a DCI format 0_2 with CRC scrambled by SP-CSI-RNTI, the bit is reserved.\n-\t0 bit otherwise.\n-\tHARQ process number - number of bits determined by the following:\n-\t5 bits determined by higher layer parameter harq-ProcessNumberSizeDCI-0-2-v1700 if configured;\n-\totherwise 0, 1, 2, 3 or 4 bits determined by higher layer parameter harq-ProcessNumberSizeDCI-0-2\n-\tDownlink assignment index - 0, 1, 2 or 4 bits\n-\t0 bit if the higher layer parameter downlinkAssignmentIndexDCI-0-2 is not configured;\n-\t1, 2, 3, 4, 5 or 6 bits otherwise,\n-\t1st downlink assignment index - 1 or 2 bits:\n-\t1 bit for semi-static HARQ-ACK codebook for unicast and multicast if pdsch-HARQ-ACK-Codebook = semiStatic is configured for both unicast and multicast and the higher layer parameter fdmed-ReceptionMulticast is not configured; otherwise for semi-static HARQ-ACK codebook for unicast;\n-\t2 bits for dynamic HARQ-ACK codebook for unicast.\n-\t2nd downlink assignment index - 0 or 2 bits\n-\t2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks for unicast;\n-\t0 bit otherwise.\n-\t3rd downlink assignment index - 0, 1 or 2 bits\n-\t1 bit for semi-static HARQ-ACK codebook for multicast if the higher layer parameter fdmed-ReceptionMulticast is configured;\n-\t2 bits for the dynamic HARQ-ACK codebook for multicast;\n-\t0 bit otherwise.\nWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookList for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-2 is configured, if the bit width of the 1st or 2 nd Downlink assignment index in DCI format 0_2 for one HARQ-ACK codebook is not equal to that of the 1st or 2 nd Downlink assignment index in DCI format 0_2 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 1st or 2 nd Downlink assignment index until the bit width of the 1st or 2 nd Downlink assignment index in DCI format 0_2 for the two HARQ-ACK codebooks are the same.\nWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookListMulticast for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-2 is configured, if the bit width of the 3rd downlink assignment index in DCI format 0_2 for one HARQ-ACK codebook is not equal to that of the 3rd downlink assignment index in DCI format 0_2 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 3rd downlink assignment index until the bit width of the 3rd downlink assignment index in DCI format 0_2 for the two HARQ-ACK codebooks are the same.\n-\tTPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS38.213]\n-\tSecond TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5, TS38.213] if higher layer parameter SecondTPCFieldDCI-0-2 is configured; 0 bit otherwise.\n-\tSRS resource set indicator - 0 or 2 bits\n-\t2 bits according to Table 7.3.1.1.2-36 if \n-\ttxConfig = nonCodeBook, and there are two SRS resource sets configured by srs-ResourceSetToAddModListDCI-0-2 and associated with the usage of value 'nonCodeBook', and is not configured with coresetPoolIndex or the value of coresetPoolIndex is the same for all CORESETs if coresetPoolIndex is provided, or\n-\ttxConfig=codebook, and there are two SRS resource sets configured by srs-ResourceSetToAddModListDCI-0-2 and associated with usage of value 'codebook', and is not configured with coresetPoolIndex or the value of coresetPoolIndex is the same for all CORESETs if coresetPoolIndex is provided;\n-\t0 bit otherwise.\n-\tSRS resource indicator - number of bits determined by the following:'\n-\t bits according to Tables 7.3.1.1.2-28/28A/29/29B/30/30B/31/31B if the higher layer parameter txConfig = nonCodebook, where \n-\t is the number of configured SRS resources in the SRS resource set indicated by SRS resource set indicator field if present, \n-\t is the number of configured SRS resources in the SRS resource set associated with the coresetPoolIndex value for the CORESET used for the PDCCH carrying the DCI format 0_2, if the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI,\n-\totherwise  is the number of configured SRS resources in the SRS resource set configured by higher layer parameter srs-ResourceSetToAddModListDCI-0-2 and associated with the higher layer parameter usage of value 'nonCodeBook', where the SRS resource set is composed of the first  SRS resources together with other configurations in the SRS resource set, or in the SRS resource set with lower srs-ResourceSetId of two SRS resources sets, configured by higher layer parameter srs-ResourceSetToAddModList, if any, and associated with the higher layer parameter usage of value 'nonCodeBook', except for the higher layer parameters 'srs-ResourceSetId' and 'srs-ResourceIdList', \nand\n-\tif UE supports operation with maxMIMO-LayersDCI-0-2 and the higher layer parameter maxMIMO-LayersDCI-0-2 of PUSCH-ServingCellConfig of the serving cell is configured, \n-\tLmax is given by max{maxMIMO-LayersDCI-0-2, maxMIMO-LayersforSdmDCI-0-2} if maxMIMO-LayersforSdmDCI-0-2 is configured  \n-\tLmax is given by max{maxMIMO-LayersDCI-0-2, maxMIMO-LayersforSfnDCI-0-2} if maxMIMO-LayersforSfnDCI-0-2 is configured \n-\tLmax is given by maxMIMO-LayersDCI-0-2 otherwise\n-\totherwise, Lmax is given by the maximum number of layers for PUSCH supported by the UE for the serving cell for non-codebook based operation.\n-\t bits according to Tables 7.3.1.1.2-32/32A/32B if the higher layer parameter txConfig = codebook, where \n-\t is the number of configured SRS resources in the SRS resource set indicated by SRS resource set indicator field if present, \n-\t is the number of configured SRS resources in the SRS resource set associated with the coresetPoolIndex value for the CORESET used for the PDCCH carrying the DCI format 0_2, if the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI,\n-\totherwise  is the number of configured SRS resources in the SRS resource set configured by higher layer parameter srs-ResourceSetToAddModListDCI-0-2 and associated with the higher layer parameter usage of value 'codeBook', where the SRS resource set is composed of the first  SRS resources together with other configurations in the SRS resource set configured by higher layer parameter srs-ResourceSetToAddModList, if any, and associated with the higher layer parameter usage of value 'codeBook', except for the higher layer parameters 'srs-ResourceSetId' and 'srs-ResourceIdList'.\nWhen the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI, and there are two SRS resource sets configured by srs-ResourceSetToAddModListDCI-0-2 and associated with usage of value 'codebook' or 'nonCodeBook', the first SRS resource set is associated with coresetPoolIndex value 0 and the second SRS resource set is associated with coresetPoolIndex value 1, where the first and the second SRS resource sets are respectively the ones with lower and higher srs-ResourceSetId of the two SRS resources sets, and the first and second SRS resource sets are composed of the first  SRS resources together with other configurations in the first and second SRS resource sets configured by higher layer parameter srs-ResourceSetToAddModList, if any, and associated with the higher layer parameter usage of value 'codebook' or 'nonCodeBook', respectively, except for the higher layer parameters 'srs-ResourceSetId' and 'srs-ResourceIdList'.\n-\tSecond SRS resource indicator - number of bits determined by the following:\n-\t bits according to Tables 7.3.1.1.2-28/29A/30A/31A with the same number of layers indicated by SRS resource indicator field if the higher layer parameter txConfig = nonCodebook, the higher layer parameter maxMIMO-LayersforSdmDCI-0-2 is not configured, and SRS resource set indicator field is present, where  is the number of configured SRS resources in the second SRS resource set, and\n-\tif UE supports operation with maxMIMO-LayersDCI-0-2 and the higher layer parameter maxMIMO-LayersDCI-0-2 of PUSCH-ServingCellConfig of the serving cell is configured, \n-\tLmax is given by maxMIMO-LayersforSfnDCI-0-2 if maxMIMO-LayersforSfnDCI-0-2 is configured \n-\tLmax is given by maxMIMO-LayersDCI-0-2 otherwise\n-\totherwise, Lmax is given by the maximum number of layers for PUSCH supported by the UE for the serving cell for non-codebook based operation.\n-\t bits according to Tables 7.3.1.1.2-28/29 if the higher layer parameter txConfig = nonCodebook, the higher layer parameter maxMIMO-LayersforSdmDCI-0-2 is configured and SRS resource set indicator field is present, where  is the number of configured SRS resources in the second SRS resource set, where the second SRS resource set is composed of the first  SRS resources together with other configurations in the SRS resource set, or in the SRS resource set with higher srs-ResourceSetId of two SRS resources sets, configured by higher layer parameter srs-ResourceSetToAddModList, if any, and associated with the higher layer parameter usage of value 'nonCodeBook', except for the higher layer parameters 'srs-ResourceSetId' and 'srs-ResourceIdList', and Lmax is given by maxMIMO-LayersforSdmDCI-0-2.\n-\t bits according to Tables 7.3.1.1.2-32/32A/32B if the higher layer parameter txConfig = codebook and SRS resource set indicator field is present, where   is the number of configured SRS resources in the second SRS resource set.\n-\t0 bit otherwise.\n-\tPrecoding information and number of layers - number of bits determined by the following: \n-\t0 bits if the higher layer parameter txConfig = nonCodeBook;\n-\t0 bits for 1 antenna port and if the higher layer parameter txConfig = codebook;\n-\t4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRankDCI-0-2 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2} if multipanelScheme = sdmScheme, and codebookSubsetDCI-0-2;\n-\t4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, the values of higher layer parameters maxRankDCI-0-2=2 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} = 2 if multipanelScheme = sfnScheme or max{maxRanDCI-0-2k, maxRankSdmDCI-0-2} = 2 if multipanelScheme = sdmScheme, transform precoder is disabled, and according to the value of higher layer parameter codebookSubsetDCI-0-2;\n-\t4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, the values of higher layer parameters maxRankDCI-0-2=3 or 4, transform precoder is disabled, and according to the value of higher layer parameter codebookSubsetDCI-0-2;\n-\t2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and maxRankDCI-0-2=1 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} = 1 if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2} = 1 if multipanelScheme = sdmScheme, and codebookSubsetDCI-0-2;\n-\t3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRankDCI-0-2=1 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} = 1 if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2} = 1 if multipanelScheme = sdmScheme, and according to whether transform precoder is enabled or disabled, and the value of higher layer parameter codebookSubsetDCI-0-2;\n-\t2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRankDCI-0-2 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2} if multipanelScheme = sdmScheme, and codebookSubsetDCI-0-2;\n-\t2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, transform precoder is disabled, the maxRankDCI-0-2=2 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} = 2 if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2} = 2 if multipanelScheme = sdmScheme, and codebookSubsetDCI-0-2=nonCoherent;\n-\t1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and maxRankDCI-0-2=1 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2}=1 if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2}=1 if multipanelScheme = sdmScheme, and codebookSubsetDCI-0-2;\n-\t2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRankDCI-0-2=1 if multipanelScheme is not configured or max{maxRankDCI-0-2, maxRankSfnDCI-0-2} = 1 if multipanelScheme = sfnScheme or max{maxRankDCI-0-2, maxRankSdmDCI-0-2} = 1 if multipanelScheme = sdmScheme, and according to whether transform precoder is enabled or disabled, and the value of higher layer parameter codebookSubsetDCI-0-2.\n-\t7 bits according to Table 7.3.1.1.2-5D for 8 antenna ports by replacing maxRank-n8 with maxRankDCI-0-2, if CodebookTypeUL=Codebook1, transform precoder is disabled, maxRankDCI-0-2 =4, and according to maxRankDCI-0-2;\n-\t4, 6 or 7 bits according to Table 7.3.1.1.2-5E for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook1, transform precoder is enabled or maxRankDCI-0-2 =1, 2 or 3 if transform precoder is disabled, and according to transform precoder and maxRankDCI-0-2;\n-\t6 or 7 or 8 bits according to Table 7.3.1.1.2-5G for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook4, transform precoder is disabled, maxRankDCI-0-2=2, 3 or 4, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to maxRankDCI-0-2;\n-\t3 bits according to Table 7.3.1.1.2-5H for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook4, transform precoder is enabled or maxRankDCI-0-2=1 if transform precoder is disabled, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower.\n-\t5, 9 or 10 bits according to Table 7.3.1.1.2-5J for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook2, transform precoder is enabled or maxRankDCI-0-2 =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to transform precoder and maxRankDCI-0-2;\n-\t4, 7, 9 or 10 bits according to Table 7.3.1.1.2-5L for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook3, transform precoder is enabled or maxRankDCI-0-2 =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to transform precoder and maxRankDCI-0-2;\n-\t6 or 7 or 8 bits according to Table 7.3.1.1.2-5M for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook4, transform precoder is disabled, maxRankDCI-0-2=2, 3 or 4, ul-FullPowerTransmission is configured to fullpowerMode1, and according to maxRankDCI-0-2;\n-\t4 bits according to Table 7.3.1.1.2-5N for 8 antenna ports, if CodebookTypeUL=Codebook4, transform precoder is enabled or maxRankDCI-0-2=1 if transform precoder is disabled, ul-FullPowerTransmission is configured to fullpowerMode1.\n-\t6, 9 or 10 bits according to Table 7.3.1.1.2-5O for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook2, transform precoder is enabled or maxRankDCI-0-2 =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is configured to fullpowerMode1, and according to transform precoder and maxRankDCI-0-2;\n-\t5, 7, 9 or 10 bits according to Table 7.3.1.1.2-5P for 8 antenna ports by replacing maxRank with maxRankDCI-0-2, if CodebookTypeUL=Codebook3, transform precoder is enabled or maxRankDCI-0-2 =1, 2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is configured to fullpowerMode1, and according to transform precoder and maxRankDCI-0-2;\nFor the higher layer parameter txConfig=codebook, if ul-FullPowerTransmission is configured to fullpowerMode2, the values of higher layer parameters maxRankDCI-0-2 is configured to be larger than 2, and at least one SRS resource with 4 antenna ports is configured in the SRS resource set indicated by SRS resource set indicator field if present, otherwise in an SRS resource set with usage set to 'codebook', and an SRS resource with 2 antenna ports is indicated via SRI in the same SRS resource set, then Table 7.3.1.1.2-4 is used.\nFor the higher layer parameter txConfig = codebook, if different SRS resources with different number of antenna ports are configured, the bitwidth is determined according to the maximum number of ports in an SRS resource among the configured SRS resources in all SRS resource set(s) with usage set to 'codebook'. If the number of ports for a configured SRS resource in the set is less than the maximum number of ports in an SRS resource among the configured SRS resources, a number of most significant bits with value set to '0' are inserted to the field. \nFor the higher layer parameter txConfig = codebook, when the Transform precoder indicator field is present, if the bit width of the Precoding information and number of layers field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the Precoding information and number of layers field for the case with smaller bit width until the bit width of the Precoding information and number of layers field for the two cases are the same.\nWhen the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs, and is provided enableSTx2PofmDCI, and there are two SRS resource sets configured by srs-ResourceSetToAddModListDCI-0-2 and associated with usage of value 'codebook' or 'nonCodeBook', the Precoding information and number of layers field is associated with the SRS resource set that is associated with the coresetPoolIndex value for the CORESET used for the PDCCH carrying the DCI format 0_2.\n-\tSecond Precoding information - number of bits determined by the following: \n-\t0 bits if SRS resource set indicator field is not present;\n-\t0 bits if the higher layer parameter txConfig = nonCodeBook;\n-\t0 bits for 1 antenna port and if the higher layer parameter txConfig = codebook;\n-\t3, 4, or 5 bits according to Table 7.3.1.1.2-2C with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRankDCI-0-2 if multipanelScheme is not configured or maxRankSfnDCI-0-2 if multipanelScheme = sfnScheme, and codebookSubsetDCI-0-2;\n-\t3 or 4 bits according to Table 7.3.1.1.2-2D with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, the values of higher layer parameters maxRankDCI-0-2=2 if multipanelScheme is not configured or maxRankSfnDCI-0-2=2 if multipanelScheme = sfnScheme, transform precoder is disabled, and according to the value of higher layer parameter codebookSubsetDCI-0-2;\n-\t3 or 4 bits according to Table 7.3.1.1.2-2E with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRankDCI-0-2=3 or 4, transform precoder is disabled, and according to the value of higher layer parameter codebookSubsetDCI-0-2;\n-\t2, 4, or 5 bits according to Table 7.3.1.1.2-3 with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRankDCI-0-2 if multipanelScheme is not configured or maxRankSfnDCI-0-2 if multipanelScheme = sfnScheme and codebookSubsetDCI-0-2;\n-\t3 or 4 bits according to Table 7.3.1.1.2-3A with the same number of layers indicated by Precoding information and number of layers field for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRankDCI-0-2=1 if multipanelScheme is not configured or maxRankSfnDCI-0-2=1 if multipanelScheme = sfnScheme, and according to whether transform precoder is enabled or disabled, and the value of higher layer parameter codebookSubsetDCI-0-2;\n-\t1 or 3 bits according to Table7.3.1.1.2-4B with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRankDCI-0-2 if multipanelScheme is not configured or maxRankSfnDCI-0-2 if multipanelScheme = sfnScheme, and codebookSubsetDCI-0-2;\n-\t2 bits according to Table 7.3.1.1.2-4C with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, transform precoder is disabled, the maxRankDCI-0-2=2 if multipanelScheme is not configured or maxRankSfnDCI-0-2=2 if multipanelScheme = sfnScheme, and codebookSubsetDCI-0-2=nonCoherent;\n-\t1 or 3 bits according to Table7.3.1.1.2-5 with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRankDCI-0-2 if multipanelScheme is not configured or maxRankSfnDCI-0-2 if multipanelScheme = sfnScheme, and codebookSubsetDCI-0-2;\n-\t2 bits according to Table 7.3.1.1.2-5A with the same number of layers indicated by Precoding information and number of layers field for 2 antenna ports, if SRS resource set indicator field is present, txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRankDCI-0-2=1 if multipanelScheme is not configured or maxRankSfnDCI-0-2=1 if multipanelScheme = sfnScheme, and according to whether transform precoder is enabled or disabled, and the value of higher layer parameter codebookSubsetDCI-0-2.\nFor the higher layer parameter txConfig=codebook, if ul-FullPowerTransmission is configured to fullpowerMode2, the values of higher layer parameters maxRankDCI-0-2 is configured to be larger than 2, and at least one SRS resource with 4 antenna ports is configured in the SRS resource set indicated by SRS resource set indicator field, and an SRS resource with 2 antenna ports is indicated via Second SRS resource indicator field in the same SRS resource set, then Table 7.3.1.1.2-4B is used.\nFor the higher layer parameter txConfig = codebook, if different SRS resources with different number of antenna ports are configured, the bitwidth is determined according to the maximum number of ports in an SRS resource among the configured SRS resources in the second SRS resource set with usage set to 'codebook' as defined in Table 7.3.1.1.2-36. If the number of ports for a configured SRS resource in the set is less than the maximum number of ports in an SRS resource among the configured SRS resources, a number of most significant bits with value set to '0' are inserted to the field.\nFor the higher layer parameter txConfig = codebook, when the Transform precoder indicator field is present, if the bit width of the Second Precoding information field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the Second Precoding information field for the case with smaller bit width until the bit width of the Second Precoding information field for the two cases are the same.\n-\tAntenna ports - number of bits determined by the following:\n-\t0 bit if higher layer parameter antennaPortsFieldPresenceDCI-0-2 is not configured;\n-\t2, 3, 4, 5 or 6 bits otherwise,\n-\t2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled, dmrs-Type=1, and maxLength=1, except that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and \u03c0/2 BPSK modulation is used;\n-\t2 bits as defined by 7.3.1.1.2-6A, if transform precoder is enabled, and dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2 BPSK modulation is used, dmrs-Type=1, and maxLength=1, where nSCID is the scrambling identity for antenna ports defined in Clause 6.4.1.1.1.2, in [4, TS38.211];\n-\t4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled, dmrs-Type=1, and maxLength=2, except that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and \u03c0/2 BPSK modulation is used;\n-\t4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is enabled, and dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2 BPSK modulation is used, dmrs-Type=1, and maxLength=2, where nSCID is the scrambling identity for antenna ports defined in Clause 6.4.1.1.1.2, in [4, TS38.211];\n-\t3 bits as defined by Tables 7.3.1.1.2-8/9/10/10A/11 according to the value of rank, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is not configured, and maxLength=1;\n-\t4 bits as defined by Tables 7.3.1.1.2-12/13/14/14A/15 according to the value of rank, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is not configured, and maxLength=2;\n-\t4 bits as defined by Tables 7.3.1.1.2-16/17/18/18A/19 according to the value of rank, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is not configured, and maxLength=1;\n-\t5 bits as defined by Tables 7.3.1.1.2-20/21/22/22A/23 according to the value of rank, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is not configured, and maxLength=2.\n-\t4 bits as defined by Tables 7.3.1.1.2-38/39/40/40A/41, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is configured, and maxLength=1;\n-\t5 bits as defined by Tables 7.3.1.1.2-46/47/48/48A/49, if transform precoder is disabled, dmrs-Type=1, dmrs-TypeEnh is configured, and maxLength=2;\n-\t5 bits as defined by Tables 7.3.1.1.2-54/55/56/56A/57, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is configured, and maxLength=1;\n-\t6 bits as defined by Tables 7.3.1.1.2-62/63/64/64A/65, if transform precoder is disabled, dmrs-Type=2, dmrs-TypeEnh is configured, and maxLength=2.\nwhere the number of CDM groups without data of values 1, 2, and 3 in Tables 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively, and the value of rank is\n-\tthe sum of the value determined according to the SRS resource indicator field and the value determined according to the second SRS resource indicator field, if txConfig = nonCodebook and multipanelScheme = sdmScheme and SRS resource set indicator field equals \"10\"\n-\tthe sum of the value determined according to the Precoding information and number of layers field and the value determined according to the Second Precoding information, if txConfig = codebook and multipanelScheme = sdmScheme and SRS resource set indicator field equals \"10\"\n-\tdetermined according to the SRS resource indicator field if the higher layer parameter txConfig = nonCodebook and multipanelScheme = sdmScheme is not configured, , or if the higher layer parameter txConfig = nonCodebook, multipanelScheme = sdmScheme and SRS resource set indicator field equals \"00\" or \u201c01\u201d\n-\tdetermined according to the Precoding information and number of layers field if the higher layer parameter txConfig = codebook and multipanelScheme = sdmScheme is not configured, or if the higher layer parameter txConfig = codebook, multipanelScheme = sdmScheme and SRS resource set indicator field equals \"00\" or \"01\". \nIf a UE is configured with both dmrs-UplinkForPUSCH-MappingTypeA-DCI-0-2  and dmrs-UplinkForPUSCH-MappingTypeB-DCI-0-2 and is configured with antennaPortsFieldPresenceDCI-0-2, the bitwidth of this field equals , where   is the \"Antenna ports\" bitwidth derived according to dmrs-UplinkForPUSCH-MappingTypeA-DCI-0-2 and  is the \"Antenna ports\" bitwidth derived according to dmrs-UplinkForPUSCH-MappingTypeB-DCI-0-2. A number of zeros are padded in the MSB of this field, if the mapping type of the PUSCH corresponds to the smaller value of   and . \nIf a UE is not configured with higher layer parameter antennaPortsFieldPresenceDCI-0-2, antenna port(s) are defined assuming bit field index value 0 in Tables 7.3.1.1.2-6 to 7.3.1.1.2-23.\nWhen the Transform precoder indicator field is present, if the bit width of the Antenna ports field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the Antenna ports field for the case with smaller bit width until the bit width of the Antenna ports field for the two cases are the same.\n-\tSRS request - 0, 1, 2 or 3 bits\n-\t0 bit if the higher layer parameter srs-RequestDCI-0-2 is not configured;\n-\t1 bit as defined by Table 7.3.1.1.3-1 if higher layer parameter srs-RequestDCI-0-2 = 1 and for UEs not configured with supplementaryUplink in ServingCellConfig in the cell;  \n-\t2 bits if higher layer parameter srs-RequestDCI-0-2 = 1 and for UEs configured with supplementaryUplink in ServingCellConfig in the cell, where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second bit is defined by Table 7.3.1.1.3-1; \n-\t2 bits as defined by Table 7.3.1.1.2-24 if higher layer parameter srs-RequestDCI-0-2 = 2 and for UEs not configured with supplementaryUplink in ServingCellConfig in the cell;  \n-\t3 bits if higher layer parameter srs-RequestDCI-0-2 = 2 and for UEs configured with supplementaryUplink in ServingCellConfig in the cell, where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24; \n-\tSRS offset indicator - 0, 1 or 2 bits. \n-\t0 bit if higher layer parameter AvailableSlotOffset is not configured for any aperiodic SRS resource set in the scheduled cell, or if higher layer parameter AvailableSlotOffset is configured for at least one aperiodic SRS resource set in the scheduled cell and the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) is 1;\n-\totherwise,  bits are used to indicate available slot offset according to Table 7.3.1.1.2-37 and Clause 6.2.1 of [6, TS 38.214], where K is the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) in the scheduled cell;\n-\tCSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer parameter reportTriggerSizeDCI-0-2.\n-\tPTRS-DMRS association - number of bits determined as follows\n-\t0 bit if PTRS-UplinkConfig is not configured in either dmrs-UplinkForPUSCH-MappingTypeA or dmrs-UplinkForPUSCH-MappingTypeB and transform precoder is disabled, or if transform precoder is enabled, or if maxRankDCI-0-2=1 and multipanelScheme is not configured, or if maxRankDCI-0-2=1 and maxRankSfnDCI-0-2=1, or if maxRankDCI-0-2=1 and maxRankSdmDCI-0-2=1 when two PTRS ports are configured by maxNrofPortsforSdm;\n-\t2 bits otherwise, where Table 7.3.1.1.2-25/7.3.1.1.2-25A/7.3.1.1.2-25B/7.3.1.1.2-26 are used to indicate the association between PTRS port(s) and DMRS port(s), and the DMRS ports are indicated by the Antenna ports field. \n-\tWhen one PTRS port or two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, SRS resource set indicator field is absent or SRS resource set indicator field is present and equals \"00\" or \u201c01\u201d and maxRankDCI-0-2<=4, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Table 7.3.1.1.2-25 and 7.3.1.1.2-26.\n-\tWhen one PTRS port or two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is present and equals \"10\" or \u201c11\u201d, maxRankDCI-0-2=3 or 4 and  multipanelScheme is not configured, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Table 7.3.1.1.2-25 and 7.3.1.1.2-26. \n-\tWhen one PTRS port is configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is present and equals \"10\" and \"11\" and maxRankDCI-0-2=2 and multipanelScheme is not configured, the MSB of this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field, and the LSB of this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to Second SRS resource indicator field and/or Second Precoding information field, according to Table 7.3.1.1.2-25A. \n-\tWhen two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, the SRS resource set indicator field is present and equals \"10\" and multipanelScheme is configured to sdmScheme, the MSB of this field indicates the association between PTRS port 0 and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field, and the LSB of this field indicates the association between PTRS port 1 and DMRS port(s) corresponding to Second SRS resource indicator field and/or Second Precoding information field, according to Table 7.3.1.1.2-25A. \n-\tWhen one PTRS port is configured by maxNrofPortsforSDM in PTRS-UplinkConfig, SRS resource set indicator field is present and equals \"10\" and multipanelScheme is configured to sdmScheme, this field indicates the association between PTRS port and DMRS ports corresponding to SRS resource indicator field and Second SRS resource indicator field and/or Precoding information and number of layers field and Second Precoding information field according to Table 7.3.1.1.2-25.\n-\tWhen one PTRS port or two PTRS ports are configured by maxNrofPorts in PTRS-UplinkConfig, SRS resource set indicator field is present and equals \"10\", multipanelScheme is configured to sfnScheme, this field indicates the association between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator field and/or Precoding information and number of layers field according to Table 7.3.1.1.2-25 and 7.3.1.1.2-26.\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and the \"PTRS-DMRS association\" field is present for the indicated bandwidth part but not present for the active bandwidth part, the UE assumes the \"PTRS-DMRS association\" field is not present for the indicated bandwidth part.\nWhen the Transform precoder indicator field is present, if the bit width of PTRS-DMRS association field for the case with transform precoder enabled is not equal to that for the case with transform precoder disabled, a number of most significant bits with value set to '0' are inserted to the PTRS-DMRS association field for the case with smaller bit width until the bit width of the PTRS-DMRS association field for the two cases are the same.\n-\tSecond PTRS-DMRS association - 2 bits if PTRS-DMRS association field and SRS resource set indicator field are present and maxRankDCI-0-2>2 and multipanelScheme is not configured; 0 bit otherwise. Table 7.3.1.1.2-25 and 7.3.1.1.2-26 are used to indicate the association between PTRS port(s) and DMRS port(s) corresponding to Second SRS resource indicator field and/or Second precoding information field when one PT-RS port and two PT-RS ports are configured by maxNrofPorts in PTRS-UplinkConfig respectively, and the DMRS ports are indicated by the Antenna ports field.\n-\tbeta_offset indicator - 0 bit if the higher layer parameter betaOffsetsDCI-0-2 = semiStaticDCI-0-2; otherwise 1 bit if 2 offset indexes are configured by higher layer parameter dynamicDCI-0-2 as defined by Table 9.3-3A in [5, TS 38.213], and 2 bits if 4 offset indexes are configured by higher layer parameter dynamicDCI-0-2 as defined by Table 9.3-3 in [5, TS 38.213].\nWhen two HARQ-ACK codebooks are configured by pdsch-HARQ-ACK-CodebookList or by pdsch-HARQ-ACK-CodebookListMulticast for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-2 is configured, if the bit width of the beta_offset indicator in DCI format 0_2 for one HARQ-ACK codebook is not equal to that of the beta_offset indicator in DCI format 0_2 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller beta_offset indicator until the bit width of the beta_offset indicator in DCI format 0_2 for the two HARQ-ACK codebooks are the same.\n-\tDMRS sequence initialization - 0 or 1 bit\n-\t0 bit if the higher layer parameter dmrs-SequenceInitializationDCI-0-2 is not configured, or if transform precoder is enabled by higher layers and the Transform precoder indicator field is not present;\n-\t1 bit if transform precoder is disabled by higher layers and the higher layer parameter dmrs-SequenceInitializationDCI-0-2 is configured, or if the Transform precoder indicator field is present and the higher layer parameter dmrs-SequenceInitializationDCI-0-2 is configured. If the Transform precoder indicator field is present and set to '0', the bit is reserved.\n-\tUL-SCH indicator - 1 bit. A value of \"1\" indicates UL-SCH shall be transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not be transmitted on the PUSCH. If a UE does not support triggering SRS only in DCI, except for DCI format 0_2 with CRC scrambled by SP-CSI-RNTI, the UE is not expected to receive a DCI format 0_2 with UL-SCH indicator of \"0\" and CSI request of all zero(s). If a UE supports triggering SRS only in DCI, except for DCI format 0_2 with CRC scrambled by SP-CSI-RNTI, the UE is not expected to recerive a DCI format 0_2 with UL-SCH indicator of \"0\", CSI request of all zero(s) and SRS request of all zero(s).\n-\tChannelAccess-CPext-CAPC - 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter ul-AccessConfigListDCI-0-2 or in Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1, or the number of entries in the high layer parameter ul-AccessConfigListDCI-0-1 for operation in frequency range 2-2 if ChannelAccessMode2-r17 is provided; otherwise 0 bit. One or more entries from Table 7.3.1.1.2-35 are configured by the higher layer parameter ul-AccessConfigListDCI-0-2 in frequency range 1. One or more entries from Table 7.3.1.1.2-35A are configured by the higher layer parameter ul-AccessConfigListDCI-0-1 in frequency range 2-2.\n-\tOpen-loop power control parameter set indication - 0 or 1 or 2 bits. \n-\t0 bit if the higher layer parameter p0-PUSCH-SetList is not configured;\n-\t1 or 2 bits otherwise,\n-\t1 bit if SRS resource indicator is present in the DCI format 0_2;\n-\t1 or 2 bits as determined by higher layer parameter olpc-ParameterSetDCI-0-2 if SRS resource indicator is not present in the DCI format 0_2;\n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-0-2 is not configured; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213].\n-\tInvalid symbol pattern indicator - 0 bit if higher layer parameter invalidSymbolPatternIndicatorDCI-0-2 is not configured; otherwise 1 bit as defined in Clause 6.1.2.1 in [6, TS 38.214].\n-\tPDCCH monitoring adaptation indication - 0, 1 or 2 bits\n-\t1 or 2 bits, if searchSpaceGroupIdList-r17 is not configured and if pdcch-SkippingDurationList is configured\n-\t1 bit if the UE is configured with only one duration by pdcch-SkippingDurationList;\n-\t2 bits if the UE is configured with more than one duration by pdcch-SkippingDurationList.\n-\t1 or 2 bits, if pdcch-SkippingDurationList is not configured and if searchSpaceGroupIdList-r17 is configured\n-\t1 bit if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0 and search space set(s) with group index 1, and if the UE is not configured by searchSpaceGroupIdList-r17 with any search space set with group index 2;\n-\t2 bits if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0, search space set(s) with group index 1 and search space set(s) with group index 2;\n-\t2 bits, if pdcch-SkippingDurationList is configured and if searchSpaceGroupIdList-r17 is configured\n-\t0 bit, otherwise\nA UE does not expect that the bit width of a field in DCI format 0_2 with CRC scrambled by CS-RNTI is larger than corresponding bit width of same field in DCI format 0_2 with CRC scrambled by C-RNTI for the same serving cell. If the bit width of a field in the DCI format 0_2 with CRC scrambled by CS-RNTI is not equal to that of the corresponding field in the DCI format 0_2 with CRC scrambled by C-RNTI for the same serving cell, a number of most significant bits with value set to '0' are inserted to the field in DCI format 0_2 with CRC scrambled by CS-RNTI until the bit width equals that of the corresponding field in the DCI format 0_2 with CRC scrambled by C-RNTI for the same serving cell. \nFor a UE configured with scheduling on the primary cell from an SCell, if prior to padding the number of information bits in DCI format 0_2 carried by PDCCH on the primary cell is not equal to the number of information bits in DCI format 0_2 carried by PDCCH on the SCell for scheduling on the primary cell, zeros shall be appended to the DCI format 0_2 with smaller size until the payload size is the same.\n-\tIf application of step 4B in clause 7.3.1.0 results in additional zero padding for DCI format 0_2 for scheduling on the primary cell, corresponding zeros shall be appended to both DCI format 0_2 monitored on the primary cell and DCI format 0_2 monitored on the SCell for scheduling on the primary cell.\n-\tIf the SCell is deactivated and firstActiveDownlinkBWP-Id is not set to dormant BWP, the UE determines the number of information bits in DCI format 0_2 carried by PDCCH on the primary cell based on a DL BWP provided by firstActiveDownlinkBWP-Id for the SCell. If the active DL BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and firstActiveDownlinkBWP-Id is set to dormant BWP, the UE determines the number of information bits in DCI format 0_2 carried by PDCCH on the primary cell based on a DL BWP provided by firstWithinActiveTimeBWP-Id for the SCell if provided; otherwise, based on a DL BWP provided by firstOutsideActiveTimeBWP-Id for the SCell.\nTable 7.3.1.1.3-1: 1 bit SRS request in DCI format 0_2 and DCI format 1_2 \n\n7.3.1.1.4\tFormat 0_3\nDCI format 0_3 is used for the scheduling of one PUSCH in one cell, or multiple PUSCHs in multiple cells with one PUSCH per cell.\nThe following information is transmitted by means of the DCI format 0_3 with CRC scrambled by C-RNTI or MCS-C-RNTI:\n-\tIdentifier for DCI formats - 1 bit\n-\tThe value of this bit field is always set to 0, indicating an UL DCI format\n-\tScheduled cell set indicator - bits, where  is the number of cell sets which are configured by higher layer parameter MC-DCI-SetofCellsToAddModList to be respectively scheduled by DCI format 0_3/1_3 from the cell on which this format is carried by PDCCH. If present, this field is used to indicate the scheduled cell set according to Table 7.3.1.1.4-1; otherwise, the scheduled cell set is the cell set configured to be scheduled by DCI format 0_3/1_3 from the cell by higher layer parameter MC-DCI-SetofCellsToAddModList.     \n-\tScheduled cells indicator - number of bits determined by the following: \n-\t0 bit if the higher layer parameter scheduledCellComboListDCI-0-3 for the scheduled cell set is not configured;\n-\totherwise  bits indicating the scheduled cells in the scheduled cell set according to Table 7.3.1.1.4-2, where  is the number of entries in the higher layer parameter scheduledCellComboListDCI-0-3. If only one entry is configured in the higher layer parameter scheduledCellComboListDCI-0-3, the scheduled cells are the cells configured by higher layer parameter scheduledCellComboListDCI-0-3.\n-\tBandwidth part indicator - 0, 1 or 2 bits determined as , where \n-\t if , is the maximum number of UL BWPs configured by higher layers, excluding the initial UL bandwidth part, across all the cells configured by higher layer parameter scheduledCellListDCI-0-3 in the scheduled cell set, in which case the bandwidth part indicator is equivalent to the ascending order of the higher layer parameter BWP-Id;\n-\totherwise , in which case the bandwidth part indicator is defined in Table 7.3.1.1.2-1;\nThe field is only applicable to a scheduled cell with the number of configured UL BWPs larger than 1, including the initial UL bandwidth part, and is applied to the applicable scheduled cells in the scheduled cell set independently. If a UE does not support active BWP change via DCI, the UE ignores this bit field. If this field indicates a code point that does not correspond to a configured BWP of a scheduled cell, the UE ignores this bit field for the scheduled cell, and operates on the active BWP of the scheduled cell. \n-\tFrequency domain resource assignment - number of bits determined by the following, where  is the size of the active UL bandwidth part:\n-\tblock number 1, block number 2,\u2026, block number \nIf scheduledCellComboListDCI-0-3 for the scheduled cell set is configured with more than one entry,  is the number of scheduled cells indicated by Scheduled cells indicator field; if scheduledCellComboListDCI-0-3 for the scheduled cell set is configured with only one entry, is the number of cells configured by higher layer parameter scheduledCellComboListDCI-0-3; otherwise,  is the number of cells configured by higher layer parameter scheduledCellListDCI-0-3 in the scheduled cell set. Each block corresponds to the frequency domain resource assignment for a cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the frequency domain resource assignment for the cell with the smallest serving cell index. Each block is defined by the following fields: \n-\tIf higher layer parameter useInterlacePUCCH-PUSCH in BWP-UplinkDedicated is not configured\n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 6.1.2.2.1 of [6, TS 38.214]\n-\t bits if only resource allocation type 1 is configured, or  bits if resourceAllocationDCI-0-3 is configured as 'dynamicSwitch', where   is the size of the active UL bandwidth part,  is defined as in clause 4.4.4.4 of [4, TS 38.211] and  is given by higher layer parameter resourceAllocationType1GranularityDCI-0-3. If the higher layer parameter resourceAllocationType1GranularityDCI-0-3 is not configured,  is equal to 1.\n-\tIf resourceAllocationDCI-0-3 is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the  LSBs provide the resource allocation as defined in Clause 6.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as follows:\n-\tFor PUSCH hopping with resource allocation type 1:\n-\tMSB bits are used to indicate the frequency offset according to Clause 6.3 of [6, TS 38.214], where  if the higher layer parameter frequencyHoppingOffsetLists contains two offset values and if the higher layer parameter frequencyHoppingOffsetLists contains four offset values\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\n-\tFor non-PUSCH hopping with resource allocation type 1:\n-\t bits provide the frequency domain resource allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and if resourceAllocationDCI-0-3 is configured as 'dynamicSwitch' for the indicated bandwidth part, the UE assumes resource allocation type 0 for the indicated bandwidth part if the bitwidth of the \"Frequency domain resource assignment\" field of the active bandwidth part is smaller than the bitwidth of the \"Frequency domain resource assignment\" field of the indicated bandwidth part.\n-\tIf the higher layer parameter useInterlacePUCCH-PUSCH in BWP-UplinkDedicated is configured \n-\t5 + Y bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 30 kHz. The 5 MSBs provide the interlace allocation and the Y LSBs provide the RB set allocation.\n-\t6 + Y bits provide the frequency domain resource allocation according to Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL bandwidth part is 15 kHz. The 6 MSBs provide the interlace allocation and the Y LSBs provide the RB set allocation.\nThe value of Y is determined by  where   is the number of RB sets contained in the active UL BWP as defined in clause 7 of [6, TS38.214].\nIf the higher layer parameter scheduledCellComboListDCI-0-3 for the scheduled cell set is not configured, each block is also used to indicate whether the corresponding cell is scheduled or not as follows:\n-\tif all bits of a block are set to 0 for resource allocation type 0, or set to 1 for resource allocation type 1, or set to 0 or 1 for dynamic switch resource allocation type, or set to 0 for resource allocation type 2 with \u03bc=1, or set to 1 for resource allocation type 2 with \u03bc=0, the cell corresponding to the block is not scheduled; \n-\totherwise, the cell corresponding to the block is scheduled. \n-\tTime domain resource assignment - bits, where   is the number of entries in the higher layer parameter tdra-FieldIndexListDCI-0-3. This field is used to indicate an entry in the higher layer parameter tdra-FieldIndexListDCI-0-3 according to Table 7.3.1.1.4-3. Each entry in the higher layer parameter tdra-FieldIndexListDCI-0-3 contains the \u2018Time domain resource assignment\u2019 index for each BWP of each cell in the scheduled cell set, where the \u2018Time domain resource assignment\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index, and the 'Time domain resource assignment' indexes for all the BWPs of a cell are placed according to an ascending order of the higher layer parameter BWP-Id. \n-\tFrequency hopping flag - 0 or 1 bit\n-\t0 bit if the higher layer parameter frequencyHopping is not configured for any cell configured by higher layer parameter scheduledCellListDCI-0-3 in the scheduled cell set;\n-\t1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].\nThe field is only applicable to a scheduled cell configured with frequencyHopping, and is applied to the applicable scheduled cells independently. \n-\tModulation and coding scheme - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number \nEach block corresponds to the modulation and coding scheme for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the modulation and coding scheme for the cell with the smallest serving cell index. Each block is 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214]. \n-\tNew data indicator - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number \nEach block corresponds to the new data indicator for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the new data indicator for the cell with the smallest serving cell index. Each block is 1 bit.    \n-\tRedundancy version - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number \nEach block corresponds to the redundancy version for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the redundancy version for the cell with the smallest serving cell index. Each block is 0, 1 or 2 bits determined by higher layer parameter numberOfBitsForRV-DCI-0-3 configured for the cell corresponding to the block, \n-\tIf 0 bit is configured, rvid to be applied is 0;\n-\t1 bit according to Table 7.3.1.2.3-1;\n-\t2 bits according to Table 7.3.1.1.1-2. \n-\tHARQ process number - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number \nEach block corresponds to the HARQ process number for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the HARQ process number for the cell with the smallest serving cell index. Each block is 0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter harq-ProcessNumberSizeDCI-0-3 configured for the cell corresponding to the block. \n-\t1st downlink assignment index - 1 or 2 bits\n-\t1 bit for semi-static HARQ-ACK codebook;\n-\t2 bits for dynamic HARQ-ACK codebook.\nWhen two HARQ-ACK codebooks are configured for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-3 is configured, if the bit width of the 1st downlink assignment index in DCI format 0_3 for one HARQ-ACK codebook is not equal to that of the 1st downlink assignment index in DCI format 0_3 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 1st downlink assignment index until the bit width of the 1st downlink assignment index in DCI format 0_3 for the two HARQ-ACK codebooks are the same.\n-\t2nd downlink assignment index - 0 or 2 bits:\n-\t2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks;\n-\t0 bit otherwise. \nWhen two HARQ-ACK codebooks are configured for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-3 is configured, if the bit width of the 2nd downlink assignment index in DCI format 0_3 for one HARQ-ACK codebook is not equal to that of the 2nd downlink assignment index in DCI format 0_3 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller 2nd  downlink assignment index until the bit width of the 2nd downlink assignment index in DCI format 0_3 for the two HARQ-ACK codebooks are the same.\n-\tTPC command for scheduled PUSCH - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number  \nEach block corresponds to the TPC command for the scheduled PUSCH for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the TPC command for the scheduled PUSCH for the cell with the smallest serving cell index. Each block is 2 bits as defined in Clause 7.1.1 of [5, TS38.213].\n-\tSRS resource indicator - number of bits determined by the following:\n-\tIf sri-DCI0-3= type1a is configured by higher layer,\n-\tbits applying to the scheduled cells with  independently, where  is the number of cells configured by higher layer parameter scheduledCellListDCI-0-3 in the scheduled cell set,  is mapped to the cells according to an ascending order of a serving cell index with  corresponding to the cell with the smallest serving cell index, and  is defined below. \n-\tIf sri-DCI0-3= type2 is configured by higher layer, \n-\tblock number 1, block number 2,\u2026, block number  \nEach block corresponds to the SRS resource indicator for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the SRS resource indicator for the cell with the smallest serving cell index. Each block is defined below.\n above for the case of sri-DCI0-3= type1a or each block above for the case of sri-DCI0-3= type2 is defined by the following:\n-\t bits according to Tables 7.3.1.1.2-28/29/30/31 if the higher layer parameter txConfig = nonCodebook, where  is the number of configured SRS resources in the first SRS resource set configured by higher layer parameter srs-ResourceSetToAddModList, and associated with the higher layer parameter usage of value 'nonCodeBook' and\n-\tif UE supports operation with maxMIMO-Layers and the higher layer parameter maxMIMO-Layers of PUSCH-ServingCellConfig of the serving cell is configured, Lmax is given by that parameter \n-\totherwise, Lmax is given by the maximum number of layers for PUSCH supported by the UE for the serving cell for non-codebook based operation.\n-\t bits according to Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the higher layer parameter txConfig = codebook, where  is the number of configured SRS resources in the first SRS resource set configured by higher layer parameter srs-ResourceSetToAddModList, and associated with the higher layer parameter usage of value 'codeBook'.\n-\tPrecoding information and number of layers - number of bits determined by the following:\n-\tIf tpmi-DCI0-3= type1a is configured by higher layer,\n-\tbits applying to the scheduled cells with  independently, where  is mapped to the cells according to an ascending order of a serving cell index with  corresponding to the cell with the smallest serving cell index, and  is defined below. \n-\tIf tpmi-DCI0-3= type2 is configured by higher layer,\n-\tblock number 1, block number 2,\u2026, block number   \nEach block corresponds to the precoding information and number of layers for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the precoding information and number of layers for the cell with the smallest serving cell index. Each block is defined below.\n above for the case of tpmi-DCI0-3= type1a or each block above for the case of tpmi-DCI0-3= type2 is defined by the following:\n-\t0 bits if the higher layer parameter txConfig = nonCodeBook;\n-\t0 bits for 1 antenna port and if the higher layer parameter txConfig = codebook;\n-\t4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRank, and codebookSubset;\n-\t4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRank=2, transform precoder is disabled, and according to the value of higher layer parameter codebookSubset;\n-\t4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRank=3 or 4, transform precoder is disabled, and according to the value of higher layer parameter codebookSubset;\n-\t2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRank and codebookSubset;\n-\t3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRank=1, and according to whether transform precoder is enabled or disabled, and the value of higher layer parameter codebookSubset;\n-\t2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, transform precoder is disabled, and according to the values of higher layer parameters maxRank and codebookSubset;\n-\t2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, transform precoder is disabled, maxRank=2, and codebookSubset=nonCoherent;\n-\t1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or configured to fullpower, and according to whether transform precoder is enabled or disabled, and the values of higher layer parameters maxRank and codebookSubset;\n-\t2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1, maxRank=1, and according to whether transform precoder is enabled or disabled, and the value of higher layer parameter codebookSubset.\nFor the higher layer parameter txConfig=codebook, if ul-FullPowerTransmission is configured to fullpowerMode2, maxRank is configured to be larger than 2, and at least one SRS resource with 4 antenna ports is configured in the SRS resource set indicated by SRS resource set indicator field if present, otherwise in an SRS resource set with usage set to 'codebook', and an SRS resource with 2 antenna ports is indicated via SRI in the same SRS resource set, then Table 7.3.1.1.2-4 is used.\nFor the higher layer parameter txConfig = codebook, if different SRS resources with different number of antenna ports are configured, the bitwidth is determined according to the maximum number of ports in an SRS resource among the configured SRS resources in all SRS resource set(s) with usage set to 'codebook'. If the number of ports for a configured SRS resource in the set is less than the maximum number of ports in an SRS resource among the configured SRS resources, a number of most significant bits with value set to '0' are inserted to the field. \n-\tAntenna ports - number of bits determined by the following:\n-\tIf antennaPortsDCI0-3= type1a is configured by higher layer,\n-\tbits applying to the scheduled cells independently, where  is mapped to the cells according to an ascending order of a serving cell index with  corresponding to the cell with the smallest serving cell index, and  is defined below. \n-\tIf antennaPortsDCI0-3= type2 is configured by higher layer,\n-\tblock number 1, block number 2,\u2026, block number  \nEach block corresponds to the Antenna ports information for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the Antenna ports information for the cell with the smallest serving cell index. Each block is defined below.\n above for the case of antennaPortsDCI0-3= type1a or each block above for the case of antennaPortsDCI0-3= type2 is defined by the following:\n-\t2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled, dmrs-Type=1, and maxLength=1, except that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and \u03c0/2 BPSK modulation is used;\n-\t2 bits as defined by Tables 7.3.1.1.2-6A, if transform precoder is enabled and dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2 BPSK modulation is used, dmrs-Type=1, and maxLength=1, where nSCID is the scrambling identity for antenna ports defined in clause 6.4.1.1.1.2, TS38.211];\n-\t4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled, dmrs-Type=1, and maxLength=2, except that dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured and \u03c0/2 BPSK modulation is used;\n-\t4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is enabled and dmrs-UplinkTransformPrecoding and tp-pi2BPSK are both configured, \u03c0/2 BPSK modulation is used, dmrs-Type=1, and maxLength=2, where nSCID is the scrambling identity for antenna ports defined in clause 6.4.1.1.1.2, TS38.211];\n-\t3 bits as defined by Tables 7.3.1.1.2-8/9/10/11, if transform precoder is disabled, dmrs-Type=1, and maxLength=1, and the value of rank is determined according to the SRS resource indicator field if the higher layer parameter txConfig = nonCodebook and according to the Precoding information and number of layers field if the higher layer parameter txConfig = codebook;\n-\t4 bits as defined by Tables 7.3.1.1.2-12/13/14/15, if transform precoder is disabled, dmrs-Type=1, and maxLength=2, and the value of rank is determined according to the SRS resource indicator field if the higher layer parameter txConfig = nonCodebook and according to the Precoding information and number of layers field if the higher layer parameter txConfig = codebook;\n-\t4 bits as defined by Tables 7.3.1.1.2-16/17/18/19, if transform precoder is disabled, dmrs-Type=2, and maxLength=1, and the value of rank is determined according to the SRS resource indicator field if the higher layer parameter txConfig = nonCodebook and according to the Precoding information and number of layers field if the higher layer parameter txConfig = codebook;\n-\t5 bits as defined by Tables 7.3.1.1.2-20/21/22/23, if transform precoder is disabled, dmrs-Type=2, and maxLength=2, and the value of rank is determined according to the SRS resource indicator field if the higher layer parameter txConfig = nonCodebook and according to the Precoding information and number of layers field if the higher layer parameter txConfig = codebook.\nwhere the number of CDM groups without data of values 1, 2, and 3 in Tables 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively. \nIf a UE is configured with both dmrs-UplinkForPUSCH-MappingTypeA and dmrs-UplinkForPUSCH-MappingTypeB, the bitwidth of this field equals , where  is the \"Antenna ports\" bitwidth derived according to dmrs-UplinkForPUSCH-MappingTypeA and   is the \"Antenna ports\" bitwidth derived according to dmrs-UplinkForPUSCH-MappingTypeB. A number of  zeros are padded in the MSB of this field, if the mapping type of the PUSCH corresponds to the smaller value of  and .\n-\tSRS request -bits, where  is the number of entries in the higher layer parameter srs-RequestListDCI-0-3. This field is used to indicate an entry in the higher layer parameter srs-RequestListDCI-0-3 according to Table 7.3.1.1.4-4. Each entry in the higher layer parameter srs-RequestListDCI-0-3 contains the \u2018SRS request\u2019 index for each cell in the scheduled cell set, where the \u2018SRS request\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018SRS request\u2019 index is defined by the following:\n-\t2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with supplementaryUplink in ServingCellConfig in the cell; 3 bits for UEs configured with supplementaryUplink in ServingCellConfig in the cell where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24. This bit field may also indicate the associated CSI-RS according to Clause 6.1.1.2 of [6, TS 38.214].\n-\tSRS offset indicator -bits, where is the number of entries in the higher layer parameter srs-OffsetListDCI-0-3. This field is used to indicate an entry in the higher layer parameter srs-OffsetListDCI-0-3 according to Table 7.3.1.1.4-5. Each entry in the higher layer parameter srs-OffsetListDCI-0-3 contains the \u2018SRS offset indicator\u2019 index for each cell in the scheduled cell set, where the \u2018SRS offset indicator\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018SRS offset indicator\u2019 index is defined by the following:   \n-\t0 bit if higher layer parameter AvailableSlotOffset is not configured for any aperiodic SRS resource set in the scheduled cell, or if higher layer parameter AvailableSlotOffset is configured for at least one aperiodic SRS resource set in the scheduled cell and the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) is 1;\n-\totherwise,  bits are used to indicate available slot offset according to Table 7.3.1.1.2-37 and Clause 6.2.1 of [6, TS 38.214],  where K is the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) in the scheduled cell;\n-\tCSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer parameter reportTriggerSize. This field is applied to the cell with the smallest serving cell index among the scheduled cells indicated by Scheduled cells indicator field or Frequency domain resource assignment field. \n-\tPTRS-DMRS association - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number  \nEach block corresponds to the PTRS-DMRS association information for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the PTRS-DMRS association information for the cell with the smallest serving cell index. Each block is defined by the following:\n-\t0 bit if PTRS-UplinkConfig is not configured in either dmrs-UplinkForPUSCH-MappingTypeA or dmrs-UplinkForPUSCH-MappingTypeB and transform precoder is disabled, or if transform precoder is enabled, or if maxRankDCI=1;\n-\t2 bits otherwise, where Table 7.3.1.1.2-25 and 7.3.1.1.2-26 are used to indicate the association between PTRS port(s) and DMRS port(s) when one PT-RS port and two PT-RS ports are configured by maxNrofPorts in PTRS-UplinkConfig respectively, and the DMRS ports are indicated by the Antenna ports field. \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and the \"PTRS-DMRS association\" field is present for the indicated bandwidth part but not present for the active bandwidth part, the UE assumes the \"PTRS-DMRS association\" field is not present for the indicated bandwidth part.\n-\tbeta_offset indicator  -  0 or 2 bits\n-\t0 bit if betaOffsets = semiStatic is configured in uci-OnPUSCH-ListDCI-0-3 for all the cells configured by higher layer parameter scheduledCellListDCI-0-3 in the scheduled cell set;\n-\totherwise 2 bits as defined by Table 9.3-3 in [5, TS 38.213].\nWhen two HARQ-ACK codebooks are configured for the same serving cell and if higher layer parameter priorityIndicatorDCI-0-3 is configured, if the bit width of the beta_offset indicator in DCI format 0_3 for one HARQ-ACK codebook is not equal to that of the beta_offset indicator in DCI format 0_3 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller beta_offset indicator until the bit width of the beta_offset indicator in DCI format 0_3 for the two HARQ-ACK codebooks are the same.\nThe field is only applicable to a scheduled cell configured with betaOffsets = dynamic in uci-OnPUSCH-ListDCI-0-3, and is applied to the applicable scheduled cells independently.\n-\tDMRS sequence initialization - 1 bit if transform precoder is disabled at least for one cell configured by higher layer parameter ScheduledCellListDCI-0-3 in the scheduled cell set; otherwise, 0 bit. \nThis field is independently applied to all the scheduled cells with transform precoder disabled, and indicated by Scheduled cells indicator field or Frequency domain resource assignment field.\n-\tUL-SCH indicator - 1 bit. A value of \"1\" indicates UL-SCH shall be transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not be transmitted on the PUSCH. A UE is not expected to receive a DCI format 0_3 with UL-SCH indicator of \"0\" and CSI request of all zero(s). This field is applied to the cell with the smallest serving cell index among the scheduled cells indicated by Scheduled cells indicator field or Frequency domain resource assignment field.\n-\tChannelAccess-CPext-CAPC -bits applying to the scheduled cells with  independently, where  is the number of cells configured by higher layer parameter scheduledCellListDCI-0-3 in the scheduled cell set,  is mapped to the cells according to an ascending order of a serving cell index with  corresponding to the cell with the smallest serving cell index, and  is defined by the following:\n-\t0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter ul-AccessConfigListDCI-0-1 or in Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1, or for operation in frequency range 2-2 if ChannelAccessMode2-r17 is provided; otherwise 0 bit. One or more entries from Table 7.3.1.1.2-35 or Table 7.3.1.1.2-35A are configured by the higher layer parameter ul-AccessConfigListDCI-0-1.\n-\tOpen-loop power control parameter set indication - bits applying to the scheduled cells with  independently, where  is mapped to the cells according to an ascending order of a serving cell index with  corresponding to the cell with the smallest serving cell index, and  is defined by the following:\n-\t0 bit if the higher layer parameter p0-PUSCH-SetList is not configured;\n-\t1 or 2 bits otherwise,\n-\t1 bit if SRS resource indicator is present in the DCI format 0_3;\n-\t1 or 2 bits as determined by higher layer parameter olpc-ParameterSetDCI-0-1 if SRS resource indicator is not present in the DCI format 0_3.\n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-0-3 is not configured; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213]. This field is applied to all the scheduled cells indicated by Scheduled cells indicator field or Frequency domain resource assignment field.\n-\tMinimum applicable scheduling offset indicator - 0 or 1 bit \n-\t0 bit if higher layer parameter minimumSchedulingOffsetK0DCI-0-3 is not configured;\n-\t1 bit otherwise. The 1 bit indication is used to determine the minimum applicable K2 for the active UL BWP and the minimum applicable K0 for the active DL BWP, if configured respectively, according to Table 7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum applicable value of the aperiodic CSI-RS triggering offset for an active DL BWP for each scheduled cell shall be the same as the minimum applicable K0.\n-\tSCell dormancy indication - 0 bit if higher layer parameter dormancyDCI-0-3 or dormancyGroupWithinActiveTime is not configured; otherwise 1, 2, 3, 4, or 5 bits bitmap determined according to the number of different DormancyGroupID(s) provided by higher layer parameter dormancyGroupWithinActiveTime, where each bit corresponds to one of the SCell group(s) configured by higher layers parameter dormancyGroupWithinActiveTime, with MSB to LSB of the bitmap corresponding to the first to last configured SCell group in ascending order of DormancyGroupID. The field is only present when this format is carried by PDCCH on the primary cell within DRX Active Time and the UE is configured with at least two DL BWPs for an SCell.\n-\tPDCCH monitoring adaptation indication - 0, 1 or 2 bits\n-\t0 bit if higher layer parameter pdcchMonAdaptDCI-0-3 is not enabled;\n-\totherwise, \n-\t1 or 2 bits, if searchSpaceGroupIdList-r17 is not configured and if pdcch-SkippingDurationList is configured\n-\t1 bit if the UE is configured with only one duration by pdcch-SkippingDurationList;\n-\t2 bits if the UE is configured with more than one duration by pdcch-SkippingDurationList.\n-\t1 or 2 bits, if pdcch-SkippingDurationList is not configured and if searchSpaceGroupIdList-r17 is configured\n-\t1 bit if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0 and search space set(s) with group index 1, and if the UE is not configured by searchSpaceGroupIdList-r17 with any search space set with group index 2;\n-\t2 bits if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0, search space set(s) with group index 1 and search space set(s) with group index 2;\n-\t2 bits, if pdcch-SkippingDurationList is configured and if searchSpaceGroupIdList-r17 is configured\nIf scheduledCellComboListDCI-0-3 for the cell set is configured, zeros shall be appended to DCI format 0_3 if needed until the payload size equals the size of DCI format 0_3 that is determined by the configuration of the corresponding active bandwidth part(s) of the scheduled cells in the entry which results in the largest size among the entries in the higher layer parameter scheduledCellComboListDCI-0-3. \nIf an SCell within the scheduled cell set is deactivated, the UE determines the bitwidth of the fields in DCI format 0_3 based on a UL BWP provided by firstActiveUplinkBWP-Id for the SCell.\nTable 7.3.1.1.4-1: Scheduled cell set indicator in DCI format 0_3\n\nTable 7.3.1.1.4-2: Scheduled cells indicator in DCI format 0_3\n\nTable 7.3.1.1.4-3: Time domain resource assignment in DCI format 0_3\n\nTable 7.3.1.1.4-4: SRS request in DCI format 0_3\n\nTable 7.3.1.1.4-5: SRS offset indicator in DCI format 0_3\n\n7.3.1.2\tDCI formats for scheduling of PDSCH \n7.3.1.2.1\tFormat 1_0\nDCI format 1_0 is used for the scheduling of PDSCH in one DL cell. \nThe following information is transmitted by means of the DCI format 1_0 with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:\n-\tIdentifier for DCI formats - 1 bits\n-\tThe value of this bit field is always set to 1, indicating a DL DCI format\n-\tFrequency domain resource assignment -  bits where  is given by Clause\u00a07.3.1.0\nIf the CRC of the DCI format 1_0 is scrambled by C-RNTI and the \"Frequency domain resource assignment\" field are of all ones, the DCI format 1_0 is for random access procedure initiated by a PDCCH order, with all remaining fields set as follows:\n-\tRandom Access Preamble index - 6 bits according to ra-PreambleIndex in Clause 5.1.2 of [8, TS38.321]\n-\tUL/SUL indicator - 1 bit. If the value of the \"Random Access Preamble index\" is not all zeros and if the UE is configured with supplementaryUplink in ServingCellConfig in the cell, this field indicates which UL carrier in the cell to transmit the PRACH according to Table 7.3.1.1.1-1; otherwise, this field is reserved\n-\tSS/PBCH index - 6 bits. If the value of the \"Random Access Preamble index\" is not all zeros, this field indicates the SS/PBCH that shall be used to determine the RACH occasion for the PRACH transmission; otherwise, this field is reserved. \n-\tPRACH Mask index - 4 bits. If the value of the \"Random Access Preamble index\" is not all zeros, this field indicates the RACH occasion associated with the SS/PBCH indicated by \"SS/PBCH index\" for the PRACH transmission, according to Clause 5.1.1 of [8, TS38.321]; otherwise, this field is reserved\n-\tCell indicator - bits indicating the cell for the corresponding PRACH transmission if the UE is configured with higher layer parameter EarlyUlSyncConfig, where C is the number of candidate cells configured with higher layer parameter EarlyUlSyncConfig; 0 bit otherwise. The bit field index 0 of the cell indicator field is mapped to the serving cell, and other bit field indexes are mapped to the candidate cells configured with higher layer parameter EarlyUlSyncConfig according to an ascending order of a candidate identity configured by ltm-CandidateId, with the bit field index 1 mapped to the candidate cell with the smallest candidate identity. \n-\tPRACH association indicator - 0 or 1 bit\n-\t1bit if the UE is provided with tag-Id2, and the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for the first CORESETs, and is provided coresetPoolIndex with value 1 for the second CORESETs.\n-\tThis field indicates the PCI associated with the PRACH transmission if the UE is provided SSB-MTC-AddtionalPCI. The bit field index 0 of this field is mapped to the PCI of the serving cell, and the bit field index 1 of this field is mapped to the additional PCI associated with active TCI states.\n-\tThis field indicates the PL-RS for the PRACH transmission if the UE is not provided SSB-MTC-AddtionalPCI. The bit field index 0 of this field is mapped to the DL RS that the DM-RS of the PDCCH order is quasi-collocated with, and the bit field index 1 of this field is mapped to the SS/PBCH indicated by the SS/PBCH index field in this DCI format.  \n-\t0 bit otherwise. \n-\tPRACH retransmission indicator - 0 or 1 bit \n-\t1bit if the UE is configured with higher layer parameter EarlyUlSyncConfig. This field indicates initial transmission or retransmission of PRACH according to Table 7.3.1.2.1-3 if the cell indicated by Cell indicator field is a candidate cell, and this field is reserved if the cell indicated by Cell indicator field is a serving cell but not a candidate cell.  \n-\t0 bit otherwise. \n-\tReserved bits - a number of bits as determined by the following:\n-\t(12 -  - ) bits for operation in a cell with shared spectrum channel access in frequency range 1 or when the DCI format is monitored in common search space for operation in a cell in frequency range 2-2; \n-\t(10 -  - ) bits otherwise;\nwhere,\n-\t if the UE is not configured with higher layer parameter EarlyUlSyncConfig; +1 otherwise.\n-\t if the \"PRACH association indicator\" field is not present in this DCI format;  otherwise.\nOtherwise, all remaining fields are set as follows:\n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS 38.214]\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS 38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tHARQ process number - 4 bits\n-\tDownlink assignment index - 2 bits as defined in Clause 9.1.3 of [5, TS 38.213], as counter DAI\n-\tTPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS 38.213]\n-\tPUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]\n-\tPDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause 9.2.3 of [5, TS38.213]\n-\tChannelAccess-CPext - 2 bits indicating combinations of channel access type and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1; 2 bits indicating channel access type as defined in Table 7.3.1.1.1-4B if ChannelAccessMode2-r17 is provided for operation in a cell in frequency range 2-2; 0 bits otherwise\n-\tReserved bits - 2 bits when the DCI format is monitored in common search space for operation in a cell in frequency range 2-2 and the number of bits for the field of 'ChannelAccess-CPext' is 0; 0 bits otherwise\nThe following information is transmitted by means of the DCI format 1_0 with CRC scrambled by P-RNTI:\n-\tShort Messages Indicator - 2 bits according to Table 7.3.1.2.1-1. \n-\tShort Messages - 8 bits, according to Clause 6.5 of [9, TS38.331]. If only the scheduling information for Paging, and TRS availability indication if trs-ResourceSetConfig is configured, are carried, this bit field is reserved.\n-\tFrequency domain resource assignment - bits. If only the short message, and TRS availability indication if trs-ResourceSetConfig is configured, are carried, this bit field is reserved.\n-\t is the size of CORESET 0\n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS38.214]. If only the short message, and TRS availability indication if trs-ResourceSetConfig is configured, are carried, this bit field is reserved.\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5. If only the short message, and TRS availability indication if trs-ResourceSetConfig is configured, are carried, this bit field is reserved.\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS38.214], using Table 5.1.3.1-1. If only the short message, and TRS availability indication if trs-ResourceSetConfig is configured, are carried, this bit field is reserved.\n-\tTB scaling - 2 bits as defined in Clause 5.1.3.2 of [6, TS38.214]. If only the short message, and TRS availability indication if trs-ResourceSetConfig is configured, are carried, this bit field is reserved.\n-\tTRS availability indication - 1, 2, 3, 4, 5, or 6 bits, where the number of bits is equal to one plus the highest value of all the indBitID(s) provided by the trs-ResourceSetConfig if configured; 0 bits otherwise.\n-\tReserved bits - (8 - M) bits for operation in a cell with shared spectrum channel access in frequency range 1 or for operation in a cell in frequency range 2-2; (6 - M) bits for operation in a cell without shared spectrum channel access, where the value of M is the number of bits for the field of 'TRS availability indication' as defined above.\nThe following information is transmitted by means of the DCI format 1_0 with CRC scrambled by SI-RNTI:\n-\tFrequency domain resource assignment - bits\n-\t is the size of CORESET 0 \n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS38.214]\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS38.214], using Table\u00a05.1.3.1-1\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tSystem information indicator - 1 bit as defined in Table 7.3.1.2.1-2\n-\tReserved bits -  17 bits for operation in a cell with shared spectrum channel access in frequency range 1 or for operation in a cell in frequency range 2-2; otherwise 15 bits \nThe following information is transmitted by means of the DCI format 1_0 with CRC scrambled by RA-RNTI or MsgB-RNTI:\n-\tFrequency domain resource assignment - bits\n-\t is the size of CORESET 0 if CORESET 0 is configured for the cell and  is the size of initial DL bandwidth part if CORESET 0 is not configured for the cell\n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS38.214]\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS38.214], using Table\u00a05.1.3.1-1\n-\tTB scaling - 2 bits as defined in Clause 5.1.3.2 of [6, TS38.214] \n-\tLSBs of SFN - 2 bits for the DCI format 1_0 with CRC scrambled by MsgB-RNTI as defined in Clause 8.2A of [5, TS 38.213] if msgB-responseWindow is configured to be larger than 10 ms; or 2 bits for the DCI format 1_0 with CRC scrambled by RA-RNTI as defined in Clause 8.2 of [5, TS 38.213] for operation in a cell with shared spectrum channel access if ra-ResponseWindow or ra-ResponseWindow-v1610 is configured to be larger than 10 ms; 0 bit otherwise\n-\tReserved bits - (16 - A) bits for operation in a cell without shared spectrum access in frequency range 1 and frequency range 2-1, (18 - A) for operation in a cell with shared spectrum access in frequency range 1 or for operation in a cell in frequency range 2-2, where the value of A is the number of bits for the field of 'LSBs of SFN' as defined above\nThe following information is transmitted by means of the DCI format 1_0 with CRC scrambled by TC-RNTI:\n-\tIdentifier for DCI formats - 1 bit\n-\tThe value of this bit field is always set to 1, indicating a DL DCI format\n-\tFrequency domain resource assignment - bits\n-\t is the size of CORESET 0\n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS38.214]\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS38.214], using Table\u00a05.1.3.1-1\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tHARQ process number - 4 bits\n-\tDownlink assignment index - 2 bits\n-\t2 bits indicating the number of repetitions for PUCCH as defined in clause 9.2.6 of [5, TS38.213] according to Table 7.3.1.2.1-4, if the higher layer parameter numberOfPUCCHforMsg4HARQACK-RepetitionsList is configured with at least two values and the UE has indicated capability of PUCCH repetition on common PUCCH resource [8, TS38.321];\n-\totherwise, reserved.\n-\tTPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS38.213]\n-\tPUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS38.213]\n-\tPDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause 9.2.3 of [5, TS38.213]\n-\tChannelAccess-CPext - 2 bits indicating combinations of channel access type and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1; 2 bits indicating channel access type as defined in Table 7.3.1.1.1-4B if ChannelAccessMode2-r17 is provided for operation in a cell in frequency range 2-2; otherwise 0 bit\n-\tReserved bits - 2 bits when the DCI format is monitored in common search space for operation in a cell in frequency range 2-2 and the number of bits for the field of 'ChannelAccess-CPext' is 0; 0 bits otherwise\nTable 7.3.1.2.1-1: Short Message indicator\n\nTable 7.3.1.2.1-2: System information indicator\n\nTable 7.3.1.2.1-3: PRACH retransmission indicator\n\nTable 7.3.1.2.1-4: Number of repetitions  as a function of 2 bits of Downlink assignment index field\n\n7.3.1.2.2\tFormat 1_1\nDCI format 1_1 is used for the scheduling of one or multiple PDSCH in one cell. \nThe following information is transmitted by means of the DCI format 1_1 with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI: \n-\tIdentifier for DCI formats - 1 bits\n-\tThe value of this bit field is always set to 1, indicating a DL DCI format\n-\tCarrier indicator - 0 or 3 bits as defined in Clause 10.1 of [5, TS 38.213]. This field is reserved when this format is carried by PDCCH on the primary cell and the UE is configured for scheduling on the primary cell from an SCell, with the same number of bits as that in this format carried by PDCCH on the SCell for scheduling on the primary cell.\n-\tBandwidth part indicator - 0, 1 or 2 bits as determined by the number of DL BWPs  configured by higher layers, excluding the initial DL bandwidth part. The bitwidth for this field is determined as bits, where \n-\t if , in which case the bandwidth part indicator is equivalent to the ascending order of the higher layer parameter BWP-Id;\n-\totherwise , in which case the bandwidth part indicator is defined in Table 7.3.1.1.2-1;\nIf a UE does not support active BWP change via DCI, the UE ignores this bit field.\n-\tFrequency domain resource assignment - number of bits determined by the following, where  is the size of the active DL bandwidth part:\n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 5.1.2.2.1 of [6, TS38.214], \n-\tbits if only resource allocation type 1 is configured, or \n-\t bits if resourceAllocation is configured as 'dynamicSwitch'.\n-\tIf resourceAllocation is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the LSBs provide the resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of [6, TS 38.214] \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and if resourceAllocation is configured as 'dynamicSwitch' for the indicated bandwidth part, the UE assumes resource allocation type 0 for the indicated bandwidth part if the bitwidth of the \"Frequency domain resource assignment\" field of the active bandwidth part is smaller than the bitwidth of the \"Frequency domain resource assignment\" field of the indicated bandwidth part.\n-\tTime domain resource assignment - 0, 1, 2, 3, 4, 5 or 6 bits \n-\tIf the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH is not configured and if the higher layer parameter pdsch-TimeDomainAllocationList is configured, 0, 1, 2, 3 or 4 bits as defined in Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as bits, where I is the number of entries in the higher layer parameter pdsch-TimeDomainAllocationList if the higher layer parameter is configured; \n-\tif the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH is configured, 0, 1, 2, 3, 4, 5 or 6 bits as defined in Clause 5.1.2.1 of [6, TS38.214]. The bitwidth for this field is determined as bits, where I is the number of entries in the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH;\n-\totherwise I is the number of entries in the default table.\n-\tVRB-to-PRB mapping - 0 or 1 bit:\n-\t0 bit if only resource allocation type 0 is configured or if interleaved VRB-to-PRB mapping is not configured by high layers;\n-\t1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource allocation type 1, as defined in Clause 7.3.1.6  of [4, TS 38.211].\n-\tPRB bundling size indicator - 0 bit if the higher layer parameter prb-BundlingType is not configured or is set to 'staticBundling', or 1 bit if the higher layer parameter prb-BundlingType is set to 'dynamicBundling' according to Clause 5.1.2.3 of [6, TS 38.214].\n-\tRate matching indicator - 0, 1, or 2 bits according to higher layer parameters rateMatchPatternGroup1 and rateMatchPatternGroup2, where the MSB is used to indicate rateMatchPatternGroup1 and the LSB is used to indicate rateMatchPatternGroup2 when there are two groups.\n-\tZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS 38.214]. The bitwidth for this field is determined as bits, where  is the number of aperiodic ZP CSI-RS resource sets configured by higher layer.\nFor transport block 1: \n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit if the number of scheduled PDSCH indicated by the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined based on the maximum number of schedulable PDSCH among all entries in the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH, where each bit corresponds to one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214].\n-\tRedundancy version - number of bits determined by the following:\n-\t2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled PDSCH indicated by the Time domain resource assignment field is 1;\n-\totherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number of schedulable PDSCHs among all entries in the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH, where each bit corresponds to one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214] and redundancy version is determined according to Table 7.3.1.1.2-34.\nFor transport block 2 (only present if maxNrofCodeWordsScheduledByDCI equals 2): \n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit if the number of scheduled PDSCH indicated by the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined based on the maximum number of schedulable PDSCH among all entries in the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH, where each bit corresponds to one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214].\n-\tRedundancy version - number of bits determined by the following:\n-\t2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled PDSCH indicated by the Time domain resource assignment field is 1;\n-\totherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number of schedulable PDSCHs among all entries in the higher layer parameter pdsch-TimeDomainAllocationListForMultiPDSCH, where each bit corresponds to one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214] and redundancy version is determined according to Table 7.3.1.1.2-34. \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and the value of maxNrofCodeWordsScheduledByDCI for the indicated bandwidth part equals 2 and the value of maxNrofCodeWordsScheduledByDCI for the active bandwidth part equals 1, the UE assumes zeros are padded when interpreting the \"Modulation and coding scheme\", \"New data indicator\", and \"Redundancy version\" fields of transport block 2 according to Clause 12 of [5, TS38.213], and the UE ignores the \"Modulation and coding scheme\", \"New data indicator\", and \"Redundancy version\" fields of transport block 2 for the indicated bandwidth part.\n-\tHARQ process number - 5 bits if higher layer parameter harq-ProcessNumberSizeDCI-1-1 is configured; otherwise 4 bits\n-\tDownlink assignment index - number of bits as defined in the following\n-\t6 bits if more than one serving cell are configured in the DL and the higher layer parameter nfi-TotalDAI-Included is configured. The 4 MSB bits are the counter DAI and the total DAI for the scheduled PDSCH group, and the 2 LSB bits are the total DAI for the non-scheduled PDSCH group.\n-\t4 bits if only one serving cell is configured in the DL and the higher layer parameter nfi-TotalDAI-Included is configured. The 2 MSB bits are the counter DAI for the scheduled PDSCH group, and the 2 LSB bits are the total DAI for the non-scheduled PDSCH group;\n-\t4 bits if more than one serving cell are configured in the DL, the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic or pdsch-HARQ-ACK-Codebook-r16= enhancedDynamic, and nfi-TotalDAI-Included is not configured, where the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI;\n-\t4 bits if one serving cell is configured in the DL, and the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic, and the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for one or more first CORESETs and is provided coresetPoolIndex with value 1 for one or more second CORESETs, and is provided ackNackFeedbackMode = joint, where the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI;\n-\t2 bits if only one serving cell is configured in the DL, the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic or pdsch-HARQ-ACK-Codebook-r16=enhancedDynamic, and nfi-TotalDAI-Included is not configured, when the UE is not configured with coresetPoolIndex or the value of coresetPoolIndex is the same for all CORESETs if coresetPoolIndex is provided or the UE is not configured with ackNackFeedbackMode = joint, where the 2 bits are the counter DAI;\n-\t0 bits otherwise. \n\tIf the UE is configured with a PUCCH-SCell, the number of serving cells is determined within a PUCCH group.\n\tIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-Codebook is replaced by pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16 if present for the secondary PUCCH group.\n\tIf higher layer parameter priorityIndicatorDCI-1-1 is configured, if the bit width of the Downlink assignment index in DCI format 1_1 for one HARQ-ACK codebook is not equal to that of the Downlink assignment index in DCI format 1_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller Downlink assignment index until the bit width of the Downlink assignment index in DCI format 1_1 for the two HARQ-ACK codebooks are the same.\n-\tTPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS 38.213]\n-\tSecond TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS 38.213] if higher layer parameter SecondTPCFieldDCI-1-1 is configured; 0 bit otherwise.\n-\tPUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]\n-\tPDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as bits, where I is the number of entries in the higher layer parameter dl-DataToUL-ACK. \n\tIf higher layer parameter priorityIndicatorDCI-1-1 is configured, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 for one HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 for the other HARQ-ACK codebook on the same cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 for the two HARQ-ACK codebooks are the same.\n\tIf higher layer parameter pucch-sSCellDyn is configured, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 associated with one cell for PUCCH transmission is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 associated with the other cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 associated with the two cells are the same.\n\tIf the UE is configured with a PUCCH-SCell, pucch-sSCellDyn is replaced by pucch-sSCellDynSecondaryPUCCHgroup for the secondary PUCCH group.\n-\tOne-shot HARQ-ACK request - 0 or 1 bit.\n-\t1 bit if higher layer parameter pdsch-HARQ-ACK-OneShotFeedback-r16 or pdsch-HARQ-ACK-EnhType3ToAddModList is configured;\n-\t0 bit otherwise.\nIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-EnhType3ToAddModList is replaced by pdsch-HARQ-ACK-EnhType3SecondaryToAddModList for the secondary PUCCH group.\n-\tEnhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.\n-\t0 bit if pdsch-HARQ-ACK-EnhType3DCI-Field is not configured;\n-\t bits otherwise, where  is the number of entries in the higher layer parameter pdsch-HARQ-ACK-EnhType3ToAddModList.\n\tIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-EnhType3DCI-Field is replaced by pdsch-HARQ-ACK-EnhType3DCI-FieldSecondaryPUCCHgroup for the secondary PUCCH group, and pdsch-HARQ-ACK-EnhType3ToAddModList is replaced by pdsch-HARQ-ACK-EnhType3SecondaryList for the secondary PUCCH group.\n-\tPDSCH group index - 0 or 1 bit.\n-\t1 bit if the higher layer parameter pdsch-HARQ-ACK-Codebook-r16= enhancedDynamic;\n-\t0 bit otherwise.\n-\tNew feedback indicator - 0, 1 or 2 bits. \n-\t1 bit if the higher layer parameter pdsch-HARQ-ACK-Codebook-r16= enhancedDynamic and the higher layer parameter nfi-TotalDAI-Included is not configured; \n-\t2 bits if the higher layer parameter pdsch-HARQ-ACK-Codebook-r16= enhancedDynamic and the higher layer parameter nfi-TotalDAI-Included=true; the MSB corresponds to the scheduled PDSCH group, and the LSB corresponds to the non-scheduled PDSCH group, as defined in [TS38.213] clause 9.1.3.3\n-\t0 bit otherwise. \n-\tNumber of requested PDSCH group(s) - 0 or 1 bit.\n-\t1 bit if the higher layer parameter pdsch-HARQ-ACK-Codebook-r16= enhancedDynamic;\n-\t0 bit otherwise.\n-\tHARQ-ACK retransmission indicator - 0 or 1 bit.\n-\t1 bit if higher layer parameter pdsch-HARQ-ACK-Retx is configured.\n-\t0 bit otherwise.\n\tIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-Retx is replaced by pdsch-HARQ-ACK-RetxSecondaryPUCCHgroup for the secondary PUCCH group.\n-\tAntenna port(s) - 4, 5, 6, 7 or 8 bits as defined by Tables 7.3.1.2.2-1/2/3/4/7/8/9/10 and Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A, where the number of CDM groups without data of values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports  shall be determined according to the ordering of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4/7/8/9/10 or Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A. When a UE not configured with dl-OrJointTCI-StateList receives an activation command that maps at least one codepoint of DCI field 'Transmission Configuration Indication' to two TCI states, or when a UE configured with dl-OrJointTCI-StateList is having two indicated TCI states, the UE shall use Table 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A; otherwise, it shall use Tables 7.3.1.2.2-1/2/3/4/7/8/9/10. The UE can receive an entry with DMRS ports equals to 1000, 1002, 1003 when two the UE is not configured with dl-OrJointTCI-StateList and TCI states are indicated in a codepoint of DCI field 'Transmission Configuration Indication', or when the UE configured with dl-OrJointTCI-StateList is having two indicated TCI states to be applied to PDSCH.\nIf a UE is configured with both dmrs-DownlinkForPDSCH-MappingTypeA and dmrs-DownlinkForPDSCH-MappingTypeB, the bitwidth of this field equals , where  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeA and  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeB. A number of  zeros are padded in the MSB of this field, if the mapping type of the PDSCH corresponds to the smaller value of  and .\n-\tTransmission configuration indication - 0 bit if higher layer parameter tci-PresentInDCI is not enabled; otherwise 3 bits as defined in Clause 5.1.5 of [6, TS38.214]. \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part, \n-\tif the higher layer parameter tci-PresentInDCI is not enabled for the CORESET used for the PDCCH carrying the DCI format 1_1,\n-\tthe UE assumes tci-PresentInDCI is not enabled for all CORESETs in the indicated bandwidth part;\n-\totherwise,\n-\tthe UE assumes tci-PresentInDCI is enabled for all CORESETs in the indicated bandwidth part.\n-\tTCI selection - 0 bit if higher layer parameter tciSelection-PresentInDCI is not configured; otherwise 2 bits according to Table 7.3.1.2.2-11.\n-\tSRS request - 2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with supplementaryUplink in ServingCellConfig in the cell; 3 bits for UEs configured with supplementaryUplink in ServingCellConfig in the cell where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24. This bit field may also indicate the associated CSI-RS according to Clause 6.1.1.2 of [6, TS 38.214].\n-\tSRS offset indicator - 0, 1 or 2 bits. \n-\t0 bit if higher layer parameter AvailableSlotOffset is not configured for any aperiodic SRS resource set in the scheduled cell, or if higher layer parameter AvailableSlotOffset is configured for at least one aperiodic SRS resource set in the scheduled cell  and the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) is 1;\n-\totherwise,  bits are used to indicate available slot offset according to Table 7.3.1.1.2-37 and Clause\u00a06.2.1 of [6, TS 38.214],  where K is the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) in the scheduled cell;\n-\tCBG transmission information (CBGTI) - 0 bit if higher layer parameter PDSCH-CodeBlockGroupTransmission for PDSCH is not configured, otherwise, 2, 4, 6, or 8 bits as defined in Clause 5.1.7 of [6, TS38.214], determined by the higher layer parameters maxCodeBlockGroupsPerTransportBlock and maxNrofCodeWordsScheduledByDCI for the PDSCH. \nIf higher layer parameter priorityIndicatorDCI-1-1 is configured, if the bit width of the CBG transmission information in DCI format 1_1 for one HARQ-ACK codebook is not equal to that of the CBG transmission information in DCI format 1_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller CBG transmission information until the bit width of the CBG transmission information in DCI format 1_1 for the two HARQ-ACK codebooks are the same.\n-\tCBG flushing out information (CBGFI) - 1 bit if higher layer parameter codeBlockGroupFlushIndicator is configured as \"TRUE\", 0 bit otherwise. \nIf higher layer parameter priorityIndicatorDCI-1-1 is configured, if the bit width of the CBG flushing out information in DCI format 1_1 for one HARQ-ACK codebook is not equal to that of the CBG flushing out information in DCI format 1_1 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller CBG flushing out information until the bit width of the CBG flushing out information in DCI format 1_1 for the two HARQ-ACK codebooks are the same.\n-\tDMRS sequence initialization - 1 bit. \n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-1-1 is not configured; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213].\n-\tChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter ul-AccessConfigListDCI-1-1 or in Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1, or for operation in frequency range 2-2 if ChannelAccessMode2-r17 is provided; otherwise 0 bit. One or more entries from Table 7.3.1.2.2-6 or Table 7.3.1.2.2-6A are configured by the higher layer parameter ul-AccessConfigListDCI-1-1.\n-\tMinimum applicable scheduling offset indicator - 0 or 1 bit \n-\t0 bit if higher layer parameter minimumSchedulingOffsetK0 is not configured;\n-\t1 bit if higher layer parameter minimumSchedulingOffsetK0 is configured. The 1 bit indication is used to determine the minimum applicable K0 for the active DL BWP and the minimum applicable K2 value for the active UL BWP, if configured respectively, according to Table 7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum applicable value of the aperiodic CSI-RS triggering offset for an active DL BWP shall be the same as the minimum applicable K0 value. \n-\tSCell dormancy indication - 0 bit if higher layer parameter dormancyGroupWithinActiveTime is not configured; otherwise 1, 2, 3, 4 or 5 bits bitmap determined according to the number of different DormancyGroupID(s) provided by higher layer parameter dormancyGroupWithinActiveTime, where each bit corresponds to one of the SCell group(s) configured by higher layers parameter dormancyGroupWithinActiveTime, with MSB to LSB of the bitmap corresponding to the first to last configured SCell group in ascending order of DormancyGroupID. The field is only present when this format is carried by PDCCH on the primary cell within DRX Active Time and the UE is configured with at least two DL BWPs for an SCell.\nIf one-shot HARQ-ACK request is not present or set to '0', and all bits of frequency domain resource assignment are set to 0 for resource allocation type 0 or set to 1 for resource allocation type 1 or set to 0 or 1 for dynamic switch resource allocation type, this field is reserved and the following fields among the fields above are used for SCell dormancy indication, where each bit corresponds to one of the configured SCell(s), with MSB to LSB of the following fields concatenated in the order below corresponding to the SCell with lowest to highest SCell index \n-\tModulation and coding scheme of transport block 1 \n-\tNew data indicator of transport block 1 \n-\tRedundancy version of transport block 1 \n-\tHARQ process number \n-\tAntenna port(s) \n-\tDMRS sequence initialization\n-\tPDCCH monitoring adaptation indication - 0, 1 or 2 bits\n-\t1 or 2 bits, if searchSpaceGroupIdList-r17 is not configured and if pdcch-SkippingDurationList is configured\n-\t1 bit if the UE is configured with only one duration by pdcch-SkippingDurationList;\n-\t2 bits if the UE is configured with more than one duration by pdcch-SkippingDurationList.\n-\t1 or 2 bits, if pdcch-SkippingDurationList is not configured and if searchSpaceGroupIdList-r17 is configured\n-\t1 bit if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0 and search space set(s) with group index 1, and if the UE is not configured by searchSpaceGroupIdList-r17 with any search space set with group index 2;\n-\t2 bits if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0, search space set(s) with group index 1 and search space set(s) with group index 2;\n-\t2 bits, if pdcch-SkippingDurationList is configured and if searchSpaceGroupIdList-r17 is configured\n-\t0 bit, otherwise\n-\tPUCCH Cell indicator - 0 or 1 bit.\n-\t1 bit if higher layer parameter pucch-sSCellDyn is configured.\n-\t0 bit otherwise.\nIf the UE is configured with a PUCCH-SCell, pucch-sSCellDyn is replaced by pucch-sSCellDynSecondaryPUCCHgroup for the secondary PUCCH group.\n-\tCo-scheduled UE information \u2013 0 or 3 bits\n-\t3 bits as defined in Table 7.3.1.2.2-12 if higher layer parameter XYZ is configured. This field is reserved if two codewords are scheduled by this DCI format 1_1.\n-\t0 bit otherwise.\nIf DCI formats 1_1 are monitored in multiple search spaces associated with multiple CORESETs in a BWP for scheduling the same serving cell, zeros shall be appended until the payload size of the DCI formats 1_1 monitored in the multiple search spaces equal to the maximum payload size of the DCI format 1_1 monitored in the multiple search spaces.\nIf the number of information bits in DCI format 1_1 scheduling a single PDSCH prior to padding is not equal to the number of information bits in DCI format 1_1 scheduling multiple PDSCHs for the same serving cell, zeros shall be appended to the DCI format 1_1 with smaller size until the payload size is the same for scheduling a single PDSCH and multiple PDSCHs.\nFor a UE configured with scheduling on the primary cell from an SCell, if prior to padding the number of information bits in DCI format 1_1 carried by PDCCH on the primary cell is not equal to the number of information bits in DCI format 1_1 carried by PDCCH on the SCell for scheduling on the primary cell, zeros shall be appended to the DCI format 1_1 with smaller size until the payload size is the same:\n-\tIf application of step 4C in clause 7.3.1.0 results in additional zero padding for DCI format 1_1 for scheduling on the primary cell, corresponding zeros shall be appended to both DCI format 1_1 monitored on the primary cell and DCI format 1_1 monitored on the SCell for scheduling on the primary cell.\n-\tIf the SCell is deactivated and firstActiveDownlinkBWP-Id is not set to dormant BWP, the UE determines the number of information bits in DCI format 1_1 carried by PDCCH on the primary cell based on a DL BWP provided by firstActiveDownlinkBWP-Id for the SCell. If the active DL BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and firstActiveDownlinkBWP-Id is set to dormant BWP, the UE determines the number of information bits in DCI format 1_1 carried by PDCCH on the primary cell based on a DL BWP provided by firstWithinActiveTimeBWP-Id for the SCell if provided; otherwise, based on a DL BWP provided by firstOutsideActiveTimeBWP-Id for the SCell.\nTable 7.3.1.2.2-1: Antenna port(s) (1000 + DMRS port), dmrs-Type=1, maxLength=1\n\nTable 7.3.1.2.2-1A: Antenna port(s) (1000 + DMRS port), dmrs-Type=1, maxLength=1\n\nTable 7.3.1.2.2-2: Antenna port(s) (1000 + DMRS port), dmrs-Type=1, maxLength=2\n\nTable 7.3.1.2.2-2A: Antenna port(s) (1000 + DMRS port), dmrs-Type=1, maxLength=2\n\nTable 7.3.1.2.2-3: Antenna port(s) (1000 + DMRS port), dmrs-Type=2, maxLength=1\n\nTable 7.3.1.2.2-3A: Antenna port(s) (1000 + DMRS port), dmrs-Type=2, maxLength=1\n\nTable 7.3.1.2.2-4: Antenna port(s) (1000 + DMRS port), dmrs-Type=2, maxLength=2\n\nTable 7.3.1.2.2-4A: Antenna port(s) (1000 + DMRS port), dmrs-Type=2, maxLength=2\n\nTable 7.3.1.2.2-5: VRB-to-PRB mapping\n\nTable 7.3.1.2.2-6: Allowed entries for DCI format 1_1 and DCI format 1_2, configured by higher layer parameter ul-AccessConfigListDCI-1-1 and ul-AccessConfigListDCI-1-2, respectively, in frequency range 1\n\nTable 7.3.1.2.2-6A: Allowed entries for DCI format 1_1 and DCI format 1_2, configured by higher layer parameter ul-AccessConfigListDCI-1-1 in frequency range 2-2\n\nTable 7.3.1.2.2-7: Antenna port(s) (1000 + DMRS port), dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1\n\nTable 7.3.1.2.2-7A: Antenna port(s) (1000 + DMRS port), dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=1\n\nTable 7.3.1.2.2-8: Antenna port(s) (1000 + DMRS port), dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2\n\nTable 7.3.1.2.2-8A: Antenna port(s) (1000 + DMRS port), dmrs-Type=1,\ndmrs-TypeEnh is configured, maxLength=2\n\nTable 7.3.1.2.2-9: Antenna port(s) (1000 + DMRS port), dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1\n\nTable 7.3.1.2.2-9A: Antenna port(s) (1000 + DMRS port), dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=1\n\nTable 7.3.1.2.2-10: Antenna port(s) (1000 + DMRS port), dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2\n\nTable 7.3.1.2.2-10A: Antenna port(s) (1000 + DMRS port), dmrs-Type=2,\ndmrs-TypeEnh is configured, maxLength=2\n\nTable 7.3.1.2.2-11: TCI selection\n\nTable 7.3.1.2.2-12: Co-scheduled UE information \n\n7.3.1.2.3\tFormat 1_2\nDCI format 1_2 is used for the scheduling of PDSCH in one cell. \nThe following information is transmitted by means of the DCI format 1_2 with CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI: \n-\tIdentifier for DCI formats - 1 bits\n-\tThe value of this bit field is always set to 1, indicating a DL DCI format.\n-\tCarrier indicator - 0, 1, 2 or 3 bits determined by higher layer parameter carrierIndicatorSizeDCI-1-2, as defined in Clause 10.1 of [5, TS38.213]. This field is reserved when this format is carried by PDCCH on the primary cell and the UE is configured for scheduling on the primary cell from an SCell, with the same number of bits as that in this format carried by PDCCH on the SCell for scheduling on the primary cell.\n-\tBandwidth part indicator - 0, 1 or 2 bits as determined by the number of DL BWPs  configured by higher layers, excluding the initial DL bandwidth part. The bitwidth for this field is determined as  bits, where \n-\tif , in which case the bandwidth part indicator is equivalent to the ascending order of the higher layer parameter BWP-Id;\n-\totherwise , in which case the bandwidth part indicator is defined in Table 7.3.1.1.2-1;\nIf a UE does not support active BWP change via DCI, the UE ignores this bit field.\n-\tFrequency domain resource assignment - number of bits determined by the following:\n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 5.1.2.2.1 of [6, TS 38.214];\n-\t bits if only resource allocation type 1 is configured, or  bits if resourceAllocationDCI-1-2-r16 is configured as 'dynamicSwitch', where , is the size of the active DL bandwidth part, is defined as in clause 4.4.4.4 of [4, TS 38.211] and  is determined by higher layer parameter resourceAllocationType1GranularityDCI-1-2. If the higher layer parameter resourceAllocationType1GranularityDCI-1-2 is not configured,  is equal to 1.\n-\tIf resourceAllocationDCI-1-2-r16 is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of [6, TS 38.214]\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and if resourceAllocationDCI-1-2-r16 is configured as 'dynamicSwitch' for the indicated bandwidth part, the UE assumes resource allocation type 0 for the indicated bandwidth part if the bitwidth of the \"Frequency domain resource assignment\" field of the active bandwidth part is smaller than the bitwidth of the \"Frequency domain resource assignment\" field of the indicated bandwidth part.\n-\tTime domain resource assignment - 0, 1, 2, 3, or 4 bits as defined in Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as bits, where I is the number of entries in the higher layer parameter pdsch-TimeDomainAllocationListDCI-1-2 if the higher layer parameter is configured, or I is the number of entries in the higher layer parameter pdsch-TimeDomainAllocationList if the higher layer parameter pdsch-TimeDomainAllocationList is configured when the higher layer parameter pdsch-TimeDomainAllocationListDCI-1-2 is not configured; otherwise I is the number of entries in the default table.\n-\tVRB-to-PRB mapping - 0 or 1 bit:\n-\t0 bit if the higher layer parameter vrb-ToPRB-InterleaverDCI-1-2 is not configured;\n-\t1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].\n-\tPRB bundling size indicator - 0 bit if the higher layer parameter prb-BundlingTypeDCI-1-2 is not configured or is set to 'static', or 1 bit if the higher layer parameter prb-BundlingTypeDCI-1-2 is set to 'dynamic' according to Clause 5.1.2.3 of [6, TS 38.214].\n-\tRate matching indicator - 0, 1, or 2 bits according to higher layer parameters rateMatchPatternGroup1DCI-1-2 and rateMatchPatternGroup2DCI-1-2, where the MSB is used to indicate rateMatchPatternGroup1DCI-1-2 and the LSB is used to indicate rateMatchPatternGroup2DCI-1-2 when there are two groups.\n-\tZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS 38.214]. The bitwidth for this field is determined as  bits, where  is the number of aperiodic ZP CSI-RS resource sets configured by higher layer parameter aperiodicZP-CSI-RS-ResourceSetsToAddModListDCI-1-2.\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 0, 1 or 2 bits determined by higher layer parameter numberOfBitsForRV-DCI-1-2\n-\tIf 0 bit is configured, rvid to be applied is 0;\n-\t1 bit according to Table 7.3.1.2.3-1;\n-\t2 bits according to Table 7.3.1.1.1-2. \n-\tHARQ process number - number of bits determined by the following:\n-\t0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter harq-ProcessNumberSizeDCI-1-2-v1700 if configured;\n-\totherwise 0, 1, 2, 3 or 4 bits determined by higher layer parameter harq-ProcessNumberSizeDCI-1-2\n-\tDownlink assignment index - 0, 1, 2 or 4 bits\n-\t0 bit if the higher layer parameter downlinkAssignmentIndexDCI-1-2 is not configured;\n-\t1, 2 or 4 bits determined by higher layer parameter downlinkAssignmentIndexDCI-1-2 otherwise,\n-\t4 bits if more than one serving cell are configured in the DL and the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic, where the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI\n-\t4 bits if only one serving cell is configured in the DL and the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic, and the UE is not provided coresetPoolIndex or is provided coresetPoolIndex with value 0 for one or more first CORESETs and is provided coresetPoolIndex with value 1 for one or more second CORESETs, and is provided ackNackFeedbackMode = joint, where the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI.\n-\t1 or 2 bits if only one serving cell is configured in the DL and the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic, when the UE is not configured with coresetPoolIndex or the value of coresetPoolIndex is the same for all CORESETs if coresetPoolIndex is provided or the UE is not configured with ackNackFeedbackMode = joint, where the 1 bit or 2 bits are the counter DAI.\nIf the UE is configured with a PUCCH-SCell, the number of serving cells is determined within a PUCCH group.\nIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-Codebook is replaced by pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16 if present for the secondary PUCCH group.\nIf higher layer parameter priorityIndicatorDCI-1-2 is configured, if the bit width of the Downlink assignment index in DCI format 1_2 for one HARQ-ACK codebook is not equal to that of the Downlink assignment index in DCI format 1_2 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller Downlink assignment index until the bit width of the Downlink assignment index in DCI format 1_2 for the two HARQ-ACK codebooks are the same.\n-\tTPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS 38.213]\n-\tSecond TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS 38.213] if higher layer parameter SecondTPCFieldDCI-1-2 is configured; 0 bit otherwise.\n-\tPUCCH resource indicator - 0 or 1 or 2 or 3 bits determined by higher layer parameter numberOfBitsForPUCCH-ResourceIndicatorDCI-1-2\n\tIf higher layer parameter pucch-sSCellPattern or pucch-sSCellDynDCI-1-2 is configured, if the bit width of the PUCCH resource indicator in DCI format 1_2 associated with one cell for PUCCH transmission is not equal to that of the PUCCH resource indicator in DCI format 1_2 associated with the other cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PUCCH resource indicator until the bit width of the PUCCH resource indicator in DCI format 1_2 associated with the two cells for PUCCH transmissions are the same.\n\tIf the UE is configured with a PUCCH-SCell, pucch-sSCellPattern is replaced by pucch-sSCellPatternSecondaryPUCCHgroup for the secondary PUCCH group.\n-\tPDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter DL-DataToUL-ACK-DCI-1-2.\nIf higher layer parameter priorityIndicatorDCI-1-2 is configured, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 for one HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 for the other HARQ-ACK codebook on the same cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 for the two HARQ-ACK codebooks are the same.\n\tIf higher layer parameter pucch-sSCellDynDCI-1-2 is configured, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 associated with one cell for PUCCH transmission is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 associated with the other cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 associated with the two cells are the same.\n-\tOne-shot HARQ-ACK request -0 or 1 bit.\n-\t1 bit if higher layer parameter pdsch-HARQ-ACK-OneShotFeedbackDCI-1-2 or pdsch-HARQ-ACK-EnhType3DCI-1-2 is configured;\n-\t0 bit otherwise.\n-\tEnhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits. \n-\t0 bit if pdsch-HARQ-ACK-EnhType3DCI-Field-1-2 is not configured; \n-\t bits otherwise, where  is the number of entries in the higher layer parameter pdsch-HARQ-ACK-EnhType3ToAddModList.\n\tIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-EnhType3ToAddModList is replaced by pdsch-HARQ-ACK-EnhType3SecondaryToAddModList for the secondary PUCCH group.\n-\tHARQ-ACK retransmission indicator - 0 or 1 bit.\n-\t1 bit if higher layer parameter pdsch-HARQ-ACK-retxDCI-1-2 is configured.\n-\t0 bit otherwise.\n-\tAntenna port(s) - 0, 4, 5, 6, 7 or 8 bits \n-\t0 bit if higher layer parameter antennaPortsFieldPresenceDCI-1-2 is not configured;\n-\tOtherwise 4, 5, 6, 7 or 8 bits as defined by Tables 7.3.1.2.2-1/2/3/4/7/8/9/10 and Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A, where the number of CDM groups without data of values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports shall be determined according to the ordering of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4/7/8/9/10 or Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A. When a UE not configured with dl-OrJointTCI-StateList receives an activation command that maps at least one codepoint of DCI field 'Transmission Configuration Indication' to two TCI states, or when a UE configured with dl-OrJointTCI-StateList is having two indicated TCI states, the UE shall use Table 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A; otherwise, it shall use Tables 7.3.1.2.2-1/2/3/4/7/8/9/10.\n-\tIf a UE is configured with both dmrs-DownlinkForPDSCH-MappingTypeA-DCI-1-2 and dmrs-DownlinkForPDSCH-MappingTypeB-DCI-1-2 and is configured with higher layer parameter antennaPortsFieldPresenceDCI-1-2, the bitwidth of this field equals, where  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeA-DCI-1-2 and  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeB-DCI-1-2. A number of  zeros are padded in the MSB of this field, if the mapping type of the PDSCH corresponds to the smaller value of  and .\nIf a UE is not configured with higher layer parameter antennaPortsFieldPresenceDCI-1-2, antenna port(s) are defined assuming bit field index value 0 in Tables 7.3.1.2.2-1/2/3/4/7/8/9/10.\n-\tTransmission configuration indication - 0 bit if higher layer parameter tci-PresentDCI-1-2 is not configured; otherwise 1 or 2 or 3 bits determined by higher layer parameter tci-PresentDCI-1-2 as defined in Clause 5.1.5 of [6, TS38.214]. \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part, \n-\tif the higher layer parameter tci-PresentDCI-1-2 is not configured for the CORESET used for the PDCCH carrying the DCI format 1_2,\n-\tthe UE assumes tci-PresentDCI-1-2 is not configured for all CORESETs in the indicated bandwidth part;\n-\totherwise,\n-\tthe UE assumes tci-PresentDCI-1-2 is configured for all CORESETs in the indicated bandwidth part with the same value configured for the CORESET used for the PDCCH carrying the DCI format 1_2.\n-\tTCI selection - 0 bit if higher layer parameter tciSelection-PresentInDCI is not configured; otherwise 2 bits according to Table 7.3.1.2.2-11.\n-\tSRS request - 0, 1, 2 or 3 bits\n-\t0 bit if the higher layer parameter srs-RequestDCI-1-2 is not configured;\n-\t1 bit as defined by Table 7.3.1.1.3-1 if the higher layer parameter srs-RequestDCI-1-2 = 1 and for UEs not configured with supplementaryUplink in ServingCellConfig in the cell;  \n-\t2 bits if the higher layer parameter srs-RequestDCI-1-2 = 1 and for UEs configured with supplementaryUplink in ServingCellConfig in the cell, where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second bit is defined by Table 7.3.1.1.3-1; \n-\t2 bits as defined by Table 7.3.1.1.2-24 if the higher layer parameter srs-RequestDCI-1-2 = 2 and for UEs not configured with supplementaryUplink in ServingCellConfig in the cell;  \n-\t3 bits if the higher layer parameter srs-RequestDCI-1-2 = 2 and for UEs configured with supplementaryUplink in ServingCellConfig in the cell, where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24; \n-\tSRS offset indicator - 0, 1 or 2 bits. \n-\t0 bit if higher layer parameter AvailableSlotOffset is not configured for any aperiodic SRS resource set in the scheduled cell, or if higher layer parameter AvailableSlotOffset is configured for at least one aperiodic SRS resource set in the scheduled cell and the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) is 1;\n-\totherwise,  bits are used to indicate available slot offset according to Table 7.3.1.1.2-37 and Clause 6.2.1 of [6, TS 38.214],  where K is the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) in the scheduled cell;\n-\tDMRS sequence initialization - 0 or 1 bit\n-\t0 bit if the higher layer parameter dmrs-SequenceInitializationDCI-1-2 is not configured;\n-\t1 bit otherwise.\n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-1-2 is not configured; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213].\n-\tPDCCH monitoring adaptation indication - 0, 1 or 2 bits\n-\t1 or 2 bits, if searchSpaceGroupIdList-r17 is not configured and if pdcch-SkippingDurationList is configured\n-\t1 bit if the UE is configured with only one duration by pdcch-SkippingDurationList;\n-\t2 bits if the UE is configured with more than one duration by pdcch-SkippingDurationList.\n-\t1 or 2 bits, if pdcch-SkippingDurationList is not configured and if searchSpaceGroupIdList-r17 is configured\n-\t1 bit if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0 and search space set(s) with group index 1, and if the UE is not configured by searchSpaceGroupIdList-r17 with any search space set with group index 2;\n-\t2 bits if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0, search space set(s) with group index 1 and search space set(s) with group index 2;\n-\t2 bits, if pdcch-SkippingDurationList is configured and if searchSpaceGroupIdList-r17 is configured\n-\t0 bit, otherwise\n-\tChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter ul-AccessConfigListDCI-1-2 or in Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1, or the number of entries in the high layer parameter ul-AccessConfigListDCI-1-1 for operation in frequency range 2-2 if ChannelAccessMode2-r17 is provided; otherwise 0 bit. One or more entries from Table\u00a07.3.1.2.2-6 are configured by the higher layer parameter ul-AccessConfigListDCI-1-2 in frequency range 1. One or more entries from Table 7.3.1.1.2-6A are configured by the higher layer parameter ul-AccessConfigListDCI-1-1 in frequency range 2-2.\n-\tPUCCH Cell indicator - 0 or 1 bit.\n-\t1 bit if higher layer parameter pucch-sSCellDynDCI-1-2 is configured.\n-\t0 bit otherwise.\nIf DCI formats 1_2 are monitored in multiple search spaces associated with multiple CORESETs in a BWP for scheduling the same serving cell, zeros shall be appended until the payload size of the DCI formats 1_2 monitored in the multiple search spaces equal to the maximum payload size of the DCI format 1_2 monitored in the multiple search spaces.\nFor a UE configured with scheduling on the primary cell from an SCell, if prior to padding the number of information bits in DCI format 1_2 carried by PDCCH on the primary cell is not equal to the number of information bits in DCI format 1_2 carried by PDCCH on the SCell for scheduling on the primary cell, zeros shall be appended to the DCI format 1_2 with smaller size until the payload size is the same.\n-\tIf application of step 4B in clause 7.3.1.0 results in additional zero padding for DCI format 1_2 for scheduling on the primary cell, corresponding zeros shall be appended to both DCI format 1_2 monitored on the primary cell and DCI format 1_2 monitored on the SCell for scheduling on the primary cell.\n-\tIf the SCell is deactivated and firstActiveDownlinkBWP-Id is not set to dormant BWP, the UE determines the number of information bits in DCI format 1_2 carried by PDCCH on the primary cell based on a DL BWP provided by firstActiveDownlinkBWP-Id for the SCell. If the active DL BWP of the SCell is a dormant DL BWP, or if the SCell is deactivated and firstActiveDownlinkBWP-Id is set to dormant BWP, the UE determines the number of information bits in DCI format 1_2 carried by PDCCH on the primary cell based on a DL BWP provided by firstWithinActiveTimeBWP-Id for the SCell if provided; otherwise, based on a DL BWP provided by firstOutsideActiveTimeBWP-Id for the SCell.\nTable 7.3.1.2.3-1: Redundancy version\n\n7.3.1.2.4\tFormat 1_3\nDCI format 1_3 is used for the scheduling of one PDSCH in one cell, or multiple PDSCHs in multiple cells with one PDSCH per cell.\nThe following information is transmitted by means of the DCI format 1_3 with CRC scrambled by C-RNTI or MCS-C-RNTI:\n-\tIdentifier for DCI formats - 1 bits\n-\tThe value of this bit field is always set to 1, indicating a DL DCI format\n-\tScheduled cell set indicator -  bits, where  is the number of cell sets which are configured by higher layer parameter MC-DCI-SetofCellsToAddModList to be respectively scheduled by DCI format 0_3/1_3 from the cell on which this format is carried by PDCCH. If present, this field is used to indicate the scheduled cell set according to Table 7.3.1.1.4-1; otherwise, the scheduled cell set is the cell set configured to be scheduled by DCI format 0_3/1_3 from the cell by higher layer parameter MC-DCI-SetofCellsToAddModList.     \n-\tScheduled cells indicator - number of bits determined by the following:\n-\t0 bit if the higher layer parameter scheduledCellComboListDCI-1-3 for the scheduled cell set is not configured;\n-\totherwise  bits indicating the scheduled cells in the scheduled cell set according to Table 7.3.1.2.4-1, where  is the number of entries in the higher layer parameter scheduledCellComboListDCI-1-3. If only one entry is configured in the higher layer parameter scheduledCellComboListDCI-1-3, the scheduled cells are the cells configured by higher layer parameter scheduledCellComboListDCI-1-3.\n-\tBandwidth part indicator - 0, 1 or 2 bits determined as , where \n-\t if ,  is the maximum number of DL BWPs configured by higher layers, excluding the initial DL bandwidth part, across all the cells configured by higher layer parameter scheduledCellListDCI-1-3 in the scheduled cell set, in which case the bandwidth part indicator is equivalent to the ascending order of the higher layer parameter BWP-Id;\n-\totherwise , in which case the bandwidth part indicator is defined in Table 7.3.1.1.2-1;\nThe field is only applicable to a scheduled cell with the number of configured DL BWPs larger than 1, including the initial DL bandwidth part, and is applied to the applicable scheduled cells in the scheduled cell set independently. If a UE does not support active BWP change via DCI, the UE ignores this bit field. If this field indicates a code point that does not correspond to a configured BWP of a scheduled cell, the UE ignores this bit field for the scheduled cell, and operates on the active BWP of the scheduled cell.\n-\tFrequency domain resource assignment - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number \nIf scheduledCellComboListDCI-1-3 for the scheduled cell set is configured with more than one entry,  is the number of scheduled cells indicated by Scheduled cells indicator field; if scheduledCellComboListDCI-1-3 for the scheduled cell set is configured with only one entry, is the number of cells configured by higher layer parameter scheduledCellComboListDCI-1-3; otherwise,  is the number of cells in the scheduled cell set configured by higher layer parameter scheduledCellListDCI-1-3. Each block corresponds to the frequency domain resource assignment for a cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the frequency domain resource assignment for the cell with the smallest serving cell index. Each block is defined by the following fields:  \n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 5.1.2.2.1 of [6, TS 38.214]\n-\t bits if only resource allocation type 1 is configured, or  bits if resourceAllocationDCI-1-3 is configured as 'dynamicSwitch', where   is the size of the active DL bandwidth part,  is defined as in clause 4.4.4.4 of [4, TS 38.211] and  is given by higher layer parameter resourceAllocationType1GranularityDCI-1-3. If the higher layer parameter resourceAllocationType1GranularityDCI-1-3 is not configured,  is equal to 1.\n-\tIf resourceAllocationDCI-1-3 is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of [6, TS 38.214].\nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and if resourceAllocationDCI-1-3 is configured as 'dynamicSwitch' for the indicated bandwidth part, the UE assumes resource allocation type 0 for the indicated bandwidth part if the bitwidth of the \"Frequency domain resource assignment\" field of the active bandwidth part is smaller than the bitwidth of the \"Frequency domain resource assignment\" field of the indicated bandwidth part.\nIf the higher layer parameter scheduledCellComboListDCI-1-3 for the scheduled cell set is not configured, each block is also used to indicate whether the corresponding cell is scheduled or not as follows:\n-\tif all bits of a block are set to 0 for resource allocation type 0 or set to 1 for resource allocation type 1 or set to 0 or 1 for dynamic switch resource allocation type, the cell corresponding to the block is not scheduled; \n-\totherwise, the cell corresponding to the block is scheduled. \n-\tTime domain resource assignment - bits, where  is the number of entries in the higher layer parameter tdra-FieldIndexListDCI-1-3. This field is used to indicate an entry in the higher layer parameter tdra-FieldIndexListDCI-1-3 according to Table 7.3.1.2.4-2. Each entry in the higher layer parameter tdra-FieldIndexListDCI-1-3 contains the \u2018Time domain resource assignment\u2019 index for each BWP of each cell in the scheduled cell set, where the \u2018Time domain resource assignment\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index, and the 'Time domain resource assignment' indexes for all the BWPs of a cell are placed according to an ascending order of the higher layer parameter BWP-Id. \n-\tVRB-to-PRB mapping - 0 or 1 bit\n-\t0 bit if the higher layer parameter vrb-ToPRB-Interleaver is not configured for any cell configured by higher layer parameter scheduledCellListDCI-1-3 in the scheduled cell set;\n-\t1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].\nThe field is only applicable to a scheduled cell configured with vrb-ToPRB-Interleaver, and is applied to the applicable scheduled cells independently. \n-\tPRB bundling size indicator - 0 or 1 bit\n-\t0 bit if the higher layer parameter prb-BundlingType is not configured or is set to 'staticBundling' for any cell configured by higher layer parameter scheduledCellListDCI-1-3 in the scheduled cell set;\n-\t1 bit according to Clause 5.1.2.3 of [6, TS 38.214] otherwise.\nThe field is only applicable to a scheduled cell configured with prb-BundlingType set to 'dynamicBundling', and is applied to the applicable scheduled cells independently. \n-\tRate matching indicator -bits, where  is the number of entries in the higher layer parameter rateMatchListDCI-1-3. This field is used to indicate an entry in the higher layer parameter rateMatchListDCI-1-3 according to Table 7.3.1.2.4-3. Each entry in the higher layer parameter rateMatchListDCI-1-3 contains the \u2018Rate matching indicator\u2019 index for each cell configured with rateMatchPatternGroup1 or rateMatchPatternGroup2 on at least one DL BWP in the scheduled cell set, where the \u2018Rate matching indicator\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018Rate matching indicator\u2019 index is defined by the following:  \n-\t0, 1, or 2 bits according to higher layer parameters rateMatchPatternGroup1 and rateMatchPatternGroup2, where the MSB is used to indicate rateMatchPatternGroup1 and the LSB is used to indicate rateMatchPatternGroup2 when there are two groups.\n-\tZP CSI-RS trigger -bits, where  is the number of entries in the higher layer parameter zp-CSI-RSListDCI-1-3. This field is used to indicate an entry in the higher layer parameter zp-CSI-RSListDCI-1-3 according to Table 7.3.1.2.4-4. Each entry in the higher layer parameter zp-CSI-RSListDCI-1-3 contains the \u2018ZP CSI-RS trigger\u2019 index for each cell configured with aperiodicZP-CSI-RS-ResourceSetsToAddModList on at least one DL BWP in the scheduled cell set, where the \u2018ZP CSI-RS trigger\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018ZP CSI-RS trigger\u2019 index is defined by the following:  \n-\t0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS 38.214]. The bitwidth for this field is determined as  bits, where  is the number of aperiodic ZP CSI-RS resource sets configured by higher layer parameter aperiodicZP-CSI-RS-ResourceSetsToAddModList.\nFor transport block 1: \n-\tModulation and coding scheme - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number \nEach block corresponds to the modulation and coding scheme for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the modulation and coding scheme for the cell with the smallest serving cell index. Each block is 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214].    \n-\tNew data indicator - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number   \nEach block corresponds to the new data indicator for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the new data indicator for the cell with the smallest serving cell index. Each block is 1 bit.  \n-\tRedundancy version - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number    \nEach block corresponds to the redundancy version for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the redundancy version for the cell with the smallest serving cell index. Each block is 0, 1 or 2 bits determined by higher layer parameter numberOfBitsForRV-DCI-1-3 configured for the cell corresponding to the block,\n-\tIf 0 bit is configured, rvid to be applied is 0;\n-\t1 bit according to Table 7.3.1.2.3-1;\n-\t2 bits according to Table 7.3.1.1.1-2. \nFor transport block 2: \n-\tModulation and coding scheme - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number  \nIf scheduledCellComboListDCI-1-3 for the scheduled cell set is configured,  is the number of scheduled cells indicated by Scheduled cells indicator field and configured with maxNrofCodeWordsScheduledByDCI = 2; otherwise, is the number of cells configured by higher layer parameter scheduledCellListDCI-1-3 in the scheduled cell set and configured with maxNrofCodeWordsScheduledByDCI = 2. Each block corresponds to the modulation and coding scheme for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the modulation and coding scheme for the cell with the smallest serving cell index. Each block is 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214].    \n-\tNew data indicator - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number   \nEach block corresponds to the new data indicator for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the new data indicator for the cell with the smallest serving cell index. Each block is 1 bit.  \n-\tRedundancy version - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number   \nEach block corresponds to the redundancy version for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the redundancy version for the cell with the smallest serving cell index. Each block is 0, 1 or 2 bits determined by higher layer parameter numberOfBitsForRV-DCI-1-3 configured for the cell corresponding to the block,\n-\tIf 0 bit is configured, rvid to be applied is 0;\n-\t1 bit according to Table 7.3.1.2.3-1;\n-\t2 bits according to Table 7.3.1.1.1-2. \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part and the value of maxNrofCodeWordsScheduledByDCI for the indicated bandwidth part equals 2 and the value of maxNrofCodeWordsScheduledByDCI for the active bandwidth part equals 1, the UE assumes zeros are padded when interpreting the \"Modulation and coding scheme\", \"New data indicator\", and \"Redundancy version\" fields of transport block 2 according to Clause 12 of [5, TS38.213], and the UE ignores the \"Modulation and coding scheme\", \"New data indicator\", and \"Redundancy version\" fields of transport block 2 for the indicated bandwidth part.\n-\tHARQ process number - number of bits determined by the following:\n-\tblock number 1, block number 2,\u2026, block number   \nEach block corresponds to the HARQ process number for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the HARQ process number for the cell with the smallest serving cell index. Each block is 0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter harq-ProcessNumberSizeDCI-1-3 configured for the cell corresponding to the block. \n-\tDownlink assignment index - number of bits as defined in the following\n-\t4 bits if the higher layer parameter pdsch-HARQ-ACK-Codebook=dynamic, where the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI;\n-\t0 bits otherwise.\n\tIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-Codebook is replaced by pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16 if present for the secondary PUCCH group.\n\tIf higher layer parameter priorityIndicatorDCI-1-3 is configured, if the bit width of the Downlink assignment index in DCI format 1_3 for one HARQ-ACK codebook is not equal to that of the Downlink assignment index in DCI format 1_3 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller Downlink assignment index until the bit width of the Downlink assignment index in DCI format 1_3 for the two HARQ-ACK codebooks are the same.\n-\tTPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5, TS 38.213]\n-\tPUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]\n-\tPDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter dL-DataToUL-ACK.\n\tIf higher layer parameter priorityIndicatorDCI-1-3 is configured, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 for one HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 for the other HARQ-ACK codebook on the same cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 for the two HARQ-ACK codebooks are the same.\n\tIf higher layer parameter pucch-sSCellDynDCI-1-3 is configured, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 associated with one cell for PUCCH transmission is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 associated with the other cell for PUCCH transmission, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 associated with the two cells are the same.\n-\tOne-shot HARQ-ACK request - 0 or 1 bit.\n-\t1 bit if higher layer parameter pdsch-HARQ-ACK-OneShotFeedbackDCI-1-3 or pdsch-HARQ-ACK-enhType3DCI-1-3 is configured;\n-\t0 bit otherwise.\n-\tEnhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.\n-\t0 bit if pdsch-HARQ-ACK-enhType3DCIfieldDCI-1-3 is not configured;\n-\t bits otherwise, where  is the number of entries in the higher layer parameter pdsch-HARQ-ACK-EnhType3ToAddModList.\n\tIf the UE is configured with a PUCCH-SCell, pdsch-HARQ-ACK-EnhType3ToAddModList is replaced by pdsch-HARQ-ACK-EnhType3SecondaryList for the secondary PUCCH group.\n-\tHARQ-ACK retransmission indicator - 0 or 1 bit.\n-\t1 bit if higher layer parameter pdsch-HARQ-ACK-retxDCI-1-3 is configured.\n-\t0 bit otherwise.\n-\tAntenna ports - number of bits determined by the following:\n-\tIf antennaPortsDCI-1-3= type1a is configured by higher layer,\n-\tbits applying to the scheduled cells independently, where  is the number of cells configured by higher layer parameter scheduledCellListDCI-1-3 in the scheduled cell set,   is mapped to the cells according to an ascending order of a serving cell index with  corresponding to the cell with the smallest serving cell index, and  is defined below.\n-\tIf antennaPortsDCI-1-3= type2 is configured by higher layer,\n-\tblock number 1, block number 2,\u2026, block number   \nEach block corresponds to the Antenna ports information for a scheduled cell, and the blocks are placed according to an ascending order of a serving cell index, with block number 1 corresponding to the Antenna ports information for the cell with the smallest serving cell index. Each block is defined below.\n above for the case of antennaPortsDCI-1-3= type1A or each block above for the case of antennaPortsDCI-1-3= type2 is defined by the following: \n-\t4, 5, or 6 bits as defined by Tables 7.3.1.2.2-1/2/3/4 and Tables 7.3.1.2.2-1A/2A/3A/4A, where the number of CDM groups without data of values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports  shall be determined according to the ordering of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4 or Tables 7.3.1.2.2-1A/2A/3A/4A. \nIf a UE is configured with both dmrs-DownlinkForPDSCH-MappingTypeA and dmrs-DownlinkForPDSCH-MappingTypeB, the bitwidth of this field equals , where  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeA and  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeB. A number of  zeros are padded in the MSB of this field, if the mapping type of the PDSCH corresponds to the smaller value of  and .\n-\tTransmission configuration indication - number of bits determined by the following: \n-\t0 bit if higher layer parameter tci-PresentInDCI is not enabled; \n-\totherwise bits, where  is the number of entries in the higher layer parameter tci-ListDCI-1-3. This field is used to indicate an entry in the higher layer parameter tci-ListDCI-1-3 according to Table 7.3.1.2.4-5. Each entry in the higher layer parameter tci-ListDCI-1-3 contains the \u2018Transmission configuration indication\u2019 index for each cell in the scheduled cell set, where the \u2018Transmission configuration indication\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018Transmission configuration indication\u2019 index is 3 bits as defined in Clause 5.1.5 of [6, TS38.214]. \nIf \"Bandwidth part indicator\" field indicates a bandwidth part other than the active bandwidth part, \n-\tif the higher layer parameter tci-PresentInDCI is not enabled for the CORESET used for the PDCCH carrying the DCI format 1_3,\n-\tthe UE assumes tci-PresentInDCI is not enabled for all CORESETs in the indicated bandwidth part;\n-\totherwise,\n-\tthe UE assumes tci-PresentInDCI is enabled for all CORESETs in the indicated bandwidth part.\n-\tSRS request -bits, where  is the number of entries in the higher layer parameter srs-RequestListDCI-1-3. This field is used to indicate an entry in the higher layer parameter srs-RequestListDCI-1-3 according to Table 7.3.1.2.4-6. Each entry in the higher layer parameter srs-RequestListDCI-1-3 contains the \u2018SRS request\u2019 index for each cell in the scheduled cell set, where the \u2018SRS request\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018SRS request\u2019 index is defined by the following:       \n-\t2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with supplementaryUplink in ServingCellConfig in the cell; 3 bits for UEs configured with supplementaryUplink in ServingCellConfig in the cell where the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24. This bit field may also indicate the associated CSI-RS according to Clause 6.1.1.2 of [6, TS 38.214].\n-\tSRS offset indicator -bits, where is the number of entries in the higher layer parameter srs-OffsetListDCI-1-3. This field is used to indicate an entry in the higher layer parameter srs-OffsetListDCI-1-3 according to Table 7.3.1.2.4-7. Each entry in the higher layer parameter srs-OffsetListDCI-1-3 contains the \u2018SRS offset indicator\u2019 index for each cell in the scheduled cell set, where the \u2018SRS offset indicator\u2019 indexes for all the cells are placed according to an ascending order of a serving cell index. Each \u2018SRS offset indicator\u2019 index is defined by the following:   \n-\t0 bit if higher layer parameter AvailableSlotOffset is not configured for any aperiodic SRS resource set in the scheduled cell, or if higher layer parameter AvailableSlotOffset is configured for at least one aperiodic SRS resource set in the scheduled cell and the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) is 1;\n-\totherwise,  bits are used to indicate available slot offset according to Table 7.3.1.1.2-37 and Clause 6.2.1 of [6, TS 38.214],  where K is the maximum number of entries of availableSlotOffsetList configured for all aperiodic SRS resource set(s) in the scheduled cell;\n-\tDMRS sequence initialization - 1 bit. This field is applied to all the scheduled cells indicated by Scheduled cells indicator field or Frequency domain resource assignment field independently. \n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-1-3 is not configured; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213]. \n-\tChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter ul-AccessConfigListDCI-1-1 or in Table 7.3.1.1.1-4A if channelAccessMode-r16 = \"semiStatic\" is provided, for operation in a cell with shared spectrum channel access in frequency range 1, or for operation in frequency range 2-2 if ChannelAccessMode2-r17 is provided; otherwise 0 bit. One or more entries from Table 7.3.1.2.2-6 or Table 7.3.1.2.2-6A are configured by the higher layer parameter ul-AccessConfigListDCI-1-1.\n-\tMinimum applicable scheduling offset indicator - 0 or 1 bit \n-\t0 bit if higher layer parameter minimumSchedulingOffsetK0DCI-1-3 is not configured;\n-\t1 bit otherwise. The 1 bit indication is used to determine the minimum applicable K0 for the active DL BWP and the minimum applicable K2 for the active UL BWP, if configured respectively, according to Table 7.3.1.1.2-33. If the minimum applicable K0 is indicated, the minimum applicable value of the aperiodic CSI-RS triggering offset for an active DL BWP for each scheduled cell shall be the same as the minimum applicable K0.\n-\tSCell dormancy indication - 0 bit if higher layer parameter dormancyDCI-1-3 or dormancyGroupWithinActiveTime is not configured; otherwise 1, 2, 3, 4, or 5 bits bitmap determined according to the number of different DormancyGroupID(s) provided by higher layer parameter dormancyGroupWithinActiveTime, where each bit corresponds to one of the SCell group(s) configured by higher layers parameter dormancyGroupWithinActiveTime, with MSB to LSB of the bitmap corresponding to the first to the last configured SCell group in ascending order of DormancyGroupID. The field is only present when this format is carried by PDCCH on the primary cell within DRX Active Time and the UE is configured with at least two DL BWPs for an SCell.\nIf the \u201cOne-shot HARQ-ACK request\u201d field is not present or set to '0', and if the \u201cHARQ-ACK retransmission indicator\u201d field is not present or set to \u20180\u2019, and if all bits of the corresponding block(s) of the frequency domain resource assignment field are set to 0 for resource allocation type 0 or set to 1 for resource allocation type 1 or set to 0 or 1 for dynamic switch resource allocation type for one or more cells in the scheduled cell set, this field is reserved and the following fields, corresponding to the cell with smallest serving cell index among the one or more cell(s), among the fields above are used for SCell dormancy indication, where each bit corresponds to one of the configured SCell(s), with MSB to LSB of the following fields concatenated in the order below corresponding to the SCell with lowest to highest SCell index\n-\tModulation and coding scheme of transport block 1 \n-\tNew data indicator of transport block 1 \n-\tRedundancy version of transport block 1 \n-\tHARQ process number \n-\tAntenna port(s) if antennaPortsDCI1-3= type2 is configured by higher layer.\n-\tPDCCH monitoring adaptation indication - 0, 1 or 2 bits\n-\t0 bit if higher layer parameter pdcchMonAdaptDCI-1-3 is not enabled;\n-\totherwise, \n-\t1 or 2 bits, if searchSpaceGroupIdList-r17 is not configured and if pdcch-SkippingDurationList is configured\n-\t1 bit if the UE is configured with only one duration by pdcch-SkippingDurationList;\n-\t2 bits if the UE is configured with more than one duration by pdcch-SkippingDurationList.\n-\t1 or 2 bits, if pdcch-SkippingDurationList is not configured and if searchSpaceGroupIdList-r17 is configured\n-\t1 bit if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0 and search space set(s) with group index 1, and if the UE is not configured by searchSpaceGroupIdList-r17 with any search space set with group index 2;\n-\t2 bits if the UE is configured by searchSpaceGroupIdList-r17 with search space set(s) with group index 0, search space set(s) with group index 1 and search space set(s) with group index 2;\n-\t2 bits, if pdcch-SkippingDurationList is configured and if searchSpaceGroupIdList-r17 is configured\n-\tPUCCH Cell indicator - 0 or 1 bit.\n-\t1 bit if higher layer parameter pucch-sSCellDynDCI-1-3 is configured.\n-\t0 bit otherwise.\nIf scheduledCellComboListDCI-1-3 for the cell set is configured, zeros shall be appended to DCI format 1_3 if needed until the payload size equals the size of DCI format 1_3 that is determined by the configuration of the corresponding active bandwidth part(s) of the scheduled cells in the entry which results in the largest size among the entries in the higher layer parameter scheduledCellComboListDCI-1-3. \nIf an SCell within the scheduled cell set is deactivated and the firstActiveDownlinkBWP-Id corresponding to the SCell is not set to dormant BWP, the UE determines the bitwidth of the fields in DCI format 1_3 based on a DL BWP provided by firstActiveDownlinkBWP-Id for the SCell. If the active DL BWP of an SCell within the scheduled cell set is a dormant DL BWP, or if an SCell within the scheduled cell set is deactivated and the firstActiveDownlinkBWP-Id corresponding to the SCell is set to dormant BWP, the UE determines the bitwidth of the fields in DCI format 1_3 based on a DL BWP provided by firstWithinActiveTimeBWP-Id for the SCell if provided; otherwise, based on a DL BWP provided by firstOutsideActiveTimeBWP-Id for the SCell.\nTable 7.3.1.2.4-1: Scheduled cells indicator in DCI format 1_3\n\nTable 7.3.1.2.4-2: Time domain resource assignment in DCI format 1_3\n\nTable 7.3.1.2.4-3: Rate matching indicator\n\nTable 7.3.1.2.4-4: ZP CSI-RS trigger\n\nTable 7.3.1.2.4-5: Transmission configuration indication\n\nTable 7.3.1.1.4-6: SRS request in DCI format 1_3\n\nTable 7.3.1.1.4-7: SRS offset indicator in DCI format 1_3\n\n7.3.1.3\tDCI formats for other purposes\n7.3.1.3.1\tFormat 2_0\nDCI format 2_0 is used for notifying the slot format, COT duration, available RB set, and search space set group switching. \nThe following information is transmitted by means of the DCI format 2_0 with CRC scrambled by SFI-RNTI:\n-\tIf the higher layer parameter slotFormatCombToAddModList is configured, \n-\tSlot format indicator 1, Slot format indicator 2, \u2026, Slot format indicator N, \n-\tIf the higher layer parameter availableRB-SetsToAddModList is configured, \n-\tAvailable RB set Indicator 1, Available RB set Indicator 2, \u2026, Available RB set Indicator N1, \n-\tIf the higher layer parameter co-DurationsPerCellToAddModList is configured\n-\tCOT duration indicator 1, COT duration indicator 2, \u2026, COT duration indicator N2.\n-\tIf the higher layer parameter switchTriggerToAddModList is configured\n-\tSearch space set group switching flag 1, Search space set group switching flag 2, \u2026, Search space set group switching flag M.\nThe size of DCI format 2_0 is configurable by higher layers up to 128 bits, according to Clause 11.1.1 of [5, TS 38.213].\n7.3.1.3.2\tFormat 2_1\nDCI format 2_1 is used for notifying the PRB(s) and OFDM symbol(s) where UE may assume no transmission is intended for the UE. \nThe following information is transmitted by means of the DCI format 2_1 with CRC scrambled by INT-RNTI:\n-\tPre-emption indication 1, Pre-emption indication 2, \u2026, Pre-emption indication N. \nThe size of DCI format 2_1 is configurable by higher layers up to 126 bits, according to Clause 11.2 of [5, TS 38.213]. Each pre-emption indication is 14 bits.\n7.3.1.3.3\tFormat 2_2\nDCI format 2_2 is used for the transmission of TPC commands for PUCCH and PUSCH. \nThe following information is transmitted by means of the DCI format 2_2 with CRC scrambled by TPC-PUSCH-RNTI or TPC-PUCCH-RNTI:\n-\tblock number 1, block number 2,\u2026, block number N\nThe parameter tpc-PUSCH or tpc-PUCCH  provided by higher layers determines the index to the block number for an UL of a cell, with the following fields defined for each block:\n-\tClosed loop indicator   - 0 or 1 bit. \n-\tFor DCI format 2_2 with TPC-PUSCH-RNTI, 0 bit if the UE is not configured with high layer parameter twoPUSCH-PC-AdjustmentStates, in which case UE assumes each block in the DCI format 2_2 is of 2 bits; 1 bit otherwise, in which case UE assumes each block in the DCI format 2_2 is of 3 bits;\n-\tFor DCI format 2_2 with TPC-PUCCH-RNTI, 0 bit if the UE is not configured with high layer parameter twoPUCCH-PC-AdjustmentStates, in which case UE assumes each block in the DCI format 2_2 is of 2 bits; 1 bit otherwise, in which case UE assumes each block in the DCI format 2_2 is of 3 bits;\n-\tTPC command -2 bits\nThe number of information bits in format 2_2 shall be equal to or less than the payload size of format 1_0 monitored in common search space in the same serving cell. If the number of information bits in format 2_2 is less than the payload size of format 1_0 monitored in common search space in the same serving cell, zeros shall be appended to format 2_2 until the payload size equals that of format 1_0 monitored in common search space in the same serving cell.\n7.3.1.3.4\tFormat 2_3\nDCI format 2_3 is used for the transmission of a group of TPC commands for SRS transmissions by one or more UEs. Along with a TPC command, a SRS request may also be transmitted. \nThe following information is transmitted by means of the DCI format 2_3 with CRC scrambled by TPC-SRS-RNTI:\n-\tblock number 1, block number 2, \u2026, block number \n\twhere the starting position of a block is determined by the parameter startingBitOfFormat2-3 or startingBitOfFormat2-3SUL-v1530 provided by higher layers for the UE configured with the block. \nIf the UE is configured with higher layer parameter srs-TPC-PDCCH-Group = typeA for an UL without PUCCH and PUSCH or an UL on which the SRS power control is not tied with PUSCH power control, one or two blocks are configured for the UE by higher layers where one block applies to non-SUL carriers and another block applies to SUL carriers, with the following fields defined for each block:\n-\tSRS request - 0 or 2 bits. The presence of this field is according to the definition in Clause 11.4 of [5, TS38.213]. If present, this field is interpreted as defined by Table 7.3.1.1.2-24.\n-\tTPC command number 1, TPC command number 2, ..., TPC command number N, where each TPC command applies to a respective UL carrier provided by higher layer parameter cc-IndexInOneCC-Set\nIf the UE is configured with higher layer parameter srs-TPC-PDCCH-Group = typeB for an UL without PUCCH and PUSCH or an UL on which the SRS power control is not tied with PUSCH power control, one block or more blocks is configured for the UE by higher layers where each block applies to an UL carrier, with the following fields defined for each block:\n-\tSRS request - 0 or 2 bits. The presence of this field is according to the definition in Clause 11.4 of [5, TS38.213]. If present, this field is interpreted as defined by Table 7.3.1.1.2-24.\n-\tTPC command -2 bits\nThe number of information bits in format 2_3 shall be equal to or less than the payload size of format 1_0 monitored in common search space in the same serving cell. If the number of information bits in format 2_3 is less than the payload size of format 1_0 monitored in common search space in the same serving cell, zeros shall be appended to format 2_3 until the payload size equals that of format 1_0 monitored in common search space in the same serving cell.\n7.3.1.3.5\tFormat 2_4\nDCI format 2_4 is used for notifying the PRB(s) and OFDM symbol(s) where UE cancels the corresponding UL transmission from the UE according to Clause 11.2A of [5, TS 38.213].\nThe following information is transmitted by means of the DCI format 2_4 with CRC scrambled by CI-RNTI:\n-\tCancellation indication 1, Cancellation indication 2, \u2026, Cancellation indication indication N. \nThe size of DCI format 2_4 is configurable by higher layers parameter dci-PayloadSizeForCI up to 126 bits, according to Clause 11.2A of [5, TS 38.213]. The number of bits for each cancellation indication is configurable by higher layer parameter ci-PayloadSize. For a UE, there is at most one cancellation indication for an UL carrier.\n7.3.1.3.6\tFormat 2_5\nDCI format 2_5 is used for notifying the availability of soft resources as defined in Clause 9.3.1 of [10, TS 38.473]\nThe following information is transmitted by means of the DCI format 2_5 with CRC scrambled by AI-RNTI:\n-\tAvailability indicator 1, Availability indicator 2, \u2026, Availability indicator N.\nThe size of DCI format 2_5 is configurable by higher layers up to 128 bits, according to Clause 14 of [5, TS 38.213].\n7.3.1.3.7\tFormat 2_6\nDCI format 2_6 is used for notifying the power saving information outside DRX Active Time for one or more UEs. \nThe following information is transmitted by means of the DCI format 2_6 with CRC scrambled by PS-RNTI:\n-\tblock number 1, block number 2,\u2026, block number N\n\twhere the starting position of a block is determined by the parameter ps-PositionDCI-2-6 provided by higher layers for the UE configured with the block. \nIf the UE is configured with higher layer parameter ps-RNTI and dci-Format2-6, one block is configured for the UE by higher layers, with the following fields defined for the block:\n-\tWake-up indication - 1 bit\n-\tSCell dormancy indication - 0 bit if higher layer parameter dormancyGroupOutsideActiveTime is not configured; otherwise 1, 2, 3, 4 or 5 bits bitmap determined according to the number of different DormancyGroupID(s) provided by higher layer parameter dormancyGroupOutsideActiveTime, where each bit corresponds to one of the SCell group(s) configured by higher layers parameter dormancyGroupOutsideActiveTime, with MSB to LSB of the bitmap corresponding to the first to last configured SCell group in ascending order of DormancyGroupID.\nThe size of DCI format 2_6 is indicated by the higher layer parameter sizeDCI-2-6, according to Clause 10.3 of [5, TS 38.213].\n7.3.1.3.8\tFormat 2_7\nDCI format 2_7 is used for notifying the paging early indication and TRS availability indication for one or more UEs.  \nThe following information is transmitted by means of the DCI format 2_7 with CRC scrambled by PEI-RNTI:\n-\tPaging indication field -  bit(s), where\n-\t is the number of paging occasions configured by higher layer parameter po-NumPerPEI as defined in Clause 10.4A in [5, TS 38.213];\n-\tis the number of sub-groups of a paging occasion configured by higher layer parameter subgroupsNumPerPO.\n-\tEach bit in the field indicates one UE subgroup of a paging occasion.\n-\tTRS availability indication - 1, 2, 3, 4, 5, or 6 bits, where the number of bits is equal to one plus the highest value of all the indBitID(s) provided by the trs-ResourceSetConfig if configured; 0 bits otherwise.\nThe size of DCI format 2_7 is indicated by the higher layer parameter payloadSizeDCI-2-7, according to Clause 10.4A of [5, TS 38.213]. The number of information bits in format 2_7 shall be equal to or less than the payload size of format 2_7. If the number of information bits in format 2_7 is less than the size of format 2_7, the remaining bits are reserved.\n7.3.1.3.9\tFormat 2_8\nDCI format 2_8 is used for notifying the aperiodic beam indication and associated time resources \nThe following information is transmitted by means of the DCI format 2_8 with CRC scrambled by NCR-RNTI:\n-\tBeam index 1, Beam index 2, \u2026, Beam index N\n\tThe bitwidth of each beam index field is determined by the higher layer parameter aperiodicBeamFieldWidth.\n-\tTime resource indication 1, Time resource indication 2, \u2026, Time resource indication N\n\tThe bitwidth of each time resource indication field is determined by max, where  is the number of time domain resources configured by aperiodicFwdConfig. The bit field indexes of a time resource indication field are mapped to the time domain resources configured by aperiodicFwdConfig according to an ascending order of a resource identity configured by aperiodicFwdTimeRsrcId, with the bit field index 0 mapped to the time resource with the smallest resource identity.\nThe N beam indexes are sequentially associated with the N time resource indications with one to one mapping.  N is configured by the higher layer parameter numberOfFields. The size of DCI format 2_8 is up to 128 bits.\n7.3.1.3.10\tFormat 2_9\nDCI format 2_9 is used for activating or de-activating the cell DTX and/or DRX configuration of one or multiple serving cells for one or more UEs, and/or for providing NES-mode indication of the primary cell for one or more UEs. \nThe following information is transmitted by means of the DCI format 2_9 with CRC scrambled by cellDTRX-RNTI:\n-\tblock number 1, block number 2,\u2026, block number N\n\twhere the starting position of a block associated with a serving cell is determined by the parameter positionInDCI-cellDTRX provided by higher layers for the UE.\nIf the UE is configured to monitor DCI 2_9 with CRC scrambled by cellDTRX-RNTI, one or more blocks are configured for the UE by higher layers, with the following fields defined for each block:\n-\tCell DTX/DRX indication - number of bits determined by the following:\n-\tIf higher layer parameter cellDTXDRX-L1activation is configured\n-\t2 bits as defined in Clause 11.5 of [5, TS38.213] if cellDTXDRXconfigType is configured to dtxdrx for the associated serving cell of the block, with the MSB corresponding to cell DTX configuration and the LSB corresponding to cell DRX configuration; \n-\t1 bit as defined in Clause 11.5 of [5, TS38.213] if cellDTXDRXconfigType is configured to either dtx or drx for the associated serving cell of the block;\n-\t0 bit otherwise. \n-\tNES-mode indication \u2013 1 bit indicating NES-specific CHO execution condition as defined in Clause 11.5 of [5, TS38.213], if the higher layer parameter nesEvent is configured and the associated serving cell of the block is primary cell; 0 bit otherwise.\nThe size of DCI format 2_9 is indicated by the higher layer parameter sizeDCI-2-9.\n7.3.1.4\tDCI formats for scheduling of sidelink\n7.3.1.4.1\tFormat 3_0\nDCI format 3_0 is used for scheduling of NR PSCCH and NR PSSCH in one cell, or scheduling of NR PSCCH, NR PSSCH and NR SL PRS for a shared SL PRS resource pool in one cell. \nThe following information is transmitted by means of the DCI format 3_0 with CRC scrambled by SL-RNTI or SL-CS-RNTI: \n-\tResource pool index - bits, where I is the total number of resource pools for transmission configured by the higher layer parameter sl-TxPoolScheduling, if configured, and sl-DiscTxPoolScheduling, if configured.\n-\tTime gap - 3 bits determined by higher layer parameter sl-DCI-ToSL-Trans, as defined in clause 8.1.2.1 of [6, TS 38.214]\n-\tHARQ process number - 4 bits.\n-\tNew data indicator - 1 bit.\n-\tLowest index of the subchannel allocation to the initial transmission - bits as defined in Clause\u00a08.1.2.2 of [6, TS 38.214].\n-\tLowest index of the RB set allocation to the initial transmission -  bits as defined in Clause 8.1.2.2 of [6, TS 38.214] if the higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured to 'interlaceRB'; 0 bit otherwise.\n-\tSCI format 1-A fields according to clause 8.3.1.1:\n-\tFrequency resource assignment.\n-\tTime resource assignment.\n-\tPSFCH-to-HARQ feedback timing indicator - bits, where  is the number of entries in the higher layer parameter sl-PSFCH-ToPUCCH, as defined in clause 16.5 of [5, TS 38.213]\n-\tPUCCH resource indicator - 3 bits as defined in clause 16.5 of [5, TS 38.213].\n-\tConfiguration index - 0 bit if the UE is not configured to monitor DCI format 3_0 with CRC scrambled by SL-CS-RNTI; otherwise 3 bits as defined in clause 8.1.2 of [6, TS 38.214]. If the UE is configured to monitor DCI format 3_0 with CRC scrambled by SL-CS-RNTI, this field is reserved for DCI format 3_0 with CRC scrambled by SL-RNTI. \n-\tCounter sidelink assignment index - 2 bits\n-\t2 bits as defined in clause 16.5.2 of [5, TS 38.213] if the UE is configured with pdsch-HARQ-ACK-Codebook = dynamic\n-\t2 bits as defined in clause 16.5.1 of [5, TS 38.213] if the UE is configured with pdsch-HARQ-ACK-Codebook = semi-static\n-\tPadding bits, if required\nIf the total number of transmit resource pools provided in sl-TxPoolScheduling, if configured, and sl-DiscTxPoolScheduling, if configured, is larger than one, zeros shall be appended to the DCI format 3_0 until the payload size is equal to the size of a DCI format 3_0 given by a configuration of the transmit resource pool resulting in the largest number of information bits for DCI format 3_0.\nIf the UE is configured to monitor DCI format 3_1 and/or DCI format 3_2 and the number of information bits in DCI format 3_0 is less than the larger payload size of DCI format 3_1 if configured and DCI format 3_2 if configured, zeros shall be appended to DCI format 3_0 until the payload size equals the larger payload size of DCI format 3_1 if configured and DCI format 3_2 if configured.\n7.3.1.4.2\tFormat 3_1\nDCI format 3_1 is used for scheduling of LTE PSCCH and LTE PSSCH in one cell. \nThe following information is transmitted by means of the DCI format 3_1 with CRC scrambled by SL Semi-Persistent Scheduling V-RNTI:\n-\tTiming offset - 3 bits determined by higher layer parameter sl-TimeOffsetEUTRA-List, as defined in clause 16.6 of [5, TS 38.213] \n-\tCarrier indicator -3 bits as defined in 5.3.3.1.9A of [11, TS 36.212].\n-\tLowest index of the subchannel allocation to the initial transmission -  bits as defined in 5.3.3.1.9A of [11, TS 36.212].\n-\tFrequency resource location of initial transmission and retransmission, as defined in 5.3.3.1.9A of [11, TS 36.212]\n-\tTime gap between initial transmission and retransmission, as defined in 5.3.3.1.9A of [11, TS 36.212]\n-\tSL index - 2 bits as defined in 5.3.3.1.9A of [11, TS 36.212]\n-\tSL SPS configuration index - 3 bits as defined in clause 5.3.3.1.9A of [11, TS 36.212].\n-\tActivation/release indication - 1 bit as defined in clause 5.3.3.1.9A of [11, TS 36.212].\nIf the UE is configured to monitor DCI format 3_0 and/or DCI format 3_2 and the number of information bits in DCI format 3_1 is less than the larger payload size of DCI format 3_0 if configured and DCI format 3_2 if configured, zeros shall be appended to DCI format 3_1 until the payload size equals the larger payload size of DCI format 3_0 if configured and DCI format 3_2 if configured.\n7.3.1.4.3\tFormat 3_2\nDCI format 3_2 is used for scheduling of NR SL PRS for a dedicated SL PRS resource pool in one cell. \nThe following information is transmitted by means of the DCI format 3_2 with CRC scrambled by SL-PRS-RNTI or SL-PRS-CS-RNTI: \n-\tResource pool index - bits, where I is the total number of dedicated SL PRS resource pools for transmission configured by the higher layer parameter sl-PRS-TxPoolScheduling, if configured.\n-\tTime gap - 3 bits determined by higher layer parameter sl-DCI-ToSL-Trans, as defined in clause 8.2.4.1.1 of [6, TS 38.214]\n-\tFirst SL PRS indicator -  bits indicating the SL PRS resource ID for the first SL PRS transmission, where the value  is the total number of SL PRS resources within a slot in a dedicated SL PRS resource pool and provided by the higher layer parameter sl-PrsResources-Dedicated-SL-PRS-RP.\n-\tSCI format 1-B fields according to clause 8.3.1.2:\n-\tTime resource assignment\n-\tResource ID indication\n-\tConfiguration index \u2013 0 bit if the UE is not configured to monitor DCI format 3_2 with CRC scrambled by SL-PRS-CS-RNTI; otherwise 3 bits as defined in clause 8.2.4.1 of [6, TS 38.214]. If the UE is configured to monitor DCI format 3_2 with CRC scrambled by SL-PRS-CS-RNTI, this field is reserved for DCI format 3_2 with CRC scrambled by SL-PRS-RNTI.\n-\tActivation/release indication \u2013 0 bit if the UE is not configured to monitor DCI format 3_2 with CRC scrambled with SL-PRS-CS-RNTI; otherwise 1 bit, where value 0 indicates release and value 1 indicates activation. If the UE is configured to monitor DCI format 3_2 with CRC scrambled with SL-PRS-CS-RNTI, this field is reserved for DCI format 3_2 with CRC scrambled by SL-PRS-RNTI. \n-\tPadding bits, if required.\nIf the total number of transmit resource pools provided in sl-PRS-TxPoolScheduling, if configured, is larger than one, zeros shall be appended to the DCI format 3_2 until the payload size is equal to the size of a DCI format 3_2 given by a configuration of the transmit resource pool resulting in the largest number of information bits for DCI format 3_2.\nIf the UE is configured to monitor DCI format 3_0 and/or DCI format 3_1 and the number of information bits in DCI format 3_2 is less than the larger payload size of DCI format 3_0 if configured and DCI format 3_1 if configured, zeros shall be appended to DCI format 3_2 until the payload size equals the larger payload size of DCI format 3_0 if configured and DCI format 3_1 if configured.\n7.3.1.5\tDCI formats for scheduling of MBS\n7.3.1.5.1\tFormat 4_0\nDCI format 4_0 is used for the scheduling of PDSCH for broadcast or for multicast in RRC_INACTIVE state in DL cell. \nThe following information is transmitted by means of the DCI format 4_0 with CRC scrambled by MCCH-RNTI or G-RNTI for broadcast configured by MBS-SessionInfo, or by multicast-MCCH-RNTI for multicast configured by MBS-SessionInfoMulticast:\n-\tFrequency domain resource assignment -  bits where  equals to \n-\tthe size of CORESET 0 if CORESET 0 is configured for the cell; and \n-\tthe size of initial DL bandwidth part if CORESET 0 is not configured for the cell.\n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS38.214]\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS38.214]\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tMCCH change notification - 2 bits as defined in Clause 5.9.1.3 and Clause 5.10.1.3 of [9, TS38.331] if the CRC of the DCI format 4_0 is scrambled by MCCH-RNTI and multicast-MCCH-RNTI respectively. Otherwise, this bit field is reserved. \n-\tReserved bits - 14bits\n7.3.1.5.2\tFormat 4_1\nDCI format 4_1 is used for the scheduling of PDSCH for multicast in DL cell. \nThe following information is transmitted by means of the DCI format 4_1 with CRC scrambled by G-RNTI for multicast or G-CS-RNTI configured by MBS-RNTI-SpecificConfig, or by G-RNTI for multicast configured by MBS-SessionInfoListMulticast:\n-\tFrequency domain resource assignment - bits where  equals to\n-\tthe size of CORESET 0 if CORESET 0 is configured for the cell; and \n-\tthe size of initial DL bandwidth part if CORESET 0 is not configured for the cell.\n-\tTime domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of [6, TS38.214]\n-\tVRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tHARQ process number - 4 bits\n-\tDownlink assignment index - 2 bits as defined in Clause 9.1.3 of [5, TS 38.213], as counter DAI\n-\tPUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS38.213]\n-\tPDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause 9.2.3 of [5, TS38.213]\n-\tReserved bits - 3 bits \n7.3.1.5.3\tFormat 4_2\nDCI format 4_2 is used for the scheduling of PDSCH for multicast in DL cell. \nThe following information is transmitted by means of the DCI format 4_2 with CRC scrambled by G-RNTI for multicast or G-CS-RNTI configured by MBS-RNTI-SpecificConfig: \n-\tFrequency domain resource assignment - number of bits determined by the following, where  is the size of the common frequency resource as defined in Clause 18 of [5, TS38.213]. \n-\t bits if only resource allocation type 0 is configured, where  is defined in Clause 5.1.2.2.1 of [6, TS38.214], \n-\t bits if only resource allocation type 1 is configured, or \n-\t bits if resourceAllocation in pdsch-ConfigMulticast is configured as 'dynamicSwitch'. \n-\tIf resourceAllocation in pdsch-ConfigMulticast is configured as 'dynamicSwitch', the MSB bit is used to indicate resource allocation type 0 or resource allocation type 1, where the bit value of 0 indicates resource allocation type 0 and the bit value of 1 indicates resource allocation type 1. \n-\tFor resource allocation type 0, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].\n-\tFor resource allocation type 1, the  LSBs provide the resource allocation as defined in Clause 5.1.2.2.2 of [6, TS 38.214] \n-\tTime domain resource assignment - 0, 1, 2, 3, or 4 bits as defined in Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter pdsch-TimeDomainAllocationList if the higher layer parameter is configured; otherwise I is the number of entries in the default table.\n-\tVRB-to-PRB mapping - 0 or 1 bit:\n-\t0 bit if only resource allocation type 0 is configured or if vrb-ToPRB-Interleaver in pdsch-ConfigMulticast is not configured;\n-\t1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].\n-\tPRB bundling size indicator - 0 bit if the higher layer parameter prb-BundlingType is not configured in pdsch-ConfigMulticast or is set to 'staticBundling', or 1 bit if the higher layer parameter prb-BundlingType in pdsch-ConfigMulticast is set to 'dynamicBundling' according to Clause 5.1.2.3 of [6, TS 38.214].\n-\tRate matching indicator - 0, 1, or 2 bits according to higher layer parameters rateMatchPatternGroup1 and rateMatchPatternGroup2 in pdsch-ConfigMulticast, where the MSB is used to indicate rateMatchPatternGroup1 and the LSB is used to indicate rateMatchPatternGroup2 when there are two groups.\n-\tZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS 38.214]. The bitwidth for this field is determined as  bits, where  is the number of aperiodic ZP CSI-RS resource sets configured in pdsch-ConfigMulticast.\nFor transport block 1:\n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2 \nFor transport block 2 (only present if maxNrofCodeWordsScheduledByDCI configured in pdsch-ConfigMulticast equals 2): \n-\tModulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6, TS 38.214]\n-\tNew data indicator - 1 bit \n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tHARQ process number - 4 bits\n-\tDownlink assignment index - number of bits as defined in the following\n-\t2 bits if the higher layer parameter pdsch-HARQ-ACK-Codebook =dynamic is configured for multicast, where the 2 bits are the counter DAI;\n-\t0 bits otherwise. \n\tIf higher layer parameter priorityIndicatorDCI-4-2 is configured in pdsch-ConfigMulticast, if the bit width of the Downlink assignment index in DCI format 4_2 for one HARQ-ACK codebook is not equal to that of the Downlink assignment index in DCI format 4_2 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller Downlink assignment index until the bit width of the Downlink assignment index in DCI format 4_2 for the two HARQ-ACK codebooks are the same.\n-\tPUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]\n-\tPDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as  bits, where I is the number of entries in the higher layer parameter dl-DataToUL-ACK in pucch-ConfigMulticast1 if configured or pucch-ConfigMulticast2 if configured; otherwise, I is the number of entries in the higher layer parameter dl-DataToUL-ACK in PUCCH-Config.\n\tIf higher layer parameter priorityIndicatorDCI-4-2 is configured in pdsch-ConfigMulticast, if the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 4_2 for one HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback timing indicator in DCI format 4_2 for the other HARQ-ACK codebook, a number of most significant bits with value set to '0' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 4_2 for the two HARQ-ACK codebooks are the same.\n-\tAntenna port(s) - 4, 5, or 6 bits as defined by Tables 7.3.1.2.2-1/2/3/4, where the number of CDM groups without data of values 1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports  shall be determined according to the ordering of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4.\nIf a UE is configured with both dmrs-DownlinkForPDSCH-MappingTypeA and dmrs-DownlinkForPDSCH-MappingTypeB, the bitwidth of this field equals , where  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeA and  is the \"Antenna ports\" bitwidth derived according to dmrs-DownlinkForPDSCH-MappingTypeB. A number of  zeros are padded in the MSB of this field, if the mapping type of the PDSCH corresponds to the smaller value of  and .\n-\tTransmission configuration indication - 0 bit if higher layer parameter tci-PresentInDCI in pdcch-ConfigMulticast is not enabled; otherwise 3 bits as defined in Clause 5.1.5 of [6, TS38.214]. \n-\tDMRS sequence initialization - 1 bit. \n-\tPriority indicator - 0 bit if higher layer parameter priorityIndicatorDCI-4-2 is not configured in pdsch-ConfigMulticast; otherwise 1 bit as defined in Clause 9 in [5, TS 38.213]. \n-\tEnabling/disabling HARQ-ACK feedback indication -1 bit if higher layer parameter harq-FeedbackEnablerMulticast indicates dci-enabler, where value 1 indicates enabling HARQ-ACK feedback and value 0 indicates disabling HARQ-ACK feedback; 0 bit, otherwise.\nThe size of DCI format 4_2 is configurable by higher layer parameter sizeDCI-4-2 from 20 bits and up to 140 bits.\n7.3.2\tCRC attachment\nError detection is provided on DCI transmissions through a Cyclic Redundancy Check (CRC). \nThe entire payload is used to calculate the CRC parity bits. Denote the bits of the payload by, and the parity bits by, where  is the payload size and  is the number of parity bits. Let  be a bit sequence such that  for  and  for . The parity bits are computed with input bit sequence  and attached according to Clause 5.1 by setting  to 24 bits and using the generator polynomial . The output bit  is\n\tfor \n\tfor , \nwhere . \nAfter attachment, the CRC parity bits are scrambled with the corresponding RNTI  , where  corresponds to the MSB of the RNTI, to form the sequence of bits . The relation between ck and bk is:\n\t\tfor k = 0, 1, 2, \u2026, \n\t\tfor k = , ,,..., . \n7.3.3\tChannel coding\nInformation bits are delivered to the channel coding block. They are denoted by  , where  is the number of bits, and they are encoded via Polar coding according to Clause 5.3.1, by setting , , , and .\nAfter encoding the bits are denoted by , where  is the number of coded bits. \n7.3.4\tRate matching\nThe input bit sequence to rate matching is . \nRate matching is performed according to Clause 5.4.1 by setting . \nThe output bit sequence after rate matching is denoted as . \n8\tSidelink transport channels and control information\n8.1\tSidelink broadcast channel\nThe processing for SL-BCH transport channel follows the BCH according to clause 7.1, with the following changes:\n-\tIn Clause 7.1, 'maximum of one transport block every 80ms' is replaced with 'maximum of one transport block'.\n-\tClause 7.1.1 for PBCH payload generation is not performed.\n-\tClause 7.1.2 for scrambling is not performed.\n-\tIn clause 7.1.5, the rate matching output sequence length E = 1386 when higher layer parameter cyclicPrefix is configured, otherwise, E = 1782.\n8.1.1\tVoid\n8.2\tSidelink shared channel\nThe processing for SL-SCH transport channel follows the UL-SCH according to clause 6.2, with the following changes:\n-\tRate matching of SL-SCH follows the rate matching according to clause 6.2.5 by setting \n-\tClause 6.2.7 is replaced by clause 8.2.1\n8.2.1\tData and control multiplexing\nDenote the coded bits for SL-SCH as. \nDenote the coded bits for the 2nd-stage SCI, as .\nDenote the multiplexed data and control coded bit sequence as , where G is the total number of coded bits for transmission.\nAssuming that  is the number of layers onto which the SL-SCH transport block is mapped, the multiplexed data and control coded bit sequence  is obtained as follows:\nDenote  is modulation order of the 2nd-stage SCI.\nif , \nfor  to \nif \n \nend if\nif \n \nend if\nend for\nend if \nif ,\nlet \nset \nfor  to \nfor  to \nfor  to \nif \n \nelse\n // placeholder bit\nend if\n \nend for\nend for\nend for\nfor  to \n \n \nend for\nend if\n8.3\tSidelink control information on PSCCH\nSCI carried on PSCCH is a 1st-stage SCI, which transports sidelink scheduling information.\n8.3.1\t1st-stage SCI formats\nThe fields defined in each of the 1st-stage SCI formats below are mapped to the information bits  to as follows:\nEach field is mapped in the order in which it appears in the description, with the first field mapped to the lowest order information bit and each successive field mapped to higher order information bits. The most significant bit of each field is mapped to the lowest order information bit for that field, e.g. the most significant bit of the first field is mapped to .\n8.3.1.1\tSCI format 1-A\nSCI format 1-A is used for the scheduling of PSSCH and 2nd-stage-SCI on PSSCH \nThe following information is transmitted by means of the SCI format 1-A:\n-\tPriority - 3 bits as specified in clause 5.4.3.3 of [12, TS 23.287] and clause 5.22.1.3.1 of [8, TS 38.321]. Value '000' of Priority field corresponds to priority value '1', value '001' of Priority field corresponds to priority value '2', and so on.\n-\tFrequency resource assignment - number of bits determined by the following:\n-\tIf higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is not configured or configured to \u2018contigousRB\u2019\n-\t bits when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 2; otherwise  bits when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 3, as defined in clause 8.1.5 of [6, TS 38.214].\n-\tIf the higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured to \u2018interlaceRB\u2019 \n-\tX + Y bits provide the frequency domain resource allocation according to Clause x.x of [6, TS 38.214], where the X MSBs provide the RB set allocation and the Y LSBs provide the sub-channel allocation, \n-\tthe value of X is determined by  when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 2, or determined by  when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 3, where  is the number of RB sets in a resource pool\n-\tthe value of Y is determined by when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 2, or determined by  when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 3, as defined in clause 8.1.5 of [6, TS 38.214].\n-\tTime resource assignment - 5 bits when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 2; otherwise 9 bits when the value of the higher layer parameter sl-MaxNumPerReserve is configured to 3, as defined in clause 8.1.5 of [6, TS 38.214].\n-\tResource reservation period - bits as defined in clause 16.4 of [5, TS 38.213], where  is the number of entries in the higher layer parameter sl-ResourceReservePeriodList, if higher layer parameter sl-MultiReserveResource is configured; 0 bit otherwise.\n-\tDMRS pattern - bits as defined in clause 8.4.1.1.2 of [4, TS 38.211], where  is the number of DMRS patterns configured by higher layer parameter sl-PSSCH-DMRS-TimePatternList.\n-\t2nd-stage SCI format - 2 bits as defined in Table 8.3.1.1-1.\n-\tBeta_offset indicator - 2 bits as provided by higher layer parameter sl-BetaOffsets2ndSCI and Table 8.3.1.1-2.\n-\tNumber of DMRS port - 1 bit as defined in Table 8.3.1.1-3.\n-\tModulation and coding scheme - 5 bits as defined in clause 8.1.3 of [6, TS 38.214].\n-\tAdditional MCS table indicator - as defined in clause 8.1.3.1 of [6, TS 38.214]: 1 bit if one MCS table is configured by higher layer parameter sl-Additional-MCS-Table; 2 bits if two MCS tables are configured by higher layer parameter sl-Additional-MCS-Table; 0 bit otherwise.\n-\tPSFCH overhead indication - 1 bit as defined in clause 8.1.3.2 of [6, TS 38.214] if higher layer parameter sl-PSFCH-Period = 2 or 4; 0 bit otherwise.\n-\tReserved - a number of bits as determined by the following:\n-\tbits as configured by higher layer parameter sl-NumReservedBits, with value set to zero, if higher layer parameter sl-IndicationUE-B is not configured, or if higher layer parameter sl-IndicationUE-B is configured to 'disabled', and if higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is not configured;\n-\t bits if higher layer parameter sl-IndicationUE-B is configured to 'enabled', and if higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured, with value set to zero.\n-\t bits otherwise, with value set to zero.\n-\tCOT sharing flag \u2013 0 or 1 bit \n-\t1 bit as defined in [14, TS 37.213] if the higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured; \n-\t0 bit otherwise.-\tConflict information receiver flag - 0 or 1 bit\n-\t1 bit if higher layer parameter sl-IndicationUE-B is configured to 'enabled', where the bit value of 0 indicates that the UE cannot be a UE to receive conflict information and the bit value of 1 indicates that the UE can be a UE to receive conflict information as defined in Clause 16.3.0 of [5, TS 38.213];\n-\t0 bit otherwise.\nTable 8.3.1.1-1: 2nd-stage SCI formats\n\nTable 8.3.1.1-2: Mapping of Beta_offset indicator values to indexes in Table 9.3-2 of [5, TS38.213]\n\nTable 8.3.1.1-3: Number of DMRS port(s)\n\n8.3.1.2\tSCI format 1-B\nSCI format 1-B is used for the scheduling of SL PRS for a dedicated SL PRS resource pool.  \nThe following information is transmitted by means of the SCI format 1-B:\n-\tPriority - 3 bits as specified in clause 5.7 of [12, TS 23.586] and clause 5.22 of [8, TS 38.321]. Value '000' of Priority field corresponds to priority value '1', value '001' of Priority field corresponds to priority value '2', and so on. \n-\tSource ID \u2013 12 or 24 bits determined by higher layer parameter sl-SRC-ID-LenDedicatedSL-PRS-RP, as defined in clause 16.4A of [5, TS 38.213].\n-\tDestination ID \u2013 24 bits as defined in clause 16.4A of [5, TS 38.213]. \n-\tCast type indicator \u2013 2 bits as defined in Table 8.3.1.2-1 and in clause 16.4A of [5, TS 38.213].\n-\tResource reservation period \u2013  bits as defined in clause 16.4A of [5, TS 38.213], where  is the number of entries in the higher layer parameter sl-PRS-ResourceReservePeriodList, if higher layer parameter sl-PRS-ResourceReservePeriodList is configured; 0 bit otherwise.\n-\tTime resource assignment \u2013 5 bits when the value of the higher layer parameter sl-MaxNumPerReserveDedicatedSL-PRS-RP is configured to 2; otherwise 9 bits when the value of the higher layer parameter sl-MaxNumPerReserveDedicatedSL-PRS-RP is configured to 3, as defined in clause 8.2.4.2A of [6, TS 38.214]. \n-\tResource ID indication \u2013bits when the value of the higher layer parameter sl-MaxNumPerReserveDedicatedSL-PRS-RP is configured to 2; otherwise  bits when the value of the higher layer parameter sl-MaxNumPerReserveDedicatedSL-PRS-RP is configured to 3. The value  is the total number of SL PRS resources within a slot in a dedicated SL PRS resource pool and provided by the higher layer parameter sl-PRS-ResourcesDedicatedSL-PRS-RP.\n-\tSL PRS request \u2013 1 bit as defined in clause 8.4.4 of [6, TS 38.214] when the higher layer parameter sl-SCI-basedSL-PRS-TxTriggerSCI1-B is provided; 0 bit otherwise.\n-\tReserved -  bits as configured by higher layer parameter sl-NumReservedBitsSCI1B-DedicatedSL-PRS-RP, with value set to zero.\nTable 8.3.1.2-1: Cast type indicator\n\n8.3.2\tCRC attachment\nCRC attachment is performed according to clause 7.3.2 except that scrambling is not performed.\n8.3.3\tChannel coding\nChannel coding is performed according to clause 7.3.3.\n8.3.4\tRate Matching\nRate matching is performed according to clause 7.3.4.\n8.4\tSidelink control information on PSSCH\nSCI carried on PSSCH is a 2nd-stage SCI, which transports sidelink scheduling information, and/or inter-UE coordination related information.\n8.4.1\t2nd-stage SCI formats\nThe fields defined in each of the 2nd-stage SCI formats below are mapped to the information bits   to  as follows:\nEach field is mapped in the order in which it appears in the description, with the first field mapped to the lowest order information bit and each successive field mapped to higher order information bits. The most significant bit of each field is mapped to the lowest order information bit for that field, e.g. the most significant bit of the first field is mapped to .\n8.4.1.1\tSCI format 2-A\nSCI format 2-A is used for the decoding of PSSCH, with HARQ operation when HARQ-ACK information includes ACK or NACK, when HARQ-ACK information includes only NACK, or when there is no feedback of HARQ-ACK information.\nThe following information is transmitted by means of the SCI format 2-A:\n-\tHARQ process number -  bits.\n-\tNew data indicator - 1 bit.\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2.\n-\tSource ID - 8 bits as defined in clause 8.1 of [6, TS 38.214].\n-\tDestination ID - 16 bits as defined in clause 8.1 of [6, TS 38.214]. \n-\tHARQ feedback enabled/disabled indicator - 1 bit as defined in clause 16.3 of [5, TS 38.213].\n-\tCast type indicator - 2 bits as defined in Table 8.4.1.1-1 and in clause 8.1 of [6, TS 38.214].\n-\tCSI request - 1 bit as defined in clause 8.2.1 of [6, TS 38.214] and in clause 8.1 of [6, TS 38.214].\nIf the 'COT sharing flag' field in SCI format 1-A is present and set to '1', all the remaining fields are set as follows:\n-\tCAPC \u2013 2 bits. Values '00', '01', '10' and '11' correspond to CAPC values '1', '2', '3' and '4' as defined in Table 4.5-1 of [14, TS 37.213], respectively.\n-\tCOT sharing cast type \u2013 2 bits as defined in Table 8.4.1.1-1.\n-\tCOT sharing additional ID \u2013 24 bits. The 16 LSBs provide layer 1 destination ID and the 8 MSBs provide layer 1 source ID, as defined in [6, TS 38.214]. The 8 MSBs are reserved when the COT sharing cast type field is set to '00' or '01'. \n-\tRemaining COT duration \u2013  bits as defined in clause 4.5.3 of [14, TS 37.213], where  is defined in Table 4.2-1 of Clause 4.2 of [4, TS 38.211].\nTable 8.4.1.1-1: Cast type indicator or COT sharing cast type\n\n8.4.1.2\tSCI format 2-B\nSCI format 2-B is used for the decoding of PSSCH, with HARQ operation when HARQ-ACK information includes only NACK, or when there is no feedback of HARQ-ACK information.\nThe following information is transmitted by means of the SCI format 2-B:\n-\tHARQ process number -  bits.\n-\tNew data indicator - 1 bit.\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2.\n-\tSource ID - 8 bits as defined in clause 8.1 of [6, TS 38.214].\n-\tDestination ID - 16 bits as defined in clause 8.1 of [6, TS 38.214].\n-\tHARQ feedback enabled/disabled indicator - 1 bit as defined in clause 16.3 of [5, TS 38.213].\n-\tZone ID - 12 bits as defined in clause 5.8.11 of [9, TS 38.331].\n-\tCommunication range requirement - 4 bits determined by higher layer parameter sl-ZoneConfigMCR-Index.\n8.4.1.3\tSCI format 2-C\nSCI format 2-C is used for the decoding of PSSCH, and providing inter-UE coordination information or requesting inter-UE coordination information. SCI format 2-C can be used only for unicast.\nThe following information is transmitted by means of the SCI format 2-C:\n-\tHARQ process number - 4 bits\n-\tNew data indicator - 1 bit\n-\tRedundancy version - 2 bits as defined in Table 7.3.1.1.1-2\n-\tSource ID - 8 bits as defined in clause 8.1 of [6, TS 38.214]\n-\tDestination ID - 16 bits as defined in clause 8.1 of [6, TS 38.214]\n-\tHARQ feedback enabled/disabled indicator - 1 bit as defined in clause 16.3 of [5, TS 38.213]\n-\tCSI request - 1 bit as defined in clause 8.2.1 of [6, TS 38.214] and in clause 8.1 of [6, TS 38.214]\n-\tProviding/Requesting indicator - 1 bit, where value 0 indicates SCI format 2-C is used for providing inter-UE coordination information and value 1 indicates SCI format 2-C is used for requesting inter-UE coordination information\nIf the 'Providing/Requesting indicator' field is set to 0, all the remaining fields are set as follows:\n-\tResource combinations -number of bits determined by the following:\n-\tIf higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is not configured or configured to 'contigousRB'\n-\t bits as defined in Clause 8.1.5A of [6, TS 38.214];\n-\tIf the higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured to 'interlaceRB'\n-\t bits as defined in Clause 8.1.5A of [6, TS 38.214];\nwhere\n-\t and  is the number of entries in the higher layer parameter sl-ResourceReservePeriodList, if higher layer parameter sl-MultiReserveResource is configured; otherwise.\n-\t is provided by the higher layer parameter sl-NumSubchannel as defined in Clause 8.1.5 of [6, TS 38.214].\n-\t is the number of RB sets in a resource pool.\n-\tFirst resource location - 8 bits as defined in Clause 8.1.5A of [6, TS 38.214]. \n-\tReference slot location - ( bits as defined in Clause 8.1.5A of [6, TS 38.214], where  is defined in Table 4.2-1 of Clause 4.2 of [4, TS 38.211].\n-\tResource set type - 1 bit, where value 0 indicates preferred resource set and value 1 indicates non-preferred resource set.\n-\tLowest subChannel indices -  bits as defined in Clause 8.1.5A of [6, TS 38.214].\n-\tLowest RB set indices -  bits as defined in Clause 8.1.5A of [6, TS 38.214] if the higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured to 'interlaceRB'; 0 bit otherwise.\nIf the 'Providing/Requesting indicator' field is set to 1, all the remaining fields are set as follows:\n-\tPriority - 3 bits as specified in clause 5.4.3.3 of [12, TS 23.287] and clause 5.22.1.3.1 of [8, TS 38.321]. Value '000' of Priority field corresponds to priority value '1', value '001' of Priority field corresponds to priority value '2', and so on.\n-\tNumber of subchannels - bits as defined in Clause 8.1.4A of [6, TS 38.214].\n-\tNumber of RB sets -  bits as defined in Clause 8.1.4A of [6, TS 38.214] if the higher layer parameter transmissionStructureForPSCCHandPSSCH in SL-BWP-Config is configured to 'interlaceRB'; 0 bit otherwise.\n-\tResource reservation period - bits as defined in Clause 8.1.4A of [6, TS 38.214], where  is the number of entries in the higher layer parameter sl-ResourceReservePeriodList, if higher layer parameter sl-MultiReserveResource is configured; 0 bit otherwise.\n-\tResource selection window location -  bits as defined in Clause 8.1.4A of [6, TS 38.214], where  is defined in Table 4.2-1 of Clause 4.2 of [4, TS 38.211].\n-\tResource set type - 1 bit, where value 0 indicates a request for inter-UE coordination information providing preferred resource set and value 1 indicates a request for inter-UE coordination information providing non-preferred resource set, if higher layer parameter sl-DetermineResourceType is configured to 'ueb'; otherwise, 0 bit.\n-\tPadding bits.\nFor operation in a same resource pool, zeros shall be appended to SCI format 2-C of which 'Providing/Requesting indicator' field is set to 1 until the payload size equals that of SCI format 2-C of which 'Providing/Requesting indicator' field is set to 0.\n8.4.1.4\tSCI format 2-D\nSCI format 2-D is used for the decoding of PSSCH and the scheduling of SL PRS for a shared SL PRS resource pool.\nThe following information is transmitted by means of the SCI format 2-D:\n-\tSL PRS resource ID -bits, where the value  is the total number of SL PRS resource IDs within a slot in a shared SL PRS resource pool and provided by the higher layer parameter sl-PRS-ResourcesSharedSL-PRS-RP.\n-\tSL PRS request \u2013 1 bit as defined in clause 8.4.4 of [6, TS 38.214] when the higher layer parameter sl-SCI-based-SL-PRS-Tx-Trigger-SCI2-D is provided; 0 bit otherwise.\n-\tEmbedded SCI format - 2 bits. This field indicates the embedded SCI format as defined in Table 8.4.1.4-1.\n-\tEmbedded SCI format payload - number of bits determined according to Table 8.4.1.4-1. This field is set to the associated payload of the embedded SCI format indicated by the \u2018Embedded SCI format\u2019 field as defined in Table 8.4.1.4-1.\nTable 8.4.1.4-1: Embedded SCI format and payload\n\n8.4.2\tCRC attachment\nCRC attachment is performed according to clause 7.3.2 except that scrambling is not performed.\n8.4.3\tChannel coding\nChannel coding is performed according to clause 7.3.3.\n8.4.4\tRate Matching\nFor 2nd-stage SCI transmission on PSSCH with SL-SCH, the number of coded modulation symbols generated for 2nd-stage SCI transmission prior to duplication for the 2nd layer if present, denoted as , is determined as follows:\n\nwhere\n-\t\u00a0is the number of the 2nd-stage SCI bits \n-\t\u00a0is the number of CRC bits for the 2nd-stage SCI, which is 24 bits. \n-\t\u00a0is indicated in the corresponding 1st-stage SCI. \n-\t is the number of allocated PRBs of PSSCH transmission according to clause 8.1.3.2 in [6, TS 38.214], expressed as a number of subcarriers. \n-\t is the number of subcarriers in OFDM symbol  that carry PSCCH and PSCCH DMRS associated with the PSSCH transmission.\n-\t is the number of resource elements that can be used for transmission of the 2nd-stage SCI in OFDM symbol , for  and for , in PSSCH transmission, where  = sl-lengthSymbols - 2, where sl-lengthSymbols is the number of sidelink symbols within the slot provided by higher layers as defined in [6, TS 38.214].  is the number of symbols for SL PRS provided by the higher layer parameter numSym-SL-PRS-2ndStageSCI if the 2nd-stage SCI is SCI format 2-D, and  = 0 otherwise. If startingSymbolFirst and startingSymbolSecond are provided for the SL-BWP,  = numRefSymbolLength - 2, where numRefSymbolLength is provided by higher layers. If higher layer parameter sl-PSFCH-Period = 2 or 4,  = 3 if \"PSFCH overhead indication\" field of SCI format 1-A indicates \"1\", and  = 0 otherwise. If higher layer parameter sl-PSFCH-Period = 0, . If higher layer parameter sl-PSFCH-Period is 1, .\n-\t =  -  \n-\t is the number of vacant resource elements in the resource block to which the last coded symbol of the 2nd-stage SCI belongs.\n-\t is the coding rate as indicated by \"Modulation and coding scheme\" field in SCI format 1-A.\n-\t is configured by higher layer parameter sl-Scaling.\nThe input bit sequence to rate matching is , where  is the number of coded bits.\nRate matching is performed according to Clause 5.4.1 by setting .\nThe output bit sequence after rate matching is denoted as , where  and  is modulation order of the 2nd-stage SCI. A UE is not expected to have.\n8.4.5\tMultiplexing of coded 2nd-stage SCI bits to PSSCH\nThe coded 2nd-stage SCI bits are multiplexed onto PSSCH according to the procedures in Clause 8.2.1.\nAnnex A (informative):\nChange history\n\n",
    "metadata": {
        "title0": "3GPP TS 38.212",
        "title1": "Technical Specification Group Radio Access Network",
        "title2": "NR",
        "title3": "Multiplexing and channel coding",
        "Release": 18,
        "Version": "V18.2.0",
        "Publish_time": "2024-03"
    }
}